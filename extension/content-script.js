(function(ly){typeof define=="function"&&define.amd?define(ly):ly()})(function(){"use strict";function ly(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var E_={exports:{}},cy={},__={exports:{}},In={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function dZ(){if(vI)return In;vI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(ne){return ne===null||typeof ne!="object"?null:(ne=g&&ne[g]||ne["@@iterator"],typeof ne=="function"?ne:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function k(ne,we,We){this.props=ne,this.context=we,this.refs=_,this.updater=We||x}k.prototype.isReactComponent={},k.prototype.setState=function(ne,we){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,we,"setState")},k.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function R(){}R.prototype=k.prototype;function O(ne,we,We){this.props=ne,this.context=we,this.refs=_,this.updater=We||x}var I=O.prototype=new R;I.constructor=O,S(I,k.prototype),I.isPureReactComponent=!0;var P=Array.isArray,F=Object.prototype.hasOwnProperty,K={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function te(ne,we,We){var Ue,at={},Qe=null,Me=null;if(we!=null)for(Ue in we.ref!==void 0&&(Me=we.ref),we.key!==void 0&&(Qe=""+we.key),we)F.call(we,Ue)&&!Y.hasOwnProperty(Ue)&&(at[Ue]=we[Ue]);var Ge=arguments.length-2;if(Ge===1)at.children=We;else if(1<Ge){for(var rt=Array(Ge),ot=0;ot<Ge;ot++)rt[ot]=arguments[ot+2];at.children=rt}if(ne&&ne.defaultProps)for(Ue in Ge=ne.defaultProps,Ge)at[Ue]===void 0&&(at[Ue]=Ge[Ue]);return{$$typeof:t,type:ne,key:Qe,ref:Me,props:at,_owner:K.current}}function fe(ne,we){return{$$typeof:t,type:ne.type,key:we,ref:ne.ref,props:ne.props,_owner:ne._owner}}function ye(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function de(ne){var we={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(We){return we[We]})}var Pe=/\/+/g;function xe(ne,we){return typeof ne=="object"&&ne!==null&&ne.key!=null?de(""+ne.key):we.toString(36)}function Te(ne,we,We,Ue,at){var Qe=typeof ne;(Qe==="undefined"||Qe==="boolean")&&(ne=null);var Me=!1;if(ne===null)Me=!0;else switch(Qe){case"string":case"number":Me=!0;break;case"object":switch(ne.$$typeof){case t:case e:Me=!0}}if(Me)return Me=ne,at=at(Me),ne=Ue===""?"."+xe(Me,0):Ue,P(at)?(We="",ne!=null&&(We=ne.replace(Pe,"$&/")+"/"),Te(at,we,We,"",function(ot){return ot})):at!=null&&(ye(at)&&(at=fe(at,We+(!at.key||Me&&Me.key===at.key?"":(""+at.key).replace(Pe,"$&/")+"/")+ne)),we.push(at)),1;if(Me=0,Ue=Ue===""?".":Ue+":",P(ne))for(var Ge=0;Ge<ne.length;Ge++){Qe=ne[Ge];var rt=Ue+xe(Qe,Ge);Me+=Te(Qe,we,We,rt,at)}else if(rt=y(ne),typeof rt=="function")for(ne=rt.call(ne),Ge=0;!(Qe=ne.next()).done;)Qe=Qe.value,rt=Ue+xe(Qe,Ge++),Me+=Te(Qe,we,We,rt,at);else if(Qe==="object")throw we=String(ne),Error("Objects are not valid as a React child (found: "+(we==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":we)+"). If you meant to render a collection of children, use an array instead.");return Me}function je(ne,we,We){if(ne==null)return ne;var Ue=[],at=0;return Te(ne,Ue,"","",function(Qe){return we.call(We,Qe,at++)}),Ue}function $e(ne){if(ne._status===-1){var we=ne._result;we=we(),we.then(function(We){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=We)},function(We){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=We)}),ne._status===-1&&(ne._status=0,ne._result=we)}if(ne._status===1)return ne._result.default;throw ne._result}var Re={current:null},be={transition:null},Ve={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:be,ReactCurrentOwner:K};function he(){throw Error("act(...) is not supported in production builds of React.")}return In.Children={map:je,forEach:function(ne,we,We){je(ne,function(){we.apply(this,arguments)},We)},count:function(ne){var we=0;return je(ne,function(){we++}),we},toArray:function(ne){return je(ne,function(we){return we})||[]},only:function(ne){if(!ye(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},In.Component=k,In.Fragment=n,In.Profiler=i,In.PureComponent=O,In.StrictMode=r,In.Suspense=f,In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ve,In.act=he,In.cloneElement=function(ne,we,We){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var Ue=S({},ne.props),at=ne.key,Qe=ne.ref,Me=ne._owner;if(we!=null){if(we.ref!==void 0&&(Qe=we.ref,Me=K.current),we.key!==void 0&&(at=""+we.key),ne.type&&ne.type.defaultProps)var Ge=ne.type.defaultProps;for(rt in we)F.call(we,rt)&&!Y.hasOwnProperty(rt)&&(Ue[rt]=we[rt]===void 0&&Ge!==void 0?Ge[rt]:we[rt])}var rt=arguments.length-2;if(rt===1)Ue.children=We;else if(1<rt){Ge=Array(rt);for(var ot=0;ot<rt;ot++)Ge[ot]=arguments[ot+2];Ue.children=Ge}return{$$typeof:t,type:ne.type,key:at,ref:Qe,props:Ue,_owner:Me}},In.createContext=function(ne){return ne={$$typeof:s,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:o,_context:ne},ne.Consumer=ne},In.createElement=te,In.createFactory=function(ne){var we=te.bind(null,ne);return we.type=ne,we},In.createRef=function(){return{current:null}},In.forwardRef=function(ne){return{$$typeof:l,render:ne}},In.isValidElement=ye,In.lazy=function(ne){return{$$typeof:m,_payload:{_status:-1,_result:ne},_init:$e}},In.memo=function(ne,we){return{$$typeof:p,type:ne,compare:we===void 0?null:we}},In.startTransition=function(ne){var we=be.transition;be.transition={};try{ne()}finally{be.transition=we}},In.unstable_act=he,In.useCallback=function(ne,we){return Re.current.useCallback(ne,we)},In.useContext=function(ne){return Re.current.useContext(ne)},In.useDebugValue=function(){},In.useDeferredValue=function(ne){return Re.current.useDeferredValue(ne)},In.useEffect=function(ne,we){return Re.current.useEffect(ne,we)},In.useId=function(){return Re.current.useId()},In.useImperativeHandle=function(ne,we,We){return Re.current.useImperativeHandle(ne,we,We)},In.useInsertionEffect=function(ne,we){return Re.current.useInsertionEffect(ne,we)},In.useLayoutEffect=function(ne,we){return Re.current.useLayoutEffect(ne,we)},In.useMemo=function(ne,we){return Re.current.useMemo(ne,we)},In.useReducer=function(ne,we,We){return Re.current.useReducer(ne,we,We)},In.useRef=function(ne){return Re.current.useRef(ne)},In.useState=function(ne){return Re.current.useState(ne)},In.useSyncExternalStore=function(ne,we,We){return Re.current.useSyncExternalStore(ne,we,We)},In.useTransition=function(){return Re.current.useTransition()},In.version="18.3.1",In}var fy={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */fy.exports;var yI;function pZ(){return yI||(yI=1,function(t,e){process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),k=Symbol.iterator,R="@@iterator";function O(U){if(U===null||typeof U!="object")return null;var se=k&&U[k]||U[R];return typeof se=="function"?se:null}var I={current:null},P={transition:null},F={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},K={current:null},Y={},te=null;function fe(U){te=U}Y.setExtraStackFrame=function(U){te=U},Y.getCurrentStack=null,Y.getStackAddendum=function(){var U="";te&&(U+=te);var se=Y.getCurrentStack;return se&&(U+=se()||""),U};var ye=!1,de=!1,Pe=!1,xe=!1,Te=!1,je={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:K};je.ReactDebugCurrentFrame=Y,je.ReactCurrentActQueue=F;function $e(U){{for(var se=arguments.length,ke=new Array(se>1?se-1:0),Ie=1;Ie<se;Ie++)ke[Ie-1]=arguments[Ie];be("warn",U,ke)}}function Re(U){{for(var se=arguments.length,ke=new Array(se>1?se-1:0),Ie=1;Ie<se;Ie++)ke[Ie-1]=arguments[Ie];be("error",U,ke)}}function be(U,se,ke){{var Ie=je.ReactDebugCurrentFrame,it=Ie.getStackAddendum();it!==""&&(se+="%s",ke=ke.concat([it]));var Zt=ke.map(function(mt){return String(mt)});Zt.unshift("Warning: "+se),Function.prototype.apply.call(console[U],console,Zt)}}var Ve={};function he(U,se){{var ke=U.constructor,Ie=ke&&(ke.displayName||ke.name)||"ReactClass",it=Ie+"."+se;if(Ve[it])return;Re("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",se,Ie),Ve[it]=!0}}var ne={isMounted:function(U){return!1},enqueueForceUpdate:function(U,se,ke){he(U,"forceUpdate")},enqueueReplaceState:function(U,se,ke,Ie){he(U,"replaceState")},enqueueSetState:function(U,se,ke,Ie){he(U,"setState")}},we=Object.assign,We={};Object.freeze(We);function Ue(U,se,ke){this.props=U,this.context=se,this.refs=We,this.updater=ke||ne}Ue.prototype.isReactComponent={},Ue.prototype.setState=function(U,se){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,se,"setState")},Ue.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};{var at={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Qe=function(U,se){Object.defineProperty(Ue.prototype,U,{get:function(){$e("%s(...) is deprecated in plain JavaScript React classes. %s",se[0],se[1])}})};for(var Me in at)at.hasOwnProperty(Me)&&Qe(Me,at[Me])}function Ge(){}Ge.prototype=Ue.prototype;function rt(U,se,ke){this.props=U,this.context=se,this.refs=We,this.updater=ke||ne}var ot=rt.prototype=new Ge;ot.constructor=rt,we(ot,Ue.prototype),ot.isPureReactComponent=!0;function Rt(){var U={current:null};return Object.seal(U),U}var He=Array.isArray;function At(U){return He(U)}function nn(U){{var se=typeof Symbol=="function"&&Symbol.toStringTag,ke=se&&U[Symbol.toStringTag]||U.constructor.name||"Object";return ke}}function Jn(U){try{return yr(U),!1}catch{return!0}}function yr(U){return""+U}function ir(U){if(Jn(U))return Re("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",nn(U)),yr(U)}function $i(U,se,ke){var Ie=U.displayName;if(Ie)return Ie;var it=se.displayName||se.name||"";return it!==""?ke+"("+it+")":ke}function ai(U){return U.displayName||"Context"}function hi(U){if(U==null)return null;if(typeof U.tag=="number"&&Re("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U;switch(U){case o:return"Fragment";case i:return"Portal";case l:return"Profiler";case s:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if(typeof U=="object")switch(U.$$typeof){case p:var se=U;return ai(se)+".Consumer";case f:var ke=U;return ai(ke._context)+".Provider";case m:return $i(U,U.render,"ForwardRef");case x:var Ie=U.displayName||null;return Ie!==null?Ie:hi(U.type)||"Memo";case S:{var it=U,Zt=it._payload,mt=it._init;try{return hi(mt(Zt))}catch{return null}}}return null}var Ii=Object.prototype.hasOwnProperty,Wi={key:!0,ref:!0,__self:!0,__source:!0},Pi,mi,ki;ki={};function Mi(U){if(Ii.call(U,"ref")){var se=Object.getOwnPropertyDescriptor(U,"ref").get;if(se&&se.isReactWarning)return!1}return U.ref!==void 0}function jr(U){if(Ii.call(U,"key")){var se=Object.getOwnPropertyDescriptor(U,"key").get;if(se&&se.isReactWarning)return!1}return U.key!==void 0}function la(U,se){var ke=function(){Pi||(Pi=!0,Re("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ke.isReactWarning=!0,Object.defineProperty(U,"key",{get:ke,configurable:!0})}function Vo(U,se){var ke=function(){mi||(mi=!0,Re("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",se))};ke.isReactWarning=!0,Object.defineProperty(U,"ref",{get:ke,configurable:!0})}function Ba(U){if(typeof U.ref=="string"&&K.current&&U.__self&&K.current.stateNode!==U.__self){var se=hi(K.current.type);ki[se]||(Re('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',se,U.ref),ki[se]=!0)}}var ht=function(U,se,ke,Ie,it,Zt,mt){var qt={$$typeof:r,type:U,key:se,ref:ke,props:mt,_owner:Zt};return qt._store={},Object.defineProperty(qt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(qt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.defineProperty(qt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:it}),Object.freeze&&(Object.freeze(qt.props),Object.freeze(qt)),qt};function Vt(U,se,ke){var Ie,it={},Zt=null,mt=null,qt=null,Sn=null;if(se!=null){Mi(se)&&(mt=se.ref,Ba(se)),jr(se)&&(ir(se.key),Zt=""+se.key),qt=se.__self===void 0?null:se.__self,Sn=se.__source===void 0?null:se.__source;for(Ie in se)Ii.call(se,Ie)&&!Wi.hasOwnProperty(Ie)&&(it[Ie]=se[Ie])}var Rn=arguments.length-2;if(Rn===1)it.children=ke;else if(Rn>1){for(var sr=Array(Rn),er=0;er<Rn;er++)sr[er]=arguments[er+2];Object.freeze&&Object.freeze(sr),it.children=sr}if(U&&U.defaultProps){var pr=U.defaultProps;for(Ie in pr)it[Ie]===void 0&&(it[Ie]=pr[Ie])}if(Zt||mt){var br=typeof U=="function"?U.displayName||U.name||"Unknown":U;Zt&&la(it,br),mt&&Vo(it,br)}return ht(U,Zt,mt,qt,Sn,K.current,it)}function fn(U,se){var ke=ht(U.type,se,U.ref,U._self,U._source,U._owner,U.props);return ke}function Fn(U,se,ke){if(U==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ie,it=we({},U.props),Zt=U.key,mt=U.ref,qt=U._self,Sn=U._source,Rn=U._owner;if(se!=null){Mi(se)&&(mt=se.ref,Rn=K.current),jr(se)&&(ir(se.key),Zt=""+se.key);var sr;U.type&&U.type.defaultProps&&(sr=U.type.defaultProps);for(Ie in se)Ii.call(se,Ie)&&!Wi.hasOwnProperty(Ie)&&(se[Ie]===void 0&&sr!==void 0?it[Ie]=sr[Ie]:it[Ie]=se[Ie])}var er=arguments.length-2;if(er===1)it.children=ke;else if(er>1){for(var pr=Array(er),br=0;br<er;br++)pr[br]=arguments[br+2];it.children=pr}return ht(U.type,Zt,mt,qt,Sn,Rn,it)}function Un(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}var qr=".",_r=":";function oi(U){var se=/[=:]/g,ke={"=":"=0",":":"=2"},Ie=U.replace(se,function(it){return ke[it]});return"$"+Ie}var Ln=!1,Ar=/\/+/g;function ar(U){return U.replace(Ar,"$&/")}function Hn(U,se){return typeof U=="object"&&U!==null&&U.key!=null?(ir(U.key),oi(""+U.key)):se.toString(36)}function po(U,se,ke,Ie,it){var Zt=typeof U;(Zt==="undefined"||Zt==="boolean")&&(U=null);var mt=!1;if(U===null)mt=!0;else switch(Zt){case"string":case"number":mt=!0;break;case"object":switch(U.$$typeof){case r:case i:mt=!0}}if(mt){var qt=U,Sn=it(qt),Rn=Ie===""?qr+Hn(qt,0):Ie;if(At(Sn)){var sr="";Rn!=null&&(sr=ar(Rn)+"/"),po(Sn,se,sr,"",function(Mc){return Mc})}else Sn!=null&&(Un(Sn)&&(Sn.key&&(!qt||qt.key!==Sn.key)&&ir(Sn.key),Sn=fn(Sn,ke+(Sn.key&&(!qt||qt.key!==Sn.key)?ar(""+Sn.key)+"/":"")+Rn)),se.push(Sn));return 1}var er,pr,br=0,An=Ie===""?qr:Ie+_r;if(At(U))for(var Cs=0;Cs<U.length;Cs++)er=U[Cs],pr=An+Hn(er,Cs),br+=po(er,se,ke,pr,it);else{var Pc=O(U);if(typeof Pc=="function"){var jf=U;Pc===jf.entries&&(Ln||$e("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ln=!0);for(var zf=Pc.call(jf),Uo,Bf=0;!(Uo=zf.next()).done;)er=Uo.value,pr=An+Hn(er,Bf++),br+=po(er,se,ke,pr,it)}else if(Zt==="object"){var Uf=String(U);throw new Error("Objects are not valid as a React child (found: "+(Uf==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Uf)+"). If you meant to render a collection of children, use an array instead.")}}return br}function ho(U,se,ke){if(U==null)return U;var Ie=[],it=0;return po(U,Ie,"","",function(Zt){return se.call(ke,Zt,it++)}),Ie}function ca(U){var se=0;return ho(U,function(){se++}),se}function Hu(U,se,ke){ho(U,function(){se.apply(this,arguments)},ke)}function Wu(U){return ho(U,function(se){return se})||[]}function mo(U){if(!Un(U))throw new Error("React.Children.only expected to receive a single React element child.");return U}function vs(U){var se={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};se.Provider={$$typeof:f,_context:se};var ke=!1,Ie=!1,it=!1;{var Zt={$$typeof:p,_context:se};Object.defineProperties(Zt,{Provider:{get:function(){return Ie||(Ie=!0,Re("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),se.Provider},set:function(mt){se.Provider=mt}},_currentValue:{get:function(){return se._currentValue},set:function(mt){se._currentValue=mt}},_currentValue2:{get:function(){return se._currentValue2},set:function(mt){se._currentValue2=mt}},_threadCount:{get:function(){return se._threadCount},set:function(mt){se._threadCount=mt}},Consumer:{get:function(){return ke||(ke=!0,Re("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),se.Consumer}},displayName:{get:function(){return se.displayName},set:function(mt){it||($e("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",mt),it=!0)}}}),se.Consumer=Zt}return se._currentRenderer=null,se._currentRenderer2=null,se}var Ua=-1,Gi=0,Ha=1,Ni=2;function Yr(U){if(U._status===Ua){var se=U._result,ke=se();if(ke.then(function(Zt){if(U._status===Gi||U._status===Ua){var mt=U;mt._status=Ha,mt._result=Zt}},function(Zt){if(U._status===Gi||U._status===Ua){var mt=U;mt._status=Ni,mt._result=Zt}}),U._status===Ua){var Ie=U;Ie._status=Gi,Ie._result=ke}}if(U._status===Ha){var it=U._result;return it===void 0&&Re(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,it),"default"in it||Re(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,it),it.default}else throw U._result}function Ra(U){var se={_status:Ua,_result:U},ke={$$typeof:S,_payload:se,_init:Yr};{var Ie,it;Object.defineProperties(ke,{defaultProps:{configurable:!0,get:function(){return Ie},set:function(Zt){Re("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ie=Zt,Object.defineProperty(ke,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return it},set:function(Zt){Re("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),it=Zt,Object.defineProperty(ke,"propTypes",{enumerable:!0})}}})}return ke}function qn(U){U!=null&&U.$$typeof===x?Re("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof U!="function"?Re("forwardRef requires a render function but was given %s.",U===null?"null":typeof U):U.length!==0&&U.length!==2&&Re("forwardRef render functions accept exactly two parameters: props and ref. %s",U.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),U!=null&&(U.defaultProps!=null||U.propTypes!=null)&&Re("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var se={$$typeof:m,render:U};{var ke;Object.defineProperty(se,"displayName",{enumerable:!1,configurable:!0,get:function(){return ke},set:function(Ie){ke=Ie,!U.name&&!U.displayName&&(U.displayName=Ie)}})}return se}var oe;oe=Symbol.for("react.module.reference");function Ke(U){return!!(typeof U=="string"||typeof U=="function"||U===o||U===l||Te||U===s||U===g||U===y||xe||U===_||ye||de||Pe||typeof U=="object"&&U!==null&&(U.$$typeof===S||U.$$typeof===x||U.$$typeof===f||U.$$typeof===p||U.$$typeof===m||U.$$typeof===oe||U.getModuleId!==void 0))}function wt(U,se){Ke(U)||Re("memo: The first argument must be a component. Instead received: %s",U===null?"null":typeof U);var ke={$$typeof:x,type:U,compare:se===void 0?null:se};{var Ie;Object.defineProperty(ke,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ie},set:function(it){Ie=it,!U.name&&!U.displayName&&(U.displayName=it)}})}return ke}function xt(){var U=I.current;return U===null&&Re(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),U}function dn(U){var se=xt();if(U._context!==void 0){var ke=U._context;ke.Consumer===U?Re("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):ke.Provider===U&&Re("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return se.useContext(U)}function _n(U){var se=xt();return se.useState(U)}function rn(U,se,ke){var Ie=xt();return Ie.useReducer(U,se,ke)}function Gt(U){var se=xt();return se.useRef(U)}function zr(U,se){var ke=xt();return ke.useEffect(U,se)}function or(U,se){var ke=xt();return ke.useInsertionEffect(U,se)}function fr(U,se){var ke=xt();return ke.useLayoutEffect(U,se)}function dr(U,se){var ke=xt();return ke.useCallback(U,se)}function gi(U,se){var ke=xt();return ke.useMemo(U,se)}function fa(U,se,ke){var Ie=xt();return Ie.useImperativeHandle(U,se,ke)}function bn(U,se){{var ke=xt();return ke.useDebugValue(U,se)}}function au(){var U=xt();return U.useTransition()}function Aa(U){var se=xt();return se.useDeferredValue(U)}function gn(){var U=xt();return U.useId()}function vi(U,se,ke){var Ie=xt();return Ie.useSyncExternalStore(U,se,ke)}var ou=0,su,Li,Fi,Ff,Ki,Rl,Vf;function cp(){}cp.__reactDisabledLog=!0;function Al(){{if(ou===0){su=console.log,Li=console.info,Fi=console.warn,Ff=console.error,Ki=console.group,Rl=console.groupCollapsed,Vf=console.groupEnd;var U={configurable:!0,enumerable:!0,value:cp,writable:!0};Object.defineProperties(console,{info:U,log:U,warn:U,error:U,group:U,groupCollapsed:U,groupEnd:U})}ou++}}function uu(){{if(ou--,ou===0){var U={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:we({},U,{value:su}),info:we({},U,{value:Li}),warn:we({},U,{value:Fi}),error:we({},U,{value:Ff}),group:we({},U,{value:Ki}),groupCollapsed:we({},U,{value:Rl}),groupEnd:we({},U,{value:Vf})})}ou<0&&Re("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var go=je.ReactCurrentDispatcher,qi;function Zr(U,se,ke){{if(qi===void 0)try{throw Error()}catch(it){var Ie=it.stack.trim().match(/\n( *(at )?)/);qi=Ie&&Ie[1]||""}return`
`+qi+U}}var lu=!1,cu;{var fu=typeof WeakMap=="function"?WeakMap:Map;cu=new fu}function Dl(U,se){if(!U||lu)return"";{var ke=cu.get(U);if(ke!==void 0)return ke}var Ie;lu=!0;var it=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Zt;Zt=go.current,go.current=null,Al();try{if(se){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(An){Ie=An}Reflect.construct(U,[],mt)}else{try{mt.call()}catch(An){Ie=An}U.call(mt.prototype)}}else{try{throw Error()}catch(An){Ie=An}U()}}catch(An){if(An&&Ie&&typeof An.stack=="string"){for(var qt=An.stack.split(`
`),Sn=Ie.stack.split(`
`),Rn=qt.length-1,sr=Sn.length-1;Rn>=1&&sr>=0&&qt[Rn]!==Sn[sr];)sr--;for(;Rn>=1&&sr>=0;Rn--,sr--)if(qt[Rn]!==Sn[sr]){if(Rn!==1||sr!==1)do if(Rn--,sr--,sr<0||qt[Rn]!==Sn[sr]){var er=`
`+qt[Rn].replace(" at new "," at ");return U.displayName&&er.includes("<anonymous>")&&(er=er.replace("<anonymous>",U.displayName)),typeof U=="function"&&cu.set(U,er),er}while(Rn>=1&&sr>=0);break}}}finally{lu=!1,go.current=Zt,uu(),Error.prepareStackTrace=it}var pr=U?U.displayName||U.name:"",br=pr?Zr(pr):"";return typeof U=="function"&&cu.set(U,br),br}function ys(U,se,ke){return Dl(U,!1)}function um(U){var se=U.prototype;return!!(se&&se.isReactComponent)}function bs(U,se,ke){if(U==null)return"";if(typeof U=="function")return Dl(U,um(U));if(typeof U=="string")return Zr(U);switch(U){case g:return Zr("Suspense");case y:return Zr("SuspenseList")}if(typeof U=="object")switch(U.$$typeof){case m:return ys(U.render);case x:return bs(U.type,se,ke);case S:{var Ie=U,it=Ie._payload,Zt=Ie._init;try{return bs(Zt(it),se,ke)}catch{}}}return""}var Vn={},Ol=je.ReactDebugCurrentFrame;function ws(U){if(U){var se=U._owner,ke=bs(U.type,U._source,se?se.type:null);Ol.setExtraStackFrame(ke)}else Ol.setExtraStackFrame(null)}function $l(U,se,ke,Ie,it){{var Zt=Function.call.bind(Ii);for(var mt in U)if(Zt(U,mt)){var qt=void 0;try{if(typeof U[mt]!="function"){var Sn=Error((Ie||"React class")+": "+ke+" type `"+mt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof U[mt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Sn.name="Invariant Violation",Sn}qt=U[mt](se,mt,Ie,ke,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Rn){qt=Rn}qt&&!(qt instanceof Error)&&(ws(it),Re("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ie||"React class",ke,mt,typeof qt),ws(null)),qt instanceof Error&&!(qt.message in Vn)&&(Vn[qt.message]=!0,ws(it),Re("Failed %s type: %s",ke,qt.message),ws(null))}}}function kn(U){if(U){var se=U._owner,ke=bs(U.type,U._source,se?se.type:null);fe(ke)}else fe(null)}var xs;xs=!1;function $c(){if(K.current){var U=hi(K.current.type);if(U)return`

Check the render method of \``+U+"`."}return""}function un(U){if(U!==void 0){var se=U.fileName.replace(/^.*[\\\/]/,""),ke=U.lineNumber;return`

Check your code at `+se+":"+ke+"."}return""}function Il(U){return U!=null?un(U.__source):""}var Dr={};function Yi(U){var se=$c();if(!se){var ke=typeof U=="string"?U:U.displayName||U.name;ke&&(se=`

Check the top-level render call using <`+ke+">.")}return se}function yi(U,se){if(!(!U._store||U._store.validated||U.key!=null)){U._store.validated=!0;var ke=Yi(se);if(!Dr[ke]){Dr[ke]=!0;var Ie="";U&&U._owner&&U._owner!==K.current&&(Ie=" It was passed a child from "+hi(U._owner.type)+"."),kn(U),Re('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ke,Ie),kn(null)}}}function Gu(U,se){if(typeof U=="object"){if(At(U))for(var ke=0;ke<U.length;ke++){var Ie=U[ke];Un(Ie)&&yi(Ie,se)}else if(Un(U))U._store&&(U._store.validated=!0);else if(U){var it=O(U);if(typeof it=="function"&&it!==U.entries)for(var Zt=it.call(U),mt;!(mt=Zt.next()).done;)Un(mt.value)&&yi(mt.value,se)}}}function Br(U){{var se=U.type;if(se==null||typeof se=="string")return;var ke;if(typeof se=="function")ke=se.propTypes;else if(typeof se=="object"&&(se.$$typeof===m||se.$$typeof===x))ke=se.propTypes;else return;if(ke){var Ie=hi(se);$l(ke,U.props,"prop",Ie,U)}else if(se.PropTypes!==void 0&&!xs){xs=!0;var it=hi(se);Re("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",it||"Unknown")}typeof se.getDefaultProps=="function"&&!se.getDefaultProps.isReactClassApproved&&Re("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Yn(U){{for(var se=Object.keys(U.props),ke=0;ke<se.length;ke++){var Ie=se[ke];if(Ie!=="children"&&Ie!=="key"){kn(U),Re("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ie),kn(null);break}}U.ref!==null&&(kn(U),Re("Invalid attribute `ref` supplied to `React.Fragment`."),kn(null))}}function fp(U,se,ke){var Ie=Ke(U);if(!Ie){var it="";(U===void 0||typeof U=="object"&&U!==null&&Object.keys(U).length===0)&&(it+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Zt=Il(se);Zt?it+=Zt:it+=$c();var mt;U===null?mt="null":At(U)?mt="array":U!==void 0&&U.$$typeof===r?(mt="<"+(hi(U.type)||"Unknown")+" />",it=" Did you accidentally export a JSX literal instead of a component?"):mt=typeof U,Re("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",mt,it)}var qt=Vt.apply(this,arguments);if(qt==null)return qt;if(Ie)for(var Sn=2;Sn<arguments.length;Sn++)Gu(arguments[Sn],U);return U===o?Yn(qt):Br(qt),qt}var Zi=!1;function bi(U){var se=fp.bind(null,U);return se.type=U,Zi||(Zi=!0,$e("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(se,"type",{enumerable:!1,get:function(){return $e("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:U}),U}}),se}function jo(U,se,ke){for(var Ie=Fn.apply(this,arguments),it=2;it<arguments.length;it++)Gu(arguments[it],Ie.type);return Br(Ie),Ie}function Ku(U,se){var ke=P.transition;P.transition={};var Ie=P.transition;P.transition._updatedFibers=new Set;try{U()}finally{if(P.transition=ke,ke===null&&Ie._updatedFibers){var it=Ie._updatedFibers.size;it>10&&$e("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Ie._updatedFibers.clear()}}}var wi=!1,qu=null;function dp(U){if(qu===null)try{var se=("require"+Math.random()).slice(0,7),ke=t&&t[se];qu=ke.call(t,"timers").setImmediate}catch{qu=function(it){wi===!1&&(wi=!0,typeof MessageChannel>"u"&&Re("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Zt=new MessageChannel;Zt.port1.onmessage=it,Zt.port2.postMessage(void 0)}}return qu(U)}var Wa=0,du=!1;function zo(U){{var se=Wa;Wa++,F.current===null&&(F.current=[]);var ke=F.isBatchingLegacy,Ie;try{if(F.isBatchingLegacy=!0,Ie=U(),!ke&&F.didScheduleLegacyUpdate){var it=F.current;it!==null&&(F.didScheduleLegacyUpdate=!1,Ss(it))}}catch(pr){throw Da(se),pr}finally{F.isBatchingLegacy=ke}if(Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var Zt=Ie,mt=!1,qt={then:function(pr,br){mt=!0,Zt.then(function(An){Da(se),Wa===0?Bo(An,pr,br):pr(An)},function(An){Da(se),br(An)})}};return!du&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){mt||(du=!0,Re("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),qt}else{var Sn=Ie;if(Da(se),Wa===0){var Rn=F.current;Rn!==null&&(Ss(Rn),F.current=null);var sr={then:function(pr,br){F.current===null?(F.current=[],Bo(Sn,pr,br)):pr(Sn)}};return sr}else{var er={then:function(pr,br){pr(Sn)}};return er}}}}function Da(U){U!==Wa-1&&Re("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Wa=U}function Bo(U,se,ke){{var Ie=F.current;if(Ie!==null)try{Ss(Ie),dp(function(){Ie.length===0?(F.current=null,se(U)):Bo(U,se,ke)})}catch(it){ke(it)}else se(U)}}var pu=!1;function Ss(U){if(!pu){pu=!0;var se=0;try{for(;se<U.length;se++){var ke=U[se];do ke=ke(!0);while(ke!==null)}U.length=0}catch(Ie){throw U=U.slice(se+1),Ie}finally{pu=!1}}}var Pl=fp,Ic=jo,hu=bi,vo={map:ho,forEach:Hu,count:ca,toArray:Wu,only:mo};e.Children=vo,e.Component=Ue,e.Fragment=o,e.Profiler=l,e.PureComponent=rt,e.StrictMode=s,e.Suspense=g,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=je,e.act=zo,e.cloneElement=Ic,e.createContext=vs,e.createElement=Pl,e.createFactory=hu,e.createRef=Rt,e.forwardRef=qn,e.isValidElement=Un,e.lazy=Ra,e.memo=wt,e.startTransition=Ku,e.unstable_act=zo,e.useCallback=dr,e.useContext=dn,e.useDebugValue=bn,e.useDeferredValue=Aa,e.useEffect=zr,e.useId=gn,e.useImperativeHandle=fa,e.useInsertionEffect=or,e.useLayoutEffect=fr,e.useMemo=gi,e.useReducer=rn,e.useRef=Gt,e.useState=_n,e.useSyncExternalStore=vi,e.useTransition=au,e.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(fy,fy.exports)),fy.exports}process.env.NODE_ENV==="production"?__.exports=dZ():__.exports=pZ();var j=__.exports;const W=cg(j),hZ=ly({__proto__:null,default:W},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function mZ(){if(bI)return cy;bI=1;var t=j,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,f,p){var m,g={},y=null,x=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(g[m]=f[m]);if(l&&l.defaultProps)for(m in f=l.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:l,key:y,ref:x,props:g,_owner:i.current}}return cy.Fragment=n,cy.jsx=s,cy.jsxs=s,cy}var dy={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function gZ(){return wI||(wI=1,process.env.NODE_ENV!=="production"&&function(){var t=j,e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S=Symbol.iterator,_="@@iterator";function k(oe){if(oe===null||typeof oe!="object")return null;var Ke=S&&oe[S]||oe[_];return typeof Ke=="function"?Ke:null}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function O(oe){{for(var Ke=arguments.length,wt=new Array(Ke>1?Ke-1:0),xt=1;xt<Ke;xt++)wt[xt-1]=arguments[xt];I("error",oe,wt)}}function I(oe,Ke,wt){{var xt=R.ReactDebugCurrentFrame,dn=xt.getStackAddendum();dn!==""&&(Ke+="%s",wt=wt.concat([dn]));var _n=wt.map(function(rn){return String(rn)});_n.unshift("Warning: "+Ke),Function.prototype.apply.call(console[oe],console,_n)}}var P=!1,F=!1,K=!1,Y=!1,te=!1,fe;fe=Symbol.for("react.module.reference");function ye(oe){return!!(typeof oe=="string"||typeof oe=="function"||oe===r||oe===o||te||oe===i||oe===p||oe===m||Y||oe===x||P||F||K||typeof oe=="object"&&oe!==null&&(oe.$$typeof===y||oe.$$typeof===g||oe.$$typeof===s||oe.$$typeof===l||oe.$$typeof===f||oe.$$typeof===fe||oe.getModuleId!==void 0))}function de(oe,Ke,wt){var xt=oe.displayName;if(xt)return xt;var dn=Ke.displayName||Ke.name||"";return dn!==""?wt+"("+dn+")":wt}function Pe(oe){return oe.displayName||"Context"}function xe(oe){if(oe==null)return null;if(typeof oe.tag=="number"&&O("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof oe=="function")return oe.displayName||oe.name||null;if(typeof oe=="string")return oe;switch(oe){case r:return"Fragment";case n:return"Portal";case o:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if(typeof oe=="object")switch(oe.$$typeof){case l:var Ke=oe;return Pe(Ke)+".Consumer";case s:var wt=oe;return Pe(wt._context)+".Provider";case f:return de(oe,oe.render,"ForwardRef");case g:var xt=oe.displayName||null;return xt!==null?xt:xe(oe.type)||"Memo";case y:{var dn=oe,_n=dn._payload,rn=dn._init;try{return xe(rn(_n))}catch{return null}}}return null}var Te=Object.assign,je=0,$e,Re,be,Ve,he,ne,we;function We(){}We.__reactDisabledLog=!0;function Ue(){{if(je===0){$e=console.log,Re=console.info,be=console.warn,Ve=console.error,he=console.group,ne=console.groupCollapsed,we=console.groupEnd;var oe={configurable:!0,enumerable:!0,value:We,writable:!0};Object.defineProperties(console,{info:oe,log:oe,warn:oe,error:oe,group:oe,groupCollapsed:oe,groupEnd:oe})}je++}}function at(){{if(je--,je===0){var oe={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Te({},oe,{value:$e}),info:Te({},oe,{value:Re}),warn:Te({},oe,{value:be}),error:Te({},oe,{value:Ve}),group:Te({},oe,{value:he}),groupCollapsed:Te({},oe,{value:ne}),groupEnd:Te({},oe,{value:we})})}je<0&&O("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Qe=R.ReactCurrentDispatcher,Me;function Ge(oe,Ke,wt){{if(Me===void 0)try{throw Error()}catch(dn){var xt=dn.stack.trim().match(/\n( *(at )?)/);Me=xt&&xt[1]||""}return`
`+Me+oe}}var rt=!1,ot;{var Rt=typeof WeakMap=="function"?WeakMap:Map;ot=new Rt}function He(oe,Ke){if(!oe||rt)return"";{var wt=ot.get(oe);if(wt!==void 0)return wt}var xt;rt=!0;var dn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var _n;_n=Qe.current,Qe.current=null,Ue();try{if(Ke){var rn=function(){throw Error()};if(Object.defineProperty(rn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rn,[])}catch(bn){xt=bn}Reflect.construct(oe,[],rn)}else{try{rn.call()}catch(bn){xt=bn}oe.call(rn.prototype)}}else{try{throw Error()}catch(bn){xt=bn}oe()}}catch(bn){if(bn&&xt&&typeof bn.stack=="string"){for(var Gt=bn.stack.split(`
`),zr=xt.stack.split(`
`),or=Gt.length-1,fr=zr.length-1;or>=1&&fr>=0&&Gt[or]!==zr[fr];)fr--;for(;or>=1&&fr>=0;or--,fr--)if(Gt[or]!==zr[fr]){if(or!==1||fr!==1)do if(or--,fr--,fr<0||Gt[or]!==zr[fr]){var dr=`
`+Gt[or].replace(" at new "," at ");return oe.displayName&&dr.includes("<anonymous>")&&(dr=dr.replace("<anonymous>",oe.displayName)),typeof oe=="function"&&ot.set(oe,dr),dr}while(or>=1&&fr>=0);break}}}finally{rt=!1,Qe.current=_n,at(),Error.prepareStackTrace=dn}var gi=oe?oe.displayName||oe.name:"",fa=gi?Ge(gi):"";return typeof oe=="function"&&ot.set(oe,fa),fa}function At(oe,Ke,wt){return He(oe,!1)}function nn(oe){var Ke=oe.prototype;return!!(Ke&&Ke.isReactComponent)}function Jn(oe,Ke,wt){if(oe==null)return"";if(typeof oe=="function")return He(oe,nn(oe));if(typeof oe=="string")return Ge(oe);switch(oe){case p:return Ge("Suspense");case m:return Ge("SuspenseList")}if(typeof oe=="object")switch(oe.$$typeof){case f:return At(oe.render);case g:return Jn(oe.type,Ke,wt);case y:{var xt=oe,dn=xt._payload,_n=xt._init;try{return Jn(_n(dn),Ke,wt)}catch{}}}return""}var yr=Object.prototype.hasOwnProperty,ir={},$i=R.ReactDebugCurrentFrame;function ai(oe){if(oe){var Ke=oe._owner,wt=Jn(oe.type,oe._source,Ke?Ke.type:null);$i.setExtraStackFrame(wt)}else $i.setExtraStackFrame(null)}function hi(oe,Ke,wt,xt,dn){{var _n=Function.call.bind(yr);for(var rn in oe)if(_n(oe,rn)){var Gt=void 0;try{if(typeof oe[rn]!="function"){var zr=Error((xt||"React class")+": "+wt+" type `"+rn+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof oe[rn]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw zr.name="Invariant Violation",zr}Gt=oe[rn](Ke,rn,xt,wt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(or){Gt=or}Gt&&!(Gt instanceof Error)&&(ai(dn),O("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",xt||"React class",wt,rn,typeof Gt),ai(null)),Gt instanceof Error&&!(Gt.message in ir)&&(ir[Gt.message]=!0,ai(dn),O("Failed %s type: %s",wt,Gt.message),ai(null))}}}var Ii=Array.isArray;function Wi(oe){return Ii(oe)}function Pi(oe){{var Ke=typeof Symbol=="function"&&Symbol.toStringTag,wt=Ke&&oe[Symbol.toStringTag]||oe.constructor.name||"Object";return wt}}function mi(oe){try{return ki(oe),!1}catch{return!0}}function ki(oe){return""+oe}function Mi(oe){if(mi(oe))return O("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Pi(oe)),ki(oe)}var jr=R.ReactCurrentOwner,la={key:!0,ref:!0,__self:!0,__source:!0},Vo,Ba;function ht(oe){if(yr.call(oe,"ref")){var Ke=Object.getOwnPropertyDescriptor(oe,"ref").get;if(Ke&&Ke.isReactWarning)return!1}return oe.ref!==void 0}function Vt(oe){if(yr.call(oe,"key")){var Ke=Object.getOwnPropertyDescriptor(oe,"key").get;if(Ke&&Ke.isReactWarning)return!1}return oe.key!==void 0}function fn(oe,Ke){typeof oe.ref=="string"&&jr.current}function Fn(oe,Ke){{var wt=function(){Vo||(Vo=!0,O("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ke))};wt.isReactWarning=!0,Object.defineProperty(oe,"key",{get:wt,configurable:!0})}}function Un(oe,Ke){{var wt=function(){Ba||(Ba=!0,O("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ke))};wt.isReactWarning=!0,Object.defineProperty(oe,"ref",{get:wt,configurable:!0})}}var qr=function(oe,Ke,wt,xt,dn,_n,rn){var Gt={$$typeof:e,type:oe,key:Ke,ref:wt,props:rn,_owner:_n};return Gt._store={},Object.defineProperty(Gt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Gt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:xt}),Object.defineProperty(Gt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:dn}),Object.freeze&&(Object.freeze(Gt.props),Object.freeze(Gt)),Gt};function _r(oe,Ke,wt,xt,dn){{var _n,rn={},Gt=null,zr=null;wt!==void 0&&(Mi(wt),Gt=""+wt),Vt(Ke)&&(Mi(Ke.key),Gt=""+Ke.key),ht(Ke)&&(zr=Ke.ref,fn(Ke,dn));for(_n in Ke)yr.call(Ke,_n)&&!la.hasOwnProperty(_n)&&(rn[_n]=Ke[_n]);if(oe&&oe.defaultProps){var or=oe.defaultProps;for(_n in or)rn[_n]===void 0&&(rn[_n]=or[_n])}if(Gt||zr){var fr=typeof oe=="function"?oe.displayName||oe.name||"Unknown":oe;Gt&&Fn(rn,fr),zr&&Un(rn,fr)}return qr(oe,Gt,zr,dn,xt,jr.current,rn)}}var oi=R.ReactCurrentOwner,Ln=R.ReactDebugCurrentFrame;function Ar(oe){if(oe){var Ke=oe._owner,wt=Jn(oe.type,oe._source,Ke?Ke.type:null);Ln.setExtraStackFrame(wt)}else Ln.setExtraStackFrame(null)}var ar;ar=!1;function Hn(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===e}function po(){{if(oi.current){var oe=xe(oi.current.type);if(oe)return`

Check the render method of \``+oe+"`."}return""}}function ho(oe){return""}var ca={};function Hu(oe){{var Ke=po();if(!Ke){var wt=typeof oe=="string"?oe:oe.displayName||oe.name;wt&&(Ke=`

Check the top-level render call using <`+wt+">.")}return Ke}}function Wu(oe,Ke){{if(!oe._store||oe._store.validated||oe.key!=null)return;oe._store.validated=!0;var wt=Hu(Ke);if(ca[wt])return;ca[wt]=!0;var xt="";oe&&oe._owner&&oe._owner!==oi.current&&(xt=" It was passed a child from "+xe(oe._owner.type)+"."),Ar(oe),O('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',wt,xt),Ar(null)}}function mo(oe,Ke){{if(typeof oe!="object")return;if(Wi(oe))for(var wt=0;wt<oe.length;wt++){var xt=oe[wt];Hn(xt)&&Wu(xt,Ke)}else if(Hn(oe))oe._store&&(oe._store.validated=!0);else if(oe){var dn=k(oe);if(typeof dn=="function"&&dn!==oe.entries)for(var _n=dn.call(oe),rn;!(rn=_n.next()).done;)Hn(rn.value)&&Wu(rn.value,Ke)}}}function vs(oe){{var Ke=oe.type;if(Ke==null||typeof Ke=="string")return;var wt;if(typeof Ke=="function")wt=Ke.propTypes;else if(typeof Ke=="object"&&(Ke.$$typeof===f||Ke.$$typeof===g))wt=Ke.propTypes;else return;if(wt){var xt=xe(Ke);hi(wt,oe.props,"prop",xt,oe)}else if(Ke.PropTypes!==void 0&&!ar){ar=!0;var dn=xe(Ke);O("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",dn||"Unknown")}typeof Ke.getDefaultProps=="function"&&!Ke.getDefaultProps.isReactClassApproved&&O("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ua(oe){{for(var Ke=Object.keys(oe.props),wt=0;wt<Ke.length;wt++){var xt=Ke[wt];if(xt!=="children"&&xt!=="key"){Ar(oe),O("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",xt),Ar(null);break}}oe.ref!==null&&(Ar(oe),O("Invalid attribute `ref` supplied to `React.Fragment`."),Ar(null))}}var Gi={};function Ha(oe,Ke,wt,xt,dn,_n){{var rn=ye(oe);if(!rn){var Gt="";(oe===void 0||typeof oe=="object"&&oe!==null&&Object.keys(oe).length===0)&&(Gt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var zr=ho();zr?Gt+=zr:Gt+=po();var or;oe===null?or="null":Wi(oe)?or="array":oe!==void 0&&oe.$$typeof===e?(or="<"+(xe(oe.type)||"Unknown")+" />",Gt=" Did you accidentally export a JSX literal instead of a component?"):or=typeof oe,O("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",or,Gt)}var fr=_r(oe,Ke,wt,dn,_n);if(fr==null)return fr;if(rn){var dr=Ke.children;if(dr!==void 0)if(xt)if(Wi(dr)){for(var gi=0;gi<dr.length;gi++)mo(dr[gi],oe);Object.freeze&&Object.freeze(dr)}else O("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else mo(dr,oe)}if(yr.call(Ke,"key")){var fa=xe(oe),bn=Object.keys(Ke).filter(function(gn){return gn!=="key"}),au=bn.length>0?"{key: someKey, "+bn.join(": ..., ")+": ...}":"{key: someKey}";if(!Gi[fa+au]){var Aa=bn.length>0?"{"+bn.join(": ..., ")+": ...}":"{}";O(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,au,fa,Aa,fa),Gi[fa+au]=!0}}return oe===r?Ua(fr):vs(fr),fr}}function Ni(oe,Ke,wt){return Ha(oe,Ke,wt,!0)}function Yr(oe,Ke,wt){return Ha(oe,Ke,wt,!1)}var Ra=Yr,qn=Ni;dy.Fragment=r,dy.jsx=Ra,dy.jsxs=qn}()),dy}process.env.NODE_ENV==="production"?E_.exports=mZ():E_.exports=gZ();var B=E_.exports,T_={exports:{}},ts={},Ww={exports:{}},k_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function vZ(){return xI||(xI=1,function(t){function e(be,Ve){var he=be.length;be.push(Ve);e:for(;0<he;){var ne=he-1>>>1,we=be[ne];if(0<i(we,Ve))be[ne]=Ve,be[he]=we,he=ne;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var Ve=be[0],he=be.pop();if(he!==Ve){be[0]=he;e:for(var ne=0,we=be.length,We=we>>>1;ne<We;){var Ue=2*(ne+1)-1,at=be[Ue],Qe=Ue+1,Me=be[Qe];if(0>i(at,he))Qe<we&&0>i(Me,at)?(be[ne]=Me,be[Qe]=he,ne=Qe):(be[ne]=at,be[Ue]=he,ne=Ue);else if(Qe<we&&0>i(Me,he))be[ne]=Me,be[Qe]=he,ne=Qe;else break e}}return Ve}function i(be,Ve){var he=be.sortIndex-Ve.sortIndex;return he!==0?he:be.id-Ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var f=[],p=[],m=1,g=null,y=3,x=!1,S=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(be){for(var Ve=n(p);Ve!==null;){if(Ve.callback===null)r(p);else if(Ve.startTime<=be)r(p),Ve.sortIndex=Ve.expirationTime,e(f,Ve);else break;Ve=n(p)}}function P(be){if(_=!1,I(be),!S)if(n(f)!==null)S=!0,$e(F);else{var Ve=n(p);Ve!==null&&Re(P,Ve.startTime-be)}}function F(be,Ve){S=!1,_&&(_=!1,R(te),te=-1),x=!0;var he=y;try{for(I(Ve),g=n(f);g!==null&&(!(g.expirationTime>Ve)||be&&!de());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var we=ne(g.expirationTime<=Ve);Ve=t.unstable_now(),typeof we=="function"?g.callback=we:g===n(f)&&r(f),I(Ve)}else r(f);g=n(f)}if(g!==null)var We=!0;else{var Ue=n(p);Ue!==null&&Re(P,Ue.startTime-Ve),We=!1}return We}finally{g=null,y=he,x=!1}}var K=!1,Y=null,te=-1,fe=5,ye=-1;function de(){return!(t.unstable_now()-ye<fe)}function Pe(){if(Y!==null){var be=t.unstable_now();ye=be;var Ve=!0;try{Ve=Y(!0,be)}finally{Ve?xe():(K=!1,Y=null)}}else K=!1}var xe;if(typeof O=="function")xe=function(){O(Pe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,je=Te.port2;Te.port1.onmessage=Pe,xe=function(){je.postMessage(null)}}else xe=function(){k(Pe,0)};function $e(be){Y=be,K||(K=!0,xe())}function Re(be,Ve){te=k(function(){be(t.unstable_now())},Ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(be){be.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,$e(F))},t.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<be?Math.floor(1e3/be):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(be){switch(y){case 1:case 2:case 3:var Ve=3;break;default:Ve=y}var he=y;y=Ve;try{return be()}finally{y=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(be,Ve){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var he=y;y=be;try{return Ve()}finally{y=he}},t.unstable_scheduleCallback=function(be,Ve,he){var ne=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ne+he:ne):he=ne,be){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=he+we,be={id:m++,callback:Ve,priorityLevel:be,startTime:he,expirationTime:we,sortIndex:-1},he>ne?(be.sortIndex=he,e(p,be),n(f)===null&&be===n(p)&&(_?(R(te),te=-1):_=!0,Re(P,he-ne))):(be.sortIndex=we,e(f,be),S||x||(S=!0,$e(F))),be},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(be){var Ve=y;return function(){var he=y;y=Ve;try{return be.apply(this,arguments)}finally{y=he}}}}(k_)),k_}var N_={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function yZ(){return SI||(SI=1,function(t){process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,n=!1,r=5;function i(ht,Vt){var fn=ht.length;ht.push(Vt),l(ht,Vt,fn)}function o(ht){return ht.length===0?null:ht[0]}function s(ht){if(ht.length===0)return null;var Vt=ht[0],fn=ht.pop();return fn!==Vt&&(ht[0]=fn,f(ht,fn,0)),Vt}function l(ht,Vt,fn){for(var Fn=fn;Fn>0;){var Un=Fn-1>>>1,qr=ht[Un];if(p(qr,Vt)>0)ht[Un]=Vt,ht[Fn]=qr,Fn=Un;else return}}function f(ht,Vt,fn){for(var Fn=fn,Un=ht.length,qr=Un>>>1;Fn<qr;){var _r=(Fn+1)*2-1,oi=ht[_r],Ln=_r+1,Ar=ht[Ln];if(p(oi,Vt)<0)Ln<Un&&p(Ar,oi)<0?(ht[Fn]=Ar,ht[Ln]=Vt,Fn=Ln):(ht[Fn]=oi,ht[_r]=Vt,Fn=_r);else if(Ln<Un&&p(Ar,Vt)<0)ht[Fn]=Ar,ht[Ln]=Vt,Fn=Ln;else return}}function p(ht,Vt){var fn=ht.sortIndex-Vt.sortIndex;return fn!==0?fn:ht.id-Vt.id}var m=1,g=2,y=3,x=4,S=5;function _(ht,Vt){}var k=typeof performance=="object"&&typeof performance.now=="function";if(k){var R=performance;t.unstable_now=function(){return R.now()}}else{var O=Date,I=O.now();t.unstable_now=function(){return O.now()-I}}var P=1073741823,F=-1,K=250,Y=5e3,te=1e4,fe=P,ye=[],de=[],Pe=1,xe=null,Te=y,je=!1,$e=!1,Re=!1,be=typeof setTimeout=="function"?setTimeout:null,Ve=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(ht){for(var Vt=o(de);Vt!==null;){if(Vt.callback===null)s(de);else if(Vt.startTime<=ht)s(de),Vt.sortIndex=Vt.expirationTime,i(ye,Vt);else return;Vt=o(de)}}function we(ht){if(Re=!1,ne(ht),!$e)if(o(ye)!==null)$e=!0,Mi(We);else{var Vt=o(de);Vt!==null&&jr(we,Vt.startTime-ht)}}function We(ht,Vt){$e=!1,Re&&(Re=!1,la()),je=!0;var fn=Te;try{var Fn;if(!n)return Ue(ht,Vt)}finally{xe=null,Te=fn,je=!1}}function Ue(ht,Vt){var fn=Vt;for(ne(fn),xe=o(ye);xe!==null&&!e&&!(xe.expirationTime>fn&&(!ht||ai()));){var Fn=xe.callback;if(typeof Fn=="function"){xe.callback=null,Te=xe.priorityLevel;var Un=xe.expirationTime<=fn,qr=Fn(Un);fn=t.unstable_now(),typeof qr=="function"?xe.callback=qr:xe===o(ye)&&s(ye),ne(fn)}else s(ye);xe=o(ye)}if(xe!==null)return!0;var _r=o(de);return _r!==null&&jr(we,_r.startTime-fn),!1}function at(ht,Vt){switch(ht){case m:case g:case y:case x:case S:break;default:ht=y}var fn=Te;Te=ht;try{return Vt()}finally{Te=fn}}function Qe(ht){var Vt;switch(Te){case m:case g:case y:Vt=y;break;default:Vt=Te;break}var fn=Te;Te=Vt;try{return ht()}finally{Te=fn}}function Me(ht){var Vt=Te;return function(){var fn=Te;Te=Vt;try{return ht.apply(this,arguments)}finally{Te=fn}}}function Ge(ht,Vt,fn){var Fn=t.unstable_now(),Un;if(typeof fn=="object"&&fn!==null){var qr=fn.delay;typeof qr=="number"&&qr>0?Un=Fn+qr:Un=Fn}else Un=Fn;var _r;switch(ht){case m:_r=F;break;case g:_r=K;break;case S:_r=fe;break;case x:_r=te;break;case y:default:_r=Y;break}var oi=Un+_r,Ln={id:Pe++,callback:Vt,priorityLevel:ht,startTime:Un,expirationTime:oi,sortIndex:-1};return Un>Fn?(Ln.sortIndex=Un,i(de,Ln),o(ye)===null&&Ln===o(de)&&(Re?la():Re=!0,jr(we,Un-Fn))):(Ln.sortIndex=oi,i(ye,Ln),!$e&&!je&&($e=!0,Mi(We))),Ln}function rt(){}function ot(){!$e&&!je&&($e=!0,Mi(We))}function Rt(){return o(ye)}function He(ht){ht.callback=null}function At(){return Te}var nn=!1,Jn=null,yr=-1,ir=r,$i=-1;function ai(){var ht=t.unstable_now()-$i;return!(ht<ir)}function hi(){}function Ii(ht){if(ht<0||ht>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}ht>0?ir=Math.floor(1e3/ht):ir=r}var Wi=function(){if(Jn!==null){var ht=t.unstable_now();$i=ht;var Vt=!0,fn=!0;try{fn=Jn(Vt,ht)}finally{fn?Pi():(nn=!1,Jn=null)}}else nn=!1},Pi;if(typeof he=="function")Pi=function(){he(Wi)};else if(typeof MessageChannel<"u"){var mi=new MessageChannel,ki=mi.port2;mi.port1.onmessage=Wi,Pi=function(){ki.postMessage(null)}}else Pi=function(){be(Wi,0)};function Mi(ht){Jn=ht,nn||(nn=!0,Pi())}function jr(ht,Vt){yr=be(function(){ht(t.unstable_now())},Vt)}function la(){Ve(yr),yr=-1}var Vo=hi,Ba=null;t.unstable_IdlePriority=S,t.unstable_ImmediatePriority=m,t.unstable_LowPriority=x,t.unstable_NormalPriority=y,t.unstable_Profiling=Ba,t.unstable_UserBlockingPriority=g,t.unstable_cancelCallback=He,t.unstable_continueExecution=ot,t.unstable_forceFrameRate=Ii,t.unstable_getCurrentPriorityLevel=At,t.unstable_getFirstCallbackNode=Rt,t.unstable_next=Qe,t.unstable_pauseExecution=rt,t.unstable_requestPaint=Vo,t.unstable_runWithPriority=at,t.unstable_scheduleCallback=Ge,t.unstable_shouldYield=ai,t.unstable_wrapCallback=Me,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(N_)),N_}var CI;function EI(){return CI||(CI=1,process.env.NODE_ENV==="production"?Ww.exports=vZ():Ww.exports=yZ()),Ww.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function bZ(){if(_I)return ts;_I=1;var t=j,e=EI();function n(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,b=1;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(c,d){s(c,d),s(c+"Capture",d)}function s(c,d){for(i[c]=d,c=0;c<d.length;c++)r.add(d[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function y(c){return f.call(g,c)?!0:f.call(m,c)?!1:p.test(c)?g[c]=!0:(m[c]=!0,!1)}function x(c,d,b,C){if(b!==null&&b.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function S(c,d,b,C){if(d===null||typeof d>"u"||x(c,d,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function _(c,d,b,C,N,$,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=C,this.attributeNamespace=N,this.mustUseProperty=b,this.propertyName=c,this.type=d,this.sanitizeURL=$,this.removeEmptyString=G}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){k[c]=new _(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];k[d]=new _(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){k[c]=new _(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){k[c]=new _(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){k[c]=new _(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){k[c]=new _(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){k[c]=new _(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){k[c]=new _(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){k[c]=new _(c,5,!1,c.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function O(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(R,O);k[d]=new _(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(R,O);k[d]=new _(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(R,O);k[d]=new _(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){k[c]=new _(c,1,!1,c.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){k[c]=new _(c,1,!1,c.toLowerCase(),null,!0,!0)});function I(c,d,b,C){var N=k.hasOwnProperty(d)?k[d]:null;(N!==null?N.type!==0:C||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(S(d,b,N,C)&&(b=null),C||N===null?y(d)&&(b===null?c.removeAttribute(d):c.setAttribute(d,""+b)):N.mustUseProperty?c[N.propertyName]=b===null?N.type===3?!1:"":b:(d=N.attributeName,C=N.attributeNamespace,b===null?c.removeAttribute(d):(N=N.type,b=N===3||N===4&&b===!0?"":""+b,C?c.setAttributeNS(C,d,b):c.setAttribute(d,b))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),de=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),be=Symbol.iterator;function Ve(c){return c===null||typeof c!="object"?null:(c=be&&c[be]||c["@@iterator"],typeof c=="function"?c:null)}var he=Object.assign,ne;function we(c){if(ne===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);ne=d&&d[1]||""}return`
`+ne+c}var We=!1;function Ue(c,d){if(!c||We)return"";We=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(De){var C=De}Reflect.construct(c,[],d)}else{try{d.call()}catch(De){C=De}c.call(d.prototype)}else{try{throw Error()}catch(De){C=De}c()}}catch(De){if(De&&C&&typeof De.stack=="string"){for(var N=De.stack.split(`
`),$=C.stack.split(`
`),G=N.length-1,ae=$.length-1;1<=G&&0<=ae&&N[G]!==$[ae];)ae--;for(;1<=G&&0<=ae;G--,ae--)if(N[G]!==$[ae]){if(G!==1||ae!==1)do if(G--,ae--,0>ae||N[G]!==$[ae]){var ce=`
`+N[G].replace(" at new "," at ");return c.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",c.displayName)),ce}while(1<=G&&0<=ae);break}}}finally{We=!1,Error.prepareStackTrace=b}return(c=c?c.displayName||c.name:"")?we(c):""}function at(c){switch(c.tag){case 5:return we(c.type);case 16:return we("Lazy");case 13:return we("Suspense");case 19:return we("SuspenseList");case 0:case 2:case 15:return c=Ue(c.type,!1),c;case 11:return c=Ue(c.type.render,!1),c;case 1:return c=Ue(c.type,!0),c;default:return""}}function Qe(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Y:return"Fragment";case K:return"Portal";case fe:return"Profiler";case te:return"StrictMode";case xe:return"Suspense";case Te:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case de:return(c.displayName||"Context")+".Consumer";case ye:return(c._context.displayName||"Context")+".Provider";case Pe:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case je:return d=c.displayName||null,d!==null?d:Qe(c.type)||"Memo";case $e:d=c._payload,c=c._init;try{return Qe(c(d))}catch{}}return null}function Me(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(d);case 8:return d===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ge(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function rt(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ot(c){var d=rt(c)?"checked":"value",b=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),C=""+c[d];if(!c.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var N=b.get,$=b.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return N.call(this)},set:function(G){C=""+G,$.call(this,G)}}),Object.defineProperty(c,d,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Rt(c){c._valueTracker||(c._valueTracker=ot(c))}function He(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var b=d.getValue(),C="";return c&&(C=rt(c)?c.checked?"true":"false":c.value),c=C,c!==b?(d.setValue(c),!0):!1}function At(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function nn(c,d){var b=d.checked;return he({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??c._wrapperState.initialChecked})}function Jn(c,d){var b=d.defaultValue==null?"":d.defaultValue,C=d.checked!=null?d.checked:d.defaultChecked;b=Ge(d.value!=null?d.value:b),c._wrapperState={initialChecked:C,initialValue:b,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function yr(c,d){d=d.checked,d!=null&&I(c,"checked",d,!1)}function ir(c,d){yr(c,d);var b=Ge(d.value),C=d.type;if(b!=null)C==="number"?(b===0&&c.value===""||c.value!=b)&&(c.value=""+b):c.value!==""+b&&(c.value=""+b);else if(C==="submit"||C==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?ai(c,d.type,b):d.hasOwnProperty("defaultValue")&&ai(c,d.type,Ge(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function $i(c,d,b){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var C=d.type;if(!(C!=="submit"&&C!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,b||d===c.value||(c.value=d),c.defaultValue=d}b=c.name,b!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,b!==""&&(c.name=b)}function ai(c,d,b){(d!=="number"||At(c.ownerDocument)!==c)&&(b==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+b&&(c.defaultValue=""+b))}var hi=Array.isArray;function Ii(c,d,b,C){if(c=c.options,d){d={};for(var N=0;N<b.length;N++)d["$"+b[N]]=!0;for(b=0;b<c.length;b++)N=d.hasOwnProperty("$"+c[b].value),c[b].selected!==N&&(c[b].selected=N),N&&C&&(c[b].defaultSelected=!0)}else{for(b=""+Ge(b),d=null,N=0;N<c.length;N++){if(c[N].value===b){c[N].selected=!0,C&&(c[N].defaultSelected=!0);return}d!==null||c[N].disabled||(d=c[N])}d!==null&&(d.selected=!0)}}function Wi(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Pi(c,d){var b=d.value;if(b==null){if(b=d.children,d=d.defaultValue,b!=null){if(d!=null)throw Error(n(92));if(hi(b)){if(1<b.length)throw Error(n(93));b=b[0]}d=b}d==null&&(d=""),b=d}c._wrapperState={initialValue:Ge(b)}}function mi(c,d){var b=Ge(d.value),C=Ge(d.defaultValue);b!=null&&(b=""+b,b!==c.value&&(c.value=b),d.defaultValue==null&&c.defaultValue!==b&&(c.defaultValue=b)),C!=null&&(c.defaultValue=""+C)}function ki(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function Mi(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jr(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?Mi(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var la,Vo=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,b,C,N){MSApp.execUnsafeLocalFunction(function(){return c(d,b,C,N)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=la.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function Ba(c,d){if(d){var b=c.firstChild;if(b&&b===c.lastChild&&b.nodeType===3){b.nodeValue=d;return}}c.textContent=d}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vt=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(c){Vt.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ht[d]=ht[c]})});function fn(c,d,b){return d==null||typeof d=="boolean"||d===""?"":b||typeof d!="number"||d===0||ht.hasOwnProperty(c)&&ht[c]?(""+d).trim():d+"px"}function Fn(c,d){c=c.style;for(var b in d)if(d.hasOwnProperty(b)){var C=b.indexOf("--")===0,N=fn(b,d[b],C);b==="float"&&(b="cssFloat"),C?c.setProperty(b,N):c[b]=N}}var Un=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(c,d){if(d){if(Un[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function _r(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Ln(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ar=null,ar=null,Hn=null;function po(c){if(c=wm(c)){if(typeof Ar!="function")throw Error(n(280));var d=c.stateNode;d&&(d=Yt(d),Ar(c.stateNode,c.type,d))}}function ho(c){ar?Hn?Hn.push(c):Hn=[c]:ar=c}function ca(){if(ar){var c=ar,d=Hn;if(Hn=ar=null,po(c),d)for(c=0;c<d.length;c++)po(d[c])}}function Hu(c,d){return c(d)}function Wu(){}var mo=!1;function vs(c,d,b){if(mo)return c(d,b);mo=!0;try{return Hu(c,d,b)}finally{mo=!1,(ar!==null||Hn!==null)&&(Wu(),ca())}}function Ua(c,d){var b=c.stateNode;if(b===null)return null;var C=Yt(b);if(C===null)return null;b=C[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(c=c.type,C=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!C;break e;default:c=!1}if(c)return null;if(b&&typeof b!="function")throw Error(n(231,d,typeof b));return b}var Gi=!1;if(l)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Gi=!1}function Ni(c,d,b,C,N,$,G,ae,ce){var De=Array.prototype.slice.call(arguments,3);try{d.apply(b,De)}catch(Xe){this.onError(Xe)}}var Yr=!1,Ra=null,qn=!1,oe=null,Ke={onError:function(c){Yr=!0,Ra=c}};function wt(c,d,b,C,N,$,G,ae,ce){Yr=!1,Ra=null,Ni.apply(Ke,arguments)}function xt(c,d,b,C,N,$,G,ae,ce){if(wt.apply(this,arguments),Yr){if(Yr){var De=Ra;Yr=!1,Ra=null}else throw Error(n(198));qn||(qn=!0,oe=De)}}function dn(c){var d=c,b=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(b=d.return),c=d.return;while(c)}return d.tag===3?b:null}function _n(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function rn(c){if(dn(c)!==c)throw Error(n(188))}function Gt(c){var d=c.alternate;if(!d){if(d=dn(c),d===null)throw Error(n(188));return d!==c?null:c}for(var b=c,C=d;;){var N=b.return;if(N===null)break;var $=N.alternate;if($===null){if(C=N.return,C!==null){b=C;continue}break}if(N.child===$.child){for($=N.child;$;){if($===b)return rn(N),c;if($===C)return rn(N),d;$=$.sibling}throw Error(n(188))}if(b.return!==C.return)b=N,C=$;else{for(var G=!1,ae=N.child;ae;){if(ae===b){G=!0,b=N,C=$;break}if(ae===C){G=!0,C=N,b=$;break}ae=ae.sibling}if(!G){for(ae=$.child;ae;){if(ae===b){G=!0,b=$,C=N;break}if(ae===C){G=!0,C=$,b=N;break}ae=ae.sibling}if(!G)throw Error(n(189))}}if(b.alternate!==C)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?c:d}function zr(c){return c=Gt(c),c!==null?or(c):null}function or(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=or(c);if(d!==null)return d;c=c.sibling}return null}var fr=e.unstable_scheduleCallback,dr=e.unstable_cancelCallback,gi=e.unstable_shouldYield,fa=e.unstable_requestPaint,bn=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,Aa=e.unstable_ImmediatePriority,gn=e.unstable_UserBlockingPriority,vi=e.unstable_NormalPriority,ou=e.unstable_LowPriority,su=e.unstable_IdlePriority,Li=null,Fi=null;function Ff(c){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Li,c,void 0,(c.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:cp,Rl=Math.log,Vf=Math.LN2;function cp(c){return c>>>=0,c===0?32:31-(Rl(c)/Vf|0)|0}var Al=64,uu=4194304;function go(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function qi(c,d){var b=c.pendingLanes;if(b===0)return 0;var C=0,N=c.suspendedLanes,$=c.pingedLanes,G=b&268435455;if(G!==0){var ae=G&~N;ae!==0?C=go(ae):($&=G,$!==0&&(C=go($)))}else G=b&~N,G!==0?C=go(G):$!==0&&(C=go($));if(C===0)return 0;if(d!==0&&d!==C&&!(d&N)&&(N=C&-C,$=d&-d,N>=$||N===16&&($&4194240)!==0))return d;if(C&4&&(C|=b&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=C;0<d;)b=31-Ki(d),N=1<<b,C|=c[b],d&=~N;return C}function Zr(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(c,d){for(var b=c.suspendedLanes,C=c.pingedLanes,N=c.expirationTimes,$=c.pendingLanes;0<$;){var G=31-Ki($),ae=1<<G,ce=N[G];ce===-1?(!(ae&b)||ae&C)&&(N[G]=Zr(ae,d)):ce<=d&&(c.expiredLanes|=ae),$&=~ae}}function cu(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function fu(){var c=Al;return Al<<=1,!(Al&4194240)&&(Al=64),c}function Dl(c){for(var d=[],b=0;31>b;b++)d.push(c);return d}function ys(c,d,b){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Ki(d),c[d]=b}function um(c,d){var b=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var C=c.eventTimes;for(c=c.expirationTimes;0<b;){var N=31-Ki(b),$=1<<N;d[N]=0,C[N]=-1,c[N]=-1,b&=~$}}function bs(c,d){var b=c.entangledLanes|=d;for(c=c.entanglements;b;){var C=31-Ki(b),N=1<<C;N&d|c[C]&d&&(c[C]|=d),b&=~N}}var Vn=0;function Ol(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var ws,$l,kn,xs,$c,un=!1,Il=[],Dr=null,Yi=null,yi=null,Gu=new Map,Br=new Map,Yn=[],fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zi(c,d){switch(c){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Gu.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(d.pointerId)}}function bi(c,d,b,C,N,$){return c===null||c.nativeEvent!==$?(c={blockedOn:d,domEventName:b,eventSystemFlags:C,nativeEvent:$,targetContainers:[N]},d!==null&&(d=wm(d),d!==null&&$l(d)),c):(c.eventSystemFlags|=C,d=c.targetContainers,N!==null&&d.indexOf(N)===-1&&d.push(N),c)}function jo(c,d,b,C,N){switch(d){case"focusin":return Dr=bi(Dr,c,d,b,C,N),!0;case"dragenter":return Yi=bi(Yi,c,d,b,C,N),!0;case"mouseover":return yi=bi(yi,c,d,b,C,N),!0;case"pointerover":var $=N.pointerId;return Gu.set($,bi(Gu.get($)||null,c,d,b,C,N)),!0;case"gotpointercapture":return $=N.pointerId,Br.set($,bi(Br.get($)||null,c,d,b,C,N)),!0}return!1}function Ku(c){var d=_s(c.target);if(d!==null){var b=dn(d);if(b!==null){if(d=b.tag,d===13){if(d=_n(b),d!==null){c.blockedOn=d,$c(c.priority,function(){kn(b)});return}}else if(d===3&&b.stateNode.current.memoizedState.isDehydrated){c.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}c.blockedOn=null}function wi(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var b=Ic(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(b===null){b=c.nativeEvent;var C=new b.constructor(b.type,b);oi=C,b.target.dispatchEvent(C),oi=null}else return d=wm(b),d!==null&&$l(d),c.blockedOn=b,!1;d.shift()}return!0}function qu(c,d,b){wi(c)&&b.delete(d)}function dp(){un=!1,Dr!==null&&wi(Dr)&&(Dr=null),Yi!==null&&wi(Yi)&&(Yi=null),yi!==null&&wi(yi)&&(yi=null),Gu.forEach(qu),Br.forEach(qu)}function Wa(c,d){c.blockedOn===d&&(c.blockedOn=null,un||(un=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dp)))}function du(c){function d(N){return Wa(N,c)}if(0<Il.length){Wa(Il[0],c);for(var b=1;b<Il.length;b++){var C=Il[b];C.blockedOn===c&&(C.blockedOn=null)}}for(Dr!==null&&Wa(Dr,c),Yi!==null&&Wa(Yi,c),yi!==null&&Wa(yi,c),Gu.forEach(d),Br.forEach(d),b=0;b<Yn.length;b++)C=Yn[b],C.blockedOn===c&&(C.blockedOn=null);for(;0<Yn.length&&(b=Yn[0],b.blockedOn===null);)Ku(b),b.blockedOn===null&&Yn.shift()}var zo=P.ReactCurrentBatchConfig,Da=!0;function Bo(c,d,b,C){var N=Vn,$=zo.transition;zo.transition=null;try{Vn=1,Ss(c,d,b,C)}finally{Vn=N,zo.transition=$}}function pu(c,d,b,C){var N=Vn,$=zo.transition;zo.transition=null;try{Vn=4,Ss(c,d,b,C)}finally{Vn=N,zo.transition=$}}function Ss(c,d,b,C){if(Da){var N=Ic(c,d,b,C);if(N===null)O0(c,d,C,Pl,b),Zi(c,C);else if(jo(N,c,d,b,C))C.stopPropagation();else if(Zi(c,C),d&4&&-1<fp.indexOf(c)){for(;N!==null;){var $=wm(N);if($!==null&&ws($),$=Ic(c,d,b,C),$===null&&O0(c,d,C,Pl,b),$===N)break;N=$}N!==null&&C.stopPropagation()}else O0(c,d,C,null,b)}}var Pl=null;function Ic(c,d,b,C){if(Pl=null,c=Ln(C),c=_s(c),c!==null)if(d=dn(c),d===null)c=null;else if(b=d.tag,b===13){if(c=_n(d),c!==null)return c;c=null}else if(b===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return Pl=c,null}function hu(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case Aa:return 1;case gn:return 4;case vi:case ou:return 16;case su:return 536870912;default:return 16}default:return 16}}var vo=null,U=null,se=null;function ke(){if(se)return se;var c,d=U,b=d.length,C,N="value"in vo?vo.value:vo.textContent,$=N.length;for(c=0;c<b&&d[c]===N[c];c++);var G=b-c;for(C=1;C<=G&&d[b-C]===N[$-C];C++);return se=N.slice(c,1<C?1-C:void 0)}function Ie(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function it(){return!0}function Zt(){return!1}function mt(c){function d(b,C,N,$,G){this._reactName=b,this._targetInst=N,this.type=C,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var ae in c)c.hasOwnProperty(ae)&&(b=c[ae],this[ae]=b?b($):$[ae]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?it:Zt,this.isPropagationStopped=Zt,this}return he(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=it)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=it)},persist:function(){},isPersistent:it}),d}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sn=mt(qt),Rn=he({},qt,{view:0,detail:0}),sr=mt(Rn),er,pr,br,An=he({},Rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==br&&(br&&c.type==="mousemove"?(er=c.screenX-br.screenX,pr=c.screenY-br.screenY):pr=er=0,br=c),er)},movementY:function(c){return"movementY"in c?c.movementY:pr}}),Cs=mt(An),Pc=he({},An,{dataTransfer:0}),jf=mt(Pc),zf=he({},Rn,{relatedTarget:0}),Uo=mt(zf),Bf=he({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=mt(Bf),Mc=he({},qt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),q1=mt(Mc),Y1=he({},qt,{data:0}),lm=mt(Y1),pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=E[c])?!!d[c]:!1}function V(){return D}var H=he({},Rn,{key:function(c){if(c.key){var d=pp[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Ie(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?cm[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V,charCode:function(c){return c.type==="keypress"?Ie(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ie(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),ee=mt(H),ie=he({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),re=mt(ie),pe=he({},Rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V}),Ae=mt(pe),Ze=he({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=mt(Ze),Lt=he({},An,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=mt(Lt),st=[9,13,27,32],jt=l&&"CompositionEvent"in window,pn=null;l&&"documentMode"in document&&(pn=document.documentMode);var ur=l&&"TextEvent"in window&&!pn,hr=l&&(!jt||pn&&8<pn&&11>=pn),Ur=" ",Ga=!1;function da(c,d){switch(c){case"keyup":return st.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Hr=!1;function Yu(c,d){switch(c){case"compositionend":return Dn(d);case"keypress":return d.which!==32?null:(Ga=!0,Ur);case"textInput":return c=d.data,c===Ur&&Ga?null:c;default:return null}}function Z1(c,d){if(Hr)return c==="compositionend"||!jt&&da(c,d)?(c=ke(),se=U=vo=null,Hr=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return hr&&d.locale!=="ko"?null:d.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!_0[c.type]:d==="textarea"}function k0(c,d,b,C){ho(C),d=vm(d,"onChange"),0<d.length&&(b=new Sn("onChange","change",null,b,C),c.push({event:b,listeners:d}))}var Hf=null,mu=null;function hp(c){D0(c,0)}function mp(c){var d=vp(c);if(He(d))return c}function HS(c,d){if(c==="change")return d}var X1=!1;if(l){var Q1;if(l){var J1="oninput"in document;if(!J1){var WS=document.createElement("div");WS.setAttribute("oninput","return;"),J1=typeof WS.oninput=="function"}Q1=J1}else Q1=!1;X1=Q1&&(!document.documentMode||9<document.documentMode)}function GS(){Hf&&(Hf.detachEvent("onpropertychange",KS),mu=Hf=null)}function KS(c){if(c.propertyName==="value"&&mp(mu)){var d=[];k0(d,mu,c,Ln(c)),vs(hp,d)}}function e6(c,d,b){c==="focusin"?(GS(),Hf=d,mu=b,Hf.attachEvent("onpropertychange",KS)):c==="focusout"&&GS()}function t6(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return mp(mu)}function n6(c,d){if(c==="click")return mp(d)}function qS(c,d){if(c==="input"||c==="change")return mp(d)}function r6(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Es=typeof Object.is=="function"?Object.is:r6;function fm(c,d){if(Es(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var b=Object.keys(c),C=Object.keys(d);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var N=b[C];if(!f.call(d,N)||!Es(c[N],d[N]))return!1}return!0}function YS(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ZS(c,d){var b=YS(c);c=0;for(var C;b;){if(b.nodeType===3){if(C=c+b.textContent.length,c<=d&&C>=d)return{node:b,offset:d-c};c=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=YS(b)}}function XS(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?XS(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function N0(){for(var c=window,d=At();d instanceof c.HTMLIFrameElement;){try{var b=typeof d.contentWindow.location.href=="string"}catch{b=!1}if(b)c=d.contentWindow;else break;d=At(c.document)}return d}function Ml(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function R0(c){var d=N0(),b=c.focusedElem,C=c.selectionRange;if(d!==b&&b&&b.ownerDocument&&XS(b.ownerDocument.documentElement,b)){if(C!==null&&Ml(b)){if(d=C.start,c=C.end,c===void 0&&(c=d),"selectionStart"in b)b.selectionStart=d,b.selectionEnd=Math.min(c,b.value.length);else if(c=(d=b.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var N=b.textContent.length,$=Math.min(C.start,N);C=C.end===void 0?$:Math.min(C.end,N),!c.extend&&$>C&&(N=C,C=$,$=N),N=ZS(b,$);var G=ZS(b,C);N&&G&&(c.rangeCount!==1||c.anchorNode!==N.node||c.anchorOffset!==N.offset||c.focusNode!==G.node||c.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(N.node,N.offset),c.removeAllRanges(),$>C?(c.addRange(d),c.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),c.addRange(d)))}}for(d=[],c=b;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<d.length;b++)c=d[b],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var QS=l&&"documentMode"in document&&11>=document.documentMode,gu=null,eb=null,dm=null,tb=!1;function JS(c,d,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;tb||gu==null||gu!==At(C)||(C=gu,"selectionStart"in C&&Ml(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),dm&&fm(dm,C)||(dm=C,C=vm(eb,"onSelect"),0<C.length&&(d=new Sn("onSelect","select",null,d,b),c.push({event:d,listeners:C}),d.target=gu)))}function A0(c,d){var b={};return b[c.toLowerCase()]=d.toLowerCase(),b["Webkit"+c]="webkit"+d,b["Moz"+c]="moz"+d,b}var Wf={animationend:A0("Animation","AnimationEnd"),animationiteration:A0("Animation","AnimationIteration"),animationstart:A0("Animation","AnimationStart"),transitionend:A0("Transition","TransitionEnd")},nb={},rb={};l&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete Wf.animationend.animation,delete Wf.animationiteration.animation,delete Wf.animationstart.animation),"TransitionEvent"in window||delete Wf.transitionend.transition);function Xi(c){if(nb[c])return nb[c];if(!Wf[c])return c;var d=Wf[c],b;for(b in d)if(d.hasOwnProperty(b)&&b in rb)return nb[c]=d[b];return c}var ib=Xi("animationend"),eC=Xi("animationiteration"),tC=Xi("animationstart"),nC=Xi("transitionend"),rC=new Map,iC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(c,d){rC.set(c,d),o(d,[c])}for(var pm=0;pm<iC.length;pm++){var Gf=iC[pm],i6=Gf.toLowerCase(),hm=Gf[0].toUpperCase()+Gf.slice(1);Ll(i6,"on"+hm)}Ll(ib,"onAnimationEnd"),Ll(eC,"onAnimationIteration"),Ll(tC,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(nC,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a6=new Set("cancel close invalid load scroll toggle".split(" ").concat(mm));function aC(c,d,b){var C=c.type||"unknown-event";c.currentTarget=b,xt(C,d,void 0,c),c.currentTarget=null}function D0(c,d){d=(d&4)!==0;for(var b=0;b<c.length;b++){var C=c[b],N=C.event;C=C.listeners;e:{var $=void 0;if(d)for(var G=C.length-1;0<=G;G--){var ae=C[G],ce=ae.instance,De=ae.currentTarget;if(ae=ae.listener,ce!==$&&N.isPropagationStopped())break e;aC(N,ae,De),$=ce}else for(G=0;G<C.length;G++){if(ae=C[G],ce=ae.instance,De=ae.currentTarget,ae=ae.listener,ce!==$&&N.isPropagationStopped())break e;aC(N,ae,De),$=ce}}}if(qn)throw c=oe,qn=!1,oe=null,c}function Cr(c,d){var b=d[fb];b===void 0&&(b=d[fb]=new Set);var C=c+"__bubble";b.has(C)||(oC(d,c,2,!1),b.add(C))}function Lc(c,d,b){var C=0;d&&(C|=4),oC(b,c,C,d)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function gp(c){if(!c[Fl]){c[Fl]=!0,r.forEach(function(b){b!=="selectionchange"&&(a6.has(b)||Lc(b,!1,c),Lc(b,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Fl]||(d[Fl]=!0,Lc("selectionchange",!1,d))}}function oC(c,d,b,C){switch(hu(d)){case 1:var N=Bo;break;case 4:N=pu;break;default:N=Ss}b=N.bind(null,d,b,c),N=void 0,!Gi||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(N=!0),C?N!==void 0?c.addEventListener(d,b,{capture:!0,passive:N}):c.addEventListener(d,b,!0):N!==void 0?c.addEventListener(d,b,{passive:N}):c.addEventListener(d,b,!1)}function O0(c,d,b,C,N){var $=C;if(!(d&1)&&!(d&2)&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var ae=C.stateNode.containerInfo;if(ae===N||ae.nodeType===8&&ae.parentNode===N)break;if(G===4)for(G=C.return;G!==null;){var ce=G.tag;if((ce===3||ce===4)&&(ce=G.stateNode.containerInfo,ce===N||ce.nodeType===8&&ce.parentNode===N))return;G=G.return}for(;ae!==null;){if(G=_s(ae),G===null)return;if(ce=G.tag,ce===5||ce===6){C=$=G;continue e}ae=ae.parentNode}}C=C.return}vs(function(){var De=$,Xe=Ln(b),tt=[];e:{var Ye=rC.get(c);if(Ye!==void 0){var _t=Sn,It=c;switch(c){case"keypress":if(Ie(b)===0)break e;case"keydown":case"keyup":_t=ee;break;case"focusin":It="focus",_t=Uo;break;case"focusout":It="blur",_t=Uo;break;case"beforeblur":case"afterblur":_t=Uo;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=Cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Ae;break;case ib:case eC:case tC:_t=Uf;break;case nC:_t=dt;break;case"scroll":_t=sr;break;case"wheel":_t=Dt;break;case"copy":case"cut":case"paste":_t=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=re}var Ft=(d&4)!==0,Ci=!Ft&&c==="scroll",Se=Ft?Ye!==null?Ye+"Capture":null:Ye;Ft=[];for(var ge=De,_e;ge!==null;){_e=ge;var ut=_e.stateNode;if(_e.tag===5&&ut!==null&&(_e=ut,Se!==null&&(ut=Ua(ge,Se),ut!=null&&Ft.push(gm(ge,ut,_e)))),Ci)break;ge=ge.return}0<Ft.length&&(Ye=new _t(Ye,It,null,b,Xe),tt.push({event:Ye,listeners:Ft}))}}if(!(d&7)){e:{if(Ye=c==="mouseover"||c==="pointerover",_t=c==="mouseout"||c==="pointerout",Ye&&b!==oi&&(It=b.relatedTarget||b.fromElement)&&(_s(It)||It[Vl]))break e;if((_t||Ye)&&(Ye=Xe.window===Xe?Xe:(Ye=Xe.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,_t?(It=b.relatedTarget||b.toElement,_t=De,It=It?_s(It):null,It!==null&&(Ci=dn(It),It!==Ci||It.tag!==5&&It.tag!==6)&&(It=null)):(_t=null,It=De),_t!==It)){if(Ft=Cs,ut="onMouseLeave",Se="onMouseEnter",ge="mouse",(c==="pointerout"||c==="pointerover")&&(Ft=re,ut="onPointerLeave",Se="onPointerEnter",ge="pointer"),Ci=_t==null?Ye:vp(_t),_e=It==null?Ye:vp(It),Ye=new Ft(ut,ge+"leave",_t,b,Xe),Ye.target=Ci,Ye.relatedTarget=_e,ut=null,_s(Xe)===De&&(Ft=new Ft(Se,ge+"enter",It,b,Xe),Ft.target=_e,Ft.relatedTarget=Ci,ut=Ft),Ci=ut,_t&&It)t:{for(Ft=_t,Se=It,ge=0,_e=Ft;_e;_e=Kf(_e))ge++;for(_e=0,ut=Se;ut;ut=Kf(ut))_e++;for(;0<ge-_e;)Ft=Kf(Ft),ge--;for(;0<_e-ge;)Se=Kf(Se),_e--;for(;ge--;){if(Ft===Se||Se!==null&&Ft===Se.alternate)break t;Ft=Kf(Ft),Se=Kf(Se)}Ft=null}else Ft=null;_t!==null&&ab(tt,Ye,_t,Ft,!1),It!==null&&Ci!==null&&ab(tt,Ci,It,Ft,!0)}}e:{if(Ye=De?vp(De):window,_t=Ye.nodeName&&Ye.nodeName.toLowerCase(),_t==="select"||_t==="input"&&Ye.type==="file")var Bt=HS;else if(T0(Ye))if(X1)Bt=qS;else{Bt=t6;var Qt=e6}else(_t=Ye.nodeName)&&_t.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Bt=n6);if(Bt&&(Bt=Bt(c,De))){k0(tt,Bt,b,Xe);break e}Qt&&Qt(c,Ye,De),c==="focusout"&&(Qt=Ye._wrapperState)&&Qt.controlled&&Ye.type==="number"&&ai(Ye,"number",Ye.value)}switch(Qt=De?vp(De):window,c){case"focusin":(T0(Qt)||Qt.contentEditable==="true")&&(gu=Qt,eb=De,dm=null);break;case"focusout":dm=eb=gu=null;break;case"mousedown":tb=!0;break;case"contextmenu":case"mouseup":case"dragend":tb=!1,JS(tt,b,Xe);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":JS(tt,b,Xe)}var Jt;if(jt)e:{switch(c){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Hr?da(c,b)&&(Ht="onCompositionEnd"):c==="keydown"&&b.keyCode===229&&(Ht="onCompositionStart");Ht&&(hr&&b.locale!=="ko"&&(Hr||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Hr&&(Jt=ke()):(vo=Xe,U="value"in vo?vo.value:vo.textContent,Hr=!0)),Qt=vm(De,Ht),0<Qt.length&&(Ht=new lm(Ht,c,null,b,Xe),tt.push({event:Ht,listeners:Qt}),Jt?Ht.data=Jt:(Jt=Dn(b),Jt!==null&&(Ht.data=Jt)))),(Jt=ur?Yu(c,b):Z1(c,b))&&(De=vm(De,"onBeforeInput"),0<De.length&&(Xe=new lm("onBeforeInput","beforeinput",null,b,Xe),tt.push({event:Xe,listeners:De}),Xe.data=Jt))}D0(tt,d)})}function gm(c,d,b){return{instance:c,listener:d,currentTarget:b}}function vm(c,d){for(var b=d+"Capture",C=[];c!==null;){var N=c,$=N.stateNode;N.tag===5&&$!==null&&(N=$,$=Ua(c,b),$!=null&&C.unshift(gm(c,$,N)),$=Ua(c,d),$!=null&&C.push(gm(c,$,N))),c=c.return}return C}function Kf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function ab(c,d,b,C,N){for(var $=d._reactName,G=[];b!==null&&b!==C;){var ae=b,ce=ae.alternate,De=ae.stateNode;if(ce!==null&&ce===C)break;ae.tag===5&&De!==null&&(ae=De,N?(ce=Ua(b,$),ce!=null&&G.unshift(gm(b,ce,ae))):N||(ce=Ua(b,$),ce!=null&&G.push(gm(b,ce,ae)))),b=b.return}G.length!==0&&c.push({event:d,listeners:G})}var ob=/\r\n?/g,o6=/\u0000|\uFFFD/g;function sb(c){return(typeof c=="string"?c:""+c).replace(ob,`
`).replace(o6,"")}function $0(c,d,b){if(d=sb(d),sb(c)!==d&&b)throw Error(n(425))}function I0(){}var ub=null,qf=null;function ym(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(c){return lb.resolve(null).then(c).catch(s6)}:Yf;function s6(c){setTimeout(function(){throw c})}function Fc(c,d){var b=d,C=0;do{var N=b.nextSibling;if(c.removeChild(b),N&&N.nodeType===8)if(b=N.data,b==="/$"){if(C===0){c.removeChild(N),du(d);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=N}while(b);du(d)}function vu(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function bm(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var b=c.data;if(b==="$"||b==="$!"||b==="$?"){if(d===0)return c;d--}else b==="/$"&&d++}c=c.previousSibling}return null}var Vc=Math.random().toString(36).slice(2),Zu="__reactFiber$"+Vc,Zf="__reactProps$"+Vc,Vl="__reactContainer$"+Vc,fb="__reactEvents$"+Vc,u6="__reactListeners$"+Vc,db="__reactHandles$"+Vc;function _s(c){var d=c[Zu];if(d)return d;for(var b=c.parentNode;b;){if(d=b[Vl]||b[Zu]){if(b=d.alternate,d.child!==null||b!==null&&b.child!==null)for(c=bm(c);c!==null;){if(b=c[Zu])return b;c=bm(c)}return d}c=b,b=c.parentNode}return null}function wm(c){return c=c[Zu]||c[Vl],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function vp(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function Yt(c){return c[Zf]||null}var jc=[],Or=-1;function wn(c){return{current:c}}function tr(c){0>Or||(c.current=jc[Or],jc[Or]=null,Or--)}function lr(c,d){Or++,jc[Or]=c.current,c.current=d}var Xu={},ln=wn(Xu),si=wn(!1),yo=Xu;function Ts(c,d){var b=c.type.contextTypes;if(!b)return Xu;var C=c.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===d)return C.__reactInternalMemoizedMaskedChildContext;var N={},$;for($ in b)N[$]=d[$];return C&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=N),N}function Wr(c){return c=c.childContextTypes,c!=null}function ks(){tr(si),tr(ln)}function zc(c,d,b){if(ln.current!==Xu)throw Error(n(168));lr(ln,d),lr(si,b)}function xm(c,d,b){var C=c.stateNode;if(d=d.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var N in C)if(!(N in d))throw Error(n(108,Me(c)||"Unknown",N));return he({},b,C)}function P0(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Xu,yo=ln.current,lr(ln,c),lr(si,si.current),!0}function uC(c,d,b){var C=c.stateNode;if(!C)throw Error(n(169));b?(c=xm(c,d,yo),C.__reactInternalMemoizedMergedChildContext=c,tr(si),tr(ln),lr(ln,c)):tr(si),lr(si,b)}var Ho=null,Qi=!1,Sm=!1;function pb(c){Ho===null?Ho=[c]:Ho.push(c)}function hb(c){Qi=!0,pb(c)}function bo(){if(!Sm&&Ho!==null){Sm=!0;var c=0,d=Vn;try{var b=Ho;for(Vn=1;c<b.length;c++){var C=b[c];do C=C(!0);while(C!==null)}Ho=null,Qi=!1}catch(N){throw Ho!==null&&(Ho=Ho.slice(c+1)),fr(Aa,bo),N}finally{Vn=d,Sm=!1}}return null}var Bc=[],wo=0,Xf=null,yp=0,xo=[],Oa=0,Ns=null,pa=1,jl="";function Wo(c,d){Bc[wo++]=yp,Bc[wo++]=Xf,Xf=c,yp=d}function mb(c,d,b){xo[Oa++]=pa,xo[Oa++]=jl,xo[Oa++]=Ns,Ns=c;var C=pa;c=jl;var N=32-Ki(C)-1;C&=~(1<<N),b+=1;var $=32-Ki(d)+N;if(30<$){var G=N-N%5;$=(C&(1<<G)-1).toString(32),C>>=G,N-=G,pa=1<<32-Ki(d)+N|b<<N|C,jl=$+c}else pa=1<<$|b<<N|C,jl=c}function M0(c){c.return!==null&&(Wo(c,1),mb(c,1,0))}function gb(c){for(;c===Xf;)Xf=Bc[--wo],Bc[wo]=null,yp=Bc[--wo],Bc[wo]=null;for(;c===Ns;)Ns=xo[--Oa],xo[Oa]=null,jl=xo[--Oa],xo[Oa]=null,pa=xo[--Oa],xo[Oa]=null}var Go=null,So=null,$r=!1,Rs=null;function vb(c,d){var b=Ls(5,null,null,0);b.elementType="DELETED",b.stateNode=d,b.return=c,d=c.deletions,d===null?(c.deletions=[b],c.flags|=16):d.push(b)}function lC(c,d){switch(c.tag){case 5:var b=c.type;return d=d.nodeType!==1||b.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Go=c,So=vu(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Go=c,So=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(b=Ns!==null?{id:pa,overflow:jl}:null,c.memoizedState={dehydrated:d,treeContext:b,retryLane:1073741824},b=Ls(18,null,null,0),b.stateNode=d,b.return=c,c.child=b,Go=c,So=null,!0):!1;default:return!1}}function L0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function F0(c){if($r){var d=So;if(d){var b=d;if(!lC(c,d)){if(L0(c))throw Error(n(418));d=vu(b.nextSibling);var C=Go;d&&lC(c,d)?vb(C,b):(c.flags=c.flags&-4097|2,$r=!1,Go=c)}}else{if(L0(c))throw Error(n(418));c.flags=c.flags&-4097|2,$r=!1,Go=c}}}function cC(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Go=c}function V0(c){if(c!==Go)return!1;if(!$r)return cC(c),$r=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!ym(c.type,c.memoizedProps)),d&&(d=So)){if(L0(c))throw fC(),Error(n(418));for(;d;)vb(c,d),d=vu(d.nextSibling)}if(cC(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var b=c.data;if(b==="/$"){if(d===0){So=vu(c.nextSibling);break e}d--}else b!=="$"&&b!=="$!"&&b!=="$?"||d++}c=c.nextSibling}So=null}}else So=Go?vu(c.stateNode.nextSibling):null;return!0}function fC(){for(var c=So;c;)c=vu(c.nextSibling)}function Xr(){So=Go=null,$r=!1}function yb(c){Rs===null?Rs=[c]:Rs.push(c)}var j0=P.ReactCurrentBatchConfig;function Qf(c,d,b){if(c=b.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var C=b.stateNode}if(!C)throw Error(n(147,c));var N=C,$=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===$?d.ref:(d=function(G){var ae=N.refs;G===null?delete ae[$]:ae[$]=G},d._stringRef=$,d)}if(typeof c!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,c))}return c}function Qu(c,d){throw c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function dC(c){var d=c._init;return d(c._payload)}function z0(c){function d(Se,ge){if(c){var _e=Se.deletions;_e===null?(Se.deletions=[ge],Se.flags|=16):_e.push(ge)}}function b(Se,ge){if(!c)return null;for(;ge!==null;)d(Se,ge),ge=ge.sibling;return null}function C(Se,ge){for(Se=new Map;ge!==null;)ge.key!==null?Se.set(ge.key,ge):Se.set(ge.index,ge),ge=ge.sibling;return Se}function N(Se,ge){return Se=Zc(Se,ge),Se.index=0,Se.sibling=null,Se}function $(Se,ge,_e){return Se.index=_e,c?(_e=Se.alternate,_e!==null?(_e=_e.index,_e<ge?(Se.flags|=2,ge):_e):(Se.flags|=2,ge)):(Se.flags|=1048576,ge)}function G(Se){return c&&Se.alternate===null&&(Se.flags|=2),Se}function ae(Se,ge,_e,ut){return ge===null||ge.tag!==6?(ge=Nv(_e,Se.mode,ut),ge.return=Se,ge):(ge=N(ge,_e),ge.return=Se,ge)}function ce(Se,ge,_e,ut){var Bt=_e.type;return Bt===Y?Xe(Se,ge,_e.props.children,ut,_e.key):ge!==null&&(ge.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===$e&&dC(Bt)===ge.type)?(ut=N(ge,_e.props),ut.ref=Qf(Se,ge,_e),ut.return=Se,ut):(ut=Tv(_e.type,_e.key,_e.props,null,Se.mode,ut),ut.ref=Qf(Se,ge,_e),ut.return=Se,ut)}function De(Se,ge,_e,ut){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==_e.containerInfo||ge.stateNode.implementation!==_e.implementation?(ge=jm(_e,Se.mode,ut),ge.return=Se,ge):(ge=N(ge,_e.children||[]),ge.return=Se,ge)}function Xe(Se,ge,_e,ut,Bt){return ge===null||ge.tag!==7?(ge=pd(_e,Se.mode,ut,Bt),ge.return=Se,ge):(ge=N(ge,_e),ge.return=Se,ge)}function tt(Se,ge,_e){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Nv(""+ge,Se.mode,_e),ge.return=Se,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case F:return _e=Tv(ge.type,ge.key,ge.props,null,Se.mode,_e),_e.ref=Qf(Se,null,ge),_e.return=Se,_e;case K:return ge=jm(ge,Se.mode,_e),ge.return=Se,ge;case $e:var ut=ge._init;return tt(Se,ut(ge._payload),_e)}if(hi(ge)||Ve(ge))return ge=pd(ge,Se.mode,_e,null),ge.return=Se,ge;Qu(Se,ge)}return null}function Ye(Se,ge,_e,ut){var Bt=ge!==null?ge.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Bt!==null?null:ae(Se,ge,""+_e,ut);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case F:return _e.key===Bt?ce(Se,ge,_e,ut):null;case K:return _e.key===Bt?De(Se,ge,_e,ut):null;case $e:return Bt=_e._init,Ye(Se,ge,Bt(_e._payload),ut)}if(hi(_e)||Ve(_e))return Bt!==null?null:Xe(Se,ge,_e,ut,null);Qu(Se,_e)}return null}function _t(Se,ge,_e,ut,Bt){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return Se=Se.get(_e)||null,ae(ge,Se,""+ut,Bt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case F:return Se=Se.get(ut.key===null?_e:ut.key)||null,ce(ge,Se,ut,Bt);case K:return Se=Se.get(ut.key===null?_e:ut.key)||null,De(ge,Se,ut,Bt);case $e:var Qt=ut._init;return _t(Se,ge,_e,Qt(ut._payload),Bt)}if(hi(ut)||Ve(ut))return Se=Se.get(_e)||null,Xe(ge,Se,ut,Bt,null);Qu(ge,ut)}return null}function It(Se,ge,_e,ut){for(var Bt=null,Qt=null,Jt=ge,Ht=ge=0,fi=null;Jt!==null&&Ht<_e.length;Ht++){Jt.index>Ht?(fi=Jt,Jt=null):fi=Jt.sibling;var Wn=Ye(Se,Jt,_e[Ht],ut);if(Wn===null){Jt===null&&(Jt=fi);break}c&&Jt&&Wn.alternate===null&&d(Se,Jt),ge=$(Wn,ge,Ht),Qt===null?Bt=Wn:Qt.sibling=Wn,Qt=Wn,Jt=fi}if(Ht===_e.length)return b(Se,Jt),$r&&Wo(Se,Ht),Bt;if(Jt===null){for(;Ht<_e.length;Ht++)Jt=tt(Se,_e[Ht],ut),Jt!==null&&(ge=$(Jt,ge,Ht),Qt===null?Bt=Jt:Qt.sibling=Jt,Qt=Jt);return $r&&Wo(Se,Ht),Bt}for(Jt=C(Se,Jt);Ht<_e.length;Ht++)fi=_t(Jt,Se,Ht,_e[Ht],ut),fi!==null&&(c&&fi.alternate!==null&&Jt.delete(fi.key===null?Ht:fi.key),ge=$(fi,ge,Ht),Qt===null?Bt=fi:Qt.sibling=fi,Qt=fi);return c&&Jt.forEach(function(Xc){return d(Se,Xc)}),$r&&Wo(Se,Ht),Bt}function Ft(Se,ge,_e,ut){var Bt=Ve(_e);if(typeof Bt!="function")throw Error(n(150));if(_e=Bt.call(_e),_e==null)throw Error(n(151));for(var Qt=Bt=null,Jt=ge,Ht=ge=0,fi=null,Wn=_e.next();Jt!==null&&!Wn.done;Ht++,Wn=_e.next()){Jt.index>Ht?(fi=Jt,Jt=null):fi=Jt.sibling;var Xc=Ye(Se,Jt,Wn.value,ut);if(Xc===null){Jt===null&&(Jt=fi);break}c&&Jt&&Xc.alternate===null&&d(Se,Jt),ge=$(Xc,ge,Ht),Qt===null?Bt=Xc:Qt.sibling=Xc,Qt=Xc,Jt=fi}if(Wn.done)return b(Se,Jt),$r&&Wo(Se,Ht),Bt;if(Jt===null){for(;!Wn.done;Ht++,Wn=_e.next())Wn=tt(Se,Wn.value,ut),Wn!==null&&(ge=$(Wn,ge,Ht),Qt===null?Bt=Wn:Qt.sibling=Wn,Qt=Wn);return $r&&Wo(Se,Ht),Bt}for(Jt=C(Se,Jt);!Wn.done;Ht++,Wn=_e.next())Wn=_t(Jt,Se,Ht,Wn.value,ut),Wn!==null&&(c&&Wn.alternate!==null&&Jt.delete(Wn.key===null?Ht:Wn.key),ge=$(Wn,ge,Ht),Qt===null?Bt=Wn:Qt.sibling=Wn,Qt=Wn);return c&&Jt.forEach(function(KC){return d(Se,KC)}),$r&&Wo(Se,Ht),Bt}function Ci(Se,ge,_e,ut){if(typeof _e=="object"&&_e!==null&&_e.type===Y&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case F:e:{for(var Bt=_e.key,Qt=ge;Qt!==null;){if(Qt.key===Bt){if(Bt=_e.type,Bt===Y){if(Qt.tag===7){b(Se,Qt.sibling),ge=N(Qt,_e.props.children),ge.return=Se,Se=ge;break e}}else if(Qt.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===$e&&dC(Bt)===Qt.type){b(Se,Qt.sibling),ge=N(Qt,_e.props),ge.ref=Qf(Se,Qt,_e),ge.return=Se,Se=ge;break e}b(Se,Qt);break}else d(Se,Qt);Qt=Qt.sibling}_e.type===Y?(ge=pd(_e.props.children,Se.mode,ut,_e.key),ge.return=Se,Se=ge):(ut=Tv(_e.type,_e.key,_e.props,null,Se.mode,ut),ut.ref=Qf(Se,ge,_e),ut.return=Se,Se=ut)}return G(Se);case K:e:{for(Qt=_e.key;ge!==null;){if(ge.key===Qt)if(ge.tag===4&&ge.stateNode.containerInfo===_e.containerInfo&&ge.stateNode.implementation===_e.implementation){b(Se,ge.sibling),ge=N(ge,_e.children||[]),ge.return=Se,Se=ge;break e}else{b(Se,ge);break}else d(Se,ge);ge=ge.sibling}ge=jm(_e,Se.mode,ut),ge.return=Se,Se=ge}return G(Se);case $e:return Qt=_e._init,Ci(Se,ge,Qt(_e._payload),ut)}if(hi(_e))return It(Se,ge,_e,ut);if(Ve(_e))return Ft(Se,ge,_e,ut);Qu(Se,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ge!==null&&ge.tag===6?(b(Se,ge.sibling),ge=N(ge,_e),ge.return=Se,Se=ge):(b(Se,ge),ge=Nv(_e,Se.mode,ut),ge.return=Se,Se=ge),G(Se)):b(Se,ge)}return Ci}var bp=z0(!0),pC=z0(!1),zl=wn(null),Vi=null,yt=null,As=null;function Ko(){As=yt=Vi=null}function bb(c){var d=zl.current;tr(zl),c._currentValue=d}function wb(c,d,b){for(;c!==null;){var C=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),c===b)break;c=c.return}}function wp(c,d){Vi=c,As=yt=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&d&&(_o=!0),c.firstContext=null)}function Ds(c){var d=c._currentValue;if(As!==c)if(c={context:c,memoizedValue:d,next:null},yt===null){if(Vi===null)throw Error(n(308));yt=c,Vi.dependencies={lanes:0,firstContext:c}}else yt=yt.next=c;return d}var Jf=null;function Ri(c){Jf===null?Jf=[c]:Jf.push(c)}function hC(c,d,b,C){var N=d.interleaved;return N===null?(b.next=b,Ri(d)):(b.next=N.next,N.next=b),d.interleaved=b,Bl(c,C)}function Bl(c,d){c.lanes|=d;var b=c.alternate;for(b!==null&&(b.lanes|=d),b=c,c=c.return;c!==null;)c.childLanes|=d,b=c.alternate,b!==null&&(b.childLanes|=d),b=c,c=c.return;return b.tag===3?b.stateNode:null}var Uc=!1;function B0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Co(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Hc(c,d,b){var C=c.updateQueue;if(C===null)return null;if(C=C.shared,On&2){var N=C.pending;return N===null?d.next=d:(d.next=N.next,N.next=d),C.pending=d,Bl(c,b)}return N=C.interleaved,N===null?(d.next=d,Ri(C)):(d.next=N.next,N.next=d),C.interleaved=d,Bl(c,b)}function U0(c,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194240)!==0)){var C=d.lanes;C&=c.pendingLanes,b|=C,d.lanes=b,bs(c,b)}}function mC(c,d){var b=c.updateQueue,C=c.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var N=null,$=null;if(b=b.firstBaseUpdate,b!==null){do{var G={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};$===null?N=$=G:$=$.next=G,b=b.next}while(b!==null);$===null?N=$=d:$=$.next=d}else N=$=d;b={baseState:C.baseState,firstBaseUpdate:N,lastBaseUpdate:$,shared:C.shared,effects:C.effects},c.updateQueue=b;return}c=b.lastBaseUpdate,c===null?b.firstBaseUpdate=d:c.next=d,b.lastBaseUpdate=d}function H0(c,d,b,C){var N=c.updateQueue;Uc=!1;var $=N.firstBaseUpdate,G=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var ce=ae,De=ce.next;ce.next=null,G===null?$=De:G.next=De,G=ce;var Xe=c.alternate;Xe!==null&&(Xe=Xe.updateQueue,ae=Xe.lastBaseUpdate,ae!==G&&(ae===null?Xe.firstBaseUpdate=De:ae.next=De,Xe.lastBaseUpdate=ce))}if($!==null){var tt=N.baseState;G=0,Xe=De=ce=null,ae=$;do{var Ye=ae.lane,_t=ae.eventTime;if((C&Ye)===Ye){Xe!==null&&(Xe=Xe.next={eventTime:_t,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var It=c,Ft=ae;switch(Ye=d,_t=b,Ft.tag){case 1:if(It=Ft.payload,typeof It=="function"){tt=It.call(_t,tt,Ye);break e}tt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ft.payload,Ye=typeof It=="function"?It.call(_t,tt,Ye):It,Ye==null)break e;tt=he({},tt,Ye);break e;case 2:Uc=!0}}ae.callback!==null&&ae.lane!==0&&(c.flags|=64,Ye=N.effects,Ye===null?N.effects=[ae]:Ye.push(ae))}else _t={eventTime:_t,lane:Ye,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Xe===null?(De=Xe=_t,ce=tt):Xe=Xe.next=_t,G|=Ye;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;Ye=ae,ae=Ye.next,Ye.next=null,N.lastBaseUpdate=Ye,N.shared.pending=null}}while(!0);if(Xe===null&&(ce=tt),N.baseState=ce,N.firstBaseUpdate=De,N.lastBaseUpdate=Xe,d=N.shared.interleaved,d!==null){N=d;do G|=N.lane,N=N.next;while(N!==d)}else $===null&&(N.shared.lanes=0);ld|=G,c.lanes=G,c.memoizedState=tt}}function gC(c,d,b){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var C=c[d],N=C.callback;if(N!==null){if(C.callback=null,C=b,typeof N!="function")throw Error(n(191,N));N.call(C)}}}var Cm={},yu=wn(Cm),Sp=wn(Cm),Em=wn(Cm);function ed(c){if(c===Cm)throw Error(n(174));return c}function xb(c,d){switch(lr(Em,d),lr(Sp,c),lr(yu,Cm),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:jr(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=jr(d,c)}tr(yu),lr(yu,d)}function Cp(){tr(yu),tr(Sp),tr(Em)}function vC(c){ed(Em.current);var d=ed(yu.current),b=jr(d,c.type);d!==b&&(lr(Sp,c),lr(yu,b))}function Sb(c){Sp.current===c&&(tr(yu),tr(Sp))}var Gr=wn(0);function W0(c){for(var d=c;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var G0=[];function Cb(){for(var c=0;c<G0.length;c++)G0[c]._workInProgressVersionPrimary=null;G0.length=0}var K0=P.ReactCurrentDispatcher,_m=P.ReactCurrentBatchConfig,zt=0,Ut=null,cn=null,Nn=null,qo=!1,Ep=!1,Tm=0,l6=0;function $a(){throw Error(n(321))}function km(c,d){if(d===null)return!1;for(var b=0;b<d.length&&b<c.length;b++)if(!Es(c[b],d[b]))return!1;return!0}function qe(c,d,b,C,N,$){if(zt=$,Ut=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,K0.current=c===null||c.memoizedState===null?c6:Tr,c=b(C,N),Ep){$=0;do{if(Ep=!1,Tm=0,25<=$)throw Error(n(301));$+=1,Nn=cn=null,d.updateQueue=null,K0.current=uv,c=b(C,N)}while(Ep)}if(K0.current=Ia,d=cn!==null&&cn.next!==null,zt=0,Nn=cn=Ut=null,qo=!1,d)throw Error(n(300));return c}function Ai(){var c=Tm!==0;return Tm=0,c}function Kt(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ut.memoizedState=Nn=c:Nn=Nn.next=c,Nn}function ha(){if(cn===null){var c=Ut.alternate;c=c!==null?c.memoizedState:null}else c=cn.next;var d=Nn===null?Ut.memoizedState:Nn.next;if(d!==null)Nn=d,cn=c;else{if(c===null)throw Error(n(310));cn=c,c={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},Nn===null?Ut.memoizedState=Nn=c:Nn=Nn.next=c}return Nn}function Yo(c,d){return typeof d=="function"?d(c):d}function Ul(c){var d=ha(),b=d.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=c;var C=cn,N=C.baseQueue,$=b.pending;if($!==null){if(N!==null){var G=N.next;N.next=$.next,$.next=G}C.baseQueue=N=$,b.pending=null}if(N!==null){$=N.next,C=C.baseState;var ae=G=null,ce=null,De=$;do{var Xe=De.lane;if((zt&Xe)===Xe)ce!==null&&(ce=ce.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),C=De.hasEagerState?De.eagerState:c(C,De.action);else{var tt={lane:Xe,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ce===null?(ae=ce=tt,G=C):ce=ce.next=tt,Ut.lanes|=Xe,ld|=Xe}De=De.next}while(De!==null&&De!==$);ce===null?G=C:ce.next=ae,Es(C,d.memoizedState)||(_o=!0),d.memoizedState=C,d.baseState=G,d.baseQueue=ce,b.lastRenderedState=C}if(c=b.interleaved,c!==null){N=c;do $=N.lane,Ut.lanes|=$,ld|=$,N=N.next;while(N!==c)}else N===null&&(b.lanes=0);return[d.memoizedState,b.dispatch]}function Os(c){var d=ha(),b=d.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=c;var C=b.dispatch,N=b.pending,$=d.memoizedState;if(N!==null){b.pending=null;var G=N=N.next;do $=c($,G.action),G=G.next;while(G!==N);Es($,d.memoizedState)||(_o=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),b.lastRenderedState=$}return[$,C]}function _p(){}function td(c,d){var b=Ut,C=ha(),N=d(),$=!Es(C.memoizedState,N);if($&&(C.memoizedState=N,_o=!0),C=C.queue,Nm(Y0.bind(null,b,C,c),[c]),C.getSnapshot!==d||$||Nn!==null&&Nn.memoizedState.tag&1){if(b.flags|=2048,nd(9,q0.bind(null,b,C,N,d),void 0,null),li===null)throw Error(n(349));zt&30||Tp(b,d,N)}return N}function Tp(c,d,b){c.flags|=16384,c={getSnapshot:d,value:b},d=Ut.updateQueue,d===null?(d={lastEffect:null,stores:null},Ut.updateQueue=d,d.stores=[c]):(b=d.stores,b===null?d.stores=[c]:b.push(c))}function q0(c,d,b,C){d.value=b,d.getSnapshot=C,Z0(d)&&X0(c)}function Y0(c,d,b){return b(function(){Z0(d)&&X0(c)})}function Z0(c){var d=c.getSnapshot;c=c.value;try{var b=d();return!Es(c,b)}catch{return!0}}function X0(c){var d=Bl(c,1);d!==null&&Qr(d,c,1,-1)}function Q0(c){var d=Kt();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:c},d.queue=c,c=c.dispatch=Rm.bind(null,Ut,c),[d.memoizedState,c]}function nd(c,d,b,C){return c={tag:c,create:d,destroy:b,deps:C,next:null},d=Ut.updateQueue,d===null?(d={lastEffect:null,stores:null},Ut.updateQueue=d,d.lastEffect=c.next=c):(b=d.lastEffect,b===null?d.lastEffect=c.next=c:(C=b.next,b.next=c,c.next=C,d.lastEffect=c)),c}function J0(){return ha().memoizedState}function kp(c,d,b,C){var N=Kt();Ut.flags|=c,N.memoizedState=nd(1|d,b,void 0,C===void 0?null:C)}function Np(c,d,b,C){var N=ha();C=C===void 0?null:C;var $=void 0;if(cn!==null){var G=cn.memoizedState;if($=G.destroy,C!==null&&km(C,G.deps)){N.memoizedState=nd(d,b,$,C);return}}Ut.flags|=c,N.memoizedState=nd(1|d,b,$,C)}function ev(c,d){return kp(8390656,8,c,d)}function Nm(c,d){return Np(2048,8,c,d)}function tv(c,d){return Np(4,2,c,d)}function nv(c,d){return Np(4,4,c,d)}function rv(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function iv(c,d,b){return b=b!=null?b.concat([c]):null,Np(4,4,rv.bind(null,d,c),b)}function Rp(){}function rd(c,d){var b=ha();d=d===void 0?null:d;var C=b.memoizedState;return C!==null&&d!==null&&km(d,C[1])?C[0]:(b.memoizedState=[c,d],c)}function av(c,d){var b=ha();d=d===void 0?null:d;var C=b.memoizedState;return C!==null&&d!==null&&km(d,C[1])?C[0]:(c=c(),b.memoizedState=[c,d],c)}function ov(c,d,b){return zt&21?(Es(b,d)||(b=fu(),Ut.lanes|=b,ld|=b,c.baseState=!0),d):(c.baseState&&(c.baseState=!1,_o=!0),c.memoizedState=b)}function Eb(c,d){var b=Vn;Vn=b!==0&&4>b?b:4,c(!0);var C=_m.transition;_m.transition={};try{c(!1),d()}finally{Vn=b,_m.transition=C}}function sv(){return ha().memoizedState}function yC(c,d,b){var C=Gl(c);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},_b(c))Ap(d,b);else if(b=hC(c,d,b,C),b!==null){var N=ta();Qr(b,c,C,N),Wc(b,d,C)}}function Rm(c,d,b){var C=Gl(c),N={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(_b(c))Ap(d,N);else{var $=c.alternate;if(c.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var G=d.lastRenderedState,ae=$(G,b);if(N.hasEagerState=!0,N.eagerState=ae,Es(ae,G)){var ce=d.interleaved;ce===null?(N.next=N,Ri(d)):(N.next=ce.next,ce.next=N),d.interleaved=N;return}}catch{}finally{}b=hC(c,d,N,C),b!==null&&(N=ta(),Qr(b,c,C,N),Wc(b,d,C))}}function _b(c){var d=c.alternate;return c===Ut||d!==null&&d===Ut}function Ap(c,d){Ep=qo=!0;var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}function Wc(c,d,b){if(b&4194240){var C=d.lanes;C&=c.pendingLanes,b|=C,d.lanes=b,bs(c,b)}}var Ia={readContext:Ds,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useInsertionEffect:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useMutableSource:$a,useSyncExternalStore:$a,useId:$a,unstable_isNewReconciler:!1},c6={readContext:Ds,useCallback:function(c,d){return Kt().memoizedState=[c,d===void 0?null:d],c},useContext:Ds,useEffect:ev,useImperativeHandle:function(c,d,b){return b=b!=null?b.concat([c]):null,kp(4194308,4,rv.bind(null,d,c),b)},useLayoutEffect:function(c,d){return kp(4194308,4,c,d)},useInsertionEffect:function(c,d){return kp(4,2,c,d)},useMemo:function(c,d){var b=Kt();return d=d===void 0?null:d,c=c(),b.memoizedState=[c,d],c},useReducer:function(c,d,b){var C=Kt();return d=b!==void 0?b(d):d,C.memoizedState=C.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},C.queue=c,c=c.dispatch=yC.bind(null,Ut,c),[C.memoizedState,c]},useRef:function(c){var d=Kt();return c={current:c},d.memoizedState=c},useState:Q0,useDebugValue:Rp,useDeferredValue:function(c){return Kt().memoizedState=c},useTransition:function(){var c=Q0(!1),d=c[0];return c=Eb.bind(null,c[1]),Kt().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,b){var C=Ut,N=Kt();if($r){if(b===void 0)throw Error(n(407));b=b()}else{if(b=d(),li===null)throw Error(n(349));zt&30||Tp(C,d,b)}N.memoizedState=b;var $={value:b,getSnapshot:d};return N.queue=$,ev(Y0.bind(null,C,$,c),[c]),C.flags|=2048,nd(9,q0.bind(null,C,$,b,d),void 0,null),b},useId:function(){var c=Kt(),d=li.identifierPrefix;if($r){var b=jl,C=pa;b=(C&~(1<<32-Ki(C)-1)).toString(32)+b,d=":"+d+"R"+b,b=Tm++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=l6++,d=":"+d+"r"+b.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},Tr={readContext:Ds,useCallback:rd,useContext:Ds,useEffect:Nm,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Ul,useRef:J0,useState:function(){return Ul(Yo)},useDebugValue:Rp,useDeferredValue:function(c){var d=ha();return ov(d,cn.memoizedState,c)},useTransition:function(){var c=Ul(Yo)[0],d=ha().memoizedState;return[c,d]},useMutableSource:_p,useSyncExternalStore:td,useId:sv,unstable_isNewReconciler:!1},uv={readContext:Ds,useCallback:rd,useContext:Ds,useEffect:Nm,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Os,useRef:J0,useState:function(){return Os(Yo)},useDebugValue:Rp,useDeferredValue:function(c){var d=ha();return cn===null?d.memoizedState=c:ov(d,cn.memoizedState,c)},useTransition:function(){var c=Os(Yo)[0],d=ha().memoizedState;return[c,d]},useMutableSource:_p,useSyncExternalStore:td,useId:sv,unstable_isNewReconciler:!1};function Eo(c,d){if(c&&c.defaultProps){d=he({},d),c=c.defaultProps;for(var b in c)d[b]===void 0&&(d[b]=c[b]);return d}return d}function id(c,d,b,C){d=c.memoizedState,b=b(C,d),b=b==null?d:he({},d,b),c.memoizedState=b,c.lanes===0&&(c.updateQueue.baseState=b)}var ad={isMounted:function(c){return(c=c._reactInternals)?dn(c)===c:!1},enqueueSetState:function(c,d,b){c=c._reactInternals;var C=ta(),N=Gl(c),$=Co(C,N);$.payload=d,b!=null&&($.callback=b),d=Hc(c,$,N),d!==null&&(Qr(d,c,N,C),U0(d,c,N))},enqueueReplaceState:function(c,d,b){c=c._reactInternals;var C=ta(),N=Gl(c),$=Co(C,N);$.tag=1,$.payload=d,b!=null&&($.callback=b),d=Hc(c,$,N),d!==null&&(Qr(d,c,N,C),U0(d,c,N))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var b=ta(),C=Gl(c),N=Co(b,C);N.tag=2,d!=null&&(N.callback=d),d=Hc(c,N,C),d!==null&&(Qr(d,c,C,b),U0(d,c,C))}};function bC(c,d,b,C,N,$,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(C,$,G):d.prototype&&d.prototype.isPureReactComponent?!fm(b,C)||!fm(N,$):!0}function wC(c,d,b){var C=!1,N=Xu,$=d.contextType;return typeof $=="object"&&$!==null?$=Ds($):(N=Wr(d)?yo:ln.current,C=d.contextTypes,$=(C=C!=null)?Ts(c,N):Xu),d=new d(b,$),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,c.stateNode=d,d._reactInternals=c,C&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=N,c.__reactInternalMemoizedMaskedChildContext=$),d}function xC(c,d,b,C){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,C),d.state!==c&&ad.enqueueReplaceState(d,d.state,null)}function Tb(c,d,b,C){var N=c.stateNode;N.props=b,N.state=c.memoizedState,N.refs={},B0(c);var $=d.contextType;typeof $=="object"&&$!==null?N.context=Ds($):($=Wr(d)?yo:ln.current,N.context=Ts(c,$)),N.state=c.memoizedState,$=d.getDerivedStateFromProps,typeof $=="function"&&(id(c,d,$,b),N.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(d=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),d!==N.state&&ad.enqueueReplaceState(N,N.state,null),H0(c,b,N,C),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308)}function Gc(c,d){try{var b="",C=d;do b+=at(C),C=C.return;while(C);var N=b}catch($){N=`
Error generating stack: `+$.message+`
`+$.stack}return{value:c,source:d,stack:N,digest:null}}function kb(c,d,b){return{value:c,source:null,stack:b??null,digest:d??null}}function Am(c,d){try{console.error(d.value)}catch(b){setTimeout(function(){throw b})}}var SC=typeof WeakMap=="function"?WeakMap:Map;function CC(c,d,b){b=Co(-1,b),b.tag=3,b.payload={element:null};var C=d.value;return b.callback=function(){wv||(wv=!0,Mb=C),Am(c,d)},b}function EC(c,d,b){b=Co(-1,b),b.tag=3;var C=c.type.getDerivedStateFromError;if(typeof C=="function"){var N=d.value;b.payload=function(){return C(N)},b.callback=function(){Am(c,d)}}var $=c.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(b.callback=function(){Am(c,d),typeof C!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),b}function Dm(c,d,b){var C=c.pingCache;if(C===null){C=c.pingCache=new SC;var N=new Set;C.set(d,N)}else N=C.get(d),N===void 0&&(N=new Set,C.set(d,N));N.has(b)||(N.add(b),c=w6.bind(null,c,d,b),d.then(c,c))}function _C(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function Nb(c,d,b,C,N){return c.mode&1?(c.flags|=65536,c.lanes=N,c):(c===d?c.flags|=65536:(c.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(d=Co(-1,1),d.tag=2,Hc(b,d,1))),b.lanes|=1),c)}var TC=P.ReactCurrentOwner,_o=!1;function xi(c,d,b,C){d.child=c===null?pC(d,null,b,C):bp(d,c.child,b,C)}function Dp(c,d,b,C,N){b=b.render;var $=d.ref;return wp(d,N),C=qe(c,d,b,C,$,N),b=Ai(),c!==null&&!_o?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~N,Si(c,d,N)):($r&&b&&M0(d),d.flags|=1,xi(c,d,C,N),d.child)}function Kc(c,d,b,C,N){if(c===null){var $=b.type;return typeof $=="function"&&!zb($)&&$.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(d.tag=15,d.type=$,lv(c,d,$,C,N)):(c=Tv(b.type,null,C,d,d.mode,N),c.ref=d.ref,c.return=d,d.child=c)}if($=c.child,!(c.lanes&N)){var G=$.memoizedProps;if(b=b.compare,b=b!==null?b:fm,b(G,C)&&c.ref===d.ref)return Si(c,d,N)}return d.flags|=1,c=Zc($,C),c.ref=d.ref,c.return=d,d.child=c}function lv(c,d,b,C,N){if(c!==null){var $=c.memoizedProps;if(fm($,C)&&c.ref===d.ref)if(_o=!1,d.pendingProps=C=$,(c.lanes&N)!==0)c.flags&131072&&(_o=!0);else return d.lanes=c.lanes,Si(c,d,N)}return yn(c,d,b,C,N)}function To(c,d,b){var C=d.pendingProps,N=C.children,$=c!==null?c.memoizedState:null;if(C.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(zp,ko),ko|=b;else{if(!(b&1073741824))return c=$!==null?$.baseLanes|b:b,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,lr(zp,ko),ko|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=$!==null?$.baseLanes:b,lr(zp,ko),ko|=C}else $!==null?(C=$.baseLanes|b,d.memoizedState=null):C=b,lr(zp,ko),ko|=C;return xi(c,d,N,b),d.child}function od(c,d){var b=d.ref;(c===null&&b!==null||c!==null&&c.ref!==b)&&(d.flags|=512,d.flags|=2097152)}function yn(c,d,b,C,N){var $=Wr(b)?yo:ln.current;return $=Ts(d,$),wp(d,N),b=qe(c,d,b,C,$,N),C=Ai(),c!==null&&!_o?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~N,Si(c,d,N)):($r&&C&&M0(d),d.flags|=1,xi(c,d,b,N),d.child)}function Om(c,d,b,C,N){if(Wr(b)){var $=!0;P0(d)}else $=!1;if(wp(d,N),d.stateNode===null)Im(c,d),wC(d,b,C),Tb(d,b,C,N),C=!0;else if(c===null){var G=d.stateNode,ae=d.memoizedProps;G.props=ae;var ce=G.context,De=b.contextType;typeof De=="object"&&De!==null?De=Ds(De):(De=Wr(b)?yo:ln.current,De=Ts(d,De));var Xe=b.getDerivedStateFromProps,tt=typeof Xe=="function"||typeof G.getSnapshotBeforeUpdate=="function";tt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==C||ce!==De)&&xC(d,G,C,De),Uc=!1;var Ye=d.memoizedState;G.state=Ye,H0(d,C,G,N),ce=d.memoizedState,ae!==C||Ye!==ce||si.current||Uc?(typeof Xe=="function"&&(id(d,b,Xe,C),ce=d.memoizedState),(ae=Uc||bC(d,b,ae,C,Ye,ce,De))?(tt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=ce),G.props=C,G.state=ce,G.context=De,C=ae):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{G=d.stateNode,xp(c,d),ae=d.memoizedProps,De=d.type===d.elementType?ae:Eo(d.type,ae),G.props=De,tt=d.pendingProps,Ye=G.context,ce=b.contextType,typeof ce=="object"&&ce!==null?ce=Ds(ce):(ce=Wr(b)?yo:ln.current,ce=Ts(d,ce));var _t=b.getDerivedStateFromProps;(Xe=typeof _t=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==tt||Ye!==ce)&&xC(d,G,C,ce),Uc=!1,Ye=d.memoizedState,G.state=Ye,H0(d,C,G,N);var It=d.memoizedState;ae!==tt||Ye!==It||si.current||Uc?(typeof _t=="function"&&(id(d,b,_t,C),It=d.memoizedState),(De=Uc||bC(d,b,De,C,Ye,It,ce)||!1)?(Xe||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,It,ce),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,It,ce)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||ae===c.memoizedProps&&Ye===c.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===c.memoizedProps&&Ye===c.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=It),G.props=C,G.state=It,G.context=ce,C=De):(typeof G.componentDidUpdate!="function"||ae===c.memoizedProps&&Ye===c.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===c.memoizedProps&&Ye===c.memoizedState||(d.flags|=1024),C=!1)}return cv(c,d,b,C,$,N)}function cv(c,d,b,C,N,$){od(c,d);var G=(d.flags&128)!==0;if(!C&&!G)return N&&uC(d,b,!1),Si(c,d,$);C=d.stateNode,TC.current=d;var ae=G&&typeof b.getDerivedStateFromError!="function"?null:C.render();return d.flags|=1,c!==null&&G?(d.child=bp(d,c.child,null,$),d.child=bp(d,null,ae,$)):xi(c,d,ae,$),d.memoizedState=C.state,N&&uC(d,b,!0),d.child}function f6(c){var d=c.stateNode;d.pendingContext?zc(c,d.pendingContext,d.pendingContext!==d.context):d.context&&zc(c,d.context,!1),xb(c,d.containerInfo)}function kC(c,d,b,C,N){return Xr(),yb(N),d.flags|=256,xi(c,d,b,C),d.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function sd(c){return{baseLanes:c,cachePool:null,transitions:null}}function NC(c,d,b){var C=d.pendingProps,N=Gr.current,$=!1,G=(d.flags&128)!==0,ae;if((ae=G)||(ae=c!==null&&c.memoizedState===null?!1:(N&2)!==0),ae?($=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(N|=1),lr(Gr,N&1),c===null)return F0(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(d.mode&1?c.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(G=C.children,c=C.fallback,$?(C=d.mode,$=d.child,G={mode:"hidden",children:G},!(C&1)&&$!==null?($.childLanes=0,$.pendingProps=G):$=kv(G,C,0,null),c=pd(c,C,b,null),$.return=d,c.return=d,$.sibling=c,d.child=$,d.child.memoizedState=sd(b),d.memoizedState=$m,c):fv(d,G));if(N=c.memoizedState,N!==null&&(ae=N.dehydrated,ae!==null))return Rb(c,d,G,C,ae,N,b);if($){$=C.fallback,G=d.mode,N=c.child,ae=N.sibling;var ce={mode:"hidden",children:C.children};return!(G&1)&&d.child!==N?(C=d.child,C.childLanes=0,C.pendingProps=ce,d.deletions=null):(C=Zc(N,ce),C.subtreeFlags=N.subtreeFlags&14680064),ae!==null?$=Zc(ae,$):($=pd($,G,b,null),$.flags|=2),$.return=d,C.return=d,C.sibling=$,d.child=C,C=$,$=d.child,G=c.child.memoizedState,G=G===null?sd(b):{baseLanes:G.baseLanes|b,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=c.childLanes&~b,d.memoizedState=$m,C}return $=c.child,c=$.sibling,C=Zc($,{mode:"visible",children:C.children}),!(d.mode&1)&&(C.lanes=b),C.return=d,C.sibling=null,c!==null&&(b=d.deletions,b===null?(d.deletions=[c],d.flags|=16):b.push(c)),d.child=C,d.memoizedState=null,C}function fv(c,d){return d=kv({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function dv(c,d,b,C){return C!==null&&yb(C),bp(d,c.child,null,b),c=fv(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Rb(c,d,b,C,N,$,G){if(b)return d.flags&256?(d.flags&=-257,C=kb(Error(n(422))),dv(c,d,G,C)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):($=C.fallback,N=d.mode,C=kv({mode:"visible",children:C.children},N,0,null),$=pd($,N,G,null),$.flags|=2,C.return=d,$.return=d,C.sibling=$,d.child=C,d.mode&1&&bp(d,c.child,null,G),d.child.memoizedState=sd(G),d.memoizedState=$m,$);if(!(d.mode&1))return dv(c,d,G,null);if(N.data==="$!"){if(C=N.nextSibling&&N.nextSibling.dataset,C)var ae=C.dgst;return C=ae,$=Error(n(419)),C=kb($,C,void 0),dv(c,d,G,C)}if(ae=(G&c.childLanes)!==0,_o||ae){if(C=li,C!==null){switch(G&-G){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=N&(C.suspendedLanes|G)?0:N,N!==0&&N!==$.retryLane&&($.retryLane=N,Bl(c,N),Qr(C,c,N,-1))}return Vm(),C=kb(Error(n(421))),dv(c,d,G,C)}return N.data==="$?"?(d.flags|=128,d.child=c.child,d=jb.bind(null,c),N._reactRetry=d,null):(c=$.treeContext,So=vu(N.nextSibling),Go=d,$r=!0,Rs=null,c!==null&&(xo[Oa++]=pa,xo[Oa++]=jl,xo[Oa++]=Ns,pa=c.id,jl=c.overflow,Ns=d),d=fv(d,C.children),d.flags|=4096,d)}function RC(c,d,b){c.lanes|=d;var C=c.alternate;C!==null&&(C.lanes|=d),wb(c.return,d,b)}function pv(c,d,b,C,N){var $=c.memoizedState;$===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:N}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=C,$.tail=b,$.tailMode=N)}function Ab(c,d,b){var C=d.pendingProps,N=C.revealOrder,$=C.tail;if(xi(c,d,C.children,b),C=Gr.current,C&2)C=C&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&RC(c,b,d);else if(c.tag===19)RC(c,b,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}C&=1}if(lr(Gr,C),!(d.mode&1))d.memoizedState=null;else switch(N){case"forwards":for(b=d.child,N=null;b!==null;)c=b.alternate,c!==null&&W0(c)===null&&(N=b),b=b.sibling;b=N,b===null?(N=d.child,d.child=null):(N=b.sibling,b.sibling=null),pv(d,!1,N,b,$);break;case"backwards":for(b=null,N=d.child,d.child=null;N!==null;){if(c=N.alternate,c!==null&&W0(c)===null){d.child=N;break}c=N.sibling,N.sibling=b,b=N,N=c}pv(d,!0,b,null,$);break;case"together":pv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Im(c,d){!(d.mode&1)&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Si(c,d,b){if(c!==null&&(d.dependencies=c.dependencies),ld|=d.lanes,!(b&d.childLanes))return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,b=Zc(c,c.pendingProps),d.child=b,b.return=d;c.sibling!==null;)c=c.sibling,b=b.sibling=Zc(c,c.pendingProps),b.return=d;b.sibling=null}return d.child}function Hl(c,d,b){switch(d.tag){case 3:f6(d),Xr();break;case 5:vC(d);break;case 1:Wr(d.type)&&P0(d);break;case 4:xb(d,d.stateNode.containerInfo);break;case 10:var C=d.type._context,N=d.memoizedProps.value;lr(zl,C._currentValue),C._currentValue=N;break;case 13:if(C=d.memoizedState,C!==null)return C.dehydrated!==null?(lr(Gr,Gr.current&1),d.flags|=128,null):b&d.child.childLanes?NC(c,d,b):(lr(Gr,Gr.current&1),c=Si(c,d,b),c!==null?c.sibling:null);lr(Gr,Gr.current&1);break;case 19:if(C=(b&d.childLanes)!==0,c.flags&128){if(C)return Ab(c,d,b);d.flags|=128}if(N=d.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),lr(Gr,Gr.current),C)break;return null;case 22:case 23:return d.lanes=0,To(c,d,b)}return Si(c,d,b)}var Ju,Op,$p,$s;Ju=function(c,d){for(var b=d.child;b!==null;){if(b.tag===5||b.tag===6)c.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Op=function(){},$p=function(c,d,b,C){var N=c.memoizedProps;if(N!==C){c=d.stateNode,ed(yu.current);var $=null;switch(b){case"input":N=nn(c,N),C=nn(c,C),$=[];break;case"select":N=he({},N,{value:void 0}),C=he({},C,{value:void 0}),$=[];break;case"textarea":N=Wi(c,N),C=Wi(c,C),$=[];break;default:typeof N.onClick!="function"&&typeof C.onClick=="function"&&(c.onclick=I0)}qr(b,C);var G;b=null;for(De in N)if(!C.hasOwnProperty(De)&&N.hasOwnProperty(De)&&N[De]!=null)if(De==="style"){var ae=N[De];for(G in ae)ae.hasOwnProperty(G)&&(b||(b={}),b[G]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?$||($=[]):($=$||[]).push(De,null));for(De in C){var ce=C[De];if(ae=N!=null?N[De]:void 0,C.hasOwnProperty(De)&&ce!==ae&&(ce!=null||ae!=null))if(De==="style")if(ae){for(G in ae)!ae.hasOwnProperty(G)||ce&&ce.hasOwnProperty(G)||(b||(b={}),b[G]="");for(G in ce)ce.hasOwnProperty(G)&&ae[G]!==ce[G]&&(b||(b={}),b[G]=ce[G])}else b||($||($=[]),$.push(De,b)),b=ce;else De==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ae=ae?ae.__html:void 0,ce!=null&&ae!==ce&&($=$||[]).push(De,ce)):De==="children"?typeof ce!="string"&&typeof ce!="number"||($=$||[]).push(De,""+ce):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(ce!=null&&De==="onScroll"&&Cr("scroll",c),$||ae===ce||($=[])):($=$||[]).push(De,ce))}b&&($=$||[]).push("style",b);var De=$;(d.updateQueue=De)&&(d.flags|=4)}},$s=function(c,d,b,C){b!==C&&(d.flags|=4)};function ui(c,d){if(!$r)switch(c.tailMode){case"hidden":d=c.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?c.tail=null:b.sibling=null;break;case"collapsed":b=c.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:C.sibling=null}}function Pa(c){var d=c.alternate!==null&&c.alternate.child===c.child,b=0,C=0;if(d)for(var N=c.child;N!==null;)b|=N.lanes|N.childLanes,C|=N.subtreeFlags&14680064,C|=N.flags&14680064,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)b|=N.lanes|N.childLanes,C|=N.subtreeFlags,C|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=C,c.childLanes=b,d}function d6(c,d,b){var C=d.pendingProps;switch(gb(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pa(d),null;case 1:return Wr(d.type)&&ks(),Pa(d),null;case 3:return C=d.stateNode,Cp(),tr(si),tr(ln),Cb(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(c===null||c.child===null)&&(V0(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Rs!==null&&(Lb(Rs),Rs=null))),Op(c,d),Pa(d),null;case 5:Sb(d);var N=ed(Em.current);if(b=d.type,c!==null&&d.stateNode!=null)$p(c,d,b,C,N),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!C){if(d.stateNode===null)throw Error(n(166));return Pa(d),null}if(c=ed(yu.current),V0(d)){C=d.stateNode,b=d.type;var $=d.memoizedProps;switch(C[Zu]=d,C[Zf]=$,c=(d.mode&1)!==0,b){case"dialog":Cr("cancel",C),Cr("close",C);break;case"iframe":case"object":case"embed":Cr("load",C);break;case"video":case"audio":for(N=0;N<mm.length;N++)Cr(mm[N],C);break;case"source":Cr("error",C);break;case"img":case"image":case"link":Cr("error",C),Cr("load",C);break;case"details":Cr("toggle",C);break;case"input":Jn(C,$),Cr("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!$.multiple},Cr("invalid",C);break;case"textarea":Pi(C,$),Cr("invalid",C)}qr(b,$),N=null;for(var G in $)if($.hasOwnProperty(G)){var ae=$[G];G==="children"?typeof ae=="string"?C.textContent!==ae&&($.suppressHydrationWarning!==!0&&$0(C.textContent,ae,c),N=["children",ae]):typeof ae=="number"&&C.textContent!==""+ae&&($.suppressHydrationWarning!==!0&&$0(C.textContent,ae,c),N=["children",""+ae]):i.hasOwnProperty(G)&&ae!=null&&G==="onScroll"&&Cr("scroll",C)}switch(b){case"input":Rt(C),$i(C,$,!0);break;case"textarea":Rt(C),ki(C);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(C.onclick=I0)}C=N,d.updateQueue=C,C!==null&&(d.flags|=4)}else{G=N.nodeType===9?N:N.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Mi(b)),c==="http://www.w3.org/1999/xhtml"?b==="script"?(c=G.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof C.is=="string"?c=G.createElement(b,{is:C.is}):(c=G.createElement(b),b==="select"&&(G=c,C.multiple?G.multiple=!0:C.size&&(G.size=C.size))):c=G.createElementNS(c,b),c[Zu]=d,c[Zf]=C,Ju(c,d,!1,!1),d.stateNode=c;e:{switch(G=_r(b,C),b){case"dialog":Cr("cancel",c),Cr("close",c),N=C;break;case"iframe":case"object":case"embed":Cr("load",c),N=C;break;case"video":case"audio":for(N=0;N<mm.length;N++)Cr(mm[N],c);N=C;break;case"source":Cr("error",c),N=C;break;case"img":case"image":case"link":Cr("error",c),Cr("load",c),N=C;break;case"details":Cr("toggle",c),N=C;break;case"input":Jn(c,C),N=nn(c,C),Cr("invalid",c);break;case"option":N=C;break;case"select":c._wrapperState={wasMultiple:!!C.multiple},N=he({},C,{value:void 0}),Cr("invalid",c);break;case"textarea":Pi(c,C),N=Wi(c,C),Cr("invalid",c);break;default:N=C}qr(b,N),ae=N;for($ in ae)if(ae.hasOwnProperty($)){var ce=ae[$];$==="style"?Fn(c,ce):$==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&Vo(c,ce)):$==="children"?typeof ce=="string"?(b!=="textarea"||ce!=="")&&Ba(c,ce):typeof ce=="number"&&Ba(c,""+ce):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ce!=null&&$==="onScroll"&&Cr("scroll",c):ce!=null&&I(c,$,ce,G))}switch(b){case"input":Rt(c),$i(c,C,!1);break;case"textarea":Rt(c),ki(c);break;case"option":C.value!=null&&c.setAttribute("value",""+Ge(C.value));break;case"select":c.multiple=!!C.multiple,$=C.value,$!=null?Ii(c,!!C.multiple,$,!1):C.defaultValue!=null&&Ii(c,!!C.multiple,C.defaultValue,!0);break;default:typeof N.onClick=="function"&&(c.onclick=I0)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Pa(d),null;case 6:if(c&&d.stateNode!=null)$s(c,d,c.memoizedProps,C);else{if(typeof C!="string"&&d.stateNode===null)throw Error(n(166));if(b=ed(Em.current),ed(yu.current),V0(d)){if(C=d.stateNode,b=d.memoizedProps,C[Zu]=d,($=C.nodeValue!==b)&&(c=Go,c!==null))switch(c.tag){case 3:$0(C.nodeValue,b,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&$0(C.nodeValue,b,(c.mode&1)!==0)}$&&(d.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[Zu]=d,d.stateNode=C}return Pa(d),null;case 13:if(tr(Gr),C=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($r&&So!==null&&d.mode&1&&!(d.flags&128))fC(),Xr(),d.flags|=98560,$=!1;else if($=V0(d),C!==null&&C.dehydrated!==null){if(c===null){if(!$)throw Error(n(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[Zu]=d}else Xr(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Pa(d),$=!1}else Rs!==null&&(Lb(Rs),Rs=null),$=!0;if(!$)return d.flags&65536?d:null}return d.flags&128?(d.lanes=b,d):(C=C!==null,C!==(c!==null&&c.memoizedState!==null)&&C&&(d.child.flags|=8192,d.mode&1&&(c===null||Gr.current&1?zi===0&&(zi=3):Vm())),d.updateQueue!==null&&(d.flags|=4),Pa(d),null);case 4:return Cp(),Op(c,d),c===null&&gp(d.stateNode.containerInfo),Pa(d),null;case 10:return bb(d.type._context),Pa(d),null;case 17:return Wr(d.type)&&ks(),Pa(d),null;case 19:if(tr(Gr),$=d.memoizedState,$===null)return Pa(d),null;if(C=(d.flags&128)!==0,G=$.rendering,G===null)if(C)ui($,!1);else{if(zi!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(G=W0(c),G!==null){for(d.flags|=128,ui($,!1),C=G.updateQueue,C!==null&&(d.updateQueue=C,d.flags|=4),d.subtreeFlags=0,C=b,b=d.child;b!==null;)$=b,c=C,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=c,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,c=G.dependencies,$.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),b=b.sibling;return lr(Gr,Gr.current&1|2),d.child}c=c.sibling}$.tail!==null&&bn()>Up&&(d.flags|=128,C=!0,ui($,!1),d.lanes=4194304)}else{if(!C)if(c=W0(G),c!==null){if(d.flags|=128,C=!0,b=c.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),ui($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!$r)return Pa(d),null}else 2*bn()-$.renderingStartTime>Up&&b!==1073741824&&(d.flags|=128,C=!0,ui($,!1),d.lanes=4194304);$.isBackwards?(G.sibling=d.child,d.child=G):(b=$.last,b!==null?b.sibling=G:d.child=G,$.last=G)}return $.tail!==null?(d=$.tail,$.rendering=d,$.tail=d.sibling,$.renderingStartTime=bn(),d.sibling=null,b=Gr.current,lr(Gr,C?b&1|2:b&1),d):(Pa(d),null);case 22:case 23:return Ev(),C=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==C&&(d.flags|=8192),C&&d.mode&1?ko&1073741824&&(Pa(d),d.subtreeFlags&6&&(d.flags|=8192)):Pa(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function p6(c,d){switch(gb(d),d.tag){case 1:return Wr(d.type)&&ks(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Cp(),tr(si),tr(ln),Cb(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Sb(d),null;case 13:if(tr(Gr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Xr()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return tr(Gr),null;case 4:return Cp(),null;case 10:return bb(d.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var Ip=!1,ma=!1,hv=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Pp(c,d){var b=c.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){ci(c,d,C)}else b.current=null}function Db(c,d,b){try{b()}catch(C){ci(c,d,C)}}var mv=!1;function h6(c,d){if(ub=Da,c=N0(),Ml(c)){if("selectionStart"in c)var b={start:c.selectionStart,end:c.selectionEnd};else e:{b=(b=c.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var N=C.anchorOffset,$=C.focusNode;C=C.focusOffset;try{b.nodeType,$.nodeType}catch{b=null;break e}var G=0,ae=-1,ce=-1,De=0,Xe=0,tt=c,Ye=null;t:for(;;){for(var _t;tt!==b||N!==0&&tt.nodeType!==3||(ae=G+N),tt!==$||C!==0&&tt.nodeType!==3||(ce=G+C),tt.nodeType===3&&(G+=tt.nodeValue.length),(_t=tt.firstChild)!==null;)Ye=tt,tt=_t;for(;;){if(tt===c)break t;if(Ye===b&&++De===N&&(ae=G),Ye===$&&++Xe===C&&(ce=G),(_t=tt.nextSibling)!==null)break;tt=Ye,Ye=tt.parentNode}tt=_t}b=ae===-1||ce===-1?null:{start:ae,end:ce}}else b=null}b=b||{start:0,end:0}}else b=null;for(qf={focusedElem:c,selectionRange:b},Da=!1,Ot=d;Ot!==null;)if(d=Ot,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Ot=c;else for(;Ot!==null;){d=Ot;try{var It=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Ft=It.memoizedProps,Ci=It.memoizedState,Se=d.stateNode,ge=Se.getSnapshotBeforeUpdate(d.elementType===d.type?Ft:Eo(d.type,Ft),Ci);Se.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var _e=d.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ut){ci(d,d.return,ut)}if(c=d.sibling,c!==null){c.return=d.return,Ot=c;break}Ot=d.return}return It=mv,mv=!1,It}function Mp(c,d,b){var C=d.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var N=C=C.next;do{if((N.tag&c)===c){var $=N.destroy;N.destroy=void 0,$!==void 0&&Db(d,b,$)}N=N.next}while(N!==C)}}function gv(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&c)===c){var C=b.create;b.destroy=C()}b=b.next}while(b!==d)}}function vv(c){var d=c.ref;if(d!==null){var b=c.stateNode;switch(c.tag){case 5:c=b;break;default:c=b}typeof d=="function"?d(c):d.current=c}}function AC(c){var d=c.alternate;d!==null&&(c.alternate=null,AC(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Zu],delete d[Zf],delete d[fb],delete d[u6],delete d[db])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ob(c){return c.tag===5||c.tag===3||c.tag===4}function DC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Ob(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Pm(c,d,b){var C=c.tag;if(C===5||C===6)c=c.stateNode,d?b.nodeType===8?b.parentNode.insertBefore(c,d):b.insertBefore(c,d):(b.nodeType===8?(d=b.parentNode,d.insertBefore(c,b)):(d=b,d.appendChild(c)),b=b._reactRootContainer,b!=null||d.onclick!==null||(d.onclick=I0));else if(C!==4&&(c=c.child,c!==null))for(Pm(c,d,b),c=c.sibling;c!==null;)Pm(c,d,b),c=c.sibling}function Lp(c,d,b){var C=c.tag;if(C===5||C===6)c=c.stateNode,d?b.insertBefore(c,d):b.appendChild(c);else if(C!==4&&(c=c.child,c!==null))for(Lp(c,d,b),c=c.sibling;c!==null;)Lp(c,d,b),c=c.sibling}var Kr=null,Ji=!1;function Ka(c,d,b){for(b=b.child;b!==null;)Fp(c,d,b),b=b.sibling}function Fp(c,d,b){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Li,b)}catch{}switch(b.tag){case 5:ma||Pp(b,d);case 6:var C=Kr,N=Ji;Kr=null,Ka(c,d,b),Kr=C,Ji=N,Kr!==null&&(Ji?(c=Kr,b=b.stateNode,c.nodeType===8?c.parentNode.removeChild(b):c.removeChild(b)):Kr.removeChild(b.stateNode));break;case 18:Kr!==null&&(Ji?(c=Kr,b=b.stateNode,c.nodeType===8?Fc(c.parentNode,b):c.nodeType===1&&Fc(c,b),du(c)):Fc(Kr,b.stateNode));break;case 4:C=Kr,N=Ji,Kr=b.stateNode.containerInfo,Ji=!0,Ka(c,d,b),Kr=C,Ji=N;break;case 0:case 11:case 14:case 15:if(!ma&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){N=C=C.next;do{var $=N,G=$.destroy;$=$.tag,G!==void 0&&($&2||$&4)&&Db(b,d,G),N=N.next}while(N!==C)}Ka(c,d,b);break;case 1:if(!ma&&(Pp(b,d),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(ae){ci(b,d,ae)}Ka(c,d,b);break;case 21:Ka(c,d,b);break;case 22:b.mode&1?(ma=(C=ma)||b.memoizedState!==null,Ka(c,d,b),ma=C):Ka(c,d,b);break;default:Ka(c,d,b)}}function Vp(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var b=c.stateNode;b===null&&(b=c.stateNode=new hv),d.forEach(function(C){var N=x6.bind(null,c,C);b.has(C)||(b.add(C),C.then(N,N))})}}function ea(c,d){var b=d.deletions;if(b!==null)for(var C=0;C<b.length;C++){var N=b[C];try{var $=c,G=d,ae=G;e:for(;ae!==null;){switch(ae.tag){case 5:Kr=ae.stateNode,Ji=!1;break e;case 3:Kr=ae.stateNode.containerInfo,Ji=!0;break e;case 4:Kr=ae.stateNode.containerInfo,Ji=!0;break e}ae=ae.return}if(Kr===null)throw Error(n(160));Fp($,G,N),Kr=null,Ji=!1;var ce=N.alternate;ce!==null&&(ce.return=null),N.return=null}catch(De){ci(N,d,De)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)OC(d,c),d=d.sibling}function OC(c,d){var b=c.alternate,C=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ea(d,c),el(c),C&4){try{Mp(3,c,c.return),gv(3,c)}catch(Ft){ci(c,c.return,Ft)}try{Mp(5,c,c.return)}catch(Ft){ci(c,c.return,Ft)}}break;case 1:ea(d,c),el(c),C&512&&b!==null&&Pp(b,b.return);break;case 5:if(ea(d,c),el(c),C&512&&b!==null&&Pp(b,b.return),c.flags&32){var N=c.stateNode;try{Ba(N,"")}catch(Ft){ci(c,c.return,Ft)}}if(C&4&&(N=c.stateNode,N!=null)){var $=c.memoizedProps,G=b!==null?b.memoizedProps:$,ae=c.type,ce=c.updateQueue;if(c.updateQueue=null,ce!==null)try{ae==="input"&&$.type==="radio"&&$.name!=null&&yr(N,$),_r(ae,G);var De=_r(ae,$);for(G=0;G<ce.length;G+=2){var Xe=ce[G],tt=ce[G+1];Xe==="style"?Fn(N,tt):Xe==="dangerouslySetInnerHTML"?Vo(N,tt):Xe==="children"?Ba(N,tt):I(N,Xe,tt,De)}switch(ae){case"input":ir(N,$);break;case"textarea":mi(N,$);break;case"select":var Ye=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!$.multiple;var _t=$.value;_t!=null?Ii(N,!!$.multiple,_t,!1):Ye!==!!$.multiple&&($.defaultValue!=null?Ii(N,!!$.multiple,$.defaultValue,!0):Ii(N,!!$.multiple,$.multiple?[]:"",!1))}N[Zf]=$}catch(Ft){ci(c,c.return,Ft)}}break;case 6:if(ea(d,c),el(c),C&4){if(c.stateNode===null)throw Error(n(162));N=c.stateNode,$=c.memoizedProps;try{N.nodeValue=$}catch(Ft){ci(c,c.return,Ft)}}break;case 3:if(ea(d,c),el(c),C&4&&b!==null&&b.memoizedState.isDehydrated)try{du(d.containerInfo)}catch(Ft){ci(c,c.return,Ft)}break;case 4:ea(d,c),el(c);break;case 13:ea(d,c),el(c),N=c.child,N.flags&8192&&($=N.memoizedState!==null,N.stateNode.isHidden=$,!$||N.alternate!==null&&N.alternate.memoizedState!==null||(bv=bn())),C&4&&Vp(c);break;case 22:if(Xe=b!==null&&b.memoizedState!==null,c.mode&1?(ma=(De=ma)||Xe,ea(d,c),ma=De):ea(d,c),el(c),C&8192){if(De=c.memoizedState!==null,(c.stateNode.isHidden=De)&&!Xe&&c.mode&1)for(Ot=c,Xe=c.child;Xe!==null;){for(tt=Ot=Xe;Ot!==null;){switch(Ye=Ot,_t=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:Mp(4,Ye,Ye.return);break;case 1:Pp(Ye,Ye.return);var It=Ye.stateNode;if(typeof It.componentWillUnmount=="function"){C=Ye,b=Ye.return;try{d=C,It.props=d.memoizedProps,It.state=d.memoizedState,It.componentWillUnmount()}catch(Ft){ci(C,b,Ft)}}break;case 5:Pp(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){$C(tt);continue}}_t!==null?(_t.return=Ye,Ot=_t):$C(tt)}Xe=Xe.sibling}e:for(Xe=null,tt=c;;){if(tt.tag===5){if(Xe===null){Xe=tt;try{N=tt.stateNode,De?($=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ae=tt.stateNode,ce=tt.memoizedProps.style,G=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,ae.style.display=fn("display",G))}catch(Ft){ci(c,c.return,Ft)}}}else if(tt.tag===6){if(Xe===null)try{tt.stateNode.nodeValue=De?"":tt.memoizedProps}catch(Ft){ci(c,c.return,Ft)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===c)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===c)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===c)break e;Xe===tt&&(Xe=null),tt=tt.return}Xe===tt&&(Xe=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:ea(d,c),el(c),C&4&&Vp(c);break;case 21:break;default:ea(d,c),el(c)}}function el(c){var d=c.flags;if(d&2){try{e:{for(var b=c.return;b!==null;){if(Ob(b)){var C=b;break e}b=b.return}throw Error(n(160))}switch(C.tag){case 5:var N=C.stateNode;C.flags&32&&(Ba(N,""),C.flags&=-33);var $=DC(c);Lp(c,$,N);break;case 3:case 4:var G=C.stateNode.containerInfo,ae=DC(c);Pm(c,ae,G);break;default:throw Error(n(161))}}catch(ce){ci(c,c.return,ce)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function m6(c,d,b){Ot=c,$b(c)}function $b(c,d,b){for(var C=(c.mode&1)!==0;Ot!==null;){var N=Ot,$=N.child;if(N.tag===22&&C){var G=N.memoizedState!==null||Ip;if(!G){var ae=N.alternate,ce=ae!==null&&ae.memoizedState!==null||ma;ae=Ip;var De=ma;if(Ip=G,(ma=ce)&&!De)for(Ot=N;Ot!==null;)G=Ot,ce=G.child,G.tag===22&&G.memoizedState!==null?Ib(N):ce!==null?(ce.return=G,Ot=ce):Ib(N);for(;$!==null;)Ot=$,$b($),$=$.sibling;Ot=N,Ip=ae,ma=De}jp(c)}else N.subtreeFlags&8772&&$!==null?($.return=N,Ot=$):jp(c)}}function jp(c){for(;Ot!==null;){var d=Ot;if(d.flags&8772){var b=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:ma||gv(5,d);break;case 1:var C=d.stateNode;if(d.flags&4&&!ma)if(b===null)C.componentDidMount();else{var N=d.elementType===d.type?b.memoizedProps:Eo(d.type,b.memoizedProps);C.componentDidUpdate(N,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var $=d.updateQueue;$!==null&&gC(d,$,C);break;case 3:var G=d.updateQueue;if(G!==null){if(b=null,d.child!==null)switch(d.child.tag){case 5:b=d.child.stateNode;break;case 1:b=d.child.stateNode}gC(d,G,b)}break;case 5:var ae=d.stateNode;if(b===null&&d.flags&4){b=ae;var ce=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&b.focus();break;case"img":ce.src&&(b.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var De=d.alternate;if(De!==null){var Xe=De.memoizedState;if(Xe!==null){var tt=Xe.dehydrated;tt!==null&&du(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ma||d.flags&512&&vv(d)}catch(Ye){ci(d,d.return,Ye)}}if(d===c){Ot=null;break}if(b=d.sibling,b!==null){b.return=d.return,Ot=b;break}Ot=d.return}}function $C(c){for(;Ot!==null;){var d=Ot;if(d===c){Ot=null;break}var b=d.sibling;if(b!==null){b.return=d.return,Ot=b;break}Ot=d.return}}function Ib(c){for(;Ot!==null;){var d=Ot;try{switch(d.tag){case 0:case 11:case 15:var b=d.return;try{gv(4,d)}catch(ce){ci(d,b,ce)}break;case 1:var C=d.stateNode;if(typeof C.componentDidMount=="function"){var N=d.return;try{C.componentDidMount()}catch(ce){ci(d,N,ce)}}var $=d.return;try{vv(d)}catch(ce){ci(d,$,ce)}break;case 5:var G=d.return;try{vv(d)}catch(ce){ci(d,G,ce)}}}catch(ce){ci(d,d.return,ce)}if(d===c){Ot=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,Ot=ae;break}Ot=d.return}}var g6=Math.ceil,ud=P.ReactCurrentDispatcher,yv=P.ReactCurrentOwner,Is=P.ReactCurrentBatchConfig,On=0,li=null,Ir=null,ji=0,ko=0,zp=wn(0),zi=0,Mm=null,ld=0,Bp=0,Pb=0,qc=null,Ma=null,bv=0,Up=1/0,Wl=null,wv=!1,Mb=null,Ps=null,Hp=!1,Ms=null,xv=0,Lm=0,Sv=null,Fm=-1,cd=0;function ta(){return On&6?bn():Fm!==-1?Fm:Fm=bn()}function Gl(c){return c.mode&1?On&2&&ji!==0?ji&-ji:j0.transition!==null?(cd===0&&(cd=fu()),cd):(c=Vn,c!==0||(c=window.event,c=c===void 0?16:hu(c.type)),c):1}function Qr(c,d,b,C){if(50<Lm)throw Lm=0,Sv=null,Error(n(185));ys(c,b,C),(!(On&2)||c!==li)&&(c===li&&(!(On&2)&&(Bp|=b),zi===4&&tl(c,ji)),Bi(c,C),b===1&&On===0&&!(d.mode&1)&&(Up=bn()+500,Qi&&bo()))}function Bi(c,d){var b=c.callbackNode;lu(c,d);var C=qi(c,c===li?ji:0);if(C===0)b!==null&&dr(b),c.callbackNode=null,c.callbackPriority=0;else if(d=C&-C,c.callbackPriority!==d){if(b!=null&&dr(b),d===1)c.tag===0?hb(Wp.bind(null,c)):pb(Wp.bind(null,c)),cb(function(){!(On&6)&&bo()}),b=null;else{switch(Ol(C)){case 1:b=Aa;break;case 4:b=gn;break;case 16:b=vi;break;case 536870912:b=su;break;default:b=vi}b=zC(b,Cv.bind(null,c))}c.callbackPriority=d,c.callbackNode=b}}function Cv(c,d){if(Fm=-1,cd=0,On&6)throw Error(n(327));var b=c.callbackNode;if(Gp()&&c.callbackNode!==b)return null;var C=qi(c,c===li?ji:0);if(C===0)return null;if(C&30||C&c.expiredLanes||d)d=_v(c,C);else{d=C;var N=On;On|=2;var $=PC();(li!==c||ji!==d)&&(Wl=null,Up=bn()+500,dd(c,d));do try{y6();break}catch(ae){IC(c,ae)}while(!0);Ko(),ud.current=$,On=N,Ir!==null?d=0:(li=null,ji=0,d=zi)}if(d!==0){if(d===2&&(N=cu(c),N!==0&&(C=N,d=fd(c,N))),d===1)throw b=Mm,dd(c,0),tl(c,C),Bi(c,bn()),b;if(d===6)tl(c,C);else{if(N=c.current.alternate,!(C&30)&&!Fb(N)&&(d=_v(c,C),d===2&&($=cu(c),$!==0&&(C=$,d=fd(c,$))),d===1))throw b=Mm,dd(c,0),tl(c,C),Bi(c,bn()),b;switch(c.finishedWork=N,c.finishedLanes=C,d){case 0:case 1:throw Error(n(345));case 2:Yc(c,Ma,Wl);break;case 3:if(tl(c,C),(C&130023424)===C&&(d=bv+500-bn(),10<d)){if(qi(c,0)!==0)break;if(N=c.suspendedLanes,(N&C)!==C){ta(),c.pingedLanes|=c.suspendedLanes&N;break}c.timeoutHandle=Yf(Yc.bind(null,c,Ma,Wl),d);break}Yc(c,Ma,Wl);break;case 4:if(tl(c,C),(C&4194240)===C)break;for(d=c.eventTimes,N=-1;0<C;){var G=31-Ki(C);$=1<<G,G=d[G],G>N&&(N=G),C&=~$}if(C=N,C=bn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*g6(C/1960))-C,10<C){c.timeoutHandle=Yf(Yc.bind(null,c,Ma,Wl),C);break}Yc(c,Ma,Wl);break;case 5:Yc(c,Ma,Wl);break;default:throw Error(n(329))}}}return Bi(c,bn()),c.callbackNode===b?Cv.bind(null,c):null}function fd(c,d){var b=qc;return c.current.memoizedState.isDehydrated&&(dd(c,d).flags|=256),c=_v(c,d),c!==2&&(d=Ma,Ma=b,d!==null&&Lb(d)),c}function Lb(c){Ma===null?Ma=c:Ma.push.apply(Ma,c)}function Fb(c){for(var d=c;;){if(d.flags&16384){var b=d.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var N=b[C],$=N.getSnapshot;N=N.value;try{if(!Es($(),N))return!1}catch{return!1}}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function tl(c,d){for(d&=~Pb,d&=~Bp,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var b=31-Ki(d),C=1<<b;c[b]=-1,d&=~C}}function Wp(c){if(On&6)throw Error(n(327));Gp();var d=qi(c,0);if(!(d&1))return Bi(c,bn()),null;var b=_v(c,d);if(c.tag!==0&&b===2){var C=cu(c);C!==0&&(d=C,b=fd(c,C))}if(b===1)throw b=Mm,dd(c,0),tl(c,d),Bi(c,bn()),b;if(b===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Yc(c,Ma,Wl),Bi(c,bn()),null}function Vb(c,d){var b=On;On|=1;try{return c(d)}finally{On=b,On===0&&(Up=bn()+500,Qi&&bo())}}function nl(c){Ms!==null&&Ms.tag===0&&!(On&6)&&Gp();var d=On;On|=1;var b=Is.transition,C=Vn;try{if(Is.transition=null,Vn=1,c)return c()}finally{Vn=C,Is.transition=b,On=d,!(On&6)&&bo()}}function Ev(){ko=zp.current,tr(zp)}function dd(c,d){c.finishedWork=null,c.finishedLanes=0;var b=c.timeoutHandle;if(b!==-1&&(c.timeoutHandle=-1,sC(b)),Ir!==null)for(b=Ir.return;b!==null;){var C=b;switch(gb(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&ks();break;case 3:Cp(),tr(si),tr(ln),Cb();break;case 5:Sb(C);break;case 4:Cp();break;case 13:tr(Gr);break;case 19:tr(Gr);break;case 10:bb(C.type._context);break;case 22:case 23:Ev()}b=b.return}if(li=c,Ir=c=Zc(c.current,null),ji=ko=d,zi=0,Mm=null,Pb=Bp=ld=0,Ma=qc=null,Jf!==null){for(d=0;d<Jf.length;d++)if(b=Jf[d],C=b.interleaved,C!==null){b.interleaved=null;var N=C.next,$=b.pending;if($!==null){var G=$.next;$.next=N,C.next=G}b.pending=C}Jf=null}return c}function IC(c,d){do{var b=Ir;try{if(Ko(),K0.current=Ia,qo){for(var C=Ut.memoizedState;C!==null;){var N=C.queue;N!==null&&(N.pending=null),C=C.next}qo=!1}if(zt=0,Nn=cn=Ut=null,Ep=!1,Tm=0,yv.current=null,b===null||b.return===null){zi=1,Mm=d,Ir=null;break}e:{var $=c,G=b.return,ae=b,ce=d;if(d=ji,ae.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var De=ce,Xe=ae,tt=Xe.tag;if(!(Xe.mode&1)&&(tt===0||tt===11||tt===15)){var Ye=Xe.alternate;Ye?(Xe.updateQueue=Ye.updateQueue,Xe.memoizedState=Ye.memoizedState,Xe.lanes=Ye.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var _t=_C(G);if(_t!==null){_t.flags&=-257,Nb(_t,G,ae,$,d),_t.mode&1&&Dm($,De,d),d=_t,ce=De;var It=d.updateQueue;if(It===null){var Ft=new Set;Ft.add(ce),d.updateQueue=Ft}else It.add(ce);break e}else{if(!(d&1)){Dm($,De,d),Vm();break e}ce=Error(n(426))}}else if($r&&ae.mode&1){var Ci=_C(G);if(Ci!==null){!(Ci.flags&65536)&&(Ci.flags|=256),Nb(Ci,G,ae,$,d),yb(Gc(ce,ae));break e}}$=ce=Gc(ce,ae),zi!==4&&(zi=2),qc===null?qc=[$]:qc.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,d&=-d,$.lanes|=d;var Se=CC($,ce,d);mC($,Se);break e;case 1:ae=ce;var ge=$.type,_e=$.stateNode;if(!($.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ps===null||!Ps.has(_e)))){$.flags|=65536,d&=-d,$.lanes|=d;var ut=EC($,ae,d);mC($,ut);break e}}$=$.return}while($!==null)}LC(b)}catch(Bt){d=Bt,Ir===b&&b!==null&&(Ir=b=b.return);continue}break}while(!0)}function PC(){var c=ud.current;return ud.current=Ia,c===null?Ia:c}function Vm(){(zi===0||zi===3||zi===2)&&(zi=4),li===null||!(ld&268435455)&&!(Bp&268435455)||tl(li,ji)}function _v(c,d){var b=On;On|=2;var C=PC();(li!==c||ji!==d)&&(Wl=null,dd(c,d));do try{v6();break}catch(N){IC(c,N)}while(!0);if(Ko(),On=b,ud.current=C,Ir!==null)throw Error(n(261));return li=null,ji=0,zi}function v6(){for(;Ir!==null;)MC(Ir)}function y6(){for(;Ir!==null&&!gi();)MC(Ir)}function MC(c){var d=jC(c.alternate,c,ko);c.memoizedProps=c.pendingProps,d===null?LC(c):Ir=d,yv.current=null}function LC(c){var d=c;do{var b=d.alternate;if(c=d.return,d.flags&32768){if(b=p6(b,d),b!==null){b.flags&=32767,Ir=b;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{zi=6,Ir=null;return}}else if(b=d6(b,d,ko),b!==null){Ir=b;return}if(d=d.sibling,d!==null){Ir=d;return}Ir=d=c}while(d!==null);zi===0&&(zi=5)}function Yc(c,d,b){var C=Vn,N=Is.transition;try{Is.transition=null,Vn=1,b6(c,d,b,C)}finally{Is.transition=N,Vn=C}return null}function b6(c,d,b,C){do Gp();while(Ms!==null);if(On&6)throw Error(n(327));b=c.finishedWork;var N=c.finishedLanes;if(b===null)return null;if(c.finishedWork=null,c.finishedLanes=0,b===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var $=b.lanes|b.childLanes;if(um(c,$),c===li&&(Ir=li=null,ji=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Hp||(Hp=!0,zC(vi,function(){return Gp(),null})),$=(b.flags&15990)!==0,b.subtreeFlags&15990||$){$=Is.transition,Is.transition=null;var G=Vn;Vn=1;var ae=On;On|=4,yv.current=null,h6(c,b),OC(b,c),R0(qf),Da=!!ub,qf=ub=null,c.current=b,m6(b),fa(),On=ae,Vn=G,Is.transition=$}else c.current=b;if(Hp&&(Hp=!1,Ms=c,xv=N),$=c.pendingLanes,$===0&&(Ps=null),Ff(b.stateNode),Bi(c,bn()),d!==null)for(C=c.onRecoverableError,b=0;b<d.length;b++)N=d[b],C(N.value,{componentStack:N.stack,digest:N.digest});if(wv)throw wv=!1,c=Mb,Mb=null,c;return xv&1&&c.tag!==0&&Gp(),$=c.pendingLanes,$&1?c===Sv?Lm++:(Lm=0,Sv=c):Lm=0,bo(),null}function Gp(){if(Ms!==null){var c=Ol(xv),d=Is.transition,b=Vn;try{if(Is.transition=null,Vn=16>c?16:c,Ms===null)var C=!1;else{if(c=Ms,Ms=null,xv=0,On&6)throw Error(n(331));var N=On;for(On|=4,Ot=c.current;Ot!==null;){var $=Ot,G=$.child;if(Ot.flags&16){var ae=$.deletions;if(ae!==null){for(var ce=0;ce<ae.length;ce++){var De=ae[ce];for(Ot=De;Ot!==null;){var Xe=Ot;switch(Xe.tag){case 0:case 11:case 15:Mp(8,Xe,$)}var tt=Xe.child;if(tt!==null)tt.return=Xe,Ot=tt;else for(;Ot!==null;){Xe=Ot;var Ye=Xe.sibling,_t=Xe.return;if(AC(Xe),Xe===De){Ot=null;break}if(Ye!==null){Ye.return=_t,Ot=Ye;break}Ot=_t}}}var It=$.alternate;if(It!==null){var Ft=It.child;if(Ft!==null){It.child=null;do{var Ci=Ft.sibling;Ft.sibling=null,Ft=Ci}while(Ft!==null)}}Ot=$}}if($.subtreeFlags&2064&&G!==null)G.return=$,Ot=G;else e:for(;Ot!==null;){if($=Ot,$.flags&2048)switch($.tag){case 0:case 11:case 15:Mp(9,$,$.return)}var Se=$.sibling;if(Se!==null){Se.return=$.return,Ot=Se;break e}Ot=$.return}}var ge=c.current;for(Ot=ge;Ot!==null;){G=Ot;var _e=G.child;if(G.subtreeFlags&2064&&_e!==null)_e.return=G,Ot=_e;else e:for(G=ge;Ot!==null;){if(ae=Ot,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:gv(9,ae)}}catch(Bt){ci(ae,ae.return,Bt)}if(ae===G){Ot=null;break e}var ut=ae.sibling;if(ut!==null){ut.return=ae.return,Ot=ut;break e}Ot=ae.return}}if(On=N,bo(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Li,c)}catch{}C=!0}return C}finally{Vn=b,Is.transition=d}}return!1}function FC(c,d,b){d=Gc(b,d),d=CC(c,d,1),c=Hc(c,d,1),d=ta(),c!==null&&(ys(c,1,d),Bi(c,d))}function ci(c,d,b){if(c.tag===3)FC(c,c,b);else for(;d!==null;){if(d.tag===3){FC(d,c,b);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ps===null||!Ps.has(C))){c=Gc(b,c),c=EC(d,c,1),d=Hc(d,c,1),c=ta(),d!==null&&(ys(d,1,c),Bi(d,c));break}}d=d.return}}function w6(c,d,b){var C=c.pingCache;C!==null&&C.delete(d),d=ta(),c.pingedLanes|=c.suspendedLanes&b,li===c&&(ji&b)===b&&(zi===4||zi===3&&(ji&130023424)===ji&&500>bn()-bv?dd(c,0):Pb|=b),Bi(c,d)}function VC(c,d){d===0&&(c.mode&1?(d=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):d=1);var b=ta();c=Bl(c,d),c!==null&&(ys(c,d,b),Bi(c,b))}function jb(c){var d=c.memoizedState,b=0;d!==null&&(b=d.retryLane),VC(c,b)}function x6(c,d){var b=0;switch(c.tag){case 13:var C=c.stateNode,N=c.memoizedState;N!==null&&(b=N.retryLane);break;case 19:C=c.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(d),VC(c,b)}var jC;jC=function(c,d,b){if(c!==null)if(c.memoizedProps!==d.pendingProps||si.current)_o=!0;else{if(!(c.lanes&b)&&!(d.flags&128))return _o=!1,Hl(c,d,b);_o=!!(c.flags&131072)}else _o=!1,$r&&d.flags&1048576&&mb(d,yp,d.index);switch(d.lanes=0,d.tag){case 2:var C=d.type;Im(c,d),c=d.pendingProps;var N=Ts(d,ln.current);wp(d,b),N=qe(null,d,C,c,N,b);var $=Ai();return d.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Wr(C)?($=!0,P0(d)):$=!1,d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,B0(d),N.updater=ad,d.stateNode=N,N._reactInternals=d,Tb(d,C,c,b),d=cv(null,d,C,!0,$,b)):(d.tag=0,$r&&$&&M0(d),xi(null,d,N,b),d=d.child),d;case 16:C=d.elementType;e:{switch(Im(c,d),c=d.pendingProps,N=C._init,C=N(C._payload),d.type=C,N=d.tag=S6(C),c=Eo(C,c),N){case 0:d=yn(null,d,C,c,b);break e;case 1:d=Om(null,d,C,c,b);break e;case 11:d=Dp(null,d,C,c,b);break e;case 14:d=Kc(null,d,C,Eo(C.type,c),b);break e}throw Error(n(306,C,""))}return d;case 0:return C=d.type,N=d.pendingProps,N=d.elementType===C?N:Eo(C,N),yn(c,d,C,N,b);case 1:return C=d.type,N=d.pendingProps,N=d.elementType===C?N:Eo(C,N),Om(c,d,C,N,b);case 3:e:{if(f6(d),c===null)throw Error(n(387));C=d.pendingProps,$=d.memoizedState,N=$.element,xp(c,d),H0(d,C,null,b);var G=d.memoizedState;if(C=G.element,$.isDehydrated)if($={element:C,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=$,d.memoizedState=$,d.flags&256){N=Gc(Error(n(423)),d),d=kC(c,d,C,b,N);break e}else if(C!==N){N=Gc(Error(n(424)),d),d=kC(c,d,C,b,N);break e}else for(So=vu(d.stateNode.containerInfo.firstChild),Go=d,$r=!0,Rs=null,b=pC(d,null,C,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Xr(),C===N){d=Si(c,d,b);break e}xi(c,d,C,b)}d=d.child}return d;case 5:return vC(d),c===null&&F0(d),C=d.type,N=d.pendingProps,$=c!==null?c.memoizedProps:null,G=N.children,ym(C,N)?G=null:$!==null&&ym(C,$)&&(d.flags|=32),od(c,d),xi(c,d,G,b),d.child;case 6:return c===null&&F0(d),null;case 13:return NC(c,d,b);case 4:return xb(d,d.stateNode.containerInfo),C=d.pendingProps,c===null?d.child=bp(d,null,C,b):xi(c,d,C,b),d.child;case 11:return C=d.type,N=d.pendingProps,N=d.elementType===C?N:Eo(C,N),Dp(c,d,C,N,b);case 7:return xi(c,d,d.pendingProps,b),d.child;case 8:return xi(c,d,d.pendingProps.children,b),d.child;case 12:return xi(c,d,d.pendingProps.children,b),d.child;case 10:e:{if(C=d.type._context,N=d.pendingProps,$=d.memoizedProps,G=N.value,lr(zl,C._currentValue),C._currentValue=G,$!==null)if(Es($.value,G)){if($.children===N.children&&!si.current){d=Si(c,d,b);break e}}else for($=d.child,$!==null&&($.return=d);$!==null;){var ae=$.dependencies;if(ae!==null){G=$.child;for(var ce=ae.firstContext;ce!==null;){if(ce.context===C){if($.tag===1){ce=Co(-1,b&-b),ce.tag=2;var De=$.updateQueue;if(De!==null){De=De.shared;var Xe=De.pending;Xe===null?ce.next=ce:(ce.next=Xe.next,Xe.next=ce),De.pending=ce}}$.lanes|=b,ce=$.alternate,ce!==null&&(ce.lanes|=b),wb($.return,b,d),ae.lanes|=b;break}ce=ce.next}}else if($.tag===10)G=$.type===d.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=b,ae=G.alternate,ae!==null&&(ae.lanes|=b),wb(G,b,d),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===d){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}xi(c,d,N.children,b),d=d.child}return d;case 9:return N=d.type,C=d.pendingProps.children,wp(d,b),N=Ds(N),C=C(N),d.flags|=1,xi(c,d,C,b),d.child;case 14:return C=d.type,N=Eo(C,d.pendingProps),N=Eo(C.type,N),Kc(c,d,C,N,b);case 15:return lv(c,d,d.type,d.pendingProps,b);case 17:return C=d.type,N=d.pendingProps,N=d.elementType===C?N:Eo(C,N),Im(c,d),d.tag=1,Wr(C)?(c=!0,P0(d)):c=!1,wp(d,b),wC(d,C,N),Tb(d,C,N,b),cv(null,d,C,!0,c,b);case 19:return Ab(c,d,b);case 22:return To(c,d,b)}throw Error(n(156,d.tag))};function zC(c,d){return fr(c,d)}function BC(c,d,b,C){this.tag=c,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(c,d,b,C){return new BC(c,d,b,C)}function zb(c){return c=c.prototype,!(!c||!c.isReactComponent)}function S6(c){if(typeof c=="function")return zb(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Pe)return 11;if(c===je)return 14}return 2}function Zc(c,d){var b=c.alternate;return b===null?(b=Ls(c.tag,d,c.key,c.mode),b.elementType=c.elementType,b.type=c.type,b.stateNode=c.stateNode,b.alternate=c,c.alternate=b):(b.pendingProps=d,b.type=c.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=c.flags&14680064,b.childLanes=c.childLanes,b.lanes=c.lanes,b.child=c.child,b.memoizedProps=c.memoizedProps,b.memoizedState=c.memoizedState,b.updateQueue=c.updateQueue,d=c.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=c.sibling,b.index=c.index,b.ref=c.ref,b}function Tv(c,d,b,C,N,$){var G=2;if(C=c,typeof c=="function")zb(c)&&(G=1);else if(typeof c=="string")G=5;else e:switch(c){case Y:return pd(b.children,N,$,d);case te:G=8,N|=8;break;case fe:return c=Ls(12,b,d,N|2),c.elementType=fe,c.lanes=$,c;case xe:return c=Ls(13,b,d,N),c.elementType=xe,c.lanes=$,c;case Te:return c=Ls(19,b,d,N),c.elementType=Te,c.lanes=$,c;case Re:return kv(b,N,$,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case ye:G=10;break e;case de:G=9;break e;case Pe:G=11;break e;case je:G=14;break e;case $e:G=16,C=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return d=Ls(G,b,d,N),d.elementType=c,d.type=C,d.lanes=$,d}function pd(c,d,b,C){return c=Ls(7,c,C,d),c.lanes=b,c}function kv(c,d,b,C){return c=Ls(22,c,C,d),c.elementType=Re,c.lanes=b,c.stateNode={isHidden:!1},c}function Nv(c,d,b){return c=Ls(6,c,null,d),c.lanes=b,c}function jm(c,d,b){return d=Ls(4,c.children!==null?c.children:[],c.key,d),d.lanes=b,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function zm(c,d,b,C,N){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=C,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Bb(c,d,b,C,N,$,G,ae,ce){return c=new zm(c,d,b,ae,ce),d===1?(d=1,$===!0&&(d|=8)):d=0,$=Ls(3,null,null,d),c.current=$,$.stateNode=c,$.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},B0($),c}function UC(c,d,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:C==null?null:""+C,children:c,containerInfo:d,implementation:b}}function Ub(c){if(!c)return Xu;c=c._reactInternals;e:{if(dn(c)!==c||c.tag!==1)throw Error(n(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Wr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(c.tag===1){var b=c.type;if(Wr(b))return xm(c,b,d)}return d}function Hb(c,d,b,C,N,$,G,ae,ce){return c=Bb(b,C,!0,c,N,$,G,ae,ce),c.context=Ub(null),b=c.current,C=ta(),N=Gl(b),$=Co(C,N),$.callback=d??null,Hc(b,$,N),c.current.lanes=N,ys(c,N,C),Bi(c,C),c}function Rv(c,d,b,C){var N=d.current,$=ta(),G=Gl(N);return b=Ub(b),d.context===null?d.context=b:d.pendingContext=b,d=Co($,G),d.payload={element:c},C=C===void 0?null:C,C!==null&&(d.callback=C),c=Hc(N,d,G),c!==null&&(Qr(c,N,G,$),U0(c,N,G)),G}function Bm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function HC(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var b=c.retryLane;c.retryLane=b!==0&&b<d?b:d}}function Wb(c,d){HC(c,d),(c=c.alternate)&&HC(c,d)}var WC=typeof reportError=="function"?reportError:function(c){console.error(c)};function Av(c){this._internalRoot=c}Um.prototype.render=Av.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));Rv(c,d,null,null)},Um.prototype.unmount=Av.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;nl(function(){Rv(null,c,null,null)}),d[Vl]=null}};function Um(c){this._internalRoot=c}Um.prototype.unstable_scheduleHydration=function(c){if(c){var d=xs();c={blockedOn:null,target:c,priority:d};for(var b=0;b<Yn.length&&d!==0&&d<Yn[b].priority;b++);Yn.splice(b,0,c),b===0&&Ku(c)}};function Dv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Kl(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function GC(){}function C6(c,d,b,C,N){if(N){if(typeof C=="function"){var $=C;C=function(){var De=Bm(G);$.call(De)}}var G=Hb(d,C,c,0,null,!1,!1,"",GC);return c._reactRootContainer=G,c[Vl]=G.current,gp(c.nodeType===8?c.parentNode:c),nl(),G}for(;N=c.lastChild;)c.removeChild(N);if(typeof C=="function"){var ae=C;C=function(){var De=Bm(ce);ae.call(De)}}var ce=Bb(c,0,!1,null,null,!1,!1,"",GC);return c._reactRootContainer=ce,c[Vl]=ce.current,gp(c.nodeType===8?c.parentNode:c),nl(function(){Rv(d,ce,b,C)}),ce}function Ov(c,d,b,C,N){var $=b._reactRootContainer;if($){var G=$;if(typeof N=="function"){var ae=N;N=function(){var ce=Bm(G);ae.call(ce)}}Rv(d,G,c,N)}else G=C6(b,d,c,N,C);return Bm(G)}ws=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var b=go(d.pendingLanes);b!==0&&(bs(d,b|1),Bi(d,bn()),!(On&6)&&(Up=bn()+500,bo()))}break;case 13:nl(function(){var C=Bl(c,1);if(C!==null){var N=ta();Qr(C,c,1,N)}}),Wb(c,1)}},$l=function(c){if(c.tag===13){var d=Bl(c,134217728);if(d!==null){var b=ta();Qr(d,c,134217728,b)}Wb(c,134217728)}},kn=function(c){if(c.tag===13){var d=Gl(c),b=Bl(c,d);if(b!==null){var C=ta();Qr(b,c,d,C)}Wb(c,d)}},xs=function(){return Vn},$c=function(c,d){var b=Vn;try{return Vn=c,d()}finally{Vn=b}},Ar=function(c,d,b){switch(d){case"input":if(ir(c,b),d=b.name,b.type==="radio"&&d!=null){for(b=c;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<b.length;d++){var C=b[d];if(C!==c&&C.form===c.form){var N=Yt(C);if(!N)throw Error(n(90));He(C),ir(C,N)}}}break;case"textarea":mi(c,b);break;case"select":d=b.value,d!=null&&Ii(c,!!b.multiple,d,!1)}},Hu=Vb,Wu=nl;var E6={usingClientEntryPoint:!1,Events:[wm,vp,Yt,ho,ca,Vb]},Hm={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_6={bundleType:Hm.bundleType,version:Hm.version,rendererPackageName:Hm.rendererPackageName,rendererConfig:Hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=zr(c),c===null?null:c.stateNode},findFiberByHostInstance:Hm.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wm.isDisabled&&Wm.supportsFiber)try{Li=Wm.inject(_6),Fi=Wm}catch{}}return ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6,ts.createPortal=function(c,d){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dv(d))throw Error(n(200));return UC(c,d,null,b)},ts.createRoot=function(c,d){if(!Dv(c))throw Error(n(299));var b=!1,C="",N=WC;return d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),d=Bb(c,1,!1,null,null,b,!1,C,N),c[Vl]=d.current,gp(c.nodeType===8?c.parentNode:c),new Av(d)},ts.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=zr(d),c=c===null?null:c.stateNode,c},ts.flushSync=function(c){return nl(c)},ts.hydrate=function(c,d,b){if(!Kl(d))throw Error(n(200));return Ov(null,c,d,!0,b)},ts.hydrateRoot=function(c,d,b){if(!Dv(c))throw Error(n(405));var C=b!=null&&b.hydratedSources||null,N=!1,$="",G=WC;if(b!=null&&(b.unstable_strictMode===!0&&(N=!0),b.identifierPrefix!==void 0&&($=b.identifierPrefix),b.onRecoverableError!==void 0&&(G=b.onRecoverableError)),d=Hb(d,null,c,1,b??null,N,!1,$,G),c[Vl]=d.current,gp(c),C)for(c=0;c<C.length;c++)b=C[c],N=b._getVersion,N=N(b._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[b,N]:d.mutableSourceEagerHydrationData.push(b,N);return new Um(d)},ts.render=function(c,d,b){if(!Kl(d))throw Error(n(200));return Ov(null,c,d,!1,b)},ts.unmountComponentAtNode=function(c){if(!Kl(c))throw Error(n(40));return c._reactRootContainer?(nl(function(){Ov(null,null,c,!1,function(){c._reactRootContainer=null,c[Vl]=null})}),!0):!1},ts.unstable_batchedUpdates=Vb,ts.unstable_renderSubtreeIntoContainer=function(c,d,b,C){if(!Kl(b))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Ov(c,d,b,!1,C)},ts.version="18.3.1-next-f1338f8080-20240426",ts}var ns={};/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function wZ(){return TI||(TI=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=j,e=EI(),n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=!1;function i(a){r=a}function o(a){if(!r){for(var u=arguments.length,h=new Array(u>1?u-1:0),v=1;v<u;v++)h[v-1]=arguments[v];l("warn",a,h)}}function s(a){if(!r){for(var u=arguments.length,h=new Array(u>1?u-1:0),v=1;v<u;v++)h[v-1]=arguments[v];l("error",a,h)}}function l(a,u,h){{var v=n.ReactDebugCurrentFrame,w=v.getStackAddendum();w!==""&&(u+="%s",h=h.concat([w]));var T=h.map(function(A){return String(A)});T.unshift("Warning: "+u),Function.prototype.apply.call(console[a],console,T)}}var f=0,p=1,m=2,g=3,y=4,x=5,S=6,_=7,k=8,R=9,O=10,I=11,P=12,F=13,K=14,Y=15,te=16,fe=17,ye=18,de=19,Pe=21,xe=22,Te=23,je=24,$e=25,Re=!0,be=!1,Ve=!1,he=!1,ne=!1,we=!0,We=!1,Ue=!0,at=!0,Qe=!0,Me=!0,Ge=new Set,rt={},ot={};function Rt(a,u){He(a,u),He(a+"Capture",u)}function He(a,u){rt[a]&&s("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",a),rt[a]=u;{var h=a.toLowerCase();ot[h]=a,a==="onDoubleClick"&&(ot.ondblclick=a)}for(var v=0;v<u.length;v++)Ge.add(u[v])}var At=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nn=Object.prototype.hasOwnProperty;function Jn(a){{var u=typeof Symbol=="function"&&Symbol.toStringTag,h=u&&a[Symbol.toStringTag]||a.constructor.name||"Object";return h}}function yr(a){try{return ir(a),!1}catch{return!0}}function ir(a){return""+a}function $i(a,u){if(yr(a))return s("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Jn(a)),ir(a)}function ai(a){if(yr(a))return s("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Jn(a)),ir(a)}function hi(a,u){if(yr(a))return s("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Jn(a)),ir(a)}function Ii(a,u){if(yr(a))return s("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",u,Jn(a)),ir(a)}function Wi(a){if(yr(a))return s("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Jn(a)),ir(a)}function Pi(a){if(yr(a))return s("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Jn(a)),ir(a)}var mi=0,ki=1,Mi=2,jr=3,la=4,Vo=5,Ba=6,ht=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Vt=ht+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",fn=new RegExp("^["+ht+"]["+Vt+"]*$"),Fn={},Un={};function qr(a){return nn.call(Un,a)?!0:nn.call(Fn,a)?!1:fn.test(a)?(Un[a]=!0,!0):(Fn[a]=!0,s("Invalid attribute name: `%s`",a),!1)}function _r(a,u,h){return u!==null?u.type===mi:h?!1:a.length>2&&(a[0]==="o"||a[0]==="O")&&(a[1]==="n"||a[1]==="N")}function oi(a,u,h,v){if(h!==null&&h.type===mi)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":{if(v)return!1;if(h!==null)return!h.acceptsBooleans;var w=a.toLowerCase().slice(0,5);return w!=="data-"&&w!=="aria-"}default:return!1}}function Ln(a,u,h,v){if(u===null||typeof u>"u"||oi(a,u,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case jr:return!u;case la:return u===!1;case Vo:return isNaN(u);case Ba:return isNaN(u)||u<1}return!1}function Ar(a){return Hn.hasOwnProperty(a)?Hn[a]:null}function ar(a,u,h,v,w,T,A){this.acceptsBooleans=u===Mi||u===jr||u===la,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=T,this.removeEmptyString=A}var Hn={},po=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];po.forEach(function(a){Hn[a]=new ar(a,mi,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0],h=a[1];Hn[u]=new ar(u,ki,!1,h,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){Hn[a]=new ar(a,Mi,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Hn[a]=new ar(a,Mi,!1,a,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(a){Hn[a]=new ar(a,jr,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){Hn[a]=new ar(a,jr,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){Hn[a]=new ar(a,la,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){Hn[a]=new ar(a,Ba,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){Hn[a]=new ar(a,Vo,!1,a.toLowerCase(),null,!1,!1)});var ho=/[\-\:]([a-z])/g,ca=function(a){return a[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(a){var u=a.replace(ho,ca);Hn[u]=new ar(u,ki,!1,a,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(a){var u=a.replace(ho,ca);Hn[u]=new ar(u,ki,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(ho,ca);Hn[u]=new ar(u,ki,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){Hn[a]=new ar(a,ki,!1,a.toLowerCase(),null,!1,!1)});var Hu="xlinkHref";Hn[Hu]=new ar("xlinkHref",ki,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){Hn[a]=new ar(a,ki,!1,a.toLowerCase(),null,!0,!0)});var Wu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,mo=!1;function vs(a){!mo&&Wu.test(a)&&(mo=!0,s("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(a)))}function Ua(a,u,h,v){if(v.mustUseProperty){var w=v.propertyName;return a[w]}else{$i(h,u),v.sanitizeURL&&vs(""+h);var T=v.attributeName,A=null;if(v.type===la){if(a.hasAttribute(T)){var L=a.getAttribute(T);return L===""?!0:Ln(u,h,v,!1)?L:L===""+h?h:L}}else if(a.hasAttribute(T)){if(Ln(u,h,v,!1))return a.getAttribute(T);if(v.type===jr)return h;A=a.getAttribute(T)}return Ln(u,h,v,!1)?A===null?h:A:A===""+h?h:A}}function Gi(a,u,h,v){{if(!qr(u))return;if(!a.hasAttribute(u))return h===void 0?void 0:null;var w=a.getAttribute(u);return $i(h,u),w===""+h?h:w}}function Ha(a,u,h,v){var w=Ar(u);if(!_r(u,w,v)){if(Ln(u,h,w,v)&&(h=null),v||w===null){if(qr(u)){var T=u;h===null?a.removeAttribute(T):($i(h,u),a.setAttribute(T,""+h))}return}var A=w.mustUseProperty;if(A){var L=w.propertyName;if(h===null){var z=w.type;a[L]=z===jr?!1:""}else a[L]=h;return}var Z=w.attributeName,J=w.attributeNamespace;if(h===null)a.removeAttribute(Z);else{var ve=w.type,me;ve===jr||ve===la&&h===!0?me="":($i(h,Z),me=""+h,w.sanitizeURL&&vs(me.toString())),J?a.setAttributeNS(J,Z,me):a.setAttribute(Z,me)}}}var Ni=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),qn=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),Ke=Symbol.for("react.provider"),wt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),dn=Symbol.for("react.suspense"),_n=Symbol.for("react.suspense_list"),rn=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),zr=Symbol.for("react.scope"),or=Symbol.for("react.debug_trace_mode"),fr=Symbol.for("react.offscreen"),dr=Symbol.for("react.legacy_hidden"),gi=Symbol.for("react.cache"),fa=Symbol.for("react.tracing_marker"),bn=Symbol.iterator,au="@@iterator";function Aa(a){if(a===null||typeof a!="object")return null;var u=bn&&a[bn]||a[au];return typeof u=="function"?u:null}var gn=Object.assign,vi=0,ou,su,Li,Fi,Ff,Ki,Rl;function Vf(){}Vf.__reactDisabledLog=!0;function cp(){{if(vi===0){ou=console.log,su=console.info,Li=console.warn,Fi=console.error,Ff=console.group,Ki=console.groupCollapsed,Rl=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Vf,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}vi++}}function Al(){{if(vi--,vi===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:gn({},a,{value:ou}),info:gn({},a,{value:su}),warn:gn({},a,{value:Li}),error:gn({},a,{value:Fi}),group:gn({},a,{value:Ff}),groupCollapsed:gn({},a,{value:Ki}),groupEnd:gn({},a,{value:Rl})})}vi<0&&s("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var uu=n.ReactCurrentDispatcher,go;function qi(a,u,h){{if(go===void 0)try{throw Error()}catch(w){var v=w.stack.trim().match(/\n( *(at )?)/);go=v&&v[1]||""}return`
`+go+a}}var Zr=!1,lu;{var cu=typeof WeakMap=="function"?WeakMap:Map;lu=new cu}function fu(a,u){if(!a||Zr)return"";{var h=lu.get(a);if(h!==void 0)return h}var v;Zr=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var T;T=uu.current,uu.current=null,cp();try{if(u){var A=function(){throw Error()};if(Object.defineProperty(A.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(A,[])}catch(Oe){v=Oe}Reflect.construct(a,[],A)}else{try{A.call()}catch(Oe){v=Oe}a.call(A.prototype)}}else{try{throw Error()}catch(Oe){v=Oe}a()}}catch(Oe){if(Oe&&v&&typeof Oe.stack=="string"){for(var L=Oe.stack.split(`
`),z=v.stack.split(`
`),Z=L.length-1,J=z.length-1;Z>=1&&J>=0&&L[Z]!==z[J];)J--;for(;Z>=1&&J>=0;Z--,J--)if(L[Z]!==z[J]){if(Z!==1||J!==1)do if(Z--,J--,J<0||L[Z]!==z[J]){var ve=`
`+L[Z].replace(" at new "," at ");return a.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",a.displayName)),typeof a=="function"&&lu.set(a,ve),ve}while(Z>=1&&J>=0);break}}}finally{Zr=!1,uu.current=T,Al(),Error.prepareStackTrace=w}var me=a?a.displayName||a.name:"",Ne=me?qi(me):"";return typeof a=="function"&&lu.set(a,Ne),Ne}function Dl(a,u,h){return fu(a,!0)}function ys(a,u,h){return fu(a,!1)}function um(a){var u=a.prototype;return!!(u&&u.isReactComponent)}function bs(a,u,h){if(a==null)return"";if(typeof a=="function")return fu(a,um(a));if(typeof a=="string")return qi(a);switch(a){case dn:return qi("Suspense");case _n:return qi("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case xt:return ys(a.render);case rn:return bs(a.type,u,h);case Gt:{var v=a,w=v._payload,T=v._init;try{return bs(T(w),u,h)}catch{}}}return""}function Vn(a){switch(a._debugOwner&&a._debugOwner.type,a._debugSource,a.tag){case x:return qi(a.type);case te:return qi("Lazy");case F:return qi("Suspense");case de:return qi("SuspenseList");case f:case m:case Y:return ys(a.type);case I:return ys(a.type.render);case p:return Dl(a.type);default:return""}}function Ol(a){try{var u="",h=a;do u+=Vn(h),h=h.return;while(h);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function ws(a,u,h){var v=a.displayName;if(v)return v;var w=u.displayName||u.name||"";return w!==""?h+"("+w+")":h}function $l(a){return a.displayName||"Context"}function kn(a){if(a==null)return null;if(typeof a.tag=="number"&&s("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Ra:return"Fragment";case Yr:return"Portal";case oe:return"Profiler";case qn:return"StrictMode";case dn:return"Suspense";case _n:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case wt:var u=a;return $l(u)+".Consumer";case Ke:var h=a;return $l(h._context)+".Provider";case xt:return ws(a,a.render,"ForwardRef");case rn:var v=a.displayName||null;return v!==null?v:kn(a.type)||"Memo";case Gt:{var w=a,T=w._payload,A=w._init;try{return kn(A(T))}catch{return null}}}return null}function xs(a,u,h){var v=u.displayName||u.name||"";return a.displayName||(v!==""?h+"("+v+")":h)}function $c(a){return a.displayName||"Context"}function un(a){var u=a.tag,h=a.type;switch(u){case je:return"Cache";case R:var v=h;return $c(v)+".Consumer";case O:var w=h;return $c(w._context)+".Provider";case ye:return"DehydratedFragment";case I:return xs(h,h.render,"ForwardRef");case _:return"Fragment";case x:return h;case y:return"Portal";case g:return"Root";case S:return"Text";case te:return kn(h);case k:return h===qn?"StrictMode":"Mode";case xe:return"Offscreen";case P:return"Profiler";case Pe:return"Scope";case F:return"Suspense";case de:return"SuspenseList";case $e:return"TracingMarker";case p:case f:case fe:case m:case K:case Y:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;break}return null}var Il=n.ReactDebugCurrentFrame,Dr=null,Yi=!1;function yi(){{if(Dr===null)return null;var a=Dr._debugOwner;if(a!==null&&typeof a<"u")return un(a)}return null}function Gu(){return Dr===null?"":Ol(Dr)}function Br(){Il.getCurrentStack=null,Dr=null,Yi=!1}function Yn(a){Il.getCurrentStack=a===null?null:Gu,Dr=a,Yi=!1}function fp(){return Dr}function Zi(a){Yi=a}function bi(a){return""+a}function jo(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return Pi(a),a;default:return""}}var Ku={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function wi(a,u){Ku[u.type]||u.onChange||u.onInput||u.readOnly||u.disabled||u.value==null||s("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),u.onChange||u.readOnly||u.disabled||u.checked==null||s("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function qu(a){var u=a.type,h=a.nodeName;return h&&h.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function dp(a){return a._valueTracker}function Wa(a){a._valueTracker=null}function du(a){var u="";return a&&(qu(a)?u=a.checked?"true":"false":u=a.value),u}function zo(a){var u=qu(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);Pi(a[u]);var v=""+a[u];if(!(a.hasOwnProperty(u)||typeof h>"u"||typeof h.get!="function"||typeof h.set!="function")){var w=h.get,T=h.set;Object.defineProperty(a,u,{configurable:!0,get:function(){return w.call(this)},set:function(L){Pi(L),v=""+L,T.call(this,L)}}),Object.defineProperty(a,u,{enumerable:h.enumerable});var A={getValue:function(){return v},setValue:function(L){Pi(L),v=""+L},stopTracking:function(){Wa(a),delete a[u]}};return A}}function Da(a){dp(a)||(a._valueTracker=zo(a))}function Bo(a){if(!a)return!1;var u=dp(a);if(!u)return!0;var h=u.getValue(),v=du(a);return v!==h?(u.setValue(v),!0):!1}function pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ss=!1,Pl=!1,Ic=!1,hu=!1;function vo(a){var u=a.type==="checkbox"||a.type==="radio";return u?a.checked!=null:a.value!=null}function U(a,u){var h=a,v=u.checked,w=gn({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??h._wrapperState.initialChecked});return w}function se(a,u){wi("input",u),u.checked!==void 0&&u.defaultChecked!==void 0&&!Pl&&(s("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",yi()||"A component",u.type),Pl=!0),u.value!==void 0&&u.defaultValue!==void 0&&!Ss&&(s("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",yi()||"A component",u.type),Ss=!0);var h=a,v=u.defaultValue==null?"":u.defaultValue;h._wrapperState={initialChecked:u.checked!=null?u.checked:u.defaultChecked,initialValue:jo(u.value!=null?u.value:v),controlled:vo(u)}}function ke(a,u){var h=a,v=u.checked;v!=null&&Ha(h,"checked",v,!1)}function Ie(a,u){var h=a;{var v=vo(u);!h._wrapperState.controlled&&v&&!hu&&(s("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),hu=!0),h._wrapperState.controlled&&!v&&!Ic&&(s("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Ic=!0)}ke(a,u);var w=jo(u.value),T=u.type;if(w!=null)T==="number"?(w===0&&h.value===""||h.value!=w)&&(h.value=bi(w)):h.value!==bi(w)&&(h.value=bi(w));else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}u.hasOwnProperty("value")?qt(h,u.type,w):u.hasOwnProperty("defaultValue")&&qt(h,u.type,jo(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(h.defaultChecked=!!u.defaultChecked)}function it(a,u,h){var v=a;if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type,T=w==="submit"||w==="reset";if(T&&(u.value===void 0||u.value===null))return;var A=bi(v._wrapperState.initialValue);h||A!==v.value&&(v.value=A),v.defaultValue=A}var L=v.name;L!==""&&(v.name=""),v.defaultChecked=!v.defaultChecked,v.defaultChecked=!!v._wrapperState.initialChecked,L!==""&&(v.name=L)}function Zt(a,u){var h=a;Ie(h,u),mt(h,u)}function mt(a,u){var h=u.name;if(u.type==="radio"&&h!=null){for(var v=a;v.parentNode;)v=v.parentNode;$i(h,"name");for(var w=v.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),T=0;T<w.length;T++){var A=w[T];if(!(A===a||A.form!==a.form)){var L=cE(A);if(!L)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Bo(A),Ie(A,L)}}}}function qt(a,u,h){(u!=="number"||pu(a.ownerDocument)!==a)&&(h==null?a.defaultValue=bi(a._wrapperState.initialValue):a.defaultValue!==bi(h)&&(a.defaultValue=bi(h)))}var Sn=!1,Rn=!1,sr=!1;function er(a,u){u.value==null&&(typeof u.children=="object"&&u.children!==null?t.Children.forEach(u.children,function(h){h!=null&&(typeof h=="string"||typeof h=="number"||Rn||(Rn=!0,s("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):u.dangerouslySetInnerHTML!=null&&(sr||(sr=!0,s("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),u.selected!=null&&!Sn&&(s("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Sn=!0)}function pr(a,u){u.value!=null&&a.setAttribute("value",bi(jo(u.value)))}var br=Array.isArray;function An(a){return br(a)}var Cs;Cs=!1;function Pc(){var a=yi();return a?`

Check the render method of \``+a+"`.":""}var jf=["value","defaultValue"];function zf(a){{wi("select",a);for(var u=0;u<jf.length;u++){var h=jf[u];if(a[h]!=null){var v=An(a[h]);a.multiple&&!v?s("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",h,Pc()):!a.multiple&&v&&s("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",h,Pc())}}}}function Uo(a,u,h,v){var w=a.options;if(u){for(var T=h,A={},L=0;L<T.length;L++)A["$"+T[L]]=!0;for(var z=0;z<w.length;z++){var Z=A.hasOwnProperty("$"+w[z].value);w[z].selected!==Z&&(w[z].selected=Z),Z&&v&&(w[z].defaultSelected=!0)}}else{for(var J=bi(jo(h)),ve=null,me=0;me<w.length;me++){if(w[me].value===J){w[me].selected=!0,v&&(w[me].defaultSelected=!0);return}ve===null&&!w[me].disabled&&(ve=w[me])}ve!==null&&(ve.selected=!0)}}function Bf(a,u){return gn({},u,{value:void 0})}function Uf(a,u){var h=a;zf(u),h._wrapperState={wasMultiple:!!u.multiple},u.value!==void 0&&u.defaultValue!==void 0&&!Cs&&(s("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Cs=!0)}function Mc(a,u){var h=a;h.multiple=!!u.multiple;var v=u.value;v!=null?Uo(h,!!u.multiple,v,!1):u.defaultValue!=null&&Uo(h,!!u.multiple,u.defaultValue,!0)}function q1(a,u){var h=a,v=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!u.multiple;var w=u.value;w!=null?Uo(h,!!u.multiple,w,!1):v!==!!u.multiple&&(u.defaultValue!=null?Uo(h,!!u.multiple,u.defaultValue,!0):Uo(h,!!u.multiple,u.multiple?[]:"",!1))}function Y1(a,u){var h=a,v=u.value;v!=null&&Uo(h,!!u.multiple,v,!1)}var lm=!1;function pp(a,u){var h=a;if(u.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var v=gn({},u,{value:void 0,defaultValue:void 0,children:bi(h._wrapperState.initialValue)});return v}function cm(a,u){var h=a;wi("textarea",u),u.value!==void 0&&u.defaultValue!==void 0&&!lm&&(s("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",yi()||"A component"),lm=!0);var v=u.value;if(v==null){var w=u.children,T=u.defaultValue;if(w!=null){s("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(T!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(An(w)){if(w.length>1)throw new Error("<textarea> can only have at most one child.");w=w[0]}T=w}}T==null&&(T=""),v=T}h._wrapperState={initialValue:jo(v)}}function E(a,u){var h=a,v=jo(u.value),w=jo(u.defaultValue);if(v!=null){var T=bi(v);T!==h.value&&(h.value=T),u.defaultValue==null&&h.defaultValue!==T&&(h.defaultValue=T)}w!=null&&(h.defaultValue=bi(w))}function D(a,u){var h=a,v=h.textContent;v===h._wrapperState.initialValue&&v!==""&&v!==null&&(h.value=v)}function V(a,u){E(a,u)}var H="http://www.w3.org/1999/xhtml",ee="http://www.w3.org/1998/Math/MathML",ie="http://www.w3.org/2000/svg";function re(a){switch(a){case"svg":return ie;case"math":return ee;default:return H}}function pe(a,u){return a==null||a===H?re(u):a===ie&&u==="foreignObject"?H:a}var Ae=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,v,w){MSApp.execUnsafeLocalFunction(function(){return a(u,h,v,w)})}:a},Ze,dt=Ae(function(a,u){if(a.namespaceURI===ie&&!("innerHTML"in a)){Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>";for(var h=Ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;h.firstChild;)a.appendChild(h.firstChild);return}a.innerHTML=u}),Lt=1,Dt=3,st=8,jt=9,pn=11,ur=function(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===Dt){h.nodeValue=u;return}}a.textContent=u},hr={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function Ga(a,u){return a+u.charAt(0).toUpperCase()+u.substring(1)}var da=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(a){da.forEach(function(u){Ur[Ga(u,a)]=Ur[a]})});function Dn(a,u,h){var v=u==null||typeof u=="boolean"||u==="";return v?"":!h&&typeof u=="number"&&u!==0&&!(Ur.hasOwnProperty(a)&&Ur[a])?u+"px":(Ii(u,a),(""+u).trim())}var Hr=/([A-Z])/g,Yu=/^ms-/;function Z1(a){return a.replace(Hr,"-$1").toLowerCase().replace(Yu,"-ms-")}var _0=function(){};{var T0=/^(?:webkit|moz|o)[A-Z]/,k0=/^-ms-/,Hf=/-(.)/g,mu=/;\s*$/,hp={},mp={},HS=!1,X1=!1,Q1=function(a){return a.replace(Hf,function(u,h){return h.toUpperCase()})},J1=function(a){hp.hasOwnProperty(a)&&hp[a]||(hp[a]=!0,s("Unsupported style property %s. Did you mean %s?",a,Q1(a.replace(k0,"ms-"))))},WS=function(a){hp.hasOwnProperty(a)&&hp[a]||(hp[a]=!0,s("Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)))},GS=function(a,u){mp.hasOwnProperty(u)&&mp[u]||(mp[u]=!0,s(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,a,u.replace(mu,"")))},KS=function(a,u){HS||(HS=!0,s("`NaN` is an invalid value for the `%s` css style property.",a))},e6=function(a,u){X1||(X1=!0,s("`Infinity` is an invalid value for the `%s` css style property.",a))};_0=function(a,u){a.indexOf("-")>-1?J1(a):T0.test(a)?WS(a):mu.test(u)&&GS(a,u),typeof u=="number"&&(isNaN(u)?KS(a,u):isFinite(u)||e6(a,u))}}var t6=_0;function n6(a){{var u="",h="";for(var v in a)if(a.hasOwnProperty(v)){var w=a[v];if(w!=null){var T=v.indexOf("--")===0;u+=h+(T?v:Z1(v))+":",u+=Dn(v,w,T),h=";"}}return u||null}}function qS(a,u){var h=a.style;for(var v in u)if(u.hasOwnProperty(v)){var w=v.indexOf("--")===0;w||t6(v,u[v]);var T=Dn(v,u[v],w);v==="float"&&(v="cssFloat"),w?h.setProperty(v,T):h[v]=T}}function r6(a){return a==null||typeof a=="boolean"||a===""}function Es(a){var u={};for(var h in a)for(var v=hr[h]||[h],w=0;w<v.length;w++)u[v[w]]=h;return u}function fm(a,u){{if(!u)return;var h=Es(a),v=Es(u),w={};for(var T in h){var A=h[T],L=v[T];if(L&&A!==L){var z=A+","+L;if(w[z])continue;w[z]=!0,s("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",r6(a[A])?"Removing":"Updating",A,L)}}}}var YS={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ZS=gn({menuitem:!0},YS),XS="__html";function N0(a,u){if(u){if(ZS[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw new Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof u.dangerouslySetInnerHTML!="object"||!(XS in u.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!u.suppressContentEditableWarning&&u.contentEditable&&u.children!=null&&s("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),u.style!=null&&typeof u.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Ml(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},QS={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},gu={},eb=new RegExp("^(aria)-["+Vt+"]*$"),dm=new RegExp("^(aria)[A-Z]["+Vt+"]*$");function tb(a,u){{if(nn.call(gu,u)&&gu[u])return!0;if(dm.test(u)){var h="aria-"+u.slice(4).toLowerCase(),v=QS.hasOwnProperty(h)?h:null;if(v==null)return s("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",u),gu[u]=!0,!0;if(u!==v)return s("Invalid ARIA attribute `%s`. Did you mean `%s`?",u,v),gu[u]=!0,!0}if(eb.test(u)){var w=u.toLowerCase(),T=QS.hasOwnProperty(w)?w:null;if(T==null)return gu[u]=!0,!1;if(u!==T)return s("Unknown ARIA attribute `%s`. Did you mean `%s`?",u,T),gu[u]=!0,!0}}return!0}function JS(a,u){{var h=[];for(var v in u){var w=tb(a,v);w||h.push(v)}var T=h.map(function(A){return"`"+A+"`"}).join(", ");h.length===1?s("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",T,a):h.length>1&&s("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",T,a)}}function A0(a,u){Ml(a,u)||JS(a,u)}var Wf=!1;function nb(a,u){{if(a!=="input"&&a!=="textarea"&&a!=="select")return;u!=null&&u.value===null&&!Wf&&(Wf=!0,a==="select"&&u.multiple?s("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",a):s("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",a))}}var rb=function(){};{var Xi={},ib=/^on./,eC=/^on[^A-Z]/,tC=new RegExp("^(aria)-["+Vt+"]*$"),nC=new RegExp("^(aria)[A-Z]["+Vt+"]*$");rb=function(a,u,h,v){if(nn.call(Xi,u)&&Xi[u])return!0;var w=u.toLowerCase();if(w==="onfocusin"||w==="onfocusout")return s("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Xi[u]=!0,!0;if(v!=null){var T=v.registrationNameDependencies,A=v.possibleRegistrationNames;if(T.hasOwnProperty(u))return!0;var L=A.hasOwnProperty(w)?A[w]:null;if(L!=null)return s("Invalid event handler property `%s`. Did you mean `%s`?",u,L),Xi[u]=!0,!0;if(ib.test(u))return s("Unknown event handler property `%s`. It will be ignored.",u),Xi[u]=!0,!0}else if(ib.test(u))return eC.test(u)&&s("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",u),Xi[u]=!0,!0;if(tC.test(u)||nC.test(u))return!0;if(w==="innerhtml")return s("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Xi[u]=!0,!0;if(w==="aria")return s("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Xi[u]=!0,!0;if(w==="is"&&h!==null&&h!==void 0&&typeof h!="string")return s("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof h),Xi[u]=!0,!0;if(typeof h=="number"&&isNaN(h))return s("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",u),Xi[u]=!0,!0;var z=Ar(u),Z=z!==null&&z.type===mi;if(R0.hasOwnProperty(w)){var J=R0[w];if(J!==u)return s("Invalid DOM property `%s`. Did you mean `%s`?",u,J),Xi[u]=!0,!0}else if(!Z&&u!==w)return s("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",u,w),Xi[u]=!0,!0;return typeof h=="boolean"&&oi(u,h,z,!1)?(h?s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',h,u,u,h,u):s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',h,u,u,h,u,u,u),Xi[u]=!0,!0):Z?!0:oi(u,h,z,!1)?(Xi[u]=!0,!1):((h==="false"||h==="true")&&z!==null&&z.type===jr&&(s("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",h,u,h==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',u,h),Xi[u]=!0),!0)}}var rC=function(a,u,h){{var v=[];for(var w in u){var T=rb(a,w,u[w],h);T||v.push(w)}var A=v.map(function(L){return"`"+L+"`"}).join(", ");v.length===1?s("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",A,a):v.length>1&&s("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",A,a)}};function iC(a,u,h){Ml(a,u)||rC(a,u,h)}var Ll=1,pm=2,Gf=4,i6=Ll|pm|Gf,hm=null;function mm(a){hm!==null&&s("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),hm=a}function a6(){hm===null&&s("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),hm=null}function aC(a){return a===hm}function D0(a){var u=a.target||a.srcElement||window;return u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===Dt?u.parentNode:u}var Cr=null,Lc=null,Fl=null;function gp(a){var u=Yp(a);if(u){if(typeof Cr!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var h=u.stateNode;if(h){var v=cE(h);Cr(u.stateNode,u.type,v)}}}function oC(a){Cr=a}function O0(a){Lc?Fl?Fl.push(a):Fl=[a]:Lc=a}function gm(){return Lc!==null||Fl!==null}function vm(){if(Lc){var a=Lc,u=Fl;if(Lc=null,Fl=null,gp(a),u)for(var h=0;h<u.length;h++)gp(u[h])}}var Kf=function(a,u){return a(u)},ab=function(){},ob=!1;function o6(){var a=gm();a&&(ab(),vm())}function sb(a,u,h){if(ob)return a(u,h);ob=!0;try{return Kf(a,u,h)}finally{ob=!1,o6()}}function $0(a,u,h){Kf=a,ab=h}function I0(a){return a==="button"||a==="input"||a==="select"||a==="textarea"}function ub(a,u,h){switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(h.disabled&&I0(u));default:return!1}}function qf(a,u){var h=a.stateNode;if(h===null)return null;var v=cE(h);if(v===null)return null;var w=v[u];if(ub(u,a.type,v))return null;if(w&&typeof w!="function")throw new Error("Expected `"+u+"` listener to be a function, instead got a value of `"+typeof w+"` type.");return w}var ym=!1;if(At)try{var Yf={};Object.defineProperty(Yf,"passive",{get:function(){ym=!0}}),window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{ym=!1}function sC(a,u,h,v,w,T,A,L,z){var Z=Array.prototype.slice.call(arguments,3);try{u.apply(h,Z)}catch(J){this.onError(J)}}var lb=sC;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var cb=document.createElement("react");lb=function(u,h,v,w,T,A,L,z,Z){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var J=document.createEvent("Event"),ve=!1,me=!0,Ne=window.event,Oe=Object.getOwnPropertyDescriptor(window,"event");function Le(){cb.removeEventListener(Fe,Xt,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ne)}var St=Array.prototype.slice.call(arguments,3);function Xt(){ve=!0,Le(),h.apply(v,St),me=!1}var Wt,zn=!1,$n=!1;function Ce(Ee){if(Wt=Ee.error,zn=!0,Wt===null&&Ee.colno===0&&Ee.lineno===0&&($n=!0),Ee.defaultPrevented&&Wt!=null&&typeof Wt=="object")try{Wt._suppressLogging=!0}catch{}}var Fe="react-"+(u||"invokeguardedcallback");if(window.addEventListener("error",Ce),cb.addEventListener(Fe,Xt,!1),J.initEvent(Fe,!1,!1),cb.dispatchEvent(J),Oe&&Object.defineProperty(window,"event",Oe),ve&&me&&(zn?$n&&(Wt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Wt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Wt)),window.removeEventListener("error",Ce),!ve)return Le(),sC.apply(this,arguments)}}var s6=lb,Fc=!1,vu=null,bm=!1,Vc=null,Zu={onError:function(a){Fc=!0,vu=a}};function Zf(a,u,h,v,w,T,A,L,z){Fc=!1,vu=null,s6.apply(Zu,arguments)}function Vl(a,u,h,v,w,T,A,L,z){if(Zf.apply(this,arguments),Fc){var Z=db();bm||(bm=!0,Vc=Z)}}function fb(){if(bm){var a=Vc;throw bm=!1,Vc=null,a}}function u6(){return Fc}function db(){if(Fc){var a=vu;return Fc=!1,vu=null,a}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function _s(a){return a._reactInternals}function wm(a){return a._reactInternals!==void 0}function vp(a,u){a._reactInternals=u}var Yt=0,jc=1,Or=2,wn=4,tr=16,lr=32,Xu=64,ln=128,si=256,yo=512,Ts=1024,Wr=2048,ks=4096,zc=8192,xm=16384,P0=Wr|wn|Xu|yo|Ts|xm,uC=32767,Ho=32768,Qi=65536,Sm=131072,pb=1048576,hb=2097152,bo=4194304,Bc=8388608,wo=16777216,Xf=33554432,yp=wn|Ts|0,xo=Or|wn|tr|lr|yo|ks|zc,Oa=wn|Xu|yo|zc,Ns=Wr|tr,pa=bo|Bc|hb,jl=n.ReactCurrentOwner;function Wo(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{var v=u;do u=v,(u.flags&(Or|ks))!==Yt&&(h=u.return),v=u.return;while(v)}return u.tag===g?h:null}function mb(a){if(a.tag===F){var u=a.memoizedState;if(u===null){var h=a.alternate;h!==null&&(u=h.memoizedState)}if(u!==null)return u.dehydrated}return null}function M0(a){return a.tag===g?a.stateNode.containerInfo:null}function gb(a){return Wo(a)===a}function Go(a){{var u=jl.current;if(u!==null&&u.tag===p){var h=u,v=h.stateNode;v._warnedAboutRefsInRender||s("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",un(h)||"A component"),v._warnedAboutRefsInRender=!0}}var w=_s(a);return w?Wo(w)===w:!1}function So(a){if(Wo(a)!==a)throw new Error("Unable to find node on an unmounted component.")}function $r(a){var u=a.alternate;if(!u){var h=Wo(a);if(h===null)throw new Error("Unable to find node on an unmounted component.");return h!==a?null:a}for(var v=a,w=u;;){var T=v.return;if(T===null)break;var A=T.alternate;if(A===null){var L=T.return;if(L!==null){v=w=L;continue}break}if(T.child===A.child){for(var z=T.child;z;){if(z===v)return So(T),a;if(z===w)return So(T),u;z=z.sibling}throw new Error("Unable to find node on an unmounted component.")}if(v.return!==w.return)v=T,w=A;else{for(var Z=!1,J=T.child;J;){if(J===v){Z=!0,v=T,w=A;break}if(J===w){Z=!0,w=T,v=A;break}J=J.sibling}if(!Z){for(J=A.child;J;){if(J===v){Z=!0,v=A,w=T;break}if(J===w){Z=!0,w=A,v=T;break}J=J.sibling}if(!Z)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(v.alternate!==w)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(v.tag!==g)throw new Error("Unable to find node on an unmounted component.");return v.stateNode.current===v?a:u}function Rs(a){var u=$r(a);return u!==null?vb(u):null}function vb(a){if(a.tag===x||a.tag===S)return a;for(var u=a.child;u!==null;){var h=vb(u);if(h!==null)return h;u=u.sibling}return null}function lC(a){var u=$r(a);return u!==null?L0(u):null}function L0(a){if(a.tag===x||a.tag===S)return a;for(var u=a.child;u!==null;){if(u.tag!==y){var h=L0(u);if(h!==null)return h}u=u.sibling}return null}var F0=e.unstable_scheduleCallback,cC=e.unstable_cancelCallback,V0=e.unstable_shouldYield,fC=e.unstable_requestPaint,Xr=e.unstable_now,yb=e.unstable_getCurrentPriorityLevel,j0=e.unstable_ImmediatePriority,Qf=e.unstable_UserBlockingPriority,Qu=e.unstable_NormalPriority,dC=e.unstable_LowPriority,z0=e.unstable_IdlePriority,bp=e.unstable_yieldValue,pC=e.unstable_setDisableYieldValue,zl=null,Vi=null,yt=null,As=!1,Ko=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function bb(a){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled)return!0;if(!u.supportsFiber)return s("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{at&&(a=gn({},a,{getLaneLabelMap:Bl,injectProfilingHooks:hC})),zl=u.inject(a),Vi=u}catch(h){s("React instrumentation encountered an error: %s.",h)}return!!u.checkDCE}function wb(a,u){if(Vi&&typeof Vi.onScheduleFiberRoot=="function")try{Vi.onScheduleFiberRoot(zl,a,u)}catch(h){As||(As=!0,s("React instrumentation encountered an error: %s",h))}}function wp(a,u){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{var h=(a.current.flags&ln)===ln;if(Qe){var v;switch(u){case Si:v=j0;break;case Hl:v=Qf;break;case Ju:v=Qu;break;case Op:v=z0;break;default:v=Qu;break}Vi.onCommitFiberRoot(zl,a,v,h)}}catch(w){As||(As=!0,s("React instrumentation encountered an error: %s",w))}}function Ds(a){if(Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(zl,a)}catch(u){As||(As=!0,s("React instrumentation encountered an error: %s",u))}}function Jf(a){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(zl,a)}catch(u){As||(As=!0,s("React instrumentation encountered an error: %s",u))}}function Ri(a){if(typeof bp=="function"&&(pC(a),i(a)),Vi&&typeof Vi.setStrictMode=="function")try{Vi.setStrictMode(zl,a)}catch(u){As||(As=!0,s("React instrumentation encountered an error: %s",u))}}function hC(a){yt=a}function Bl(){{for(var a=new Map,u=1,h=0;h<km;h++){var v=c6(u);a.set(u,v),u*=2}return a}}function Uc(a){yt!==null&&typeof yt.markCommitStarted=="function"&&yt.markCommitStarted(a)}function B0(){yt!==null&&typeof yt.markCommitStopped=="function"&&yt.markCommitStopped()}function xp(a){yt!==null&&typeof yt.markComponentRenderStarted=="function"&&yt.markComponentRenderStarted(a)}function Co(){yt!==null&&typeof yt.markComponentRenderStopped=="function"&&yt.markComponentRenderStopped()}function Hc(a){yt!==null&&typeof yt.markComponentPassiveEffectMountStarted=="function"&&yt.markComponentPassiveEffectMountStarted(a)}function U0(){yt!==null&&typeof yt.markComponentPassiveEffectMountStopped=="function"&&yt.markComponentPassiveEffectMountStopped()}function mC(a){yt!==null&&typeof yt.markComponentPassiveEffectUnmountStarted=="function"&&yt.markComponentPassiveEffectUnmountStarted(a)}function H0(){yt!==null&&typeof yt.markComponentPassiveEffectUnmountStopped=="function"&&yt.markComponentPassiveEffectUnmountStopped()}function gC(a){yt!==null&&typeof yt.markComponentLayoutEffectMountStarted=="function"&&yt.markComponentLayoutEffectMountStarted(a)}function Cm(){yt!==null&&typeof yt.markComponentLayoutEffectMountStopped=="function"&&yt.markComponentLayoutEffectMountStopped()}function yu(a){yt!==null&&typeof yt.markComponentLayoutEffectUnmountStarted=="function"&&yt.markComponentLayoutEffectUnmountStarted(a)}function Sp(){yt!==null&&typeof yt.markComponentLayoutEffectUnmountStopped=="function"&&yt.markComponentLayoutEffectUnmountStopped()}function Em(a,u,h){yt!==null&&typeof yt.markComponentErrored=="function"&&yt.markComponentErrored(a,u,h)}function ed(a,u,h){yt!==null&&typeof yt.markComponentSuspended=="function"&&yt.markComponentSuspended(a,u,h)}function xb(a){yt!==null&&typeof yt.markLayoutEffectsStarted=="function"&&yt.markLayoutEffectsStarted(a)}function Cp(){yt!==null&&typeof yt.markLayoutEffectsStopped=="function"&&yt.markLayoutEffectsStopped()}function vC(a){yt!==null&&typeof yt.markPassiveEffectsStarted=="function"&&yt.markPassiveEffectsStarted(a)}function Sb(){yt!==null&&typeof yt.markPassiveEffectsStopped=="function"&&yt.markPassiveEffectsStopped()}function Gr(a){yt!==null&&typeof yt.markRenderStarted=="function"&&yt.markRenderStarted(a)}function W0(){yt!==null&&typeof yt.markRenderYielded=="function"&&yt.markRenderYielded()}function G0(){yt!==null&&typeof yt.markRenderStopped=="function"&&yt.markRenderStopped()}function Cb(a){yt!==null&&typeof yt.markRenderScheduled=="function"&&yt.markRenderScheduled(a)}function K0(a,u){yt!==null&&typeof yt.markForceUpdateScheduled=="function"&&yt.markForceUpdateScheduled(a,u)}function _m(a,u){yt!==null&&typeof yt.markStateUpdateScheduled=="function"&&yt.markStateUpdateScheduled(a,u)}var zt=0,Ut=1,cn=2,Nn=8,qo=16,Ep=Math.clz32?Math.clz32:$a,Tm=Math.log,l6=Math.LN2;function $a(a){var u=a>>>0;return u===0?32:31-(Tm(u)/l6|0)|0}var km=31,qe=0,Ai=0,Kt=1,ha=2,Yo=4,Ul=8,Os=16,_p=32,td=4194240,Tp=64,q0=128,Y0=256,Z0=512,X0=1024,Q0=2048,nd=4096,J0=8192,kp=16384,Np=32768,ev=65536,Nm=131072,tv=262144,nv=524288,rv=1048576,iv=2097152,Rp=130023424,rd=4194304,av=8388608,ov=16777216,Eb=33554432,sv=67108864,yC=rd,Rm=134217728,_b=268435455,Ap=268435456,Wc=536870912,Ia=1073741824;function c6(a){{if(a&Kt)return"Sync";if(a&ha)return"InputContinuousHydration";if(a&Yo)return"InputContinuous";if(a&Ul)return"DefaultHydration";if(a&Os)return"Default";if(a&_p)return"TransitionHydration";if(a&td)return"Transition";if(a&Rp)return"Retry";if(a&Rm)return"SelectiveHydration";if(a&Ap)return"IdleHydration";if(a&Wc)return"Idle";if(a&Ia)return"Offscreen"}}var Tr=-1,uv=Tp,Eo=rd;function id(a){switch(xi(a)){case Kt:return Kt;case ha:return ha;case Yo:return Yo;case Ul:return Ul;case Os:return Os;case _p:return _p;case Tp:case q0:case Y0:case Z0:case X0:case Q0:case nd:case J0:case kp:case Np:case ev:case Nm:case tv:case nv:case rv:case iv:return a&td;case rd:case av:case ov:case Eb:case sv:return a&Rp;case Rm:return Rm;case Ap:return Ap;case Wc:return Wc;case Ia:return Ia;default:return s("Should have found matching lanes. This is a bug in React."),a}}function ad(a,u){var h=a.pendingLanes;if(h===qe)return qe;var v=qe,w=a.suspendedLanes,T=a.pingedLanes,A=h&_b;if(A!==qe){var L=A&~w;if(L!==qe)v=id(L);else{var z=A&T;z!==qe&&(v=id(z))}}else{var Z=h&~w;Z!==qe?v=id(Z):T!==qe&&(v=id(T))}if(v===qe)return qe;if(u!==qe&&u!==v&&(u&w)===qe){var J=xi(v),ve=xi(u);if(J>=ve||J===Os&&(ve&td)!==qe)return u}(v&Yo)!==qe&&(v|=h&Os);var me=a.entangledLanes;if(me!==qe)for(var Ne=a.entanglements,Oe=v&me;Oe>0;){var Le=Kc(Oe),St=1<<Le;v|=Ne[Le],Oe&=~St}return v}function bC(a,u){for(var h=a.eventTimes,v=Tr;u>0;){var w=Kc(u),T=1<<w,A=h[w];A>v&&(v=A),u&=~T}return v}function wC(a,u){switch(a){case Kt:case ha:case Yo:return u+250;case Ul:case Os:case _p:case Tp:case q0:case Y0:case Z0:case X0:case Q0:case nd:case J0:case kp:case Np:case ev:case Nm:case tv:case nv:case rv:case iv:return u+5e3;case rd:case av:case ov:case Eb:case sv:return Tr;case Rm:case Ap:case Wc:case Ia:return Tr;default:return s("Should have found matching lanes. This is a bug in React."),Tr}}function xC(a,u){for(var h=a.pendingLanes,v=a.suspendedLanes,w=a.pingedLanes,T=a.expirationTimes,A=h;A>0;){var L=Kc(A),z=1<<L,Z=T[L];Z===Tr?((z&v)===qe||(z&w)!==qe)&&(T[L]=wC(z,u)):Z<=u&&(a.expiredLanes|=z),A&=~z}}function Tb(a){return id(a.pendingLanes)}function Gc(a){var u=a.pendingLanes&~Ia;return u!==qe?u:u&Ia?Ia:qe}function kb(a){return(a&Kt)!==qe}function Am(a){return(a&_b)!==qe}function SC(a){return(a&Rp)===a}function CC(a){var u=Kt|Yo|Os;return(a&u)===qe}function EC(a){return(a&td)===a}function Dm(a,u){var h=ha|Yo|Ul|Os;return(u&h)!==qe}function _C(a,u){return(u&a.expiredLanes)!==qe}function Nb(a){return(a&td)!==qe}function TC(){var a=uv;return uv<<=1,(uv&td)===qe&&(uv=Tp),a}function _o(){var a=Eo;return Eo<<=1,(Eo&Rp)===qe&&(Eo=rd),a}function xi(a){return a&-a}function Dp(a){return xi(a)}function Kc(a){return 31-Ep(a)}function lv(a){return Kc(a)}function To(a,u){return(a&u)!==qe}function od(a,u){return(a&u)===u}function yn(a,u){return a|u}function Om(a,u){return a&~u}function cv(a,u){return a&u}function f6(a){return a}function kC(a,u){return a!==Ai&&a<u?a:u}function $m(a){for(var u=[],h=0;h<km;h++)u.push(a);return u}function sd(a,u,h){a.pendingLanes|=u,u!==Wc&&(a.suspendedLanes=qe,a.pingedLanes=qe);var v=a.eventTimes,w=lv(u);v[w]=h}function NC(a,u){a.suspendedLanes|=u,a.pingedLanes&=~u;for(var h=a.expirationTimes,v=u;v>0;){var w=Kc(v),T=1<<w;h[w]=Tr,v&=~T}}function fv(a,u,h){a.pingedLanes|=a.suspendedLanes&u}function dv(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=qe,a.pingedLanes=qe,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u;for(var v=a.entanglements,w=a.eventTimes,T=a.expirationTimes,A=h;A>0;){var L=Kc(A),z=1<<L;v[L]=qe,w[L]=Tr,T[L]=Tr,A&=~z}}function Rb(a,u){for(var h=a.entangledLanes|=u,v=a.entanglements,w=h;w;){var T=Kc(w),A=1<<T;A&u|v[T]&u&&(v[T]|=u),w&=~A}}function RC(a,u){var h=xi(u),v;switch(h){case Yo:v=ha;break;case Os:v=Ul;break;case Tp:case q0:case Y0:case Z0:case X0:case Q0:case nd:case J0:case kp:case Np:case ev:case Nm:case tv:case nv:case rv:case iv:case rd:case av:case ov:case Eb:case sv:v=_p;break;case Wc:v=Ap;break;default:v=Ai;break}return(v&(a.suspendedLanes|u))!==Ai?Ai:v}function pv(a,u,h){if(Ko)for(var v=a.pendingUpdatersLaneMap;h>0;){var w=lv(h),T=1<<w,A=v[w];A.add(u),h&=~T}}function Ab(a,u){if(Ko)for(var h=a.pendingUpdatersLaneMap,v=a.memoizedUpdaters;u>0;){var w=lv(u),T=1<<w,A=h[w];A.size>0&&(A.forEach(function(L){var z=L.alternate;(z===null||!v.has(z))&&v.add(L)}),A.clear()),u&=~T}}function Im(a,u){return null}var Si=Kt,Hl=Yo,Ju=Os,Op=Wc,$p=Ai;function $s(){return $p}function ui(a){$p=a}function Pa(a,u){var h=$p;try{return $p=a,u()}finally{$p=h}}function d6(a,u){return a!==0&&a<u?a:u}function p6(a,u){return a>u?a:u}function Ip(a,u){return a!==0&&a<u}function ma(a){var u=xi(a);return Ip(Si,u)?Ip(Hl,u)?Am(u)?Ju:Op:Hl:Si}function hv(a){var u=a.current.memoizedState;return u.isDehydrated}var Ot;function Pp(a){Ot=a}function Db(a){Ot(a)}var mv;function h6(a){mv=a}var Mp;function gv(a){Mp=a}var vv;function AC(a){vv=a}var Ob;function DC(a){Ob=a}var Pm=!1,Lp=[],Kr=null,Ji=null,Ka=null,Fp=new Map,Vp=new Map,ea=[],OC=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function el(a){return OC.indexOf(a)>-1}function m6(a,u,h,v,w){return{blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]}}function $b(a,u){switch(a){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":{var h=u.pointerId;Fp.delete(h);break}case"gotpointercapture":case"lostpointercapture":{var v=u.pointerId;Vp.delete(v);break}}}function jp(a,u,h,v,w,T){if(a===null||a.nativeEvent!==T){var A=m6(u,h,v,w,T);if(u!==null){var L=Yp(u);L!==null&&mv(L)}return A}a.eventSystemFlags|=v;var z=a.targetContainers;return w!==null&&z.indexOf(w)===-1&&z.push(w),a}function $C(a,u,h,v,w){switch(u){case"focusin":{var T=w;return Kr=jp(Kr,a,u,h,v,T),!0}case"dragenter":{var A=w;return Ji=jp(Ji,a,u,h,v,A),!0}case"mouseover":{var L=w;return Ka=jp(Ka,a,u,h,v,L),!0}case"pointerover":{var z=w,Z=z.pointerId;return Fp.set(Z,jp(Fp.get(Z)||null,a,u,h,v,z)),!0}case"gotpointercapture":{var J=w,ve=J.pointerId;return Vp.set(ve,jp(Vp.get(ve)||null,a,u,h,v,J)),!0}}return!1}function Ib(a){var u=qm(a.target);if(u!==null){var h=Wo(u);if(h!==null){var v=h.tag;if(v===F){var w=mb(h);if(w!==null){a.blockedOn=w,Ob(a.priority,function(){Mp(h)});return}}else if(v===g){var T=h.stateNode;if(hv(T)){a.blockedOn=M0(h);return}}}}a.blockedOn=null}function g6(a){for(var u=vv(),h={blockedOn:null,target:a,priority:u},v=0;v<ea.length&&Ip(u,ea[v].priority);v++);ea.splice(v,0,h),v===0&&Ib(h)}function ud(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;u.length>0;){var h=u[0],v=Ma(a.domEventName,a.eventSystemFlags,h,a.nativeEvent);if(v===null){var w=a.nativeEvent,T=new w.constructor(w.type,w);mm(T),w.target.dispatchEvent(T),a6()}else{var A=Yp(v);return A!==null&&mv(A),a.blockedOn=v,!1}u.shift()}return!0}function yv(a,u,h){ud(a)&&h.delete(u)}function Is(){Pm=!1,Kr!==null&&ud(Kr)&&(Kr=null),Ji!==null&&ud(Ji)&&(Ji=null),Ka!==null&&ud(Ka)&&(Ka=null),Fp.forEach(yv),Vp.forEach(yv)}function On(a,u){a.blockedOn===u&&(a.blockedOn=null,Pm||(Pm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Is)))}function li(a){if(Lp.length>0){On(Lp[0],a);for(var u=1;u<Lp.length;u++){var h=Lp[u];h.blockedOn===a&&(h.blockedOn=null)}}Kr!==null&&On(Kr,a),Ji!==null&&On(Ji,a),Ka!==null&&On(Ka,a);var v=function(L){return On(L,a)};Fp.forEach(v),Vp.forEach(v);for(var w=0;w<ea.length;w++){var T=ea[w];T.blockedOn===a&&(T.blockedOn=null)}for(;ea.length>0;){var A=ea[0];if(A.blockedOn!==null)break;Ib(A),A.blockedOn===null&&ea.shift()}}var Ir=n.ReactCurrentBatchConfig,ji=!0;function ko(a){ji=!!a}function zp(){return ji}function zi(a,u,h){var v=bv(u),w;switch(v){case Si:w=Mm;break;case Hl:w=ld;break;case Ju:default:w=Bp;break}return w.bind(null,u,h,a)}function Mm(a,u,h,v){var w=$s(),T=Ir.transition;Ir.transition=null;try{ui(Si),Bp(a,u,h,v)}finally{ui(w),Ir.transition=T}}function ld(a,u,h,v){var w=$s(),T=Ir.transition;Ir.transition=null;try{ui(Hl),Bp(a,u,h,v)}finally{ui(w),Ir.transition=T}}function Bp(a,u,h,v){ji&&Pb(a,u,h,v)}function Pb(a,u,h,v){var w=Ma(a,u,h,v);if(w===null){O6(a,u,v,qc,h),$b(a,v);return}if($C(w,a,u,h,v)){v.stopPropagation();return}if($b(a,v),u&Gf&&el(a)){for(;w!==null;){var T=Yp(w);T!==null&&Db(T);var A=Ma(a,u,h,v);if(A===null&&O6(a,u,v,qc,h),A===w)break;w=A}w!==null&&v.stopPropagation();return}O6(a,u,v,null,h)}var qc=null;function Ma(a,u,h,v){qc=null;var w=D0(v),T=qm(w);if(T!==null){var A=Wo(T);if(A===null)T=null;else{var L=A.tag;if(L===F){var z=mb(A);if(z!==null)return z;T=null}else if(L===g){var Z=A.stateNode;if(hv(Z))return M0(A);T=null}else A!==T&&(T=null)}}return qc=T,null}function bv(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Si;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Hl;case"message":{var u=yb();switch(u){case j0:return Si;case Qf:return Hl;case Qu:case dC:return Ju;case z0:return Op;default:return Ju}}default:return Ju}}function Up(a,u,h){return a.addEventListener(u,h,!1),h}function Wl(a,u,h){return a.addEventListener(u,h,!0),h}function wv(a,u,h,v){return a.addEventListener(u,h,{capture:!0,passive:v}),h}function Mb(a,u,h,v){return a.addEventListener(u,h,{passive:v}),h}var Ps=null,Hp=null,Ms=null;function xv(a){return Ps=a,Hp=Fm(),!0}function Lm(){Ps=null,Hp=null,Ms=null}function Sv(){if(Ms)return Ms;var a,u=Hp,h=u.length,v,w=Fm(),T=w.length;for(a=0;a<h&&u[a]===w[a];a++);var A=h-a;for(v=1;v<=A&&u[h-v]===w[T-v];v++);var L=v>1?1-v:void 0;return Ms=w.slice(a,L),Ms}function Fm(){return"value"in Ps?Ps.value:Ps.textContent}function cd(a){var u,h=a.keyCode;return"charCode"in a?(u=a.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),u>=32||u===13?u:0}function ta(){return!0}function Gl(){return!1}function Qr(a){function u(h,v,w,T,A){this._reactName=h,this._targetInst=w,this.type=v,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var L in a)if(a.hasOwnProperty(L)){var z=a[L];z?this[L]=z(T):this[L]=T[L]}var Z=T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1;return Z?this.isDefaultPrevented=ta:this.isDefaultPrevented=Gl,this.isPropagationStopped=Gl,this}return gn(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),u}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cv=Qr(Bi),fd=gn({},Bi,{view:0,detail:0}),Lb=Qr(fd),Fb,tl,Wp;function Vb(a){a!==Wp&&(Wp&&a.type==="mousemove"?(Fb=a.screenX-Wp.screenX,tl=a.screenY-Wp.screenY):(Fb=0,tl=0),Wp=a)}var nl=gn({},fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jb,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(Vb(a),Fb)},movementY:function(a){return"movementY"in a?a.movementY:tl}}),Ev=Qr(nl),dd=gn({},nl,{dataTransfer:0}),IC=Qr(dd),PC=gn({},fd,{relatedTarget:0}),Vm=Qr(PC),_v=gn({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),v6=Qr(_v),y6=gn({},Bi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),MC=Qr(y6),LC=gn({},Bi,{data:0}),Yc=Qr(LC),b6=Yc,Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function ci(a){if(a.key){var u=Gp[a.key]||a.key;if(u!=="Unidentified")return u}if(a.type==="keypress"){var h=cd(a);return h===13?"Enter":String.fromCharCode(h)}return a.type==="keydown"||a.type==="keyup"?FC[a.keyCode]||"Unidentified":""}var w6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(a){var u=this,h=u.nativeEvent;if(h.getModifierState)return h.getModifierState(a);var v=w6[a];return v?!!h[v]:!1}function jb(a){return VC}var x6=gn({},fd,{key:ci,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jb,charCode:function(a){return a.type==="keypress"?cd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jC=Qr(x6),zC=gn({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BC=Qr(zC),Ls=gn({},fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jb}),zb=Qr(Ls),S6=gn({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zc=Qr(S6),Tv=gn({},nl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pd=Qr(Tv),kv=[9,13,27,32],Nv=229,jm=At&&"CompositionEvent"in window,zm=null;At&&"documentMode"in document&&(zm=document.documentMode);var Bb=At&&"TextEvent"in window&&!zm,UC=At&&(!jm||zm&&zm>8&&zm<=11),Ub=32,Hb=String.fromCharCode(Ub);function Rv(){Rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Rt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Rt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var Bm=!1;function HC(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function Wb(a){switch(a){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function WC(a,u){return a==="keydown"&&u.keyCode===Nv}function Av(a,u){switch(a){case"keyup":return kv.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==Nv;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Um(a){var u=a.detail;return typeof u=="object"&&"data"in u?u.data:null}function Dv(a){return a.locale==="ko"}var Kl=!1;function GC(a,u,h,v,w){var T,A;if(jm?T=Wb(u):Kl?Av(u,v)&&(T="onCompositionEnd"):WC(u,v)&&(T="onCompositionStart"),!T)return null;UC&&!Dv(v)&&(!Kl&&T==="onCompositionStart"?Kl=xv(w):T==="onCompositionEnd"&&Kl&&(A=Sv()));var L=XC(h,T);if(L.length>0){var z=new Yc(T,u,null,v,w);if(a.push({event:z,listeners:L}),A)z.data=A;else{var Z=Um(v);Z!==null&&(z.data=Z)}}}function C6(a,u){switch(a){case"compositionend":return Um(u);case"keypress":var h=u.which;return h!==Ub?null:(Bm=!0,Hb);case"textInput":var v=u.data;return v===Hb&&Bm?null:v;default:return null}}function Ov(a,u){if(Kl){if(a==="compositionend"||!jm&&Av(a,u)){var h=Sv();return Lm(),Kl=!1,h}return null}switch(a){case"paste":return null;case"keypress":if(!HC(u)){if(u.char&&u.char.length>1)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return UC&&!Dv(u)?null:u.data;default:return null}}function E6(a,u,h,v,w){var T;if(Bb?T=C6(u,v):T=Ov(u,v),!T)return null;var A=XC(h,"onBeforeInput");if(A.length>0){var L=new b6("onBeforeInput","beforeinput",null,v,w);a.push({event:L,listeners:A}),L.data=T}}function Hm(a,u,h,v,w,T,A){GC(a,u,h,v,w),E6(a,u,h,v,w)}var _6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!_6[a.type]:u==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function c(a){if(!At)return!1;var u="on"+a,h=u in document;if(!h){var v=document.createElement("div");v.setAttribute(u,"return;"),h=typeof v[u]=="function"}return h}function d(){Rt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function b(a,u,h,v){O0(v);var w=XC(u,"onChange");if(w.length>0){var T=new Cv("onChange","change",null,h,v);a.push({event:T,listeners:w})}}var C=null,N=null;function $(a){var u=a.nodeName&&a.nodeName.toLowerCase();return u==="select"||u==="input"&&a.type==="file"}function G(a){var u=[];b(u,N,a,D0(a)),sb(ae,u)}function ae(a){BG(a,0)}function ce(a){var u=Fv(a);if(Bo(u))return a}function De(a,u){if(a==="change")return u}var Xe=!1;At&&(Xe=c("input")&&(!document.documentMode||document.documentMode>9));function tt(a,u){C=a,N=u,C.attachEvent("onpropertychange",_t)}function Ye(){C&&(C.detachEvent("onpropertychange",_t),C=null,N=null)}function _t(a){a.propertyName==="value"&&ce(N)&&G(a)}function It(a,u,h){a==="focusin"?(Ye(),tt(u,h)):a==="focusout"&&Ye()}function Ft(a,u){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ce(N)}function Ci(a){var u=a.nodeName;return u&&u.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")}function Se(a,u){if(a==="click")return ce(u)}function ge(a,u){if(a==="input"||a==="change")return ce(u)}function _e(a){var u=a._wrapperState;!u||!u.controlled||a.type!=="number"||qt(a,"number",a.value)}function ut(a,u,h,v,w,T,A){var L=h?Fv(h):window,z,Z;if($(L)?z=De:Wm(L)?Xe?z=ge:(z=Ft,Z=It):Ci(L)&&(z=Se),z){var J=z(u,h);if(J){b(a,J,v,w);return}}Z&&Z(u,L,h),u==="focusout"&&_e(L)}function Bt(){He("onMouseEnter",["mouseout","mouseover"]),He("onMouseLeave",["mouseout","mouseover"]),He("onPointerEnter",["pointerout","pointerover"]),He("onPointerLeave",["pointerout","pointerover"])}function Qt(a,u,h,v,w,T,A){var L=u==="mouseover"||u==="pointerover",z=u==="mouseout"||u==="pointerout";if(L&&!aC(v)){var Z=v.relatedTarget||v.fromElement;if(Z&&(qm(Z)||aw(Z)))return}if(!(!z&&!L)){var J;if(w.window===w)J=w;else{var ve=w.ownerDocument;ve?J=ve.defaultView||ve.parentWindow:J=window}var me,Ne;if(z){var Oe=v.relatedTarget||v.toElement;if(me=h,Ne=Oe?qm(Oe):null,Ne!==null){var Le=Wo(Ne);(Ne!==Le||Ne.tag!==x&&Ne.tag!==S)&&(Ne=null)}}else me=null,Ne=h;if(me!==Ne){var St=Ev,Xt="onMouseLeave",Wt="onMouseEnter",zn="mouse";(u==="pointerout"||u==="pointerover")&&(St=BC,Xt="onPointerLeave",Wt="onPointerEnter",zn="pointer");var $n=me==null?J:Fv(me),Ce=Ne==null?J:Fv(Ne),Fe=new St(Xt,zn+"leave",me,v,w);Fe.target=$n,Fe.relatedTarget=Ce;var Ee=null,nt=qm(w);if(nt===h){var Nt=new St(Wt,zn+"enter",Ne,v,w);Nt.target=Ce,Nt.relatedTarget=$n,Ee=Nt}URe(a,Fe,Ee,me,Ne)}}}function Jt(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Ht=typeof Object.is=="function"?Object.is:Jt;function fi(a,u){if(Ht(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),v=Object.keys(u);if(h.length!==v.length)return!1;for(var w=0;w<h.length;w++){var T=h[w];if(!nn.call(u,T)||!Ht(a[T],u[T]))return!1}return!0}function Wn(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xc(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function KC(a,u){for(var h=Wn(a),v=0,w=0;h;){if(h.nodeType===Dt){if(w=v+h.textContent.length,v<=u&&w>=u)return{node:h,offset:u-v};v=w}h=Wn(Xc(h))}}function SRe(a){var u=a.ownerDocument,h=u&&u.defaultView||window,v=h.getSelection&&h.getSelection();if(!v||v.rangeCount===0)return null;var w=v.anchorNode,T=v.anchorOffset,A=v.focusNode,L=v.focusOffset;try{w.nodeType,A.nodeType}catch{return null}return CRe(a,w,T,A,L)}function CRe(a,u,h,v,w){var T=0,A=-1,L=-1,z=0,Z=0,J=a,ve=null;e:for(;;){for(var me=null;J===u&&(h===0||J.nodeType===Dt)&&(A=T+h),J===v&&(w===0||J.nodeType===Dt)&&(L=T+w),J.nodeType===Dt&&(T+=J.nodeValue.length),(me=J.firstChild)!==null;)ve=J,J=me;for(;;){if(J===a)break e;if(ve===u&&++z===h&&(A=T),ve===v&&++Z===w&&(L=T),(me=J.nextSibling)!==null)break;J=ve,ve=J.parentNode}J=me}return A===-1||L===-1?null:{start:A,end:L}}function ERe(a,u){var h=a.ownerDocument||document,v=h&&h.defaultView||window;if(v.getSelection){var w=v.getSelection(),T=a.textContent.length,A=Math.min(u.start,T),L=u.end===void 0?A:Math.min(u.end,T);if(!w.extend&&A>L){var z=L;L=A,A=z}var Z=KC(a,A),J=KC(a,L);if(Z&&J){if(w.rangeCount===1&&w.anchorNode===Z.node&&w.anchorOffset===Z.offset&&w.focusNode===J.node&&w.focusOffset===J.offset)return;var ve=h.createRange();ve.setStart(Z.node,Z.offset),w.removeAllRanges(),A>L?(w.addRange(ve),w.extend(J.node,J.offset)):(ve.setEnd(J.node,J.offset),w.addRange(ve))}}}function AG(a){return a&&a.nodeType===Dt}function DG(a,u){return!a||!u?!1:a===u?!0:AG(a)?!1:AG(u)?DG(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1}function _Re(a){return a&&a.ownerDocument&&DG(a.ownerDocument.documentElement,a)}function TRe(a){try{return typeof a.contentWindow.location.href=="string"}catch{return!1}}function OG(){for(var a=window,u=pu();u instanceof a.HTMLIFrameElement;){if(TRe(u))a=u.contentWindow;else return u;u=pu(a.document)}return u}function T6(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function kRe(){var a=OG();return{focusedElem:a,selectionRange:T6(a)?RRe(a):null}}function NRe(a){var u=OG(),h=a.focusedElem,v=a.selectionRange;if(u!==h&&_Re(h)){v!==null&&T6(h)&&ARe(h,v);for(var w=[],T=h;T=T.parentNode;)T.nodeType===Lt&&w.push({element:T,left:T.scrollLeft,top:T.scrollTop});typeof h.focus=="function"&&h.focus();for(var A=0;A<w.length;A++){var L=w[A];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}}function RRe(a){var u;return"selectionStart"in a?u={start:a.selectionStart,end:a.selectionEnd}:u=SRe(a),u||{start:0,end:0}}function ARe(a,u){var h=u.start,v=u.end;v===void 0&&(v=h),"selectionStart"in a?(a.selectionStart=h,a.selectionEnd=Math.min(v,a.value.length)):ERe(a,u)}var DRe=At&&"documentMode"in document&&document.documentMode<=11;function ORe(){Rt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var $v=null,k6=null,Gb=null,N6=!1;function $Re(a){if("selectionStart"in a&&T6(a))return{start:a.selectionStart,end:a.selectionEnd};var u=a.ownerDocument&&a.ownerDocument.defaultView||window,h=u.getSelection();return{anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}}function IRe(a){return a.window===a?a.document:a.nodeType===jt?a:a.ownerDocument}function $G(a,u,h){var v=IRe(h);if(!(N6||$v==null||$v!==pu(v))){var w=$Re($v);if(!Gb||!fi(Gb,w)){Gb=w;var T=XC(k6,"onSelect");if(T.length>0){var A=new Cv("onSelect","select",null,u,h);a.push({event:A,listeners:T}),A.target=$v}}}}function PRe(a,u,h,v,w,T,A){var L=h?Fv(h):window;switch(u){case"focusin":(Wm(L)||L.contentEditable==="true")&&($v=L,k6=h,Gb=null);break;case"focusout":$v=null,k6=null,Gb=null;break;case"mousedown":N6=!0;break;case"contextmenu":case"mouseup":case"dragend":N6=!1,$G(a,v,w);break;case"selectionchange":if(DRe)break;case"keydown":case"keyup":$G(a,v,w)}}function qC(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var Iv={animationend:qC("Animation","AnimationEnd"),animationiteration:qC("Animation","AnimationIteration"),animationstart:qC("Animation","AnimationStart"),transitionend:qC("Transition","TransitionEnd")},R6={},IG={};At&&(IG=document.createElement("div").style,"AnimationEvent"in window||(delete Iv.animationend.animation,delete Iv.animationiteration.animation,delete Iv.animationstart.animation),"TransitionEvent"in window||delete Iv.transitionend.transition);function YC(a){if(R6[a])return R6[a];if(!Iv[a])return a;var u=Iv[a];for(var h in u)if(u.hasOwnProperty(h)&&h in IG)return R6[a]=u[h];return a}var PG=YC("animationend"),MG=YC("animationiteration"),LG=YC("animationstart"),FG=YC("transitionend"),VG=new Map,jG=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Kp(a,u){VG.set(a,u),Rt(u,[a])}function MRe(){for(var a=0;a<jG.length;a++){var u=jG[a],h=u.toLowerCase(),v=u[0].toUpperCase()+u.slice(1);Kp(h,"on"+v)}Kp(PG,"onAnimationEnd"),Kp(MG,"onAnimationIteration"),Kp(LG,"onAnimationStart"),Kp("dblclick","onDoubleClick"),Kp("focusin","onFocus"),Kp("focusout","onBlur"),Kp(FG,"onTransitionEnd")}function LRe(a,u,h,v,w,T,A){var L=VG.get(u);if(L!==void 0){var z=Cv,Z=u;switch(u){case"keypress":if(cd(v)===0)return;case"keydown":case"keyup":z=jC;break;case"focusin":Z="focus",z=Vm;break;case"focusout":Z="blur",z=Vm;break;case"beforeblur":case"afterblur":z=Vm;break;case"click":if(v.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=IC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=zb;break;case PG:case MG:case LG:z=v6;break;case FG:z=Zc;break;case"scroll":z=Lb;break;case"wheel":z=pd;break;case"copy":case"cut":case"paste":z=MC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=BC;break}var J=(T&Gf)!==0;{var ve=!J&&u==="scroll",me=zRe(h,L,v.type,J,ve);if(me.length>0){var Ne=new z(L,Z,null,v,w);a.push({event:Ne,listeners:me})}}}}MRe(),Bt(),d(),ORe(),Rv();function FRe(a,u,h,v,w,T,A){LRe(a,u,h,v,w,T);var L=(T&i6)===0;L&&(Qt(a,u,h,v,w),ut(a,u,h,v,w),PRe(a,u,h,v,w),Hm(a,u,h,v,w))}var Kb=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],A6=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Kb));function zG(a,u,h){var v=a.type||"unknown-event";a.currentTarget=h,Vl(v,u,void 0,a),a.currentTarget=null}function VRe(a,u,h){var v;if(h)for(var w=u.length-1;w>=0;w--){var T=u[w],A=T.instance,L=T.currentTarget,z=T.listener;if(A!==v&&a.isPropagationStopped())return;zG(a,z,L),v=A}else for(var Z=0;Z<u.length;Z++){var J=u[Z],ve=J.instance,me=J.currentTarget,Ne=J.listener;if(ve!==v&&a.isPropagationStopped())return;zG(a,Ne,me),v=ve}}function BG(a,u){for(var h=(u&Gf)!==0,v=0;v<a.length;v++){var w=a[v],T=w.event,A=w.listeners;VRe(T,A,h)}fb()}function jRe(a,u,h,v,w){var T=D0(h),A=[];FRe(A,a,v,h,T,u),BG(A,u)}function Jr(a,u){A6.has(a)||s('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',a);var h=!1,v=g4e(u),w=HRe(a);v.has(w)||(UG(u,a,pm,h),v.add(w))}function D6(a,u,h){A6.has(a)&&!u&&s('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',a);var v=0;u&&(v|=Gf),UG(h,a,v,u)}var ZC="_reactListening"+Math.random().toString(36).slice(2);function qb(a){if(!a[ZC]){a[ZC]=!0,Ge.forEach(function(h){h!=="selectionchange"&&(A6.has(h)||D6(h,!1,a),D6(h,!0,a))});var u=a.nodeType===jt?a:a.ownerDocument;u!==null&&(u[ZC]||(u[ZC]=!0,D6("selectionchange",!1,u)))}}function UG(a,u,h,v,w){var T=zi(a,u,h),A=void 0;ym&&(u==="touchstart"||u==="touchmove"||u==="wheel")&&(A=!0),a=a,v?A!==void 0?wv(a,u,T,A):Wl(a,u,T):A!==void 0?Mb(a,u,T,A):Up(a,u,T)}function HG(a,u){return a===u||a.nodeType===st&&a.parentNode===u}function O6(a,u,h,v,w){var T=v;if(!(u&Ll)&&!(u&pm)){var A=w;if(v!==null){var L=v;e:for(;;){if(L===null)return;var z=L.tag;if(z===g||z===y){var Z=L.stateNode.containerInfo;if(HG(Z,A))break;if(z===y)for(var J=L.return;J!==null;){var ve=J.tag;if(ve===g||ve===y){var me=J.stateNode.containerInfo;if(HG(me,A))return}J=J.return}for(;Z!==null;){var Ne=qm(Z);if(Ne===null)return;var Oe=Ne.tag;if(Oe===x||Oe===S){L=T=Ne;continue e}Z=Z.parentNode}}L=L.return}}}sb(function(){return jRe(a,u,h,T)})}function Yb(a,u,h){return{instance:a,listener:u,currentTarget:h}}function zRe(a,u,h,v,w,T){for(var A=u!==null?u+"Capture":null,L=v?A:u,z=[],Z=a,J=null;Z!==null;){var ve=Z,me=ve.stateNode,Ne=ve.tag;if(Ne===x&&me!==null&&(J=me,L!==null)){var Oe=qf(Z,L);Oe!=null&&z.push(Yb(Z,Oe,J))}if(w)break;Z=Z.return}return z}function XC(a,u){for(var h=u+"Capture",v=[],w=a;w!==null;){var T=w,A=T.stateNode,L=T.tag;if(L===x&&A!==null){var z=A,Z=qf(w,h);Z!=null&&v.unshift(Yb(w,Z,z));var J=qf(w,u);J!=null&&v.push(Yb(w,J,z))}w=w.return}return v}function Pv(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==x);return a||null}function BRe(a,u){for(var h=a,v=u,w=0,T=h;T;T=Pv(T))w++;for(var A=0,L=v;L;L=Pv(L))A++;for(;w-A>0;)h=Pv(h),w--;for(;A-w>0;)v=Pv(v),A--;for(var z=w;z--;){if(h===v||v!==null&&h===v.alternate)return h;h=Pv(h),v=Pv(v)}return null}function WG(a,u,h,v,w){for(var T=u._reactName,A=[],L=h;L!==null&&L!==v;){var z=L,Z=z.alternate,J=z.stateNode,ve=z.tag;if(Z!==null&&Z===v)break;if(ve===x&&J!==null){var me=J;if(w){var Ne=qf(L,T);Ne!=null&&A.unshift(Yb(L,Ne,me))}else if(!w){var Oe=qf(L,T);Oe!=null&&A.push(Yb(L,Oe,me))}}L=L.return}A.length!==0&&a.push({event:u,listeners:A})}function URe(a,u,h,v,w){var T=v&&w?BRe(v,w):null;v!==null&&WG(a,u,v,T,!1),w!==null&&h!==null&&WG(a,h,w,T,!0)}function HRe(a,u){return a+"__bubble"}var Fs=!1,Zb="dangerouslySetInnerHTML",QC="suppressContentEditableWarning",qp="suppressHydrationWarning",GG="autoFocus",Gm="children",Km="style",JC="__html",$6,eE,Xb,KG,tE,qG,YG;$6={dialog:!0,webview:!0},eE=function(a,u){A0(a,u),nb(a,u),iC(a,u,{registrationNameDependencies:rt,possibleRegistrationNames:ot})},qG=At&&!document.documentMode,Xb=function(a,u,h){if(!Fs){var v=nE(h),w=nE(u);w!==v&&(Fs=!0,s("Prop `%s` did not match. Server: %s Client: %s",a,JSON.stringify(w),JSON.stringify(v)))}},KG=function(a){if(!Fs){Fs=!0;var u=[];a.forEach(function(h){u.push(h)}),s("Extra attributes from the server: %s",u)}},tE=function(a,u){u===!1?s("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",a,a,a):s("Expected `%s` listener to be a function, instead got a value of `%s` type.",a,typeof u)},YG=function(a,u){var h=a.namespaceURI===H?a.ownerDocument.createElement(a.tagName):a.ownerDocument.createElementNS(a.namespaceURI,a.tagName);return h.innerHTML=u,h.innerHTML};var WRe=/\r\n?/g,GRe=/\u0000|\uFFFD/g;function nE(a){Wi(a);var u=typeof a=="string"?a:""+a;return u.replace(WRe,`
`).replace(GRe,"")}function rE(a,u,h,v){var w=nE(u),T=nE(a);if(T!==w&&(v&&(Fs||(Fs=!0,s('Text content did not match. Server: "%s" Client: "%s"',T,w))),h&&Re))throw new Error("Text content does not match server-rendered HTML.")}function ZG(a){return a.nodeType===jt?a:a.ownerDocument}function KRe(){}function iE(a){a.onclick=KRe}function qRe(a,u,h,v,w){for(var T in v)if(v.hasOwnProperty(T)){var A=v[T];if(T===Km)A&&Object.freeze(A),qS(u,A);else if(T===Zb){var L=A?A[JC]:void 0;L!=null&&dt(u,L)}else if(T===Gm)if(typeof A=="string"){var z=a!=="textarea"||A!=="";z&&ur(u,A)}else typeof A=="number"&&ur(u,""+A);else T===QC||T===qp||T===GG||(rt.hasOwnProperty(T)?A!=null&&(typeof A!="function"&&tE(T,A),T==="onScroll"&&Jr("scroll",u)):A!=null&&Ha(u,T,A,w))}}function YRe(a,u,h,v){for(var w=0;w<u.length;w+=2){var T=u[w],A=u[w+1];T===Km?qS(a,A):T===Zb?dt(a,A):T===Gm?ur(a,A):Ha(a,T,A,v)}}function ZRe(a,u,h,v){var w,T=ZG(h),A,L=v;if(L===H&&(L=re(a)),L===H){if(w=Ml(a,u),!w&&a!==a.toLowerCase()&&s("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",a),a==="script"){var z=T.createElement("div");z.innerHTML="<script><\/script>";var Z=z.firstChild;A=z.removeChild(Z)}else if(typeof u.is=="string")A=T.createElement(a,{is:u.is});else if(A=T.createElement(a),a==="select"){var J=A;u.multiple?J.multiple=!0:u.size&&(J.size=u.size)}}else A=T.createElementNS(L,a);return L===H&&!w&&Object.prototype.toString.call(A)==="[object HTMLUnknownElement]"&&!nn.call($6,a)&&($6[a]=!0,s("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",a)),A}function XRe(a,u){return ZG(u).createTextNode(a)}function QRe(a,u,h,v){var w=Ml(u,h);eE(u,h);var T;switch(u){case"dialog":Jr("cancel",a),Jr("close",a),T=h;break;case"iframe":case"object":case"embed":Jr("load",a),T=h;break;case"video":case"audio":for(var A=0;A<Kb.length;A++)Jr(Kb[A],a);T=h;break;case"source":Jr("error",a),T=h;break;case"img":case"image":case"link":Jr("error",a),Jr("load",a),T=h;break;case"details":Jr("toggle",a),T=h;break;case"input":se(a,h),T=U(a,h),Jr("invalid",a);break;case"option":er(a,h),T=h;break;case"select":Uf(a,h),T=Bf(a,h),Jr("invalid",a);break;case"textarea":cm(a,h),T=pp(a,h),Jr("invalid",a);break;default:T=h}switch(N0(u,T),qRe(u,a,v,T,w),u){case"input":Da(a),it(a,h,!1);break;case"textarea":Da(a),D(a);break;case"option":pr(a,h);break;case"select":Mc(a,h);break;default:typeof T.onClick=="function"&&iE(a);break}}function JRe(a,u,h,v,w){eE(u,v);var T=null,A,L;switch(u){case"input":A=U(a,h),L=U(a,v),T=[];break;case"select":A=Bf(a,h),L=Bf(a,v),T=[];break;case"textarea":A=pp(a,h),L=pp(a,v),T=[];break;default:A=h,L=v,typeof A.onClick!="function"&&typeof L.onClick=="function"&&iE(a);break}N0(u,L);var z,Z,J=null;for(z in A)if(!(L.hasOwnProperty(z)||!A.hasOwnProperty(z)||A[z]==null))if(z===Km){var ve=A[z];for(Z in ve)ve.hasOwnProperty(Z)&&(J||(J={}),J[Z]="")}else z===Zb||z===Gm||z===QC||z===qp||z===GG||(rt.hasOwnProperty(z)?T||(T=[]):(T=T||[]).push(z,null));for(z in L){var me=L[z],Ne=A!=null?A[z]:void 0;if(!(!L.hasOwnProperty(z)||me===Ne||me==null&&Ne==null))if(z===Km)if(me&&Object.freeze(me),Ne){for(Z in Ne)Ne.hasOwnProperty(Z)&&(!me||!me.hasOwnProperty(Z))&&(J||(J={}),J[Z]="");for(Z in me)me.hasOwnProperty(Z)&&Ne[Z]!==me[Z]&&(J||(J={}),J[Z]=me[Z])}else J||(T||(T=[]),T.push(z,J)),J=me;else if(z===Zb){var Oe=me?me[JC]:void 0,Le=Ne?Ne[JC]:void 0;Oe!=null&&Le!==Oe&&(T=T||[]).push(z,Oe)}else z===Gm?(typeof me=="string"||typeof me=="number")&&(T=T||[]).push(z,""+me):z===QC||z===qp||(rt.hasOwnProperty(z)?(me!=null&&(typeof me!="function"&&tE(z,me),z==="onScroll"&&Jr("scroll",a)),!T&&Ne!==me&&(T=[])):(T=T||[]).push(z,me))}return J&&(fm(J,L[Km]),(T=T||[]).push(Km,J)),T}function eAe(a,u,h,v,w){h==="input"&&w.type==="radio"&&w.name!=null&&ke(a,w);var T=Ml(h,v),A=Ml(h,w);switch(YRe(a,u,T,A),h){case"input":Ie(a,w);break;case"textarea":E(a,w);break;case"select":q1(a,w);break}}function tAe(a){{var u=a.toLowerCase();return R0.hasOwnProperty(u)&&R0[u]||null}}function nAe(a,u,h,v,w,T,A){var L,z;switch(L=Ml(u,h),eE(u,h),u){case"dialog":Jr("cancel",a),Jr("close",a);break;case"iframe":case"object":case"embed":Jr("load",a);break;case"video":case"audio":for(var Z=0;Z<Kb.length;Z++)Jr(Kb[Z],a);break;case"source":Jr("error",a);break;case"img":case"image":case"link":Jr("error",a),Jr("load",a);break;case"details":Jr("toggle",a);break;case"input":se(a,h),Jr("invalid",a);break;case"option":er(a,h);break;case"select":Uf(a,h),Jr("invalid",a);break;case"textarea":cm(a,h),Jr("invalid",a);break}N0(u,h);{z=new Set;for(var J=a.attributes,ve=0;ve<J.length;ve++){var me=J[ve].name.toLowerCase();switch(me){case"value":break;case"checked":break;case"selected":break;default:z.add(J[ve].name)}}}var Ne=null;for(var Oe in h)if(h.hasOwnProperty(Oe)){var Le=h[Oe];if(Oe===Gm)typeof Le=="string"?a.textContent!==Le&&(h[qp]!==!0&&rE(a.textContent,Le,T,A),Ne=[Gm,Le]):typeof Le=="number"&&a.textContent!==""+Le&&(h[qp]!==!0&&rE(a.textContent,Le,T,A),Ne=[Gm,""+Le]);else if(rt.hasOwnProperty(Oe))Le!=null&&(typeof Le!="function"&&tE(Oe,Le),Oe==="onScroll"&&Jr("scroll",a));else if(A&&typeof L=="boolean"){var St=void 0,Xt=Ar(Oe);if(h[qp]!==!0){if(!(Oe===QC||Oe===qp||Oe==="value"||Oe==="checked"||Oe==="selected")){if(Oe===Zb){var Wt=a.innerHTML,zn=Le?Le[JC]:void 0;if(zn!=null){var $n=YG(a,zn);$n!==Wt&&Xb(Oe,Wt,$n)}}else if(Oe===Km){if(z.delete(Oe),qG){var Ce=n6(Le);St=a.getAttribute("style"),Ce!==St&&Xb(Oe,St,Ce)}}else if(L&&!We)z.delete(Oe.toLowerCase()),St=Gi(a,Oe,Le),Le!==St&&Xb(Oe,St,Le);else if(!_r(Oe,Xt,L)&&!Ln(Oe,Le,Xt,L)){var Fe=!1;if(Xt!==null)z.delete(Xt.attributeName),St=Ua(a,Oe,Le,Xt);else{var Ee=v;if(Ee===H&&(Ee=re(u)),Ee===H)z.delete(Oe.toLowerCase());else{var nt=tAe(Oe);nt!==null&&nt!==Oe&&(Fe=!0,z.delete(nt)),z.delete(Oe)}St=Gi(a,Oe,Le)}var Nt=We;!Nt&&Le!==St&&!Fe&&Xb(Oe,St,Le)}}}}}switch(A&&z.size>0&&h[qp]!==!0&&KG(z),u){case"input":Da(a),it(a,h,!0);break;case"textarea":Da(a),D(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&iE(a);break}return Ne}function rAe(a,u,h){var v=a.nodeValue!==u;return v}function I6(a,u){{if(Fs)return;Fs=!0,s("Did not expect server HTML to contain a <%s> in <%s>.",u.nodeName.toLowerCase(),a.nodeName.toLowerCase())}}function P6(a,u){{if(Fs)return;Fs=!0,s('Did not expect server HTML to contain the text node "%s" in <%s>.',u.nodeValue,a.nodeName.toLowerCase())}}function M6(a,u,h){{if(Fs)return;Fs=!0,s("Expected server HTML to contain a matching <%s> in <%s>.",u,a.nodeName.toLowerCase())}}function L6(a,u){{if(u===""||Fs)return;Fs=!0,s('Expected server HTML to contain a matching text node for "%s" in <%s>.',u,a.nodeName.toLowerCase())}}function iAe(a,u,h){switch(u){case"input":Zt(a,h);return;case"textarea":V(a,h);return;case"select":Y1(a,h);return}}var Qb=function(){},Jb=function(){};{var aAe=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],XG=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],oAe=XG.concat(["button"]),sAe=["dd","dt","li","option","optgroup","p","rp","rt"],QG={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Jb=function(a,u){var h=gn({},a||QG),v={tag:u};return XG.indexOf(u)!==-1&&(h.aTagInScope=null,h.buttonTagInScope=null,h.nobrTagInScope=null),oAe.indexOf(u)!==-1&&(h.pTagInButtonScope=null),aAe.indexOf(u)!==-1&&u!=="address"&&u!=="div"&&u!=="p"&&(h.listItemTagAutoclosing=null,h.dlItemTagAutoclosing=null),h.current=v,u==="form"&&(h.formTag=v),u==="a"&&(h.aTagInScope=v),u==="button"&&(h.buttonTagInScope=v),u==="nobr"&&(h.nobrTagInScope=v),u==="p"&&(h.pTagInButtonScope=v),u==="li"&&(h.listItemTagAutoclosing=v),(u==="dd"||u==="dt")&&(h.dlItemTagAutoclosing=v),h};var uAe=function(a,u){switch(u){case"select":return a==="option"||a==="optgroup"||a==="#text";case"optgroup":return a==="option"||a==="#text";case"option":return a==="#text";case"tr":return a==="th"||a==="td"||a==="style"||a==="script"||a==="template";case"tbody":case"thead":case"tfoot":return a==="tr"||a==="style"||a==="script"||a==="template";case"colgroup":return a==="col"||a==="template";case"table":return a==="caption"||a==="colgroup"||a==="tbody"||a==="tfoot"||a==="thead"||a==="style"||a==="script"||a==="template";case"head":return a==="base"||a==="basefont"||a==="bgsound"||a==="link"||a==="meta"||a==="title"||a==="noscript"||a==="noframes"||a==="style"||a==="script"||a==="template";case"html":return a==="head"||a==="body"||a==="frameset";case"frameset":return a==="frame";case"#document":return a==="html"}switch(a){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return u!=="h1"&&u!=="h2"&&u!=="h3"&&u!=="h4"&&u!=="h5"&&u!=="h6";case"rp":case"rt":return sAe.indexOf(u)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return u==null}return!0},lAe=function(a,u){switch(a){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return u.pTagInButtonScope;case"form":return u.formTag||u.pTagInButtonScope;case"li":return u.listItemTagAutoclosing;case"dd":case"dt":return u.dlItemTagAutoclosing;case"button":return u.buttonTagInScope;case"a":return u.aTagInScope;case"nobr":return u.nobrTagInScope}return null},JG={};Qb=function(a,u,h){h=h||QG;var v=h.current,w=v&&v.tag;u!=null&&(a!=null&&s("validateDOMNesting: when childText is passed, childTag should be null"),a="#text");var T=uAe(a,w)?null:v,A=T?null:lAe(a,h),L=T||A;if(L){var z=L.tag,Z=!!T+"|"+a+"|"+z;if(!JG[Z]){JG[Z]=!0;var J=a,ve="";if(a==="#text"?/\S/.test(u)?J="Text nodes":(J="Whitespace text nodes",ve=" Make sure you don't have any extra whitespace between tags on each line of your source code."):J="<"+a+">",T){var me="";z==="table"&&a==="tr"&&(me+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),s("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",J,z,ve,me)}else s("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",J,z)}}}}var aE="suppressHydrationWarning",oE="$",sE="/$",ew="$?",tw="$!",cAe="style",F6=null,V6=null;function fAe(a){var u,h,v=a.nodeType;switch(v){case jt:case pn:{u=v===jt?"#document":"#fragment";var w=a.documentElement;h=w?w.namespaceURI:pe(null,"");break}default:{var T=v===st?a.parentNode:a,A=T.namespaceURI||null;u=T.tagName,h=pe(A,u);break}}{var L=u.toLowerCase(),z=Jb(null,L);return{namespace:h,ancestorInfo:z}}}function dAe(a,u,h){{var v=a,w=pe(v.namespace,u),T=Jb(v.ancestorInfo,u);return{namespace:w,ancestorInfo:T}}}function J$e(a){return a}function pAe(a){F6=zp(),V6=kRe();var u=null;return ko(!1),u}function hAe(a){NRe(V6),ko(F6),F6=null,V6=null}function mAe(a,u,h,v,w){var T;{var A=v;if(Qb(a,null,A.ancestorInfo),typeof u.children=="string"||typeof u.children=="number"){var L=""+u.children,z=Jb(A.ancestorInfo,a);Qb(null,L,z)}T=A.namespace}var Z=ZRe(a,u,h,T);return iw(w,Z),K6(Z,u),Z}function gAe(a,u){a.appendChild(u)}function vAe(a,u,h,v,w){switch(QRe(a,u,h,v),u){case"button":case"input":case"select":case"textarea":return!!h.autoFocus;case"img":return!0;default:return!1}}function yAe(a,u,h,v,w,T){{var A=T;if(typeof v.children!=typeof h.children&&(typeof v.children=="string"||typeof v.children=="number")){var L=""+v.children,z=Jb(A.ancestorInfo,u);Qb(null,L,z)}}return JRe(a,u,h,v)}function j6(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}function bAe(a,u,h,v){{var w=h;Qb(null,a,w.ancestorInfo)}var T=XRe(a,u);return iw(v,T),T}function wAe(){var a=window.event;return a===void 0?Ju:bv(a.type)}var z6=typeof setTimeout=="function"?setTimeout:void 0,xAe=typeof clearTimeout=="function"?clearTimeout:void 0,B6=-1,eK=typeof Promise=="function"?Promise:void 0,SAe=typeof queueMicrotask=="function"?queueMicrotask:typeof eK<"u"?function(a){return eK.resolve(null).then(a).catch(CAe)}:z6;function CAe(a){setTimeout(function(){throw a})}function EAe(a,u,h,v){switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&a.focus();return;case"img":{h.src&&(a.src=h.src);return}}}function _Ae(a,u,h,v,w,T){eAe(a,u,h,v,w),K6(a,w)}function tK(a){ur(a,"")}function TAe(a,u,h){a.nodeValue=h}function kAe(a,u){a.appendChild(u)}function NAe(a,u){var h;a.nodeType===st?(h=a.parentNode,h.insertBefore(u,a)):(h=a,h.appendChild(u));var v=a._reactRootContainer;v==null&&h.onclick===null&&iE(h)}function RAe(a,u,h){a.insertBefore(u,h)}function AAe(a,u,h){a.nodeType===st?a.parentNode.insertBefore(u,h):a.insertBefore(u,h)}function DAe(a,u){a.removeChild(u)}function OAe(a,u){a.nodeType===st?a.parentNode.removeChild(u):a.removeChild(u)}function U6(a,u){var h=u,v=0;do{var w=h.nextSibling;if(a.removeChild(h),w&&w.nodeType===st){var T=w.data;if(T===sE)if(v===0){a.removeChild(w),li(u);return}else v--;else(T===oE||T===ew||T===tw)&&v++}h=w}while(h);li(u)}function $Ae(a,u){a.nodeType===st?U6(a.parentNode,u):a.nodeType===Lt&&U6(a,u),li(a)}function IAe(a){a=a;var u=a.style;typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"}function PAe(a){a.nodeValue=""}function MAe(a,u){a=a;var h=u[cAe],v=h!=null&&h.hasOwnProperty("display")?h.display:null;a.style.display=Dn("display",v)}function LAe(a,u){a.nodeValue=u}function FAe(a){a.nodeType===Lt?a.textContent="":a.nodeType===jt&&a.documentElement&&a.removeChild(a.documentElement)}function VAe(a,u,h){return a.nodeType!==Lt||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a}function jAe(a,u){return u===""||a.nodeType!==Dt?null:a}function zAe(a){return a.nodeType!==st?null:a}function nK(a){return a.data===ew}function H6(a){return a.data===tw}function BAe(a){var u=a.nextSibling&&a.nextSibling.dataset,h,v,w;return u&&(h=u.dgst,v=u.msg,w=u.stck),{message:v,digest:h,stack:w}}function UAe(a,u){a._reactRetry=u}function uE(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===Lt||u===Dt)break;if(u===st){var h=a.data;if(h===oE||h===tw||h===ew)break;if(h===sE)return null}}return a}function nw(a){return uE(a.nextSibling)}function HAe(a){return uE(a.firstChild)}function WAe(a){return uE(a.firstChild)}function GAe(a){return uE(a.nextSibling)}function KAe(a,u,h,v,w,T,A){iw(T,a),K6(a,h);var L;{var z=w;L=z.namespace}var Z=(T.mode&Ut)!==zt;return nAe(a,u,h,L,v,Z,A)}function qAe(a,u,h,v){return iw(h,a),h.mode&Ut,rAe(a,u)}function YAe(a,u){iw(u,a)}function ZAe(a){for(var u=a.nextSibling,h=0;u;){if(u.nodeType===st){var v=u.data;if(v===sE){if(h===0)return nw(u);h--}else(v===oE||v===tw||v===ew)&&h++}u=u.nextSibling}return null}function rK(a){for(var u=a.previousSibling,h=0;u;){if(u.nodeType===st){var v=u.data;if(v===oE||v===tw||v===ew){if(h===0)return u;h--}else v===sE&&h++}u=u.previousSibling}return null}function XAe(a){li(a)}function QAe(a){li(a)}function JAe(a){return a!=="head"&&a!=="body"}function e4e(a,u,h,v){var w=!0;rE(u.nodeValue,h,v,w)}function t4e(a,u,h,v,w,T){if(u[aE]!==!0){var A=!0;rE(v.nodeValue,w,T,A)}}function n4e(a,u){u.nodeType===Lt?I6(a,u):u.nodeType===st||P6(a,u)}function r4e(a,u){{var h=a.parentNode;h!==null&&(u.nodeType===Lt?I6(h,u):u.nodeType===st||P6(h,u))}}function i4e(a,u,h,v,w){(w||u[aE]!==!0)&&(v.nodeType===Lt?I6(h,v):v.nodeType===st||P6(h,v))}function a4e(a,u,h){M6(a,u)}function o4e(a,u){L6(a,u)}function s4e(a,u,h){{var v=a.parentNode;v!==null&&M6(v,u)}}function u4e(a,u){{var h=a.parentNode;h!==null&&L6(h,u)}}function l4e(a,u,h,v,w,T){(T||u[aE]!==!0)&&M6(h,v)}function c4e(a,u,h,v,w){(w||u[aE]!==!0)&&L6(h,v)}function f4e(a){s("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",a.nodeName.toLowerCase())}function d4e(a){qb(a)}var Mv=Math.random().toString(36).slice(2),Lv="__reactFiber$"+Mv,W6="__reactProps$"+Mv,rw="__reactContainer$"+Mv,G6="__reactEvents$"+Mv,p4e="__reactListeners$"+Mv,h4e="__reactHandles$"+Mv;function m4e(a){delete a[Lv],delete a[W6],delete a[G6],delete a[p4e],delete a[h4e]}function iw(a,u){u[Lv]=a}function lE(a,u){u[rw]=a}function iK(a){a[rw]=null}function aw(a){return!!a[rw]}function qm(a){var u=a[Lv];if(u)return u;for(var h=a.parentNode;h;){if(u=h[rw]||h[Lv],u){var v=u.alternate;if(u.child!==null||v!==null&&v.child!==null)for(var w=rK(a);w!==null;){var T=w[Lv];if(T)return T;w=rK(w)}return u}a=h,h=a.parentNode}return null}function Yp(a){var u=a[Lv]||a[rw];return u&&(u.tag===x||u.tag===S||u.tag===F||u.tag===g)?u:null}function Fv(a){if(a.tag===x||a.tag===S)return a.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function cE(a){return a[W6]||null}function K6(a,u){a[W6]=u}function g4e(a){var u=a[G6];return u===void 0&&(u=a[G6]=new Set),u}var aK={},oK=n.ReactDebugCurrentFrame;function fE(a){if(a){var u=a._owner,h=bs(a.type,a._source,u?u.type:null);oK.setExtraStackFrame(h)}else oK.setExtraStackFrame(null)}function ql(a,u,h,v,w){{var T=Function.call.bind(nn);for(var A in a)if(T(a,A)){var L=void 0;try{if(typeof a[A]!="function"){var z=Error((v||"React class")+": "+h+" type `"+A+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[A]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw z.name="Invariant Violation",z}L=a[A](u,A,v,h,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Z){L=Z}L&&!(L instanceof Error)&&(fE(w),s("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",v||"React class",h,A,typeof L),fE(null)),L instanceof Error&&!(L.message in aK)&&(aK[L.message]=!0,fE(w),s("Failed %s type: %s",h,L.message),fE(null))}}}var q6=[],dE;dE=[];var hd=-1;function Zp(a){return{current:a}}function No(a,u){if(hd<0){s("Unexpected pop.");return}u!==dE[hd]&&s("Unexpected Fiber popped."),a.current=q6[hd],q6[hd]=null,dE[hd]=null,hd--}function Ro(a,u,h){hd++,q6[hd]=a.current,dE[hd]=h,a.current=u}var Y6;Y6={};var bu={};Object.freeze(bu);var md=Zp(bu),Qc=Zp(!1),Z6=bu;function Vv(a,u,h){return h&&Jc(u)?Z6:md.current}function sK(a,u,h){{var v=a.stateNode;v.__reactInternalMemoizedUnmaskedChildContext=u,v.__reactInternalMemoizedMaskedChildContext=h}}function jv(a,u){{var h=a.type,v=h.contextTypes;if(!v)return bu;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var T={};for(var A in v)T[A]=u[A];{var L=un(a)||"Unknown";ql(v,T,"context",L)}return w&&sK(a,u,T),T}}function pE(){return Qc.current}function Jc(a){{var u=a.childContextTypes;return u!=null}}function hE(a){No(Qc,a),No(md,a)}function X6(a){No(Qc,a),No(md,a)}function uK(a,u,h){{if(md.current!==bu)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ro(md,u,a),Ro(Qc,h,a)}}function lK(a,u,h){{var v=a.stateNode,w=u.childContextTypes;if(typeof v.getChildContext!="function"){{var T=un(a)||"Unknown";Y6[T]||(Y6[T]=!0,s("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",T,T))}return h}var A=v.getChildContext();for(var L in A)if(!(L in w))throw new Error((un(a)||"Unknown")+'.getChildContext(): key "'+L+'" is not defined in childContextTypes.');{var z=un(a)||"Unknown";ql(w,A,"child context",z)}return gn({},h,A)}}function mE(a){{var u=a.stateNode,h=u&&u.__reactInternalMemoizedMergedChildContext||bu;return Z6=md.current,Ro(md,h,a),Ro(Qc,Qc.current,a),!0}}function cK(a,u,h){{var v=a.stateNode;if(!v)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(h){var w=lK(a,u,Z6);v.__reactInternalMemoizedMergedChildContext=w,No(Qc,a),No(md,a),Ro(md,w,a),Ro(Qc,h,a)}else No(Qc,a),Ro(Qc,h,a)}}function v4e(a){{if(!gb(a)||a.tag!==p)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var u=a;do{switch(u.tag){case g:return u.stateNode.context;case p:{var h=u.type;if(Jc(h))return u.stateNode.__reactInternalMemoizedMergedChildContext;break}}u=u.return}while(u!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Xp=0,gE=1,gd=null,Q6=!1,J6=!1;function fK(a){gd===null?gd=[a]:gd.push(a)}function y4e(a){Q6=!0,fK(a)}function dK(){Q6&&Qp()}function Qp(){if(!J6&&gd!==null){J6=!0;var a=0,u=$s();try{var h=!0,v=gd;for(ui(Si);a<v.length;a++){var w=v[a];do w=w(h);while(w!==null)}gd=null,Q6=!1}catch(T){throw gd!==null&&(gd=gd.slice(a+1)),F0(j0,Qp),T}finally{ui(u),J6=!1}}return null}var zv=[],Bv=0,vE=null,yE=0,rl=[],il=0,Ym=null,vd=1,yd="";function b4e(a){return Xm(),(a.flags&pb)!==Yt}function w4e(a){return Xm(),yE}function x4e(){var a=yd,u=vd,h=u&~S4e(u);return h.toString(32)+a}function Zm(a,u){Xm(),zv[Bv++]=yE,zv[Bv++]=vE,vE=a,yE=u}function pK(a,u,h){Xm(),rl[il++]=vd,rl[il++]=yd,rl[il++]=Ym,Ym=a;var v=vd,w=yd,T=bE(v)-1,A=v&~(1<<T),L=h+1,z=bE(u)+T;if(z>30){var Z=T-T%5,J=(1<<Z)-1,ve=(A&J).toString(32),me=A>>Z,Ne=T-Z,Oe=bE(u)+Ne,Le=L<<Ne,St=Le|me,Xt=ve+w;vd=1<<Oe|St,yd=Xt}else{var Wt=L<<T,zn=Wt|A,$n=w;vd=1<<z|zn,yd=$n}}function eO(a){Xm();var u=a.return;if(u!==null){var h=1,v=0;Zm(a,h),pK(a,h,v)}}function bE(a){return 32-Ep(a)}function S4e(a){return 1<<bE(a)-1}function tO(a){for(;a===vE;)vE=zv[--Bv],zv[Bv]=null,yE=zv[--Bv],zv[Bv]=null;for(;a===Ym;)Ym=rl[--il],rl[il]=null,yd=rl[--il],rl[il]=null,vd=rl[--il],rl[il]=null}function C4e(){return Xm(),Ym!==null?{id:vd,overflow:yd}:null}function E4e(a,u){Xm(),rl[il++]=vd,rl[il++]=yd,rl[il++]=Ym,vd=u.id,yd=u.overflow,Ym=a}function Xm(){Ya()||s("Expected to be hydrating. This is a bug in React. Please file an issue.")}var qa=null,al=null,Yl=!1,Qm=!1,Jp=null;function _4e(){Yl&&s("We should not be hydrating here. This is a bug in React. Please file a bug.")}function hK(){Qm=!0}function T4e(){return Qm}function k4e(a){var u=a.stateNode.containerInfo;return al=WAe(u),qa=a,Yl=!0,Jp=null,Qm=!1,!0}function N4e(a,u,h){return al=GAe(u),qa=a,Yl=!0,Jp=null,Qm=!1,h!==null&&E4e(a,h),!0}function mK(a,u){switch(a.tag){case g:{n4e(a.stateNode.containerInfo,u);break}case x:{var h=(a.mode&Ut)!==zt;i4e(a.type,a.memoizedProps,a.stateNode,u,h);break}case F:{var v=a.memoizedState;v.dehydrated!==null&&r4e(v.dehydrated,u);break}}}function gK(a,u){mK(a,u);var h=OOe();h.stateNode=u,h.return=a;var v=a.deletions;v===null?(a.deletions=[h],a.flags|=tr):v.push(h)}function nO(a,u){{if(Qm)return;switch(a.tag){case g:{var h=a.stateNode.containerInfo;switch(u.tag){case x:var v=u.type;u.pendingProps,a4e(h,v);break;case S:var w=u.pendingProps;o4e(h,w);break}break}case x:{var T=a.type,A=a.memoizedProps,L=a.stateNode;switch(u.tag){case x:{var z=u.type,Z=u.pendingProps,J=(a.mode&Ut)!==zt;l4e(T,A,L,z,Z,J);break}case S:{var ve=u.pendingProps,me=(a.mode&Ut)!==zt;c4e(T,A,L,ve,me);break}}break}case F:{var Ne=a.memoizedState,Oe=Ne.dehydrated;if(Oe!==null)switch(u.tag){case x:var Le=u.type;u.pendingProps,s4e(Oe,Le);break;case S:var St=u.pendingProps;u4e(Oe,St);break}break}default:return}}}function vK(a,u){u.flags=u.flags&~ks|Or,nO(a,u)}function yK(a,u){switch(a.tag){case x:{var h=a.type;a.pendingProps;var v=VAe(u,h);return v!==null?(a.stateNode=v,qa=a,al=HAe(v),!0):!1}case S:{var w=a.pendingProps,T=jAe(u,w);return T!==null?(a.stateNode=T,qa=a,al=null,!0):!1}case F:{var A=zAe(u);if(A!==null){var L={dehydrated:A,treeContext:C4e(),retryLane:Ia};a.memoizedState=L;var z=$Oe(A);return z.return=a,a.child=z,qa=a,al=null,!0}return!1}default:return!1}}function rO(a){return(a.mode&Ut)!==zt&&(a.flags&ln)===Yt}function iO(a){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function aO(a){if(Yl){var u=al;if(!u){rO(a)&&(nO(qa,a),iO()),vK(qa,a),Yl=!1,qa=a;return}var h=u;if(!yK(a,u)){rO(a)&&(nO(qa,a),iO()),u=nw(h);var v=qa;if(!u||!yK(a,u)){vK(qa,a),Yl=!1,qa=a;return}gK(v,h)}}}function R4e(a,u,h){var v=a.stateNode,w=!Qm,T=KAe(v,a.type,a.memoizedProps,u,h,a,w);return a.updateQueue=T,T!==null}function A4e(a){var u=a.stateNode,h=a.memoizedProps,v=qAe(u,h,a);if(v){var w=qa;if(w!==null)switch(w.tag){case g:{var T=w.stateNode.containerInfo,A=(w.mode&Ut)!==zt;e4e(T,u,h,A);break}case x:{var L=w.type,z=w.memoizedProps,Z=w.stateNode,J=(w.mode&Ut)!==zt;t4e(L,z,Z,u,h,J);break}}}return v}function D4e(a){var u=a.memoizedState,h=u!==null?u.dehydrated:null;if(!h)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");YAe(h,a)}function O4e(a){var u=a.memoizedState,h=u!==null?u.dehydrated:null;if(!h)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return ZAe(h)}function bK(a){for(var u=a.return;u!==null&&u.tag!==x&&u.tag!==g&&u.tag!==F;)u=u.return;qa=u}function wE(a){if(a!==qa)return!1;if(!Yl)return bK(a),Yl=!0,!1;if(a.tag!==g&&(a.tag!==x||JAe(a.type)&&!j6(a.type,a.memoizedProps))){var u=al;if(u)if(rO(a))wK(a),iO();else for(;u;)gK(a,u),u=nw(u)}return bK(a),a.tag===F?al=O4e(a):al=qa?nw(a.stateNode):null,!0}function $4e(){return Yl&&al!==null}function wK(a){for(var u=al;u;)mK(a,u),u=nw(u)}function Uv(){qa=null,al=null,Yl=!1,Qm=!1}function xK(){Jp!==null&&(hY(Jp),Jp=null)}function Ya(){return Yl}function oO(a){Jp===null?Jp=[a]:Jp.push(a)}var I4e=n.ReactCurrentBatchConfig,P4e=null;function M4e(){return I4e.transition}var Zl={recordUnsafeLifecycleWarnings:function(a,u){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(a,u){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var L4e=function(a){for(var u=null,h=a;h!==null;)h.mode&Nn&&(u=h),h=h.return;return u},Jm=function(a){var u=[];return a.forEach(function(h){u.push(h)}),u.sort().join(", ")},ow=[],sw=[],uw=[],lw=[],cw=[],fw=[],eg=new Set;Zl.recordUnsafeLifecycleWarnings=function(a,u){eg.has(a.type)||(typeof u.componentWillMount=="function"&&u.componentWillMount.__suppressDeprecationWarning!==!0&&ow.push(a),a.mode&Nn&&typeof u.UNSAFE_componentWillMount=="function"&&sw.push(a),typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&uw.push(a),a.mode&Nn&&typeof u.UNSAFE_componentWillReceiveProps=="function"&&lw.push(a),typeof u.componentWillUpdate=="function"&&u.componentWillUpdate.__suppressDeprecationWarning!==!0&&cw.push(a),a.mode&Nn&&typeof u.UNSAFE_componentWillUpdate=="function"&&fw.push(a))},Zl.flushPendingUnsafeLifecycleWarnings=function(){var a=new Set;ow.length>0&&(ow.forEach(function(me){a.add(un(me)||"Component"),eg.add(me.type)}),ow=[]);var u=new Set;sw.length>0&&(sw.forEach(function(me){u.add(un(me)||"Component"),eg.add(me.type)}),sw=[]);var h=new Set;uw.length>0&&(uw.forEach(function(me){h.add(un(me)||"Component"),eg.add(me.type)}),uw=[]);var v=new Set;lw.length>0&&(lw.forEach(function(me){v.add(un(me)||"Component"),eg.add(me.type)}),lw=[]);var w=new Set;cw.length>0&&(cw.forEach(function(me){w.add(un(me)||"Component"),eg.add(me.type)}),cw=[]);var T=new Set;if(fw.length>0&&(fw.forEach(function(me){T.add(un(me)||"Component"),eg.add(me.type)}),fw=[]),u.size>0){var A=Jm(u);s(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,A)}if(v.size>0){var L=Jm(v);s(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,L)}if(T.size>0){var z=Jm(T);s(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,z)}if(a.size>0){var Z=Jm(a);o(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Z)}if(h.size>0){var J=Jm(h);o(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,J)}if(w.size>0){var ve=Jm(w);o(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ve)}};var xE=new Map,SK=new Set;Zl.recordLegacyContextWarning=function(a,u){var h=L4e(a);if(h===null){s("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!SK.has(a.type)){var v=xE.get(h);(a.type.contextTypes!=null||a.type.childContextTypes!=null||u!==null&&typeof u.getChildContext=="function")&&(v===void 0&&(v=[],xE.set(h,v)),v.push(a))}},Zl.flushLegacyContextWarning=function(){xE.forEach(function(a,u){if(a.length!==0){var h=a[0],v=new Set;a.forEach(function(T){v.add(un(T)||"Component"),SK.add(T.type)});var w=Jm(v);try{Yn(h),s(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)}finally{Br()}}})},Zl.discardPendingWarnings=function(){ow=[],sw=[],uw=[],lw=[],cw=[],fw=[],xE=new Map}}var sO,uO,lO,cO,fO,CK=function(a,u){};sO=!1,uO=!1,lO={},cO={},fO={},CK=function(a,u){if(!(a===null||typeof a!="object")&&!(!a._store||a._store.validated||a.key!=null)){if(typeof a._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");a._store.validated=!0;var h=un(u)||"Component";cO[h]||(cO[h]=!0,s('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function F4e(a){return a.prototype&&a.prototype.isReactComponent}function dw(a,u,h){var v=h.ref;if(v!==null&&typeof v!="function"&&typeof v!="object"){if((a.mode&Nn||Ue)&&!(h._owner&&h._self&&h._owner.stateNode!==h._self)&&!(h._owner&&h._owner.tag!==p)&&!(typeof h.type=="function"&&!F4e(h.type))&&h._owner){var w=un(a)||"Component";lO[w]||(s('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',w,v),lO[w]=!0)}if(h._owner){var T=h._owner,A;if(T){var L=T;if(L.tag!==p)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");A=L.stateNode}if(!A)throw new Error("Missing owner for string ref "+v+". This error is likely caused by a bug in React. Please file an issue.");var z=A;hi(v,"ref");var Z=""+v;if(u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===Z)return u.ref;var J=function(ve){var me=z.refs;ve===null?delete me[Z]:me[Z]=ve};return J._stringRef=Z,J}else{if(typeof v!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!h._owner)throw new Error("Element ref was specified as a string ("+v+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return v}function SE(a,u){var h=Object.prototype.toString.call(u);throw new Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.")}function CE(a){{var u=un(a)||"Component";if(fO[u])return;fO[u]=!0,s("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function EK(a){var u=a._payload,h=a._init;return h(u)}function _K(a){function u(Ce,Fe){if(a){var Ee=Ce.deletions;Ee===null?(Ce.deletions=[Fe],Ce.flags|=tr):Ee.push(Fe)}}function h(Ce,Fe){if(!a)return null;for(var Ee=Fe;Ee!==null;)u(Ce,Ee),Ee=Ee.sibling;return null}function v(Ce,Fe){for(var Ee=new Map,nt=Fe;nt!==null;)nt.key!==null?Ee.set(nt.key,nt):Ee.set(nt.index,nt),nt=nt.sibling;return Ee}function w(Ce,Fe){var Ee=lg(Ce,Fe);return Ee.index=0,Ee.sibling=null,Ee}function T(Ce,Fe,Ee){if(Ce.index=Ee,!a)return Ce.flags|=pb,Fe;var nt=Ce.alternate;if(nt!==null){var Nt=nt.index;return Nt<Fe?(Ce.flags|=Or,Fe):Nt}else return Ce.flags|=Or,Fe}function A(Ce){return a&&Ce.alternate===null&&(Ce.flags|=Or),Ce}function L(Ce,Fe,Ee,nt){if(Fe===null||Fe.tag!==S){var Nt=oI(Ee,Ce.mode,nt);return Nt.return=Ce,Nt}else{var Et=w(Fe,Ee);return Et.return=Ce,Et}}function z(Ce,Fe,Ee,nt){var Nt=Ee.type;if(Nt===Ra)return J(Ce,Fe,Ee.props.children,nt,Ee.key);if(Fe!==null&&(Fe.elementType===Nt||AY(Fe,Ee)||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Gt&&EK(Nt)===Fe.type)){var Et=w(Fe,Ee.props);return Et.ref=dw(Ce,Fe,Ee),Et.return=Ce,Et._debugSource=Ee._source,Et._debugOwner=Ee._owner,Et}var an=aI(Ee,Ce.mode,nt);return an.ref=dw(Ce,Fe,Ee),an.return=Ce,an}function Z(Ce,Fe,Ee,nt){if(Fe===null||Fe.tag!==y||Fe.stateNode.containerInfo!==Ee.containerInfo||Fe.stateNode.implementation!==Ee.implementation){var Nt=sI(Ee,Ce.mode,nt);return Nt.return=Ce,Nt}else{var Et=w(Fe,Ee.children||[]);return Et.return=Ce,Et}}function J(Ce,Fe,Ee,nt,Nt){if(Fe===null||Fe.tag!==_){var Et=ch(Ee,Ce.mode,nt,Nt);return Et.return=Ce,Et}else{var an=w(Fe,Ee);return an.return=Ce,an}}function ve(Ce,Fe,Ee){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"){var nt=oI(""+Fe,Ce.mode,Ee);return nt.return=Ce,nt}if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case Ni:{var Nt=aI(Fe,Ce.mode,Ee);return Nt.ref=dw(Ce,null,Fe),Nt.return=Ce,Nt}case Yr:{var Et=sI(Fe,Ce.mode,Ee);return Et.return=Ce,Et}case Gt:{var an=Fe._payload,vn=Fe._init;return ve(Ce,vn(an),Ee)}}if(An(Fe)||Aa(Fe)){var xr=ch(Fe,Ce.mode,Ee,null);return xr.return=Ce,xr}SE(Ce,Fe)}return typeof Fe=="function"&&CE(Ce),null}function me(Ce,Fe,Ee,nt){var Nt=Fe!==null?Fe.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Nt!==null?null:L(Ce,Fe,""+Ee,nt);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case Ni:return Ee.key===Nt?z(Ce,Fe,Ee,nt):null;case Yr:return Ee.key===Nt?Z(Ce,Fe,Ee,nt):null;case Gt:{var Et=Ee._payload,an=Ee._init;return me(Ce,Fe,an(Et),nt)}}if(An(Ee)||Aa(Ee))return Nt!==null?null:J(Ce,Fe,Ee,nt,null);SE(Ce,Ee)}return typeof Ee=="function"&&CE(Ce),null}function Ne(Ce,Fe,Ee,nt,Nt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"){var Et=Ce.get(Ee)||null;return L(Fe,Et,""+nt,Nt)}if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Ni:{var an=Ce.get(nt.key===null?Ee:nt.key)||null;return z(Fe,an,nt,Nt)}case Yr:{var vn=Ce.get(nt.key===null?Ee:nt.key)||null;return Z(Fe,vn,nt,Nt)}case Gt:var xr=nt._payload,Zn=nt._init;return Ne(Ce,Fe,Ee,Zn(xr),Nt)}if(An(nt)||Aa(nt)){var Ui=Ce.get(Ee)||null;return J(Fe,Ui,nt,Nt,null)}SE(Fe,nt)}return typeof nt=="function"&&CE(Fe),null}function Oe(Ce,Fe,Ee){{if(typeof Ce!="object"||Ce===null)return Fe;switch(Ce.$$typeof){case Ni:case Yr:CK(Ce,Ee);var nt=Ce.key;if(typeof nt!="string")break;if(Fe===null){Fe=new Set,Fe.add(nt);break}if(!Fe.has(nt)){Fe.add(nt);break}s("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",nt);break;case Gt:var Nt=Ce._payload,Et=Ce._init;Oe(Et(Nt),Fe,Ee);break}}return Fe}function Le(Ce,Fe,Ee,nt){for(var Nt=null,Et=0;Et<Ee.length;Et++){var an=Ee[Et];Nt=Oe(an,Nt,Ce)}for(var vn=null,xr=null,Zn=Fe,Ui=0,Xn=0,Di=null;Zn!==null&&Xn<Ee.length;Xn++){Zn.index>Xn?(Di=Zn,Zn=null):Di=Zn.sibling;var Do=me(Ce,Zn,Ee[Xn],nt);if(Do===null){Zn===null&&(Zn=Di);break}a&&Zn&&Do.alternate===null&&u(Ce,Zn),Ui=T(Do,Ui,Xn),xr===null?vn=Do:xr.sibling=Do,xr=Do,Zn=Di}if(Xn===Ee.length){if(h(Ce,Zn),Ya()){var no=Xn;Zm(Ce,no)}return vn}if(Zn===null){for(;Xn<Ee.length;Xn++){var xu=ve(Ce,Ee[Xn],nt);xu!==null&&(Ui=T(xu,Ui,Xn),xr===null?vn=xu:xr.sibling=xu,xr=xu)}if(Ya()){var Jo=Xn;Zm(Ce,Jo)}return vn}for(var es=v(Ce,Zn);Xn<Ee.length;Xn++){var Oo=Ne(es,Ce,Xn,Ee[Xn],nt);Oo!==null&&(a&&Oo.alternate!==null&&es.delete(Oo.key===null?Xn:Oo.key),Ui=T(Oo,Ui,Xn),xr===null?vn=Oo:xr.sibling=Oo,xr=Oo)}if(a&&es.forEach(function(uy){return u(Ce,uy)}),Ya()){var _d=Xn;Zm(Ce,_d)}return vn}function St(Ce,Fe,Ee,nt){var Nt=Aa(Ee);if(typeof Nt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ee[Symbol.toStringTag]==="Generator"&&(uO||s("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),uO=!0),Ee.entries===Nt&&(sO||s("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),sO=!0);var Et=Nt.call(Ee);if(Et)for(var an=null,vn=Et.next();!vn.done;vn=Et.next()){var xr=vn.value;an=Oe(xr,an,Ce)}}var Zn=Nt.call(Ee);if(Zn==null)throw new Error("An iterable object provided no iterator.");for(var Ui=null,Xn=null,Di=Fe,Do=0,no=0,xu=null,Jo=Zn.next();Di!==null&&!Jo.done;no++,Jo=Zn.next()){Di.index>no?(xu=Di,Di=null):xu=Di.sibling;var es=me(Ce,Di,Jo.value,nt);if(es===null){Di===null&&(Di=xu);break}a&&Di&&es.alternate===null&&u(Ce,Di),Do=T(es,Do,no),Xn===null?Ui=es:Xn.sibling=es,Xn=es,Di=xu}if(Jo.done){if(h(Ce,Di),Ya()){var Oo=no;Zm(Ce,Oo)}return Ui}if(Di===null){for(;!Jo.done;no++,Jo=Zn.next()){var _d=ve(Ce,Jo.value,nt);_d!==null&&(Do=T(_d,Do,no),Xn===null?Ui=_d:Xn.sibling=_d,Xn=_d)}if(Ya()){var uy=no;Zm(Ce,uy)}return Ui}for(var Hw=v(Ce,Di);!Jo.done;no++,Jo=Zn.next()){var uf=Ne(Hw,Ce,no,Jo.value,nt);uf!==null&&(a&&uf.alternate!==null&&Hw.delete(uf.key===null?no:uf.key),Do=T(uf,Do,no),Xn===null?Ui=uf:Xn.sibling=uf,Xn=uf)}if(a&&Hw.forEach(function(c$e){return u(Ce,c$e)}),Ya()){var l$e=no;Zm(Ce,l$e)}return Ui}function Xt(Ce,Fe,Ee,nt){if(Fe!==null&&Fe.tag===S){h(Ce,Fe.sibling);var Nt=w(Fe,Ee);return Nt.return=Ce,Nt}h(Ce,Fe);var Et=oI(Ee,Ce.mode,nt);return Et.return=Ce,Et}function Wt(Ce,Fe,Ee,nt){for(var Nt=Ee.key,Et=Fe;Et!==null;){if(Et.key===Nt){var an=Ee.type;if(an===Ra){if(Et.tag===_){h(Ce,Et.sibling);var vn=w(Et,Ee.props.children);return vn.return=Ce,vn._debugSource=Ee._source,vn._debugOwner=Ee._owner,vn}}else if(Et.elementType===an||AY(Et,Ee)||typeof an=="object"&&an!==null&&an.$$typeof===Gt&&EK(an)===Et.type){h(Ce,Et.sibling);var xr=w(Et,Ee.props);return xr.ref=dw(Ce,Et,Ee),xr.return=Ce,xr._debugSource=Ee._source,xr._debugOwner=Ee._owner,xr}h(Ce,Et);break}else u(Ce,Et);Et=Et.sibling}if(Ee.type===Ra){var Zn=ch(Ee.props.children,Ce.mode,nt,Ee.key);return Zn.return=Ce,Zn}else{var Ui=aI(Ee,Ce.mode,nt);return Ui.ref=dw(Ce,Fe,Ee),Ui.return=Ce,Ui}}function zn(Ce,Fe,Ee,nt){for(var Nt=Ee.key,Et=Fe;Et!==null;){if(Et.key===Nt)if(Et.tag===y&&Et.stateNode.containerInfo===Ee.containerInfo&&Et.stateNode.implementation===Ee.implementation){h(Ce,Et.sibling);var an=w(Et,Ee.children||[]);return an.return=Ce,an}else{h(Ce,Et);break}else u(Ce,Et);Et=Et.sibling}var vn=sI(Ee,Ce.mode,nt);return vn.return=Ce,vn}function $n(Ce,Fe,Ee,nt){var Nt=typeof Ee=="object"&&Ee!==null&&Ee.type===Ra&&Ee.key===null;if(Nt&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case Ni:return A(Wt(Ce,Fe,Ee,nt));case Yr:return A(zn(Ce,Fe,Ee,nt));case Gt:var Et=Ee._payload,an=Ee._init;return $n(Ce,Fe,an(Et),nt)}if(An(Ee))return Le(Ce,Fe,Ee,nt);if(Aa(Ee))return St(Ce,Fe,Ee,nt);SE(Ce,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?A(Xt(Ce,Fe,""+Ee,nt)):(typeof Ee=="function"&&CE(Ce),h(Ce,Fe))}return $n}var Hv=_K(!0),TK=_K(!1);function V4e(a,u){if(a!==null&&u.child!==a.child)throw new Error("Resuming work not yet implemented.");if(u.child!==null){var h=u.child,v=lg(h,h.pendingProps);for(u.child=v,v.return=u;h.sibling!==null;)h=h.sibling,v=v.sibling=lg(h,h.pendingProps),v.return=u;v.sibling=null}}function j4e(a,u){for(var h=a.child;h!==null;)kOe(h,u),h=h.sibling}var dO=Zp(null),pO;pO={};var EE=null,Wv=null,hO=null,_E=!1;function TE(){EE=null,Wv=null,hO=null,_E=!1}function kK(){_E=!0}function NK(){_E=!1}function RK(a,u,h){Ro(dO,u._currentValue,a),u._currentValue=h,u._currentRenderer!==void 0&&u._currentRenderer!==null&&u._currentRenderer!==pO&&s("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),u._currentRenderer=pO}function mO(a,u){var h=dO.current;No(dO,u),a._currentValue=h}function gO(a,u,h){for(var v=a;v!==null;){var w=v.alternate;if(od(v.childLanes,u)?w!==null&&!od(w.childLanes,u)&&(w.childLanes=yn(w.childLanes,u)):(v.childLanes=yn(v.childLanes,u),w!==null&&(w.childLanes=yn(w.childLanes,u))),v===h)break;v=v.return}v!==h&&s("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function z4e(a,u,h){B4e(a,u,h)}function B4e(a,u,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=void 0,T=v.dependencies;if(T!==null){w=v.child;for(var A=T.firstContext;A!==null;){if(A.context===u){if(v.tag===p){var L=Dp(h),z=bd(Tr,L);z.tag=NE;var Z=v.updateQueue;if(Z!==null){var J=Z.shared,ve=J.pending;ve===null?z.next=z:(z.next=ve.next,ve.next=z),J.pending=z}}v.lanes=yn(v.lanes,h);var me=v.alternate;me!==null&&(me.lanes=yn(me.lanes,h)),gO(v.return,h,a),T.lanes=yn(T.lanes,h);break}A=A.next}}else if(v.tag===O)w=v.type===a.type?null:v.child;else if(v.tag===ye){var Ne=v.return;if(Ne===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ne.lanes=yn(Ne.lanes,h);var Oe=Ne.alternate;Oe!==null&&(Oe.lanes=yn(Oe.lanes,h)),gO(Ne,h,a),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===a){w=null;break}var Le=w.sibling;if(Le!==null){Le.return=w.return,w=Le;break}w=w.return}v=w}}function Gv(a,u){EE=a,Wv=null,hO=null;var h=a.dependencies;if(h!==null){var v=h.firstContext;v!==null&&(To(h.lanes,u)&&kw(),h.firstContext=null)}}function na(a){_E&&s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var u=a._currentValue;if(hO!==a){var h={context:a,memoizedValue:u,next:null};if(Wv===null){if(EE===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Wv=h,EE.dependencies={lanes:qe,firstContext:h}}else Wv=Wv.next=h}return u}var tg=null;function vO(a){tg===null?tg=[a]:tg.push(a)}function U4e(){if(tg!==null){for(var a=0;a<tg.length;a++){var u=tg[a],h=u.interleaved;if(h!==null){u.interleaved=null;var v=h.next,w=u.pending;if(w!==null){var T=w.next;w.next=v,h.next=T}u.pending=h}}tg=null}}function AK(a,u,h,v){var w=u.interleaved;return w===null?(h.next=h,vO(u)):(h.next=w.next,w.next=h),u.interleaved=h,kE(a,v)}function H4e(a,u,h,v){var w=u.interleaved;w===null?(h.next=h,vO(u)):(h.next=w.next,w.next=h),u.interleaved=h}function W4e(a,u,h,v){var w=u.interleaved;return w===null?(h.next=h,vO(u)):(h.next=w.next,w.next=h),u.interleaved=h,kE(a,v)}function Vs(a,u){return kE(a,u)}var G4e=kE;function kE(a,u){a.lanes=yn(a.lanes,u);var h=a.alternate;h!==null&&(h.lanes=yn(h.lanes,u)),h===null&&(a.flags&(Or|ks))!==Yt&&TY(a);for(var v=a,w=a.return;w!==null;)w.childLanes=yn(w.childLanes,u),h=w.alternate,h!==null?h.childLanes=yn(h.childLanes,u):(w.flags&(Or|ks))!==Yt&&TY(a),v=w,w=w.return;if(v.tag===g){var T=v.stateNode;return T}else return null}var DK=0,OK=1,NE=2,yO=3,RE=!1,bO,AE;bO=!1,AE=null;function wO(a){var u={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:qe},effects:null};a.updateQueue=u}function $K(a,u){var h=u.updateQueue,v=a.updateQueue;if(h===v){var w={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects};u.updateQueue=w}}function bd(a,u){var h={eventTime:a,lane:u,tag:DK,payload:null,callback:null,next:null};return h}function eh(a,u,h){var v=a.updateQueue;if(v===null)return null;var w=v.shared;if(AE===w&&!bO&&(s("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),bO=!0),H6e()){var T=w.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),w.pending=u,G4e(a,h)}else return W4e(a,w,u,h)}function DE(a,u,h){var v=u.updateQueue;if(v!==null){var w=v.shared;if(Nb(h)){var T=w.lanes;T=cv(T,a.pendingLanes);var A=yn(T,h);w.lanes=A,Rb(a,A)}}}function xO(a,u){var h=a.updateQueue,v=a.alternate;if(v!==null){var w=v.updateQueue;if(h===w){var T=null,A=null,L=h.firstBaseUpdate;if(L!==null){var z=L;do{var Z={eventTime:z.eventTime,lane:z.lane,tag:z.tag,payload:z.payload,callback:z.callback,next:null};A===null?T=A=Z:(A.next=Z,A=Z),z=z.next}while(z!==null);A===null?T=A=u:(A.next=u,A=u)}else T=A=u;h={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:A,shared:w.shared,effects:w.effects},a.updateQueue=h;return}}var J=h.lastBaseUpdate;J===null?h.firstBaseUpdate=u:J.next=u,h.lastBaseUpdate=u}function K4e(a,u,h,v,w,T){switch(h.tag){case OK:{var A=h.payload;if(typeof A=="function"){kK();var L=A.call(T,v,w);{if(a.mode&Nn){Ri(!0);try{A.call(T,v,w)}finally{Ri(!1)}}NK()}return L}return A}case yO:a.flags=a.flags&~Qi|ln;case DK:{var z=h.payload,Z;if(typeof z=="function"){kK(),Z=z.call(T,v,w);{if(a.mode&Nn){Ri(!0);try{z.call(T,v,w)}finally{Ri(!1)}}NK()}}else Z=z;return Z==null?v:gn({},v,Z)}case NE:return RE=!0,v}return v}function OE(a,u,h,v){var w=a.updateQueue;RE=!1,AE=w.shared;var T=w.firstBaseUpdate,A=w.lastBaseUpdate,L=w.shared.pending;if(L!==null){w.shared.pending=null;var z=L,Z=z.next;z.next=null,A===null?T=Z:A.next=Z,A=z;var J=a.alternate;if(J!==null){var ve=J.updateQueue,me=ve.lastBaseUpdate;me!==A&&(me===null?ve.firstBaseUpdate=Z:me.next=Z,ve.lastBaseUpdate=z)}}if(T!==null){var Ne=w.baseState,Oe=qe,Le=null,St=null,Xt=null,Wt=T;do{var zn=Wt.lane,$n=Wt.eventTime;if(od(v,zn)){if(Xt!==null){var Fe={eventTime:$n,lane:Ai,tag:Wt.tag,payload:Wt.payload,callback:Wt.callback,next:null};Xt=Xt.next=Fe}Ne=K4e(a,w,Wt,Ne,u,h);var Ee=Wt.callback;if(Ee!==null&&Wt.lane!==Ai){a.flags|=Xu;var nt=w.effects;nt===null?w.effects=[Wt]:nt.push(Wt)}}else{var Ce={eventTime:$n,lane:zn,tag:Wt.tag,payload:Wt.payload,callback:Wt.callback,next:null};Xt===null?(St=Xt=Ce,Le=Ne):Xt=Xt.next=Ce,Oe=yn(Oe,zn)}if(Wt=Wt.next,Wt===null){if(L=w.shared.pending,L===null)break;var Nt=L,Et=Nt.next;Nt.next=null,Wt=Et,w.lastBaseUpdate=Nt,w.shared.pending=null}}while(!0);Xt===null&&(Le=Ne),w.baseState=Le,w.firstBaseUpdate=St,w.lastBaseUpdate=Xt;var an=w.shared.interleaved;if(an!==null){var vn=an;do Oe=yn(Oe,vn.lane),vn=vn.next;while(vn!==an)}else T===null&&(w.shared.lanes=qe);Vw(Oe),a.lanes=Oe,a.memoizedState=Ne}AE=null}function q4e(a,u){if(typeof a!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+a));a.call(u)}function IK(){RE=!1}function $E(){return RE}function PK(a,u,h){var v=u.effects;if(u.effects=null,v!==null)for(var w=0;w<v.length;w++){var T=v[w],A=T.callback;A!==null&&(T.callback=null,q4e(A,h))}}var pw={},th=Zp(pw),hw=Zp(pw),IE=Zp(pw);function PE(a){if(a===pw)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return a}function MK(){var a=PE(IE.current);return a}function SO(a,u){Ro(IE,u,a),Ro(hw,a,a),Ro(th,pw,a);var h=fAe(u);No(th,a),Ro(th,h,a)}function Kv(a){No(th,a),No(hw,a),No(IE,a)}function CO(){var a=PE(th.current);return a}function LK(a){PE(IE.current);var u=PE(th.current),h=dAe(u,a.type);u!==h&&(Ro(hw,a,a),Ro(th,h,a))}function EO(a){hw.current===a&&(No(th,a),No(hw,a))}var Y4e=0,FK=1,VK=1,mw=2,Xl=Zp(Y4e);function _O(a,u){return(a&u)!==0}function qv(a){return a&FK}function TO(a,u){return a&FK|u}function Z4e(a,u){return a|u}function nh(a,u){Ro(Xl,u,a)}function Yv(a){No(Xl,a)}function X4e(a,u){var h=a.memoizedState;return h!==null?h.dehydrated!==null:(a.memoizedProps,!0)}function ME(a){for(var u=a;u!==null;){if(u.tag===F){var h=u.memoizedState;if(h!==null){var v=h.dehydrated;if(v===null||nK(v)||H6(v))return u}}else if(u.tag===de&&u.memoizedProps.revealOrder!==void 0){var w=(u.flags&ln)!==Yt;if(w)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)return null;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var js=0,ga=1,ef=2,va=4,Za=8,kO=[];function NO(){for(var a=0;a<kO.length;a++){var u=kO[a];u._workInProgressVersionPrimary=null}kO.length=0}function Q4e(a,u){var h=u._getVersion,v=h(u._source);a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v)}var Tt=n.ReactCurrentDispatcher,gw=n.ReactCurrentBatchConfig,RO,Zv;RO=new Set;var ng=qe,wr=null,ya=null,ba=null,LE=!1,vw=!1,yw=0,J4e=0,eDe=25,Be=null,ol=null,rh=-1,AO=!1;function cr(){{var a=Be;ol===null?ol=[a]:ol.push(a)}}function bt(){{var a=Be;ol!==null&&(rh++,ol[rh]!==a&&tDe(a))}}function Xv(a){a!=null&&!An(a)&&s("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Be,typeof a)}function tDe(a){{var u=un(wr);if(!RO.has(u)&&(RO.add(u),ol!==null)){for(var h="",v=30,w=0;w<=rh;w++){for(var T=ol[w],A=w===rh?a:T,L=w+1+". "+T;L.length<v;)L+=" ";L+=A+`
`,h+=L}s(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,u,h)}}}function Ao(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function DO(a,u){if(AO)return!1;if(u===null)return s("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Be),!1;a.length!==u.length&&s(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Be,"["+u.join(", ")+"]","["+a.join(", ")+"]");for(var h=0;h<u.length&&h<a.length;h++)if(!Ht(a[h],u[h]))return!1;return!0}function Qv(a,u,h,v,w,T){ng=T,wr=u,ol=a!==null?a._debugHookTypes:null,rh=-1,AO=a!==null&&a.type!==u.type,u.memoizedState=null,u.updateQueue=null,u.lanes=qe,a!==null&&a.memoizedState!==null?Tt.current=sq:ol!==null?Tt.current=oq:Tt.current=aq;var A=h(v,w);if(vw){var L=0;do{if(vw=!1,yw=0,L>=eDe)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");L+=1,AO=!1,ya=null,ba=null,u.updateQueue=null,rh=-1,Tt.current=uq,A=h(v,w)}while(vw)}Tt.current=ZE,u._debugHookTypes=ol;var z=ya!==null&&ya.next!==null;if(ng=qe,wr=null,ya=null,ba=null,Be=null,ol=null,rh=-1,a!==null&&(a.flags&pa)!==(u.flags&pa)&&(a.mode&Ut)!==zt&&s("Internal React error: Expected static flag was missing. Please notify the React team."),LE=!1,z)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return A}function Jv(){var a=yw!==0;return yw=0,a}function jK(a,u,h){u.updateQueue=a.updateQueue,(u.mode&qo)!==zt?u.flags&=~(Xf|wo|Wr|wn):u.flags&=~(Wr|wn),a.lanes=Om(a.lanes,h)}function zK(){if(Tt.current=ZE,LE){for(var a=wr.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}LE=!1}ng=qe,wr=null,ya=null,ba=null,ol=null,rh=-1,Be=null,eq=!1,vw=!1,yw=0}function tf(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ba===null?wr.memoizedState=ba=a:ba=ba.next=a,ba}function sl(){var a;if(ya===null){var u=wr.alternate;u!==null?a=u.memoizedState:a=null}else a=ya.next;var h;if(ba===null?h=wr.memoizedState:h=ba.next,h!==null)ba=h,h=ba.next,ya=a;else{if(a===null)throw new Error("Rendered more hooks than during the previous render.");ya=a;var v={memoizedState:ya.memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null};ba===null?wr.memoizedState=ba=v:ba=ba.next=v}return ba}function BK(){return{lastEffect:null,stores:null}}function OO(a,u){return typeof u=="function"?u(a):u}function $O(a,u,h){var v=tf(),w;h!==void 0?w=h(u):w=u,v.memoizedState=v.baseState=w;var T={pending:null,interleaved:null,lanes:qe,dispatch:null,lastRenderedReducer:a,lastRenderedState:w};v.queue=T;var A=T.dispatch=aDe.bind(null,wr,T);return[v.memoizedState,A]}function IO(a,u,h){var v=sl(),w=v.queue;if(w===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");w.lastRenderedReducer=a;var T=ya,A=T.baseQueue,L=w.pending;if(L!==null){if(A!==null){var z=A.next,Z=L.next;A.next=Z,L.next=z}T.baseQueue!==A&&s("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),T.baseQueue=A=L,w.pending=null}if(A!==null){var J=A.next,ve=T.baseState,me=null,Ne=null,Oe=null,Le=J;do{var St=Le.lane;if(od(ng,St)){if(Oe!==null){var Wt={lane:Ai,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};Oe=Oe.next=Wt}if(Le.hasEagerState)ve=Le.eagerState;else{var zn=Le.action;ve=a(ve,zn)}}else{var Xt={lane:St,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};Oe===null?(Ne=Oe=Xt,me=ve):Oe=Oe.next=Xt,wr.lanes=yn(wr.lanes,St),Vw(St)}Le=Le.next}while(Le!==null&&Le!==J);Oe===null?me=ve:Oe.next=Ne,Ht(ve,v.memoizedState)||kw(),v.memoizedState=ve,v.baseState=me,v.baseQueue=Oe,w.lastRenderedState=ve}var $n=w.interleaved;if($n!==null){var Ce=$n;do{var Fe=Ce.lane;wr.lanes=yn(wr.lanes,Fe),Vw(Fe),Ce=Ce.next}while(Ce!==$n)}else A===null&&(w.lanes=qe);var Ee=w.dispatch;return[v.memoizedState,Ee]}function PO(a,u,h){var v=sl(),w=v.queue;if(w===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");w.lastRenderedReducer=a;var T=w.dispatch,A=w.pending,L=v.memoizedState;if(A!==null){w.pending=null;var z=A.next,Z=z;do{var J=Z.action;L=a(L,J),Z=Z.next}while(Z!==z);Ht(L,v.memoizedState)||kw(),v.memoizedState=L,v.baseQueue===null&&(v.baseState=L),w.lastRenderedState=L}return[L,T]}function eIe(a,u,h){}function tIe(a,u,h){}function MO(a,u,h){var v=wr,w=tf(),T,A=Ya();if(A){if(h===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");T=h(),Zv||T!==h()&&(s("The result of getServerSnapshot should be cached to avoid an infinite loop"),Zv=!0)}else{if(T=u(),!Zv){var L=u();Ht(T,L)||(s("The result of getSnapshot should be cached to avoid an infinite loop"),Zv=!0)}var z=m_();if(z===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Dm(z,ng)||UK(v,u,T)}w.memoizedState=T;var Z={value:T,getSnapshot:u};return w.queue=Z,BE(WK.bind(null,v,Z,a),[a]),v.flags|=Wr,bw(ga|Za,HK.bind(null,v,Z,T,u),void 0,null),T}function FE(a,u,h){var v=wr,w=sl(),T=u();if(!Zv){var A=u();Ht(T,A)||(s("The result of getSnapshot should be cached to avoid an infinite loop"),Zv=!0)}var L=w.memoizedState,z=!Ht(L,T);z&&(w.memoizedState=T,kw());var Z=w.queue;if(xw(WK.bind(null,v,Z,a),[a]),Z.getSnapshot!==u||z||ba!==null&&ba.memoizedState.tag&ga){v.flags|=Wr,bw(ga|Za,HK.bind(null,v,Z,T,u),void 0,null);var J=m_();if(J===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Dm(J,ng)||UK(v,u,T)}return T}function UK(a,u,h){a.flags|=xm;var v={getSnapshot:u,value:h},w=wr.updateQueue;if(w===null)w=BK(),wr.updateQueue=w,w.stores=[v];else{var T=w.stores;T===null?w.stores=[v]:T.push(v)}}function HK(a,u,h,v){u.value=h,u.getSnapshot=v,GK(u)&&KK(a)}function WK(a,u,h){var v=function(){GK(u)&&KK(a)};return h(v)}function GK(a){var u=a.getSnapshot,h=a.value;try{var v=u();return!Ht(h,v)}catch{return!0}}function KK(a){var u=Vs(a,Kt);u!==null&&Ca(u,a,Kt,Tr)}function VE(a){var u=tf();typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a;var h={pending:null,interleaved:null,lanes:qe,dispatch:null,lastRenderedReducer:OO,lastRenderedState:a};u.queue=h;var v=h.dispatch=oDe.bind(null,wr,h);return[u.memoizedState,v]}function LO(a){return IO(OO)}function FO(a){return PO(OO)}function bw(a,u,h,v){var w={tag:a,create:u,destroy:h,deps:v,next:null},T=wr.updateQueue;if(T===null)T=BK(),wr.updateQueue=T,T.lastEffect=w.next=w;else{var A=T.lastEffect;if(A===null)T.lastEffect=w.next=w;else{var L=A.next;A.next=w,w.next=L,T.lastEffect=w}}return w}function VO(a){var u=tf();{var h={current:a};return u.memoizedState=h,h}}function jE(a){var u=sl();return u.memoizedState}function ww(a,u,h,v){var w=tf(),T=v===void 0?null:v;wr.flags|=a,w.memoizedState=bw(ga|u,h,void 0,T)}function zE(a,u,h,v){var w=sl(),T=v===void 0?null:v,A=void 0;if(ya!==null){var L=ya.memoizedState;if(A=L.destroy,T!==null){var z=L.deps;if(DO(T,z)){w.memoizedState=bw(u,h,A,T);return}}}wr.flags|=a,w.memoizedState=bw(ga|u,h,A,T)}function BE(a,u){return(wr.mode&qo)!==zt?ww(Xf|Wr|Bc,Za,a,u):ww(Wr|Bc,Za,a,u)}function xw(a,u){return zE(Wr,Za,a,u)}function jO(a,u){return ww(wn,ef,a,u)}function UE(a,u){return zE(wn,ef,a,u)}function zO(a,u){var h=wn;return h|=bo,(wr.mode&qo)!==zt&&(h|=wo),ww(h,va,a,u)}function HE(a,u){return zE(wn,va,a,u)}function qK(a,u){if(typeof u=="function"){var h=u,v=a();return h(v),function(){h(null)}}else if(u!=null){var w=u;w.hasOwnProperty("current")||s("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(w).join(", ")+"}");var T=a();return w.current=T,function(){w.current=null}}}function BO(a,u,h){typeof u!="function"&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",u!==null?typeof u:"null");var v=h!=null?h.concat([a]):null,w=wn;return w|=bo,(wr.mode&qo)!==zt&&(w|=wo),ww(w,va,qK.bind(null,u,a),v)}function WE(a,u,h){typeof u!="function"&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",u!==null?typeof u:"null");var v=h!=null?h.concat([a]):null;return zE(wn,va,qK.bind(null,u,a),v)}function nDe(a,u){}var GE=nDe;function UO(a,u){var h=tf(),v=u===void 0?null:u;return h.memoizedState=[a,v],a}function KE(a,u){var h=sl(),v=u===void 0?null:u,w=h.memoizedState;if(w!==null&&v!==null){var T=w[1];if(DO(v,T))return w[0]}return h.memoizedState=[a,v],a}function HO(a,u){var h=tf(),v=u===void 0?null:u,w=a();return h.memoizedState=[w,v],w}function qE(a,u){var h=sl(),v=u===void 0?null:u,w=h.memoizedState;if(w!==null&&v!==null){var T=w[1];if(DO(v,T))return w[0]}var A=a();return h.memoizedState=[A,v],A}function WO(a){var u=tf();return u.memoizedState=a,a}function YK(a){var u=sl(),h=ya,v=h.memoizedState;return XK(u,v,a)}function ZK(a){var u=sl();if(ya===null)return u.memoizedState=a,a;var h=ya.memoizedState;return XK(u,h,a)}function XK(a,u,h){var v=!CC(ng);if(v){if(!Ht(h,u)){var w=TC();wr.lanes=yn(wr.lanes,w),Vw(w),a.baseState=!0}return u}else return a.baseState&&(a.baseState=!1,kw()),a.memoizedState=h,h}function rDe(a,u,h){var v=$s();ui(d6(v,Hl)),a(!0);var w=gw.transition;gw.transition={};var T=gw.transition;gw.transition._updatedFibers=new Set;try{a(!1),u()}finally{if(ui(v),gw.transition=w,w===null&&T._updatedFibers){var A=T._updatedFibers.size;A>10&&o("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),T._updatedFibers.clear()}}}function GO(){var a=VE(!1),u=a[0],h=a[1],v=rDe.bind(null,h),w=tf();return w.memoizedState=v,[u,v]}function QK(){var a=LO(),u=a[0],h=sl(),v=h.memoizedState;return[u,v]}function JK(){var a=FO(),u=a[0],h=sl(),v=h.memoizedState;return[u,v]}var eq=!1;function iDe(){return eq}function KO(){var a=tf(),u=m_(),h=u.identifierPrefix,v;if(Ya()){var w=x4e();v=":"+h+"R"+w;var T=yw++;T>0&&(v+="H"+T.toString(32)),v+=":"}else{var A=J4e++;v=":"+h+"r"+A.toString(32)+":"}return a.memoizedState=v,v}function YE(){var a=sl(),u=a.memoizedState;return u}function aDe(a,u,h){typeof arguments[3]=="function"&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var v=uh(a),w={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(tq(a))nq(u,w);else{var T=AK(a,u,w,v);if(T!==null){var A=Qo();Ca(T,a,v,A),rq(T,u,v)}}iq(a,v)}function oDe(a,u,h){typeof arguments[3]=="function"&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var v=uh(a),w={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(tq(a))nq(u,w);else{var T=a.alternate;if(a.lanes===qe&&(T===null||T.lanes===qe)){var A=u.lastRenderedReducer;if(A!==null){var L;L=Tt.current,Tt.current=Ql;try{var z=u.lastRenderedState,Z=A(z,h);if(w.hasEagerState=!0,w.eagerState=Z,Ht(Z,z)){H4e(a,u,w,v);return}}catch{}finally{Tt.current=L}}}var J=AK(a,u,w,v);if(J!==null){var ve=Qo();Ca(J,a,v,ve),rq(J,u,v)}}iq(a,v)}function tq(a){var u=a.alternate;return a===wr||u!==null&&u===wr}function nq(a,u){vw=LE=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function rq(a,u,h){if(Nb(h)){var v=u.lanes;v=cv(v,a.pendingLanes);var w=yn(v,h);u.lanes=w,Rb(a,w)}}function iq(a,u,h){_m(a,u)}var ZE={readContext:na,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:be},aq=null,oq=null,sq=null,uq=null,nf=null,Ql=null,XE=null;{var qO=function(){s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},mn=function(){s("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};aq={readContext:function(a){return na(a)},useCallback:function(a,u){return Be="useCallback",cr(),Xv(u),UO(a,u)},useContext:function(a){return Be="useContext",cr(),na(a)},useEffect:function(a,u){return Be="useEffect",cr(),Xv(u),BE(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",cr(),Xv(h),BO(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",cr(),Xv(u),jO(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",cr(),Xv(u),zO(a,u)},useMemo:function(a,u){Be="useMemo",cr(),Xv(u);var h=Tt.current;Tt.current=nf;try{return HO(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",cr();var v=Tt.current;Tt.current=nf;try{return $O(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",cr(),VO(a)},useState:function(a){Be="useState",cr();var u=Tt.current;Tt.current=nf;try{return VE(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",cr(),void 0},useDeferredValue:function(a){return Be="useDeferredValue",cr(),WO(a)},useTransition:function(){return Be="useTransition",cr(),GO()},useMutableSource:function(a,u,h){return Be="useMutableSource",cr(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",cr(),MO(a,u,h)},useId:function(){return Be="useId",cr(),KO()},unstable_isNewReconciler:be},oq={readContext:function(a){return na(a)},useCallback:function(a,u){return Be="useCallback",bt(),UO(a,u)},useContext:function(a){return Be="useContext",bt(),na(a)},useEffect:function(a,u){return Be="useEffect",bt(),BE(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",bt(),BO(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",bt(),jO(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",bt(),zO(a,u)},useMemo:function(a,u){Be="useMemo",bt();var h=Tt.current;Tt.current=nf;try{return HO(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",bt();var v=Tt.current;Tt.current=nf;try{return $O(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",bt(),VO(a)},useState:function(a){Be="useState",bt();var u=Tt.current;Tt.current=nf;try{return VE(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",bt(),void 0},useDeferredValue:function(a){return Be="useDeferredValue",bt(),WO(a)},useTransition:function(){return Be="useTransition",bt(),GO()},useMutableSource:function(a,u,h){return Be="useMutableSource",bt(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",bt(),MO(a,u,h)},useId:function(){return Be="useId",bt(),KO()},unstable_isNewReconciler:be},sq={readContext:function(a){return na(a)},useCallback:function(a,u){return Be="useCallback",bt(),KE(a,u)},useContext:function(a){return Be="useContext",bt(),na(a)},useEffect:function(a,u){return Be="useEffect",bt(),xw(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",bt(),WE(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",bt(),UE(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",bt(),HE(a,u)},useMemo:function(a,u){Be="useMemo",bt();var h=Tt.current;Tt.current=Ql;try{return qE(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",bt();var v=Tt.current;Tt.current=Ql;try{return IO(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",bt(),jE()},useState:function(a){Be="useState",bt();var u=Tt.current;Tt.current=Ql;try{return LO(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",bt(),GE()},useDeferredValue:function(a){return Be="useDeferredValue",bt(),YK(a)},useTransition:function(){return Be="useTransition",bt(),QK()},useMutableSource:function(a,u,h){return Be="useMutableSource",bt(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",bt(),FE(a,u)},useId:function(){return Be="useId",bt(),YE()},unstable_isNewReconciler:be},uq={readContext:function(a){return na(a)},useCallback:function(a,u){return Be="useCallback",bt(),KE(a,u)},useContext:function(a){return Be="useContext",bt(),na(a)},useEffect:function(a,u){return Be="useEffect",bt(),xw(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",bt(),WE(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",bt(),UE(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",bt(),HE(a,u)},useMemo:function(a,u){Be="useMemo",bt();var h=Tt.current;Tt.current=XE;try{return qE(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",bt();var v=Tt.current;Tt.current=XE;try{return PO(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",bt(),jE()},useState:function(a){Be="useState",bt();var u=Tt.current;Tt.current=XE;try{return FO(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",bt(),GE()},useDeferredValue:function(a){return Be="useDeferredValue",bt(),ZK(a)},useTransition:function(){return Be="useTransition",bt(),JK()},useMutableSource:function(a,u,h){return Be="useMutableSource",bt(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",bt(),FE(a,u)},useId:function(){return Be="useId",bt(),YE()},unstable_isNewReconciler:be},nf={readContext:function(a){return qO(),na(a)},useCallback:function(a,u){return Be="useCallback",mn(),cr(),UO(a,u)},useContext:function(a){return Be="useContext",mn(),cr(),na(a)},useEffect:function(a,u){return Be="useEffect",mn(),cr(),BE(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",mn(),cr(),BO(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",mn(),cr(),jO(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",mn(),cr(),zO(a,u)},useMemo:function(a,u){Be="useMemo",mn(),cr();var h=Tt.current;Tt.current=nf;try{return HO(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",mn(),cr();var v=Tt.current;Tt.current=nf;try{return $O(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",mn(),cr(),VO(a)},useState:function(a){Be="useState",mn(),cr();var u=Tt.current;Tt.current=nf;try{return VE(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",mn(),cr(),void 0},useDeferredValue:function(a){return Be="useDeferredValue",mn(),cr(),WO(a)},useTransition:function(){return Be="useTransition",mn(),cr(),GO()},useMutableSource:function(a,u,h){return Be="useMutableSource",mn(),cr(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",mn(),cr(),MO(a,u,h)},useId:function(){return Be="useId",mn(),cr(),KO()},unstable_isNewReconciler:be},Ql={readContext:function(a){return qO(),na(a)},useCallback:function(a,u){return Be="useCallback",mn(),bt(),KE(a,u)},useContext:function(a){return Be="useContext",mn(),bt(),na(a)},useEffect:function(a,u){return Be="useEffect",mn(),bt(),xw(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",mn(),bt(),WE(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",mn(),bt(),UE(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",mn(),bt(),HE(a,u)},useMemo:function(a,u){Be="useMemo",mn(),bt();var h=Tt.current;Tt.current=Ql;try{return qE(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",mn(),bt();var v=Tt.current;Tt.current=Ql;try{return IO(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",mn(),bt(),jE()},useState:function(a){Be="useState",mn(),bt();var u=Tt.current;Tt.current=Ql;try{return LO(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",mn(),bt(),GE()},useDeferredValue:function(a){return Be="useDeferredValue",mn(),bt(),YK(a)},useTransition:function(){return Be="useTransition",mn(),bt(),QK()},useMutableSource:function(a,u,h){return Be="useMutableSource",mn(),bt(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",mn(),bt(),FE(a,u)},useId:function(){return Be="useId",mn(),bt(),YE()},unstable_isNewReconciler:be},XE={readContext:function(a){return qO(),na(a)},useCallback:function(a,u){return Be="useCallback",mn(),bt(),KE(a,u)},useContext:function(a){return Be="useContext",mn(),bt(),na(a)},useEffect:function(a,u){return Be="useEffect",mn(),bt(),xw(a,u)},useImperativeHandle:function(a,u,h){return Be="useImperativeHandle",mn(),bt(),WE(a,u,h)},useInsertionEffect:function(a,u){return Be="useInsertionEffect",mn(),bt(),UE(a,u)},useLayoutEffect:function(a,u){return Be="useLayoutEffect",mn(),bt(),HE(a,u)},useMemo:function(a,u){Be="useMemo",mn(),bt();var h=Tt.current;Tt.current=Ql;try{return qE(a,u)}finally{Tt.current=h}},useReducer:function(a,u,h){Be="useReducer",mn(),bt();var v=Tt.current;Tt.current=Ql;try{return PO(a,u,h)}finally{Tt.current=v}},useRef:function(a){return Be="useRef",mn(),bt(),jE()},useState:function(a){Be="useState",mn(),bt();var u=Tt.current;Tt.current=Ql;try{return FO(a)}finally{Tt.current=u}},useDebugValue:function(a,u){return Be="useDebugValue",mn(),bt(),GE()},useDeferredValue:function(a){return Be="useDeferredValue",mn(),bt(),ZK(a)},useTransition:function(){return Be="useTransition",mn(),bt(),JK()},useMutableSource:function(a,u,h){return Be="useMutableSource",mn(),bt(),void 0},useSyncExternalStore:function(a,u,h){return Be="useSyncExternalStore",mn(),bt(),FE(a,u)},useId:function(){return Be="useId",mn(),bt(),YE()},unstable_isNewReconciler:be}}var ih=e.unstable_now,lq=0,QE=-1,Sw=-1,JE=-1,YO=!1,e_=!1;function cq(){return YO}function sDe(){e_=!0}function uDe(){YO=!1,e_=!1}function lDe(){YO=e_,e_=!1}function fq(){return lq}function dq(){lq=ih()}function ZO(a){Sw=ih(),a.actualStartTime<0&&(a.actualStartTime=ih())}function pq(a){Sw=-1}function t_(a,u){if(Sw>=0){var h=ih()-Sw;a.actualDuration+=h,u&&(a.selfBaseDuration=h),Sw=-1}}function rf(a){if(QE>=0){var u=ih()-QE;QE=-1;for(var h=a.return;h!==null;){switch(h.tag){case g:var v=h.stateNode;v.effectDuration+=u;return;case P:var w=h.stateNode;w.effectDuration+=u;return}h=h.return}}}function XO(a){if(JE>=0){var u=ih()-JE;JE=-1;for(var h=a.return;h!==null;){switch(h.tag){case g:var v=h.stateNode;v!==null&&(v.passiveEffectDuration+=u);return;case P:var w=h.stateNode;w!==null&&(w.passiveEffectDuration+=u);return}h=h.return}}}function af(){QE=ih()}function QO(){JE=ih()}function JO(a){for(var u=a.child;u;)a.actualDuration+=u.actualDuration,u=u.sibling}function Jl(a,u){if(a&&a.defaultProps){var h=gn({},u),v=a.defaultProps;for(var w in v)h[w]===void 0&&(h[w]=v[w]);return h}return u}var e$={},t$,n$,r$,i$,a$,hq,n_,o$,s$,u$,Cw;{t$=new Set,n$=new Set,r$=new Set,i$=new Set,o$=new Set,a$=new Set,s$=new Set,u$=new Set,Cw=new Set;var mq=new Set;n_=function(a,u){if(!(a===null||typeof a=="function")){var h=u+"_"+a;mq.has(h)||(mq.add(h),s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",u,a))}},hq=function(a,u){if(u===void 0){var h=kn(a)||"Component";a$.has(h)||(a$.add(h),s("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",h))}},Object.defineProperty(e$,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(e$)}function l$(a,u,h,v){var w=a.memoizedState,T=h(v,w);{if(a.mode&Nn){Ri(!0);try{T=h(v,w)}finally{Ri(!1)}}hq(u,T)}var A=T==null?w:gn({},w,T);if(a.memoizedState=A,a.lanes===qe){var L=a.updateQueue;L.baseState=A}}var c$={isMounted:Go,enqueueSetState:function(a,u,h){var v=_s(a),w=Qo(),T=uh(v),A=bd(w,T);A.payload=u,h!=null&&(n_(h,"setState"),A.callback=h);var L=eh(v,A,T);L!==null&&(Ca(L,v,T,w),DE(L,v,T)),_m(v,T)},enqueueReplaceState:function(a,u,h){var v=_s(a),w=Qo(),T=uh(v),A=bd(w,T);A.tag=OK,A.payload=u,h!=null&&(n_(h,"replaceState"),A.callback=h);var L=eh(v,A,T);L!==null&&(Ca(L,v,T,w),DE(L,v,T)),_m(v,T)},enqueueForceUpdate:function(a,u){var h=_s(a),v=Qo(),w=uh(h),T=bd(v,w);T.tag=NE,u!=null&&(n_(u,"forceUpdate"),T.callback=u);var A=eh(h,T,w);A!==null&&(Ca(A,h,w,v),DE(A,h,w)),K0(h,w)}};function gq(a,u,h,v,w,T,A){var L=a.stateNode;if(typeof L.shouldComponentUpdate=="function"){var z=L.shouldComponentUpdate(v,T,A);{if(a.mode&Nn){Ri(!0);try{z=L.shouldComponentUpdate(v,T,A)}finally{Ri(!1)}}z===void 0&&s("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",kn(u)||"Component")}return z}return u.prototype&&u.prototype.isPureReactComponent?!fi(h,v)||!fi(w,T):!0}function cDe(a,u,h){var v=a.stateNode;{var w=kn(u)||"Component",T=v.render;T||(u.prototype&&typeof u.prototype.render=="function"?s("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",w):s("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",w)),v.getInitialState&&!v.getInitialState.isReactClassApproved&&!v.state&&s("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",w),v.getDefaultProps&&!v.getDefaultProps.isReactClassApproved&&s("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",w),v.propTypes&&s("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",w),v.contextType&&s("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",w),u.childContextTypes&&!Cw.has(u)&&(a.mode&Nn)===zt&&(Cw.add(u),s(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)),u.contextTypes&&!Cw.has(u)&&(a.mode&Nn)===zt&&(Cw.add(u),s(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)),v.contextTypes&&s("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",w),u.contextType&&u.contextTypes&&!s$.has(u)&&(s$.add(u),s("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",w)),typeof v.componentShouldUpdate=="function"&&s("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",w),u.prototype&&u.prototype.isPureReactComponent&&typeof v.shouldComponentUpdate<"u"&&s("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",kn(u)||"A pure component"),typeof v.componentDidUnmount=="function"&&s("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",w),typeof v.componentDidReceiveProps=="function"&&s("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",w),typeof v.componentWillRecieveProps=="function"&&s("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",w),typeof v.UNSAFE_componentWillRecieveProps=="function"&&s("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",w);var A=v.props!==h;v.props!==void 0&&A&&s("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",w,w),v.defaultProps&&s("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",w,w),typeof v.getSnapshotBeforeUpdate=="function"&&typeof v.componentDidUpdate!="function"&&!r$.has(u)&&(r$.add(u),s("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",kn(u))),typeof v.getDerivedStateFromProps=="function"&&s("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",w),typeof v.getDerivedStateFromError=="function"&&s("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",w),typeof u.getSnapshotBeforeUpdate=="function"&&s("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",w);var L=v.state;L&&(typeof L!="object"||An(L))&&s("%s.state: must be set to an object or null",w),typeof v.getChildContext=="function"&&typeof u.childContextTypes!="object"&&s("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",w)}}function vq(a,u){u.updater=c$,a.stateNode=u,vp(u,a),u._reactInternalInstance=e$}function yq(a,u,h){var v=!1,w=bu,T=bu,A=u.contextType;if("contextType"in u){var L=A===null||A!==void 0&&A.$$typeof===wt&&A._context===void 0;if(!L&&!u$.has(u)){u$.add(u);var z="";A===void 0?z=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof A!="object"?z=" However, it is set to a "+typeof A+".":A.$$typeof===Ke?z=" Did you accidentally pass the Context.Provider instead?":A._context!==void 0?z=" Did you accidentally pass the Context.Consumer instead?":z=" However, it is set to an object with keys {"+Object.keys(A).join(", ")+"}.",s("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",kn(u)||"Component",z)}}if(typeof A=="object"&&A!==null)T=na(A);else{w=Vv(a,u,!0);var Z=u.contextTypes;v=Z!=null,T=v?jv(a,w):bu}var J=new u(h,T);if(a.mode&Nn){Ri(!0);try{J=new u(h,T)}finally{Ri(!1)}}var ve=a.memoizedState=J.state!==null&&J.state!==void 0?J.state:null;vq(a,J);{if(typeof u.getDerivedStateFromProps=="function"&&ve===null){var me=kn(u)||"Component";n$.has(me)||(n$.add(me),s("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",me,J.state===null?"null":"undefined",me))}if(typeof u.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"){var Ne=null,Oe=null,Le=null;if(typeof J.componentWillMount=="function"&&J.componentWillMount.__suppressDeprecationWarning!==!0?Ne="componentWillMount":typeof J.UNSAFE_componentWillMount=="function"&&(Ne="UNSAFE_componentWillMount"),typeof J.componentWillReceiveProps=="function"&&J.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Oe="componentWillReceiveProps":typeof J.UNSAFE_componentWillReceiveProps=="function"&&(Oe="UNSAFE_componentWillReceiveProps"),typeof J.componentWillUpdate=="function"&&J.componentWillUpdate.__suppressDeprecationWarning!==!0?Le="componentWillUpdate":typeof J.UNSAFE_componentWillUpdate=="function"&&(Le="UNSAFE_componentWillUpdate"),Ne!==null||Oe!==null||Le!==null){var St=kn(u)||"Component",Xt=typeof u.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";i$.has(St)||(i$.add(St),s(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,St,Xt,Ne!==null?`
  `+Ne:"",Oe!==null?`
  `+Oe:"",Le!==null?`
  `+Le:""))}}}return v&&sK(a,w,T),J}function fDe(a,u){var h=u.state;typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&(s("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",un(a)||"Component"),c$.enqueueReplaceState(u,u.state,null))}function bq(a,u,h,v){var w=u.state;if(typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==w){{var T=un(a)||"Component";t$.has(T)||(t$.add(T),s("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",T))}c$.enqueueReplaceState(u,u.state,null)}}function f$(a,u,h,v){cDe(a,u,h);var w=a.stateNode;w.props=h,w.state=a.memoizedState,w.refs={},wO(a);var T=u.contextType;if(typeof T=="object"&&T!==null)w.context=na(T);else{var A=Vv(a,u,!0);w.context=jv(a,A)}{if(w.state===h){var L=kn(u)||"Component";o$.has(L)||(o$.add(L),s("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",L))}a.mode&Nn&&Zl.recordLegacyContextWarning(a,w),Zl.recordUnsafeLifecycleWarnings(a,w)}w.state=a.memoizedState;var z=u.getDerivedStateFromProps;if(typeof z=="function"&&(l$(a,u,z,h),w.state=a.memoizedState),typeof u.getDerivedStateFromProps!="function"&&typeof w.getSnapshotBeforeUpdate!="function"&&(typeof w.UNSAFE_componentWillMount=="function"||typeof w.componentWillMount=="function")&&(fDe(a,w),OE(a,h,w,v),w.state=a.memoizedState),typeof w.componentDidMount=="function"){var Z=wn;Z|=bo,(a.mode&qo)!==zt&&(Z|=wo),a.flags|=Z}}function dDe(a,u,h,v){var w=a.stateNode,T=a.memoizedProps;w.props=T;var A=w.context,L=u.contextType,z=bu;if(typeof L=="object"&&L!==null)z=na(L);else{var Z=Vv(a,u,!0);z=jv(a,Z)}var J=u.getDerivedStateFromProps,ve=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";!ve&&(typeof w.UNSAFE_componentWillReceiveProps=="function"||typeof w.componentWillReceiveProps=="function")&&(T!==h||A!==z)&&bq(a,w,h,z),IK();var me=a.memoizedState,Ne=w.state=me;if(OE(a,h,w,v),Ne=a.memoizedState,T===h&&me===Ne&&!pE()&&!$E()){if(typeof w.componentDidMount=="function"){var Oe=wn;Oe|=bo,(a.mode&qo)!==zt&&(Oe|=wo),a.flags|=Oe}return!1}typeof J=="function"&&(l$(a,u,J,h),Ne=a.memoizedState);var Le=$E()||gq(a,u,T,h,me,Ne,z);if(Le){if(!ve&&(typeof w.UNSAFE_componentWillMount=="function"||typeof w.componentWillMount=="function")&&(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"){var St=wn;St|=bo,(a.mode&qo)!==zt&&(St|=wo),a.flags|=St}}else{if(typeof w.componentDidMount=="function"){var Xt=wn;Xt|=bo,(a.mode&qo)!==zt&&(Xt|=wo),a.flags|=Xt}a.memoizedProps=h,a.memoizedState=Ne}return w.props=h,w.state=Ne,w.context=z,Le}function pDe(a,u,h,v,w){var T=u.stateNode;$K(a,u);var A=u.memoizedProps,L=u.type===u.elementType?A:Jl(u.type,A);T.props=L;var z=u.pendingProps,Z=T.context,J=h.contextType,ve=bu;if(typeof J=="object"&&J!==null)ve=na(J);else{var me=Vv(u,h,!0);ve=jv(u,me)}var Ne=h.getDerivedStateFromProps,Oe=typeof Ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";!Oe&&(typeof T.UNSAFE_componentWillReceiveProps=="function"||typeof T.componentWillReceiveProps=="function")&&(A!==z||Z!==ve)&&bq(u,T,v,ve),IK();var Le=u.memoizedState,St=T.state=Le;if(OE(u,v,T,w),St=u.memoizedState,A===z&&Le===St&&!pE()&&!$E()&&!Ve)return typeof T.componentDidUpdate=="function"&&(A!==a.memoizedProps||Le!==a.memoizedState)&&(u.flags|=wn),typeof T.getSnapshotBeforeUpdate=="function"&&(A!==a.memoizedProps||Le!==a.memoizedState)&&(u.flags|=Ts),!1;typeof Ne=="function"&&(l$(u,h,Ne,v),St=u.memoizedState);var Xt=$E()||gq(u,h,L,v,Le,St,ve)||Ve;return Xt?(!Oe&&(typeof T.UNSAFE_componentWillUpdate=="function"||typeof T.componentWillUpdate=="function")&&(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,St,ve),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,St,ve)),typeof T.componentDidUpdate=="function"&&(u.flags|=wn),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=Ts)):(typeof T.componentDidUpdate=="function"&&(A!==a.memoizedProps||Le!==a.memoizedState)&&(u.flags|=wn),typeof T.getSnapshotBeforeUpdate=="function"&&(A!==a.memoizedProps||Le!==a.memoizedState)&&(u.flags|=Ts),u.memoizedProps=v,u.memoizedState=St),T.props=v,T.state=St,T.context=ve,Xt}function rg(a,u){return{value:a,source:u,stack:Ol(u),digest:null}}function d$(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function hDe(a,u){return!0}function p$(a,u){try{var h=hDe(a,u);if(h===!1)return;var v=u.value,w=u.source,T=u.stack,A=T!==null?T:"";if(v!=null&&v._suppressLogging){if(a.tag===p)return;console.error(v)}var L=w?un(w):null,z=L?"The above error occurred in the <"+L+"> component:":"The above error occurred in one of your React components:",Z;if(a.tag===g)Z=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var J=un(a)||"Anonymous";Z="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+J+".")}var ve=z+`
`+A+`

`+(""+Z);console.error(ve)}catch(me){setTimeout(function(){throw me})}}var mDe=typeof WeakMap=="function"?WeakMap:Map;function wq(a,u,h){var v=bd(Tr,h);v.tag=yO,v.payload={element:null};var w=u.value;return v.callback=function(){sOe(w),p$(a,u)},v}function h$(a,u,h){var v=bd(Tr,h);v.tag=yO;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var T=u.value;v.payload=function(){return w(T)},v.callback=function(){DY(a),p$(a,u)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(v.callback=function(){DY(a),p$(a,u),typeof w!="function"&&aOe(this);var z=u.value,Z=u.stack;this.componentDidCatch(z,{componentStack:Z!==null?Z:""}),typeof w!="function"&&(To(a.lanes,Kt)||s("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",un(a)||"Unknown"))}),v}function xq(a,u,h){var v=a.pingCache,w;if(v===null?(v=a.pingCache=new mDe,w=new Set,v.set(u,w)):(w=v.get(u),w===void 0&&(w=new Set,v.set(u,w))),!w.has(h)){w.add(h);var T=uOe.bind(null,a,u,h);Ko&&jw(a,h),u.then(T,T)}}function gDe(a,u,h,v){var w=a.updateQueue;if(w===null){var T=new Set;T.add(h),a.updateQueue=T}else w.add(h)}function vDe(a,u){var h=a.tag;if((a.mode&Ut)===zt&&(h===f||h===I||h===Y)){var v=a.alternate;v?(a.updateQueue=v.updateQueue,a.memoizedState=v.memoizedState,a.lanes=v.lanes):(a.updateQueue=null,a.memoizedState=null)}}function Sq(a){var u=a;do{if(u.tag===F&&X4e(u))return u;u=u.return}while(u!==null);return null}function Cq(a,u,h,v,w){if((a.mode&Ut)===zt){if(a===u)a.flags|=Qi;else{if(a.flags|=ln,h.flags|=Sm,h.flags&=~(P0|Ho),h.tag===p){var T=h.alternate;if(T===null)h.tag=fe;else{var A=bd(Tr,Kt);A.tag=NE,eh(h,A,Kt)}}h.lanes=yn(h.lanes,Kt)}return a}return a.flags|=Qi,a.lanes=w,a}function yDe(a,u,h,v,w){if(h.flags|=Ho,Ko&&jw(a,w),v!==null&&typeof v=="object"&&typeof v.then=="function"){var T=v;vDe(h),Ya()&&h.mode&Ut&&hK();var A=Sq(u);if(A!==null){A.flags&=~si,Cq(A,u,h,a,w),A.mode&Ut&&xq(a,T,w),gDe(A,a,T);return}else{if(!kb(w)){xq(a,T,w),K$();return}var L=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");v=L}}else if(Ya()&&h.mode&Ut){hK();var z=Sq(u);if(z!==null){(z.flags&Qi)===Yt&&(z.flags|=si),Cq(z,u,h,a,w),oO(rg(v,h));return}}v=rg(v,h),X6e(v);var Z=u;do{switch(Z.tag){case g:{var J=v;Z.flags|=Qi;var ve=Dp(w);Z.lanes=yn(Z.lanes,ve);var me=wq(Z,J,ve);xO(Z,me);return}case p:var Ne=v,Oe=Z.type,Le=Z.stateNode;if((Z.flags&ln)===Yt&&(typeof Oe.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&!SY(Le))){Z.flags|=Qi;var St=Dp(w);Z.lanes=yn(Z.lanes,St);var Xt=h$(Z,Ne,St);xO(Z,Xt);return}break}Z=Z.return}while(Z!==null)}function bDe(){return null}var Ew=n.ReactCurrentOwner,ec=!1,m$,_w,g$,v$,y$,ig,b$,r_,Tw;m$={},_w={},g$={},v$={},y$={},ig=!1,b$={},r_={},Tw={};function Zo(a,u,h,v){a===null?u.child=TK(u,null,h,v):u.child=Hv(u,a.child,h,v)}function wDe(a,u,h,v){u.child=Hv(u,a.child,null,v),u.child=Hv(u,null,h,v)}function Eq(a,u,h,v,w){if(u.type!==u.elementType){var T=h.propTypes;T&&ql(T,v,"prop",kn(h))}var A=h.render,L=u.ref,z,Z;Gv(u,w),xp(u);{if(Ew.current=u,Zi(!0),z=Qv(a,u,A,v,L,w),Z=Jv(),u.mode&Nn){Ri(!0);try{z=Qv(a,u,A,v,L,w),Z=Jv()}finally{Ri(!1)}}Zi(!1)}return Co(),a!==null&&!ec?(jK(a,u,w),wd(a,u,w)):(Ya()&&Z&&eO(u),u.flags|=jc,Zo(a,u,z,w),u.child)}function _q(a,u,h,v,w){if(a===null){var T=h.type;if(_Oe(T)&&h.compare===null&&h.defaultProps===void 0){var A=T;return A=sy(T),u.tag=Y,u.type=A,S$(u,T),Tq(a,u,A,v,w)}{var L=T.propTypes;if(L&&ql(L,v,"prop",kn(T)),h.defaultProps!==void 0){var z=kn(T)||"Unknown";Tw[z]||(s("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",z),Tw[z]=!0)}}var Z=iI(h.type,null,v,u,u.mode,w);return Z.ref=u.ref,Z.return=u,u.child=Z,Z}{var J=h.type,ve=J.propTypes;ve&&ql(ve,v,"prop",kn(J))}var me=a.child,Ne=N$(a,w);if(!Ne){var Oe=me.memoizedProps,Le=h.compare;if(Le=Le!==null?Le:fi,Le(Oe,v)&&a.ref===u.ref)return wd(a,u,w)}u.flags|=jc;var St=lg(me,v);return St.ref=u.ref,St.return=u,u.child=St,St}function Tq(a,u,h,v,w){if(u.type!==u.elementType){var T=u.elementType;if(T.$$typeof===Gt){var A=T,L=A._payload,z=A._init;try{T=z(L)}catch{T=null}var Z=T&&T.propTypes;Z&&ql(Z,v,"prop",kn(T))}}if(a!==null){var J=a.memoizedProps;if(fi(J,v)&&a.ref===u.ref&&u.type===a.type)if(ec=!1,u.pendingProps=v=J,N$(a,w))(a.flags&Sm)!==Yt&&(ec=!0);else return u.lanes=a.lanes,wd(a,u,w)}return w$(a,u,h,v,w)}function kq(a,u,h){var v=u.pendingProps,w=v.children,T=a!==null?a.memoizedState:null;if(v.mode==="hidden"||he)if((u.mode&Ut)===zt){var A={baseLanes:qe,cachePool:null,transitions:null};u.memoizedState=A,g_(u,h)}else if(To(h,Ia)){var ve={baseLanes:qe,cachePool:null,transitions:null};u.memoizedState=ve;var me=T!==null?T.baseLanes:h;g_(u,me)}else{var L=null,z;if(T!==null){var Z=T.baseLanes;z=yn(Z,h)}else z=h;u.lanes=u.childLanes=Ia;var J={baseLanes:z,cachePool:L,transitions:null};return u.memoizedState=J,u.updateQueue=null,g_(u,z),null}else{var Ne;T!==null?(Ne=yn(T.baseLanes,h),u.memoizedState=null):Ne=h,g_(u,Ne)}return Zo(a,u,w,h),u.child}function xDe(a,u,h){var v=u.pendingProps;return Zo(a,u,v,h),u.child}function SDe(a,u,h){var v=u.pendingProps.children;return Zo(a,u,v,h),u.child}function CDe(a,u,h){{u.flags|=wn;{var v=u.stateNode;v.effectDuration=0,v.passiveEffectDuration=0}}var w=u.pendingProps,T=w.children;return Zo(a,u,T,h),u.child}function Nq(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=yo,u.flags|=hb)}function w$(a,u,h,v,w){if(u.type!==u.elementType){var T=h.propTypes;T&&ql(T,v,"prop",kn(h))}var A;{var L=Vv(u,h,!0);A=jv(u,L)}var z,Z;Gv(u,w),xp(u);{if(Ew.current=u,Zi(!0),z=Qv(a,u,h,v,A,w),Z=Jv(),u.mode&Nn){Ri(!0);try{z=Qv(a,u,h,v,A,w),Z=Jv()}finally{Ri(!1)}}Zi(!1)}return Co(),a!==null&&!ec?(jK(a,u,w),wd(a,u,w)):(Ya()&&Z&&eO(u),u.flags|=jc,Zo(a,u,z,w),u.child)}function Rq(a,u,h,v,w){{switch(jOe(u)){case!1:{var T=u.stateNode,A=u.type,L=new A(u.memoizedProps,T.context),z=L.state;T.updater.enqueueSetState(T,z,null);break}case!0:{u.flags|=ln,u.flags|=Qi;var Z=new Error("Simulated error coming from DevTools"),J=Dp(w);u.lanes=yn(u.lanes,J);var ve=h$(u,rg(Z,u),J);xO(u,ve);break}}if(u.type!==u.elementType){var me=h.propTypes;me&&ql(me,v,"prop",kn(h))}}var Ne;Jc(h)?(Ne=!0,mE(u)):Ne=!1,Gv(u,w);var Oe=u.stateNode,Le;Oe===null?(a_(a,u),yq(u,h,v),f$(u,h,v,w),Le=!0):a===null?Le=dDe(u,h,v,w):Le=pDe(a,u,h,v,w);var St=x$(a,u,h,Le,Ne,w);{var Xt=u.stateNode;Le&&Xt.props!==v&&(ig||s("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",un(u)||"a component"),ig=!0)}return St}function x$(a,u,h,v,w,T){Nq(a,u);var A=(u.flags&ln)!==Yt;if(!v&&!A)return w&&cK(u,h,!1),wd(a,u,T);var L=u.stateNode;Ew.current=u;var z;if(A&&typeof h.getDerivedStateFromError!="function")z=null,pq();else{xp(u);{if(Zi(!0),z=L.render(),u.mode&Nn){Ri(!0);try{L.render()}finally{Ri(!1)}}Zi(!1)}Co()}return u.flags|=jc,a!==null&&A?wDe(a,u,z,T):Zo(a,u,z,T),u.memoizedState=L.state,w&&cK(u,h,!0),u.child}function Aq(a){var u=a.stateNode;u.pendingContext?uK(a,u.pendingContext,u.pendingContext!==u.context):u.context&&uK(a,u.context,!1),SO(a,u.containerInfo)}function EDe(a,u,h){if(Aq(u),a===null)throw new Error("Should have a current fiber. This is a bug in React.");var v=u.pendingProps,w=u.memoizedState,T=w.element;$K(a,u),OE(u,v,null,h);var A=u.memoizedState;u.stateNode;var L=A.element;if(w.isDehydrated){var z={element:L,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},Z=u.updateQueue;if(Z.baseState=z,u.memoizedState=z,u.flags&si){var J=rg(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),u);return Dq(a,u,L,h,J)}else if(L!==T){var ve=rg(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),u);return Dq(a,u,L,h,ve)}else{k4e(u);var me=TK(u,null,L,h);u.child=me;for(var Ne=me;Ne;)Ne.flags=Ne.flags&~Or|ks,Ne=Ne.sibling}}else{if(Uv(),L===T)return wd(a,u,h);Zo(a,u,L,h)}return u.child}function Dq(a,u,h,v,w){return Uv(),oO(w),u.flags|=si,Zo(a,u,h,v),u.child}function _De(a,u,h){LK(u),a===null&&aO(u);var v=u.type,w=u.pendingProps,T=a!==null?a.memoizedProps:null,A=w.children,L=j6(v,w);return L?A=null:T!==null&&j6(v,T)&&(u.flags|=lr),Nq(a,u),Zo(a,u,A,h),u.child}function TDe(a,u){return a===null&&aO(u),null}function kDe(a,u,h,v){a_(a,u);var w=u.pendingProps,T=h,A=T._payload,L=T._init,z=L(A);u.type=z;var Z=u.tag=TOe(z),J=Jl(z,w),ve;switch(Z){case f:return S$(u,z),u.type=z=sy(z),ve=w$(null,u,z,J,v),ve;case p:return u.type=z=Q$(z),ve=Rq(null,u,z,J,v),ve;case I:return u.type=z=J$(z),ve=Eq(null,u,z,J,v),ve;case K:{if(u.type!==u.elementType){var me=z.propTypes;me&&ql(me,J,"prop",kn(z))}return ve=_q(null,u,z,Jl(z.type,J),v),ve}}var Ne="";throw z!==null&&typeof z=="object"&&z.$$typeof===Gt&&(Ne=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+z+". "+("Lazy element type must resolve to a class or function."+Ne))}function NDe(a,u,h,v,w){a_(a,u),u.tag=p;var T;return Jc(h)?(T=!0,mE(u)):T=!1,Gv(u,w),yq(u,h,v),f$(u,h,v,w),x$(null,u,h,!0,T,w)}function RDe(a,u,h,v){a_(a,u);var w=u.pendingProps,T;{var A=Vv(u,h,!1);T=jv(u,A)}Gv(u,v);var L,z;xp(u);{if(h.prototype&&typeof h.prototype.render=="function"){var Z=kn(h)||"Unknown";m$[Z]||(s("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",Z,Z),m$[Z]=!0)}u.mode&Nn&&Zl.recordLegacyContextWarning(u,null),Zi(!0),Ew.current=u,L=Qv(null,u,h,w,T,v),z=Jv(),Zi(!1)}if(Co(),u.flags|=jc,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0){var J=kn(h)||"Unknown";_w[J]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",J,J,J),_w[J]=!0)}if(typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0){{var ve=kn(h)||"Unknown";_w[ve]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ve,ve,ve),_w[ve]=!0)}u.tag=p,u.memoizedState=null,u.updateQueue=null;var me=!1;return Jc(h)?(me=!0,mE(u)):me=!1,u.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,wO(u),vq(u,L),f$(u,h,w,v),x$(null,u,h,!0,me,v)}else{if(u.tag=f,u.mode&Nn){Ri(!0);try{L=Qv(null,u,h,w,T,v),z=Jv()}finally{Ri(!1)}}return Ya()&&z&&eO(u),Zo(null,u,L,v),S$(u,h),u.child}}function S$(a,u){{if(u&&u.childContextTypes&&s("%s(...): childContextTypes cannot be defined on a function component.",u.displayName||u.name||"Component"),a.ref!==null){var h="",v=yi();v&&(h+=`

Check the render method of \``+v+"`.");var w=v||"",T=a._debugSource;T&&(w=T.fileName+":"+T.lineNumber),y$[w]||(y$[w]=!0,s("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",h))}if(u.defaultProps!==void 0){var A=kn(u)||"Unknown";Tw[A]||(s("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",A),Tw[A]=!0)}if(typeof u.getDerivedStateFromProps=="function"){var L=kn(u)||"Unknown";v$[L]||(s("%s: Function components do not support getDerivedStateFromProps.",L),v$[L]=!0)}if(typeof u.contextType=="object"&&u.contextType!==null){var z=kn(u)||"Unknown";g$[z]||(s("%s: Function components do not support contextType.",z),g$[z]=!0)}}}var C$={dehydrated:null,treeContext:null,retryLane:Ai};function E$(a){return{baseLanes:a,cachePool:bDe(),transitions:null}}function ADe(a,u){var h=null;return{baseLanes:yn(a.baseLanes,u),cachePool:h,transitions:a.transitions}}function DDe(a,u,h,v){if(u!==null){var w=u.memoizedState;if(w===null)return!1}return _O(a,mw)}function ODe(a,u){return Om(a.childLanes,u)}function Oq(a,u,h){var v=u.pendingProps;zOe(u)&&(u.flags|=ln);var w=Xl.current,T=!1,A=(u.flags&ln)!==Yt;if(A||DDe(w,a)?(T=!0,u.flags&=~ln):(a===null||a.memoizedState!==null)&&(w=Z4e(w,VK)),w=qv(w),nh(u,w),a===null){aO(u);var L=u.memoizedState;if(L!==null){var z=L.dehydrated;if(z!==null)return LDe(u,z)}var Z=v.children,J=v.fallback;if(T){var ve=$De(u,Z,J,h),me=u.child;return me.memoizedState=E$(h),u.memoizedState=C$,ve}else return _$(u,Z)}else{var Ne=a.memoizedState;if(Ne!==null){var Oe=Ne.dehydrated;if(Oe!==null)return FDe(a,u,A,v,Oe,Ne,h)}if(T){var Le=v.fallback,St=v.children,Xt=PDe(a,u,St,Le,h),Wt=u.child,zn=a.child.memoizedState;return Wt.memoizedState=zn===null?E$(h):ADe(zn,h),Wt.childLanes=ODe(a,h),u.memoizedState=C$,Xt}else{var $n=v.children,Ce=IDe(a,u,$n,h);return u.memoizedState=null,Ce}}}function _$(a,u,h){var v=a.mode,w={mode:"visible",children:u},T=T$(w,v);return T.return=a,a.child=T,T}function $De(a,u,h,v){var w=a.mode,T=a.child,A={mode:"hidden",children:u},L,z;return(w&Ut)===zt&&T!==null?(L=T,L.childLanes=qe,L.pendingProps=A,a.mode&cn&&(L.actualDuration=0,L.actualStartTime=-1,L.selfBaseDuration=0,L.treeBaseDuration=0),z=ch(h,w,v,null)):(L=T$(A,w),z=ch(h,w,v,null)),L.return=a,z.return=a,L.sibling=z,a.child=L,z}function T$(a,u,h){return $Y(a,u,qe,null)}function $q(a,u){return lg(a,u)}function IDe(a,u,h,v){var w=a.child,T=w.sibling,A=$q(w,{mode:"visible",children:h});if((u.mode&Ut)===zt&&(A.lanes=v),A.return=u,A.sibling=null,T!==null){var L=u.deletions;L===null?(u.deletions=[T],u.flags|=tr):L.push(T)}return u.child=A,A}function PDe(a,u,h,v,w){var T=u.mode,A=a.child,L=A.sibling,z={mode:"hidden",children:h},Z;if((T&Ut)===zt&&u.child!==A){var J=u.child;Z=J,Z.childLanes=qe,Z.pendingProps=z,u.mode&cn&&(Z.actualDuration=0,Z.actualStartTime=-1,Z.selfBaseDuration=A.selfBaseDuration,Z.treeBaseDuration=A.treeBaseDuration),u.deletions=null}else Z=$q(A,z),Z.subtreeFlags=A.subtreeFlags&pa;var ve;return L!==null?ve=lg(L,v):(ve=ch(v,T,w,null),ve.flags|=Or),ve.return=u,Z.return=u,Z.sibling=ve,u.child=Z,ve}function i_(a,u,h,v){v!==null&&oO(v),Hv(u,a.child,null,h);var w=u.pendingProps,T=w.children,A=_$(u,T);return A.flags|=Or,u.memoizedState=null,A}function MDe(a,u,h,v,w){var T=u.mode,A={mode:"visible",children:h},L=T$(A,T),z=ch(v,T,w,null);return z.flags|=Or,L.return=u,z.return=u,L.sibling=z,u.child=L,(u.mode&Ut)!==zt&&Hv(u,a.child,null,w),z}function LDe(a,u,h){return(a.mode&Ut)===zt?(s("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),a.lanes=Kt):H6(u)?a.lanes=Ul:a.lanes=Ia,null}function FDe(a,u,h,v,w,T,A){if(h)if(u.flags&si){u.flags&=~si;var Ce=d$(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return i_(a,u,A,Ce)}else{if(u.memoizedState!==null)return u.child=a.child,u.flags|=ln,null;var Fe=v.children,Ee=v.fallback,nt=MDe(a,u,Fe,Ee,A),Nt=u.child;return Nt.memoizedState=E$(A),u.memoizedState=C$,nt}else{if(_4e(),(u.mode&Ut)===zt)return i_(a,u,A,null);if(H6(w)){var L,z,Z;{var J=BAe(w);L=J.digest,z=J.message,Z=J.stack}var ve;z?ve=new Error(z):ve=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var me=d$(ve,L,Z);return i_(a,u,A,me)}var Ne=To(A,a.childLanes);if(ec||Ne){var Oe=m_();if(Oe!==null){var Le=RC(Oe,A);if(Le!==Ai&&Le!==T.retryLane){T.retryLane=Le;var St=Tr;Vs(a,Le),Ca(Oe,a,Le,St)}}K$();var Xt=d$(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return i_(a,u,A,Xt)}else if(nK(w)){u.flags|=ln,u.child=a.child;var Wt=lOe.bind(null,a);return UAe(w,Wt),null}else{N4e(u,w,T.treeContext);var zn=v.children,$n=_$(u,zn);return $n.flags|=ks,$n}}}function Iq(a,u,h){a.lanes=yn(a.lanes,u);var v=a.alternate;v!==null&&(v.lanes=yn(v.lanes,u)),gO(a.return,u,h)}function VDe(a,u,h){for(var v=u;v!==null;){if(v.tag===F){var w=v.memoizedState;w!==null&&Iq(v,h,a)}else if(v.tag===de)Iq(v,h,a);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)return;for(;v.sibling===null;){if(v.return===null||v.return===a)return;v=v.return}v.sibling.return=v.return,v=v.sibling}}function jDe(a){for(var u=a,h=null;u!==null;){var v=u.alternate;v!==null&&ME(v)===null&&(h=u),u=u.sibling}return h}function zDe(a){if(a!==void 0&&a!=="forwards"&&a!=="backwards"&&a!=="together"&&!b$[a])if(b$[a]=!0,typeof a=="string")switch(a.toLowerCase()){case"together":case"forwards":case"backwards":{s('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',a,a.toLowerCase());break}case"forward":case"backward":{s('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',a,a.toLowerCase());break}default:s('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',a);break}else s('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',a)}function BDe(a,u){a!==void 0&&!r_[a]&&(a!=="collapsed"&&a!=="hidden"?(r_[a]=!0,s('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',a)):u!=="forwards"&&u!=="backwards"&&(r_[a]=!0,s('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',a)))}function Pq(a,u){{var h=An(a),v=!h&&typeof Aa(a)=="function";if(h||v){var w=h?"array":"iterable";return s("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",w,u,w),!1}}return!0}function UDe(a,u){if((u==="forwards"||u==="backwards")&&a!==void 0&&a!==null&&a!==!1)if(An(a)){for(var h=0;h<a.length;h++)if(!Pq(a[h],h))return}else{var v=Aa(a);if(typeof v=="function"){var w=v.call(a);if(w)for(var T=w.next(),A=0;!T.done;T=w.next()){if(!Pq(T.value,A))return;A++}}else s('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',u)}}function k$(a,u,h,v,w){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:w}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=h,T.tailMode=w)}function Mq(a,u,h){var v=u.pendingProps,w=v.revealOrder,T=v.tail,A=v.children;zDe(w),BDe(T,w),UDe(A,w),Zo(a,u,A,h);var L=Xl.current,z=_O(L,mw);if(z)L=TO(L,mw),u.flags|=ln;else{var Z=a!==null&&(a.flags&ln)!==Yt;Z&&VDe(u,u.child,h),L=qv(L)}if(nh(u,L),(u.mode&Ut)===zt)u.memoizedState=null;else switch(w){case"forwards":{var J=jDe(u.child),ve;J===null?(ve=u.child,u.child=null):(ve=J.sibling,J.sibling=null),k$(u,!1,ve,J,T);break}case"backwards":{var me=null,Ne=u.child;for(u.child=null;Ne!==null;){var Oe=Ne.alternate;if(Oe!==null&&ME(Oe)===null){u.child=Ne;break}var Le=Ne.sibling;Ne.sibling=me,me=Ne,Ne=Le}k$(u,!0,me,null,T);break}case"together":{k$(u,!1,null,null,void 0);break}default:u.memoizedState=null}return u.child}function HDe(a,u,h){SO(u,u.stateNode.containerInfo);var v=u.pendingProps;return a===null?u.child=Hv(u,null,v,h):Zo(a,u,v,h),u.child}var Lq=!1;function WDe(a,u,h){var v=u.type,w=v._context,T=u.pendingProps,A=u.memoizedProps,L=T.value;{"value"in T||Lq||(Lq=!0,s("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var z=u.type.propTypes;z&&ql(z,T,"prop","Context.Provider")}if(RK(u,w,L),A!==null){var Z=A.value;if(Ht(Z,L)){if(A.children===T.children&&!pE())return wd(a,u,h)}else z4e(u,w,h)}var J=T.children;return Zo(a,u,J,h),u.child}var Fq=!1;function GDe(a,u,h){var v=u.type;v._context===void 0?v!==v.Consumer&&(Fq||(Fq=!0,s("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):v=v._context;var w=u.pendingProps,T=w.children;typeof T!="function"&&s("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Gv(u,h);var A=na(v);xp(u);var L;return Ew.current=u,Zi(!0),L=T(A),Zi(!1),Co(),u.flags|=jc,Zo(a,u,L,h),u.child}function kw(){ec=!0}function a_(a,u){(u.mode&Ut)===zt&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=Or)}function wd(a,u,h){return a!==null&&(u.dependencies=a.dependencies),pq(),Vw(u.lanes),To(h,u.childLanes)?(V4e(a,u),u.child):null}function KDe(a,u,h){{var v=u.return;if(v===null)throw new Error("Cannot swap the root fiber.");if(a.alternate=null,u.alternate=null,h.index=u.index,h.sibling=u.sibling,h.return=u.return,h.ref=u.ref,u===v.child)v.child=h;else{var w=v.child;if(w===null)throw new Error("Expected parent to have a child.");for(;w.sibling!==u;)if(w=w.sibling,w===null)throw new Error("Expected to find the previous sibling.");w.sibling=h}var T=v.deletions;return T===null?(v.deletions=[a],v.flags|=tr):T.push(a),h.flags|=Or,h}}function N$(a,u){var h=a.lanes;return!!To(h,u)}function qDe(a,u,h){switch(u.tag){case g:Aq(u),u.stateNode,Uv();break;case x:LK(u);break;case p:{var v=u.type;Jc(v)&&mE(u);break}case y:SO(u,u.stateNode.containerInfo);break;case O:{var w=u.memoizedProps.value,T=u.type._context;RK(u,T,w);break}case P:{var A=To(h,u.childLanes);A&&(u.flags|=wn);{var L=u.stateNode;L.effectDuration=0,L.passiveEffectDuration=0}}break;case F:{var z=u.memoizedState;if(z!==null){if(z.dehydrated!==null)return nh(u,qv(Xl.current)),u.flags|=ln,null;var Z=u.child,J=Z.childLanes;if(To(h,J))return Oq(a,u,h);nh(u,qv(Xl.current));var ve=wd(a,u,h);return ve!==null?ve.sibling:null}else nh(u,qv(Xl.current));break}case de:{var me=(a.flags&ln)!==Yt,Ne=To(h,u.childLanes);if(me){if(Ne)return Mq(a,u,h);u.flags|=ln}var Oe=u.memoizedState;if(Oe!==null&&(Oe.rendering=null,Oe.tail=null,Oe.lastEffect=null),nh(u,Xl.current),Ne)break;return null}case xe:case Te:return u.lanes=qe,kq(a,u,h)}return wd(a,u,h)}function Vq(a,u,h){if(u._debugNeedsRemount&&a!==null)return KDe(a,u,iI(u.type,u.key,u.pendingProps,u._debugOwner||null,u.mode,u.lanes));if(a!==null){var v=a.memoizedProps,w=u.pendingProps;if(v!==w||pE()||u.type!==a.type)ec=!0;else{var T=N$(a,h);if(!T&&(u.flags&ln)===Yt)return ec=!1,qDe(a,u,h);(a.flags&Sm)!==Yt?ec=!0:ec=!1}}else if(ec=!1,Ya()&&b4e(u)){var A=u.index,L=w4e();pK(u,L,A)}switch(u.lanes=qe,u.tag){case m:return RDe(a,u,u.type,h);case te:{var z=u.elementType;return kDe(a,u,z,h)}case f:{var Z=u.type,J=u.pendingProps,ve=u.elementType===Z?J:Jl(Z,J);return w$(a,u,Z,ve,h)}case p:{var me=u.type,Ne=u.pendingProps,Oe=u.elementType===me?Ne:Jl(me,Ne);return Rq(a,u,me,Oe,h)}case g:return EDe(a,u,h);case x:return _De(a,u,h);case S:return TDe(a,u);case F:return Oq(a,u,h);case y:return HDe(a,u,h);case I:{var Le=u.type,St=u.pendingProps,Xt=u.elementType===Le?St:Jl(Le,St);return Eq(a,u,Le,Xt,h)}case _:return xDe(a,u,h);case k:return SDe(a,u,h);case P:return CDe(a,u,h);case O:return WDe(a,u,h);case R:return GDe(a,u,h);case K:{var Wt=u.type,zn=u.pendingProps,$n=Jl(Wt,zn);if(u.type!==u.elementType){var Ce=Wt.propTypes;Ce&&ql(Ce,$n,"prop",kn(Wt))}return $n=Jl(Wt.type,$n),_q(a,u,Wt,$n,h)}case Y:return Tq(a,u,u.type,u.pendingProps,h);case fe:{var Fe=u.type,Ee=u.pendingProps,nt=u.elementType===Fe?Ee:Jl(Fe,Ee);return NDe(a,u,Fe,nt,h)}case de:return Mq(a,u,h);case Pe:break;case xe:return kq(a,u,h)}throw new Error("Unknown unit of work tag ("+u.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ey(a){a.flags|=wn}function jq(a){a.flags|=yo,a.flags|=hb}var zq,R$,Bq,Uq;zq=function(a,u,h,v){for(var w=u.child;w!==null;){if(w.tag===x||w.tag===S)gAe(a,w.stateNode);else if(w.tag!==y){if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===u)return;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},R$=function(a,u){},Bq=function(a,u,h,v,w){var T=a.memoizedProps;if(T!==v){var A=u.stateNode,L=CO(),z=yAe(A,h,T,v,w,L);u.updateQueue=z,z&&ey(u)}},Uq=function(a,u,h,v){h!==v&&ey(u)};function Nw(a,u){if(!Ya())switch(a.tailMode){case"hidden":{for(var h=a.tail,v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?a.tail=null:v.sibling=null;break}case"collapsed":{for(var w=a.tail,T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?!u&&a.tail!==null?a.tail.sibling=null:a.tail=null:T.sibling=null;break}}}function Xa(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=qe,v=Yt;if(u){if((a.mode&cn)!==zt){for(var z=a.selfBaseDuration,Z=a.child;Z!==null;)h=yn(h,yn(Z.lanes,Z.childLanes)),v|=Z.subtreeFlags&pa,v|=Z.flags&pa,z+=Z.treeBaseDuration,Z=Z.sibling;a.treeBaseDuration=z}else for(var J=a.child;J!==null;)h=yn(h,yn(J.lanes,J.childLanes)),v|=J.subtreeFlags&pa,v|=J.flags&pa,J.return=a,J=J.sibling;a.subtreeFlags|=v}else{if((a.mode&cn)!==zt){for(var w=a.actualDuration,T=a.selfBaseDuration,A=a.child;A!==null;)h=yn(h,yn(A.lanes,A.childLanes)),v|=A.subtreeFlags,v|=A.flags,w+=A.actualDuration,T+=A.treeBaseDuration,A=A.sibling;a.actualDuration=w,a.treeBaseDuration=T}else for(var L=a.child;L!==null;)h=yn(h,yn(L.lanes,L.childLanes)),v|=L.subtreeFlags,v|=L.flags,L.return=a,L=L.sibling;a.subtreeFlags|=v}return a.childLanes=h,u}function YDe(a,u,h){if($4e()&&(u.mode&Ut)!==zt&&(u.flags&ln)===Yt)return wK(u),Uv(),u.flags|=si|Ho|Qi,!1;var v=wE(u);if(h!==null&&h.dehydrated!==null)if(a===null){if(!v)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(D4e(u),Xa(u),(u.mode&cn)!==zt){var w=h!==null;if(w){var T=u.child;T!==null&&(u.treeBaseDuration-=T.treeBaseDuration)}}return!1}else{if(Uv(),(u.flags&ln)===Yt&&(u.memoizedState=null),u.flags|=wn,Xa(u),(u.mode&cn)!==zt){var A=h!==null;if(A){var L=u.child;L!==null&&(u.treeBaseDuration-=L.treeBaseDuration)}}return!1}else return xK(),!0}function Hq(a,u,h){var v=u.pendingProps;switch(tO(u),u.tag){case m:case te:case Y:case f:case I:case _:case k:case P:case R:case K:return Xa(u),null;case p:{var w=u.type;return Jc(w)&&hE(u),Xa(u),null}case g:{var T=u.stateNode;if(Kv(u),X6(u),NO(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),a===null||a.child===null){var A=wE(u);if(A)ey(u);else if(a!==null){var L=a.memoizedState;(!L.isDehydrated||(u.flags&si)!==Yt)&&(u.flags|=Ts,xK())}}return R$(a,u),Xa(u),null}case x:{EO(u);var z=MK(),Z=u.type;if(a!==null&&u.stateNode!=null)Bq(a,u,Z,v,z),a.ref!==u.ref&&jq(u);else{if(!v){if(u.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Xa(u),null}var J=CO(),ve=wE(u);if(ve)R4e(u,z,J)&&ey(u);else{var me=mAe(Z,v,z,J,u);zq(me,u,!1,!1),u.stateNode=me,vAe(me,Z,v,z)&&ey(u)}u.ref!==null&&jq(u)}return Xa(u),null}case S:{var Ne=v;if(a&&u.stateNode!=null){var Oe=a.memoizedProps;Uq(a,u,Oe,Ne)}else{if(typeof Ne!="string"&&u.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Le=MK(),St=CO(),Xt=wE(u);Xt?A4e(u)&&ey(u):u.stateNode=bAe(Ne,Le,St,u)}return Xa(u),null}case F:{Yv(u);var Wt=u.memoizedState;if(a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){var zn=YDe(a,u,Wt);if(!zn)return u.flags&Qi?u:null}if((u.flags&ln)!==Yt)return u.lanes=h,(u.mode&cn)!==zt&&JO(u),u;var $n=Wt!==null,Ce=a!==null&&a.memoizedState!==null;if($n!==Ce&&$n){var Fe=u.child;if(Fe.flags|=zc,(u.mode&Ut)!==zt){var Ee=a===null&&(u.memoizedProps.unstable_avoidThisFallback!==!0||!ne);Ee||_O(Xl.current,VK)?Z6e():K$()}}var nt=u.updateQueue;if(nt!==null&&(u.flags|=wn),Xa(u),(u.mode&cn)!==zt&&$n){var Nt=u.child;Nt!==null&&(u.treeBaseDuration-=Nt.treeBaseDuration)}return null}case y:return Kv(u),R$(a,u),a===null&&d4e(u.stateNode.containerInfo),Xa(u),null;case O:var Et=u.type._context;return mO(Et,u),Xa(u),null;case fe:{var an=u.type;return Jc(an)&&hE(u),Xa(u),null}case de:{Yv(u);var vn=u.memoizedState;if(vn===null)return Xa(u),null;var xr=(u.flags&ln)!==Yt,Zn=vn.rendering;if(Zn===null)if(xr)Nw(vn,!1);else{var Ui=Q6e()&&(a===null||(a.flags&ln)===Yt);if(!Ui)for(var Xn=u.child;Xn!==null;){var Di=ME(Xn);if(Di!==null){xr=!0,u.flags|=ln,Nw(vn,!1);var Do=Di.updateQueue;return Do!==null&&(u.updateQueue=Do,u.flags|=wn),u.subtreeFlags=Yt,j4e(u,h),nh(u,TO(Xl.current,mw)),u.child}Xn=Xn.sibling}vn.tail!==null&&Xr()>fY()&&(u.flags|=ln,xr=!0,Nw(vn,!1),u.lanes=yC)}else{if(!xr){var no=ME(Zn);if(no!==null){u.flags|=ln,xr=!0;var xu=no.updateQueue;if(xu!==null&&(u.updateQueue=xu,u.flags|=wn),Nw(vn,!0),vn.tail===null&&vn.tailMode==="hidden"&&!Zn.alternate&&!Ya())return Xa(u),null}else Xr()*2-vn.renderingStartTime>fY()&&h!==Ia&&(u.flags|=ln,xr=!0,Nw(vn,!1),u.lanes=yC)}if(vn.isBackwards)Zn.sibling=u.child,u.child=Zn;else{var Jo=vn.last;Jo!==null?Jo.sibling=Zn:u.child=Zn,vn.last=Zn}}if(vn.tail!==null){var es=vn.tail;vn.rendering=es,vn.tail=es.sibling,vn.renderingStartTime=Xr(),es.sibling=null;var Oo=Xl.current;return xr?Oo=TO(Oo,mw):Oo=qv(Oo),nh(u,Oo),es}return Xa(u),null}case Pe:break;case xe:case Te:{G$(u);var _d=u.memoizedState,uy=_d!==null;if(a!==null){var Hw=a.memoizedState,uf=Hw!==null;uf!==uy&&!he&&(u.flags|=zc)}return!uy||(u.mode&Ut)===zt?Xa(u):To(sf,Ia)&&(Xa(u),u.subtreeFlags&(Or|wn)&&(u.flags|=zc)),null}case je:return null;case $e:return null}throw new Error("Unknown unit of work tag ("+u.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ZDe(a,u,h){switch(tO(u),u.tag){case p:{var v=u.type;Jc(v)&&hE(u);var w=u.flags;return w&Qi?(u.flags=w&~Qi|ln,(u.mode&cn)!==zt&&JO(u),u):null}case g:{u.stateNode,Kv(u),X6(u),NO();var T=u.flags;return(T&Qi)!==Yt&&(T&ln)===Yt?(u.flags=T&~Qi|ln,u):null}case x:return EO(u),null;case F:{Yv(u);var A=u.memoizedState;if(A!==null&&A.dehydrated!==null){if(u.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Uv()}var L=u.flags;return L&Qi?(u.flags=L&~Qi|ln,(u.mode&cn)!==zt&&JO(u),u):null}case de:return Yv(u),null;case y:return Kv(u),null;case O:var z=u.type._context;return mO(z,u),null;case xe:case Te:return G$(u),null;case je:return null;default:return null}}function Wq(a,u,h){switch(tO(u),u.tag){case p:{var v=u.type.childContextTypes;v!=null&&hE(u);break}case g:{u.stateNode,Kv(u),X6(u),NO();break}case x:{EO(u);break}case y:Kv(u);break;case F:Yv(u);break;case de:Yv(u);break;case O:var w=u.type._context;mO(w,u);break;case xe:case Te:G$(u);break}}var Gq=null;Gq=new Set;var o_=!1,Qa=!1,XDe=typeof WeakSet=="function"?WeakSet:Set,Pt=null,ty=null,ny=null;function QDe(a){Zf(null,function(){throw a}),db()}var JDe=function(a,u){if(u.props=a.memoizedProps,u.state=a.memoizedState,a.mode&cn)try{af(),u.componentWillUnmount()}finally{rf(a)}else u.componentWillUnmount()};function Kq(a,u){try{ah(va,a)}catch(h){Pr(a,u,h)}}function A$(a,u,h){try{JDe(a,h)}catch(v){Pr(a,u,v)}}function e6e(a,u,h){try{h.componentDidMount()}catch(v){Pr(a,u,v)}}function qq(a,u){try{Zq(a)}catch(h){Pr(a,u,h)}}function ry(a,u){var h=a.ref;if(h!==null)if(typeof h=="function"){var v;try{if(Qe&&Me&&a.mode&cn)try{af(),v=h(null)}finally{rf(a)}else v=h(null)}catch(w){Pr(a,u,w)}typeof v=="function"&&s("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",un(a))}else h.current=null}function s_(a,u,h){try{h()}catch(v){Pr(a,u,v)}}var Yq=!1;function t6e(a,u){pAe(a.containerInfo),Pt=u,n6e();var h=Yq;return Yq=!1,h}function n6e(){for(;Pt!==null;){var a=Pt,u=a.child;(a.subtreeFlags&yp)!==Yt&&u!==null?(u.return=a,Pt=u):r6e()}}function r6e(){for(;Pt!==null;){var a=Pt;Yn(a);try{i6e(a)}catch(h){Pr(a,a.return,h)}Br();var u=a.sibling;if(u!==null){u.return=a.return,Pt=u;return}Pt=a.return}}function i6e(a){var u=a.alternate,h=a.flags;if((h&Ts)!==Yt){switch(Yn(a),a.tag){case f:case I:case Y:break;case p:{if(u!==null){var v=u.memoizedProps,w=u.memoizedState,T=a.stateNode;a.type===a.elementType&&!ig&&(T.props!==a.memoizedProps&&s("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(a)||"instance"),T.state!==a.memoizedState&&s("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(a)||"instance"));var A=T.getSnapshotBeforeUpdate(a.elementType===a.type?v:Jl(a.type,v),w);{var L=Gq;A===void 0&&!L.has(a.type)&&(L.add(a.type),s("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",un(a)))}T.__reactInternalSnapshotBeforeUpdate=A}break}case g:{{var z=a.stateNode;FAe(z.containerInfo)}break}case x:case S:case y:case fe:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Br()}}function tc(a,u,h){var v=u.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var T=w.next,A=T;do{if((A.tag&a)===a){var L=A.destroy;A.destroy=void 0,L!==void 0&&((a&Za)!==js?mC(u):(a&va)!==js&&yu(u),(a&ef)!==js&&zw(!0),s_(u,h,L),(a&ef)!==js&&zw(!1),(a&Za)!==js?H0():(a&va)!==js&&Sp())}A=A.next}while(A!==T)}}function ah(a,u){var h=u.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next,T=w;do{if((T.tag&a)===a){(a&Za)!==js?Hc(u):(a&va)!==js&&gC(u);var A=T.create;(a&ef)!==js&&zw(!0),T.destroy=A(),(a&ef)!==js&&zw(!1),(a&Za)!==js?U0():(a&va)!==js&&Cm();{var L=T.destroy;if(L!==void 0&&typeof L!="function"){var z=void 0;(T.tag&va)!==Yt?z="useLayoutEffect":(T.tag&ef)!==Yt?z="useInsertionEffect":z="useEffect";var Z=void 0;L===null?Z=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof L.then=="function"?Z=`

It looks like you wrote `+z+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+z+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:Z=" You returned: "+L,s("%s must not return anything besides a function, which is used for clean-up.%s",z,Z)}}}T=T.next}while(T!==w)}}function a6e(a,u){if((u.flags&wn)!==Yt)switch(u.tag){case P:{var h=u.stateNode.passiveEffectDuration,v=u.memoizedProps,w=v.id,T=v.onPostCommit,A=fq(),L=u.alternate===null?"mount":"update";cq()&&(L="nested-update"),typeof T=="function"&&T(w,L,h,A);var z=u.return;e:for(;z!==null;){switch(z.tag){case g:var Z=z.stateNode;Z.passiveEffectDuration+=h;break e;case P:var J=z.stateNode;J.passiveEffectDuration+=h;break e}z=z.return}break}}}function o6e(a,u,h,v){if((h.flags&Oa)!==Yt)switch(h.tag){case f:case I:case Y:{if(!Qa)if(h.mode&cn)try{af(),ah(va|ga,h)}finally{rf(h)}else ah(va|ga,h);break}case p:{var w=h.stateNode;if(h.flags&wn&&!Qa)if(u===null)if(h.type===h.elementType&&!ig&&(w.props!==h.memoizedProps&&s("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),w.state!==h.memoizedState&&s("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),h.mode&cn)try{af(),w.componentDidMount()}finally{rf(h)}else w.componentDidMount();else{var T=h.elementType===h.type?u.memoizedProps:Jl(h.type,u.memoizedProps),A=u.memoizedState;if(h.type===h.elementType&&!ig&&(w.props!==h.memoizedProps&&s("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),w.state!==h.memoizedState&&s("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),h.mode&cn)try{af(),w.componentDidUpdate(T,A,w.__reactInternalSnapshotBeforeUpdate)}finally{rf(h)}else w.componentDidUpdate(T,A,w.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&(h.type===h.elementType&&!ig&&(w.props!==h.memoizedProps&&s("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",un(h)||"instance"),w.state!==h.memoizedState&&s("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",un(h)||"instance")),PK(h,L,w));break}case g:{var z=h.updateQueue;if(z!==null){var Z=null;if(h.child!==null)switch(h.child.tag){case x:Z=h.child.stateNode;break;case p:Z=h.child.stateNode;break}PK(h,z,Z)}break}case x:{var J=h.stateNode;if(u===null&&h.flags&wn){var ve=h.type,me=h.memoizedProps;EAe(J,ve,me)}break}case S:break;case y:break;case P:{{var Ne=h.memoizedProps,Oe=Ne.onCommit,Le=Ne.onRender,St=h.stateNode.effectDuration,Xt=fq(),Wt=u===null?"mount":"update";cq()&&(Wt="nested-update"),typeof Le=="function"&&Le(h.memoizedProps.id,Wt,h.actualDuration,h.treeBaseDuration,h.actualStartTime,Xt);{typeof Oe=="function"&&Oe(h.memoizedProps.id,Wt,St,Xt),rOe(h);var zn=h.return;e:for(;zn!==null;){switch(zn.tag){case g:var $n=zn.stateNode;$n.effectDuration+=St;break e;case P:var Ce=zn.stateNode;Ce.effectDuration+=St;break e}zn=zn.return}}}break}case F:{h6e(a,h);break}case de:case fe:case Pe:case xe:case Te:case $e:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Qa||h.flags&yo&&Zq(h)}function s6e(a){switch(a.tag){case f:case I:case Y:{if(a.mode&cn)try{af(),Kq(a,a.return)}finally{rf(a)}else Kq(a,a.return);break}case p:{var u=a.stateNode;typeof u.componentDidMount=="function"&&e6e(a,a.return,u),qq(a,a.return);break}case x:{qq(a,a.return);break}}}function u6e(a,u){for(var h=null,v=a;;){if(v.tag===x){if(h===null){h=v;try{var w=v.stateNode;u?IAe(w):MAe(v.stateNode,v.memoizedProps)}catch(A){Pr(a,a.return,A)}}}else if(v.tag===S){if(h===null)try{var T=v.stateNode;u?PAe(T):LAe(T,v.memoizedProps)}catch(A){Pr(a,a.return,A)}}else if(!((v.tag===xe||v.tag===Te)&&v.memoizedState!==null&&v!==a)){if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===a)return;for(;v.sibling===null;){if(v.return===null||v.return===a)return;h===v&&(h=null),v=v.return}h===v&&(h=null),v.sibling.return=v.return,v=v.sibling}}function Zq(a){var u=a.ref;if(u!==null){var h=a.stateNode,v;switch(a.tag){case x:v=h;break;default:v=h}if(typeof u=="function"){var w;if(a.mode&cn)try{af(),w=u(v)}finally{rf(a)}else w=u(v);typeof w=="function"&&s("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",un(a))}else u.hasOwnProperty("current")||s("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",un(a)),u.current=v}}function l6e(a){var u=a.alternate;u!==null&&(u.return=null),a.return=null}function Xq(a){var u=a.alternate;u!==null&&(a.alternate=null,Xq(u));{if(a.child=null,a.deletions=null,a.sibling=null,a.tag===x){var h=a.stateNode;h!==null&&m4e(h)}a.stateNode=null,a._debugOwner=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}}function c6e(a){for(var u=a.return;u!==null;){if(Qq(u))return u;u=u.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function Qq(a){return a.tag===x||a.tag===g||a.tag===y}function Jq(a){var u=a;e:for(;;){for(;u.sibling===null;){if(u.return===null||Qq(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==x&&u.tag!==S&&u.tag!==ye;){if(u.flags&Or||u.child===null||u.tag===y)continue e;u.child.return=u,u=u.child}if(!(u.flags&Or))return u.stateNode}}function f6e(a){var u=c6e(a);switch(u.tag){case x:{var h=u.stateNode;u.flags&lr&&(tK(h),u.flags&=~lr);var v=Jq(a);O$(a,v,h);break}case g:case y:{var w=u.stateNode.containerInfo,T=Jq(a);D$(a,T,w);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function D$(a,u,h){var v=a.tag,w=v===x||v===S;if(w){var T=a.stateNode;u?AAe(h,T,u):NAe(h,T)}else if(v!==y){var A=a.child;if(A!==null){D$(A,u,h);for(var L=A.sibling;L!==null;)D$(L,u,h),L=L.sibling}}}function O$(a,u,h){var v=a.tag,w=v===x||v===S;if(w){var T=a.stateNode;u?RAe(h,T,u):kAe(h,T)}else if(v!==y){var A=a.child;if(A!==null){O$(A,u,h);for(var L=A.sibling;L!==null;)O$(L,u,h),L=L.sibling}}}var Ja=null,nc=!1;function d6e(a,u,h){{var v=u;e:for(;v!==null;){switch(v.tag){case x:{Ja=v.stateNode,nc=!1;break e}case g:{Ja=v.stateNode.containerInfo,nc=!0;break e}case y:{Ja=v.stateNode.containerInfo,nc=!0;break e}}v=v.return}if(Ja===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");eY(a,u,h),Ja=null,nc=!1}l6e(h)}function oh(a,u,h){for(var v=h.child;v!==null;)eY(a,u,v),v=v.sibling}function eY(a,u,h){switch(Jf(h),h.tag){case x:Qa||ry(h,u);case S:{{var v=Ja,w=nc;Ja=null,oh(a,u,h),Ja=v,nc=w,Ja!==null&&(nc?OAe(Ja,h.stateNode):DAe(Ja,h.stateNode))}return}case ye:{Ja!==null&&(nc?$Ae(Ja,h.stateNode):U6(Ja,h.stateNode));return}case y:{{var T=Ja,A=nc;Ja=h.stateNode.containerInfo,nc=!0,oh(a,u,h),Ja=T,nc=A}return}case f:case I:case K:case Y:{if(!Qa){var L=h.updateQueue;if(L!==null){var z=L.lastEffect;if(z!==null){var Z=z.next,J=Z;do{var ve=J,me=ve.destroy,Ne=ve.tag;me!==void 0&&((Ne&ef)!==js?s_(h,u,me):(Ne&va)!==js&&(yu(h),h.mode&cn?(af(),s_(h,u,me),rf(h)):s_(h,u,me),Sp())),J=J.next}while(J!==Z)}}}oh(a,u,h);return}case p:{if(!Qa){ry(h,u);var Oe=h.stateNode;typeof Oe.componentWillUnmount=="function"&&A$(h,u,Oe)}oh(a,u,h);return}case Pe:{oh(a,u,h);return}case xe:{if(h.mode&Ut){var Le=Qa;Qa=Le||h.memoizedState!==null,oh(a,u,h),Qa=Le}else oh(a,u,h);break}default:{oh(a,u,h);return}}}function p6e(a){a.memoizedState}function h6e(a,u){var h=u.memoizedState;if(h===null){var v=u.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var T=w.dehydrated;T!==null&&QAe(T)}}}}function tY(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new XDe),u.forEach(function(v){var w=cOe.bind(null,a,v);if(!h.has(v)){if(h.add(v),Ko)if(ty!==null&&ny!==null)jw(ny,ty);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");v.then(w,w)}})}}function m6e(a,u,h){ty=h,ny=a,Yn(u),nY(u,a),Yn(u),ty=null,ny=null}function rc(a,u,h){var v=u.deletions;if(v!==null)for(var w=0;w<v.length;w++){var T=v[w];try{d6e(a,u,T)}catch(z){Pr(T,u,z)}}var A=fp();if(u.subtreeFlags&xo)for(var L=u.child;L!==null;)Yn(L),nY(L,a),L=L.sibling;Yn(A)}function nY(a,u,h){var v=a.alternate,w=a.flags;switch(a.tag){case f:case I:case K:case Y:{if(rc(u,a),of(a),w&wn){try{tc(ef|ga,a,a.return),ah(ef|ga,a)}catch(an){Pr(a,a.return,an)}if(a.mode&cn){try{af(),tc(va|ga,a,a.return)}catch(an){Pr(a,a.return,an)}rf(a)}else try{tc(va|ga,a,a.return)}catch(an){Pr(a,a.return,an)}}return}case p:{rc(u,a),of(a),w&yo&&v!==null&&ry(v,v.return);return}case x:{rc(u,a),of(a),w&yo&&v!==null&&ry(v,v.return);{if(a.flags&lr){var T=a.stateNode;try{tK(T)}catch(an){Pr(a,a.return,an)}}if(w&wn){var A=a.stateNode;if(A!=null){var L=a.memoizedProps,z=v!==null?v.memoizedProps:L,Z=a.type,J=a.updateQueue;if(a.updateQueue=null,J!==null)try{_Ae(A,J,Z,z,L,a)}catch(an){Pr(a,a.return,an)}}}}return}case S:{if(rc(u,a),of(a),w&wn){if(a.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ve=a.stateNode,me=a.memoizedProps,Ne=v!==null?v.memoizedProps:me;try{TAe(ve,Ne,me)}catch(an){Pr(a,a.return,an)}}return}case g:{if(rc(u,a),of(a),w&wn&&v!==null){var Oe=v.memoizedState;if(Oe.isDehydrated)try{XAe(u.containerInfo)}catch(an){Pr(a,a.return,an)}}return}case y:{rc(u,a),of(a);return}case F:{rc(u,a),of(a);var Le=a.child;if(Le.flags&zc){var St=Le.stateNode,Xt=Le.memoizedState,Wt=Xt!==null;if(St.isHidden=Wt,Wt){var zn=Le.alternate!==null&&Le.alternate.memoizedState!==null;zn||Y6e()}}if(w&wn){try{p6e(a)}catch(an){Pr(a,a.return,an)}tY(a)}return}case xe:{var $n=v!==null&&v.memoizedState!==null;if(a.mode&Ut){var Ce=Qa;Qa=Ce||$n,rc(u,a),Qa=Ce}else rc(u,a);if(of(a),w&zc){var Fe=a.stateNode,Ee=a.memoizedState,nt=Ee!==null,Nt=a;if(Fe.isHidden=nt,nt&&!$n&&(Nt.mode&Ut)!==zt){Pt=Nt;for(var Et=Nt.child;Et!==null;)Pt=Et,v6e(Et),Et=Et.sibling}u6e(Nt,nt)}return}case de:{rc(u,a),of(a),w&wn&&tY(a);return}case Pe:return;default:{rc(u,a),of(a);return}}}function of(a){var u=a.flags;if(u&Or){try{f6e(a)}catch(h){Pr(a,a.return,h)}a.flags&=~Or}u&ks&&(a.flags&=~ks)}function g6e(a,u,h){ty=h,ny=u,Pt=a,rY(a,u,h),ty=null,ny=null}function rY(a,u,h){for(var v=(a.mode&Ut)!==zt;Pt!==null;){var w=Pt,T=w.child;if(w.tag===xe&&v){var A=w.memoizedState!==null,L=A||o_;if(L){$$(a,u,h);continue}else{var z=w.alternate,Z=z!==null&&z.memoizedState!==null,J=Z||Qa,ve=o_,me=Qa;o_=L,Qa=J,Qa&&!me&&(Pt=w,y6e(w));for(var Ne=T;Ne!==null;)Pt=Ne,rY(Ne,u,h),Ne=Ne.sibling;Pt=w,o_=ve,Qa=me,$$(a,u,h);continue}}(w.subtreeFlags&Oa)!==Yt&&T!==null?(T.return=w,Pt=T):$$(a,u,h)}}function $$(a,u,h){for(;Pt!==null;){var v=Pt;if((v.flags&Oa)!==Yt){var w=v.alternate;Yn(v);try{o6e(u,w,v,h)}catch(A){Pr(v,v.return,A)}Br()}if(v===a){Pt=null;return}var T=v.sibling;if(T!==null){T.return=v.return,Pt=T;return}Pt=v.return}}function v6e(a){for(;Pt!==null;){var u=Pt,h=u.child;switch(u.tag){case f:case I:case K:case Y:{if(u.mode&cn)try{af(),tc(va,u,u.return)}finally{rf(u)}else tc(va,u,u.return);break}case p:{ry(u,u.return);var v=u.stateNode;typeof v.componentWillUnmount=="function"&&A$(u,u.return,v);break}case x:{ry(u,u.return);break}case xe:{var w=u.memoizedState!==null;if(w){iY(a);continue}break}}h!==null?(h.return=u,Pt=h):iY(a)}}function iY(a){for(;Pt!==null;){var u=Pt;if(u===a){Pt=null;return}var h=u.sibling;if(h!==null){h.return=u.return,Pt=h;return}Pt=u.return}}function y6e(a){for(;Pt!==null;){var u=Pt,h=u.child;if(u.tag===xe){var v=u.memoizedState!==null;if(v){aY(a);continue}}h!==null?(h.return=u,Pt=h):aY(a)}}function aY(a){for(;Pt!==null;){var u=Pt;Yn(u);try{s6e(u)}catch(v){Pr(u,u.return,v)}if(Br(),u===a){Pt=null;return}var h=u.sibling;if(h!==null){h.return=u.return,Pt=h;return}Pt=u.return}}function b6e(a,u,h,v){Pt=u,w6e(u,a,h,v)}function w6e(a,u,h,v){for(;Pt!==null;){var w=Pt,T=w.child;(w.subtreeFlags&Ns)!==Yt&&T!==null?(T.return=w,Pt=T):x6e(a,u,h,v)}}function x6e(a,u,h,v){for(;Pt!==null;){var w=Pt;if((w.flags&Wr)!==Yt){Yn(w);try{S6e(u,w,h,v)}catch(A){Pr(w,w.return,A)}Br()}if(w===a){Pt=null;return}var T=w.sibling;if(T!==null){T.return=w.return,Pt=T;return}Pt=w.return}}function S6e(a,u,h,v){switch(u.tag){case f:case I:case Y:{if(u.mode&cn){QO();try{ah(Za|ga,u)}finally{XO(u)}}else ah(Za|ga,u);break}}}function C6e(a){Pt=a,E6e()}function E6e(){for(;Pt!==null;){var a=Pt,u=a.child;if((Pt.flags&tr)!==Yt){var h=a.deletions;if(h!==null){for(var v=0;v<h.length;v++){var w=h[v];Pt=w,k6e(w,a)}{var T=a.alternate;if(T!==null){var A=T.child;if(A!==null){T.child=null;do{var L=A.sibling;A.sibling=null,A=L}while(A!==null)}}}Pt=a}}(a.subtreeFlags&Ns)!==Yt&&u!==null?(u.return=a,Pt=u):_6e()}}function _6e(){for(;Pt!==null;){var a=Pt;(a.flags&Wr)!==Yt&&(Yn(a),T6e(a),Br());var u=a.sibling;if(u!==null){u.return=a.return,Pt=u;return}Pt=a.return}}function T6e(a){switch(a.tag){case f:case I:case Y:{a.mode&cn?(QO(),tc(Za|ga,a,a.return),XO(a)):tc(Za|ga,a,a.return);break}}}function k6e(a,u){for(;Pt!==null;){var h=Pt;Yn(h),R6e(h,u),Br();var v=h.child;v!==null?(v.return=h,Pt=v):N6e(a)}}function N6e(a){for(;Pt!==null;){var u=Pt,h=u.sibling,v=u.return;if(Xq(u),u===a){Pt=null;return}if(h!==null){h.return=v,Pt=h;return}Pt=v}}function R6e(a,u){switch(a.tag){case f:case I:case Y:{a.mode&cn?(QO(),tc(Za,a,u),XO(a)):tc(Za,a,u);break}}}function A6e(a){switch(a.tag){case f:case I:case Y:{try{ah(va|ga,a)}catch(h){Pr(a,a.return,h)}break}case p:{var u=a.stateNode;try{u.componentDidMount()}catch(h){Pr(a,a.return,h)}break}}}function D6e(a){switch(a.tag){case f:case I:case Y:{try{ah(Za|ga,a)}catch(u){Pr(a,a.return,u)}break}}}function O6e(a){switch(a.tag){case f:case I:case Y:{try{tc(va|ga,a,a.return)}catch(h){Pr(a,a.return,h)}break}case p:{var u=a.stateNode;typeof u.componentWillUnmount=="function"&&A$(a,a.return,u);break}}}function $6e(a){switch(a.tag){case f:case I:case Y:try{tc(Za|ga,a,a.return)}catch(u){Pr(a,a.return,u)}}}if(typeof Symbol=="function"&&Symbol.for){var Rw=Symbol.for;Rw("selector.component"),Rw("selector.has_pseudo_class"),Rw("selector.role"),Rw("selector.test_id"),Rw("selector.text")}var I6e=[];function P6e(){I6e.forEach(function(a){return a()})}var M6e=n.ReactCurrentActQueue;function L6e(a){{var u=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,h=typeof jest<"u";return h&&u!==!1}}function oY(){{var a=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!a&&M6e.current!==null&&s("The current testing environment is not configured to support act(...)"),a}}var F6e=Math.ceil,I$=n.ReactCurrentDispatcher,P$=n.ReactCurrentOwner,eo=n.ReactCurrentBatchConfig,ic=n.ReactCurrentActQueue,wa=0,sY=1,to=2,ul=4,xd=0,Aw=1,ag=2,u_=3,Dw=4,uY=5,M$=6,jn=wa,Xo=null,Ei=null,xa=qe,sf=qe,L$=Zp(qe),Sa=xd,Ow=null,l_=qe,$w=qe,c_=qe,Iw=null,zs=null,F$=0,lY=500,cY=1/0,V6e=500,Sd=null;function Pw(){cY=Xr()+V6e}function fY(){return cY}var f_=!1,V$=null,iy=null,og=!1,sh=null,Mw=qe,j$=[],z$=null,j6e=50,Lw=0,B$=null,U$=!1,d_=!1,z6e=50,ay=0,p_=null,Fw=Tr,h_=qe,dY=!1;function m_(){return Xo}function Qo(){return(jn&(to|ul))!==wa?Xr():(Fw!==Tr||(Fw=Xr()),Fw)}function uh(a){var u=a.mode;if((u&Ut)===zt)return Kt;if((jn&to)!==wa&&xa!==qe)return Dp(xa);var h=M4e()!==P4e;if(h){if(eo.transition!==null){var v=eo.transition;v._updatedFibers||(v._updatedFibers=new Set),v._updatedFibers.add(a)}return h_===Ai&&(h_=TC()),h_}var w=$s();if(w!==Ai)return w;var T=wAe();return T}function B6e(a){var u=a.mode;return(u&Ut)===zt?Kt:_o()}function Ca(a,u,h,v){dOe(),dY&&s("useInsertionEffect must not schedule updates."),U$&&(d_=!0),sd(a,h,v),(jn&to)!==qe&&a===Xo?mOe(u):(Ko&&pv(a,u,h),gOe(u),a===Xo&&((jn&to)===wa&&($w=yn($w,h)),Sa===Dw&&lh(a,xa)),Bs(a,v),h===Kt&&jn===wa&&(u.mode&Ut)===zt&&!ic.isBatchingLegacy&&(Pw(),dK()))}function U6e(a,u,h){var v=a.current;v.lanes=u,sd(a,u,h),Bs(a,h)}function H6e(a){return(jn&to)!==wa}function Bs(a,u){var h=a.callbackNode;xC(a,u);var v=ad(a,a===Xo?xa:qe);if(v===qe){h!==null&&NY(h),a.callbackNode=null,a.callbackPriority=Ai;return}var w=xi(v),T=a.callbackPriority;if(T===w&&!(ic.current!==null&&h!==Z$)){h==null&&T!==Kt&&s("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}h!=null&&NY(h);var A;if(w===Kt)a.tag===Xp?(ic.isBatchingLegacy!==null&&(ic.didScheduleLegacyUpdate=!0),y4e(mY.bind(null,a))):fK(mY.bind(null,a)),ic.current!==null?ic.current.push(Qp):SAe(function(){(jn&(to|ul))===wa&&Qp()}),A=null;else{var L;switch(ma(v)){case Si:L=j0;break;case Hl:L=Qf;break;case Ju:L=Qu;break;case Op:L=z0;break;default:L=Qu;break}A=X$(L,pY.bind(null,a))}a.callbackPriority=w,a.callbackNode=A}function pY(a,u){if(uDe(),Fw=Tr,h_=qe,(jn&(to|ul))!==wa)throw new Error("Should not already be working.");var h=a.callbackNode,v=Ed();if(v&&a.callbackNode!==h)return null;var w=ad(a,a===Xo?xa:qe);if(w===qe)return null;var T=!Dm(a,w)&&!_C(a,w)&&!u,A=T?eOe(a,w):v_(a,w);if(A!==xd){if(A===ag){var L=Gc(a);L!==qe&&(w=L,A=H$(a,L))}if(A===Aw){var z=Ow;throw sg(a,qe),lh(a,w),Bs(a,Xr()),z}if(A===M$)lh(a,w);else{var Z=!Dm(a,w),J=a.current.alternate;if(Z&&!G6e(J)){if(A=v_(a,w),A===ag){var ve=Gc(a);ve!==qe&&(w=ve,A=H$(a,ve))}if(A===Aw){var me=Ow;throw sg(a,qe),lh(a,w),Bs(a,Xr()),me}}a.finishedWork=J,a.finishedLanes=w,W6e(a,A,w)}}return Bs(a,Xr()),a.callbackNode===h?pY.bind(null,a):null}function H$(a,u){var h=Iw;if(hv(a)){var v=sg(a,u);v.flags|=si,f4e(a.containerInfo)}var w=v_(a,u);if(w!==ag){var T=zs;zs=h,T!==null&&hY(T)}return w}function hY(a){zs===null?zs=a:zs.push.apply(zs,a)}function W6e(a,u,h){switch(u){case xd:case Aw:throw new Error("Root did not complete. This is a bug in React.");case ag:{ug(a,zs,Sd);break}case u_:{if(lh(a,h),SC(h)&&!RY()){var v=F$+lY-Xr();if(v>10){var w=ad(a,qe);if(w!==qe)break;var T=a.suspendedLanes;if(!od(T,h)){Qo(),fv(a,T);break}a.timeoutHandle=z6(ug.bind(null,a,zs,Sd),v);break}}ug(a,zs,Sd);break}case Dw:{if(lh(a,h),EC(h))break;if(!RY()){var A=bC(a,h),L=A,z=Xr()-L,Z=fOe(z)-z;if(Z>10){a.timeoutHandle=z6(ug.bind(null,a,zs,Sd),Z);break}}ug(a,zs,Sd);break}case uY:{ug(a,zs,Sd);break}default:throw new Error("Unknown root exit status.")}}function G6e(a){for(var u=a;;){if(u.flags&xm){var h=u.updateQueue;if(h!==null){var v=h.stores;if(v!==null)for(var w=0;w<v.length;w++){var T=v[w],A=T.getSnapshot,L=T.value;try{if(!Ht(A(),L))return!1}catch{return!1}}}}var z=u.child;if(u.subtreeFlags&xm&&z!==null){z.return=u,u=z;continue}if(u===a)return!0;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}return!0}function lh(a,u){u=Om(u,c_),u=Om(u,$w),NC(a,u)}function mY(a){if(lDe(),(jn&(to|ul))!==wa)throw new Error("Should not already be working.");Ed();var u=ad(a,qe);if(!To(u,Kt))return Bs(a,Xr()),null;var h=v_(a,u);if(a.tag!==Xp&&h===ag){var v=Gc(a);v!==qe&&(u=v,h=H$(a,v))}if(h===Aw){var w=Ow;throw sg(a,qe),lh(a,u),Bs(a,Xr()),w}if(h===M$)throw new Error("Root did not complete. This is a bug in React.");var T=a.current.alternate;return a.finishedWork=T,a.finishedLanes=u,ug(a,zs,Sd),Bs(a,Xr()),null}function K6e(a,u){u!==qe&&(Rb(a,yn(u,Kt)),Bs(a,Xr()),(jn&(to|ul))===wa&&(Pw(),Qp()))}function W$(a,u){var h=jn;jn|=sY;try{return a(u)}finally{jn=h,jn===wa&&!ic.isBatchingLegacy&&(Pw(),dK())}}function q6e(a,u,h,v,w){var T=$s(),A=eo.transition;try{return eo.transition=null,ui(Si),a(u,h,v,w)}finally{ui(T),eo.transition=A,jn===wa&&Pw()}}function Cd(a){sh!==null&&sh.tag===Xp&&(jn&(to|ul))===wa&&Ed();var u=jn;jn|=sY;var h=eo.transition,v=$s();try{return eo.transition=null,ui(Si),a?a():void 0}finally{ui(v),eo.transition=h,jn=u,(jn&(to|ul))===wa&&Qp()}}function gY(){return(jn&(to|ul))!==wa}function g_(a,u){Ro(L$,sf,a),sf=yn(sf,u)}function G$(a){sf=L$.current,No(L$,a)}function sg(a,u){a.finishedWork=null,a.finishedLanes=qe;var h=a.timeoutHandle;if(h!==B6&&(a.timeoutHandle=B6,xAe(h)),Ei!==null)for(var v=Ei.return;v!==null;){var w=v.alternate;Wq(w,v),v=v.return}Xo=a;var T=lg(a.current,null);return Ei=T,xa=sf=u,Sa=xd,Ow=null,l_=qe,$w=qe,c_=qe,Iw=null,zs=null,U4e(),Zl.discardPendingWarnings(),T}function vY(a,u){do{var h=Ei;try{if(TE(),zK(),Br(),P$.current=null,h===null||h.return===null){Sa=Aw,Ow=u,Ei=null;return}if(Qe&&h.mode&cn&&t_(h,!0),at)if(Co(),u!==null&&typeof u=="object"&&typeof u.then=="function"){var v=u;ed(h,v,xa)}else Em(h,u,xa);yDe(a,h.return,h,u,xa),xY(h)}catch(w){u=w,Ei===h&&h!==null?(h=h.return,Ei=h):h=Ei;continue}return}while(!0)}function yY(){var a=I$.current;return I$.current=ZE,a===null?ZE:a}function bY(a){I$.current=a}function Y6e(){F$=Xr()}function Vw(a){l_=yn(a,l_)}function Z6e(){Sa===xd&&(Sa=u_)}function K$(){(Sa===xd||Sa===u_||Sa===ag)&&(Sa=Dw),Xo!==null&&(Am(l_)||Am($w))&&lh(Xo,xa)}function X6e(a){Sa!==Dw&&(Sa=ag),Iw===null?Iw=[a]:Iw.push(a)}function Q6e(){return Sa===xd}function v_(a,u){var h=jn;jn|=to;var v=yY();if(Xo!==a||xa!==u){if(Ko){var w=a.memoizedUpdaters;w.size>0&&(jw(a,xa),w.clear()),Ab(a,u)}Sd=Im(),sg(a,u)}Gr(u);do try{J6e();break}catch(T){vY(a,T)}while(!0);if(TE(),jn=h,bY(v),Ei!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return G0(),Xo=null,xa=qe,Sa}function J6e(){for(;Ei!==null;)wY(Ei)}function eOe(a,u){var h=jn;jn|=to;var v=yY();if(Xo!==a||xa!==u){if(Ko){var w=a.memoizedUpdaters;w.size>0&&(jw(a,xa),w.clear()),Ab(a,u)}Sd=Im(),Pw(),sg(a,u)}Gr(u);do try{tOe();break}catch(T){vY(a,T)}while(!0);return TE(),bY(v),jn=h,Ei!==null?(W0(),xd):(G0(),Xo=null,xa=qe,Sa)}function tOe(){for(;Ei!==null&&!V0();)wY(Ei)}function wY(a){var u=a.alternate;Yn(a);var h;(a.mode&cn)!==zt?(ZO(a),h=q$(u,a,sf),t_(a,!0)):h=q$(u,a,sf),Br(),a.memoizedProps=a.pendingProps,h===null?xY(a):Ei=h,P$.current=null}function xY(a){var u=a;do{var h=u.alternate,v=u.return;if((u.flags&Ho)===Yt){Yn(u);var w=void 0;if((u.mode&cn)===zt?w=Hq(h,u,sf):(ZO(u),w=Hq(h,u,sf),t_(u,!1)),Br(),w!==null){Ei=w;return}}else{var T=ZDe(h,u);if(T!==null){T.flags&=uC,Ei=T;return}if((u.mode&cn)!==zt){t_(u,!1);for(var A=u.actualDuration,L=u.child;L!==null;)A+=L.actualDuration,L=L.sibling;u.actualDuration=A}if(v!==null)v.flags|=Ho,v.subtreeFlags=Yt,v.deletions=null;else{Sa=M$,Ei=null;return}}var z=u.sibling;if(z!==null){Ei=z;return}u=v,Ei=u}while(u!==null);Sa===xd&&(Sa=uY)}function ug(a,u,h){var v=$s(),w=eo.transition;try{eo.transition=null,ui(Si),nOe(a,u,h,v)}finally{eo.transition=w,ui(v)}return null}function nOe(a,u,h,v){do Ed();while(sh!==null);if(pOe(),(jn&(to|ul))!==wa)throw new Error("Should not already be working.");var w=a.finishedWork,T=a.finishedLanes;if(Uc(T),w===null)return B0(),null;if(T===qe&&s("root.finishedLanes should not be empty during a commit. This is a bug in React."),a.finishedWork=null,a.finishedLanes=qe,w===a.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");a.callbackNode=null,a.callbackPriority=Ai;var A=yn(w.lanes,w.childLanes);dv(a,A),a===Xo&&(Xo=null,Ei=null,xa=qe),((w.subtreeFlags&Ns)!==Yt||(w.flags&Ns)!==Yt)&&(og||(og=!0,z$=h,X$(Qu,function(){return Ed(),null})));var L=(w.subtreeFlags&(yp|xo|Oa|Ns))!==Yt,z=(w.flags&(yp|xo|Oa|Ns))!==Yt;if(L||z){var Z=eo.transition;eo.transition=null;var J=$s();ui(Si);var ve=jn;jn|=ul,P$.current=null,t6e(a,w),dq(),m6e(a,w,T),hAe(a.containerInfo),a.current=w,xb(T),g6e(w,a,T),Cp(),fC(),jn=ve,ui(J),eo.transition=Z}else a.current=w,dq();var me=og;if(og?(og=!1,sh=a,Mw=T):(ay=0,p_=null),A=a.pendingLanes,A===qe&&(iy=null),me||_Y(a.current,!1),wp(w.stateNode,v),Ko&&a.memoizedUpdaters.clear(),P6e(),Bs(a,Xr()),u!==null)for(var Ne=a.onRecoverableError,Oe=0;Oe<u.length;Oe++){var Le=u[Oe],St=Le.stack,Xt=Le.digest;Ne(Le.value,{componentStack:St,digest:Xt})}if(f_){f_=!1;var Wt=V$;throw V$=null,Wt}return To(Mw,Kt)&&a.tag!==Xp&&Ed(),A=a.pendingLanes,To(A,Kt)?(sDe(),a===B$?Lw++:(Lw=0,B$=a)):Lw=0,Qp(),B0(),null}function Ed(){if(sh!==null){var a=ma(Mw),u=p6(Ju,a),h=eo.transition,v=$s();try{return eo.transition=null,ui(u),iOe()}finally{ui(v),eo.transition=h}}return!1}function rOe(a){j$.push(a),og||(og=!0,X$(Qu,function(){return Ed(),null}))}function iOe(){if(sh===null)return!1;var a=z$;z$=null;var u=sh,h=Mw;if(sh=null,Mw=qe,(jn&(to|ul))!==wa)throw new Error("Cannot flush passive effects while already rendering.");U$=!0,d_=!1,vC(h);var v=jn;jn|=ul,C6e(u.current),b6e(u,u.current,h,a);{var w=j$;j$=[];for(var T=0;T<w.length;T++){var A=w[T];a6e(u,A)}}Sb(),_Y(u.current,!0),jn=v,Qp(),d_?u===p_?ay++:(ay=0,p_=u):ay=0,U$=!1,d_=!1,Ds(u);{var L=u.current.stateNode;L.effectDuration=0,L.passiveEffectDuration=0}return!0}function SY(a){return iy!==null&&iy.has(a)}function aOe(a){iy===null?iy=new Set([a]):iy.add(a)}function oOe(a){f_||(f_=!0,V$=a)}var sOe=oOe;function CY(a,u,h){var v=rg(h,u),w=wq(a,v,Kt),T=eh(a,w,Kt),A=Qo();T!==null&&(sd(T,Kt,A),Bs(T,A))}function Pr(a,u,h){if(QDe(h),zw(!1),a.tag===g){CY(a,a,h);return}var v=null;for(v=u;v!==null;){if(v.tag===g){CY(v,a,h);return}else if(v.tag===p){var w=v.type,T=v.stateNode;if(typeof w.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&!SY(T)){var A=rg(h,a),L=h$(v,A,Kt),z=eh(v,L,Kt),Z=Qo();z!==null&&(sd(z,Kt,Z),Bs(z,Z));return}}v=v.return}s(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,h)}function uOe(a,u,h){var v=a.pingCache;v!==null&&v.delete(u);var w=Qo();fv(a,h),vOe(a),Xo===a&&od(xa,h)&&(Sa===Dw||Sa===u_&&SC(xa)&&Xr()-F$<lY?sg(a,qe):c_=yn(c_,h)),Bs(a,w)}function EY(a,u){u===Ai&&(u=B6e(a));var h=Qo(),v=Vs(a,u);v!==null&&(sd(v,u,h),Bs(v,h))}function lOe(a){var u=a.memoizedState,h=Ai;u!==null&&(h=u.retryLane),EY(a,h)}function cOe(a,u){var h=Ai,v;switch(a.tag){case F:v=a.stateNode;var w=a.memoizedState;w!==null&&(h=w.retryLane);break;case de:v=a.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}v!==null&&v.delete(u),EY(a,h)}function fOe(a){return a<120?120:a<480?480:a<1080?1080:a<1920?1920:a<3e3?3e3:a<4320?4320:F6e(a/1960)*1960}function dOe(){if(Lw>j6e)throw Lw=0,B$=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");ay>z6e&&(ay=0,p_=null,s("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function pOe(){Zl.flushLegacyContextWarning(),Zl.flushPendingUnsafeLifecycleWarnings()}function _Y(a,u){Yn(a),y_(a,wo,O6e),u&&y_(a,Xf,$6e),y_(a,wo,A6e),u&&y_(a,Xf,D6e),Br()}function y_(a,u,h){for(var v=a,w=null;v!==null;){var T=v.subtreeFlags&u;v!==w&&v.child!==null&&T!==Yt?v=v.child:((v.flags&u)!==Yt&&h(v),v.sibling!==null?v=v.sibling:v=w=v.return)}}var b_=null;function TY(a){{if((jn&to)!==wa||!(a.mode&Ut))return;var u=a.tag;if(u!==m&&u!==g&&u!==p&&u!==f&&u!==I&&u!==K&&u!==Y)return;var h=un(a)||"ReactComponent";if(b_!==null){if(b_.has(h))return;b_.add(h)}else b_=new Set([h]);var v=Dr;try{Yn(a),s("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{v?Yn(a):Br()}}}var q$;{var hOe=null;q$=function(a,u,h){var v=IY(hOe,u);try{return Vq(a,u,h)}catch(T){if(T4e()||T!==null&&typeof T=="object"&&typeof T.then=="function")throw T;if(TE(),zK(),Wq(a,u),IY(u,v),u.mode&cn&&ZO(u),Zf(null,Vq,null,a,u,h),u6()){var w=db();typeof w=="object"&&w!==null&&w._suppressLogging&&typeof T=="object"&&T!==null&&!T._suppressLogging&&(T._suppressLogging=!0)}throw T}}}var kY=!1,Y$;Y$=new Set;function mOe(a){if(Yi&&!iDe())switch(a.tag){case f:case I:case Y:{var u=Ei&&un(Ei)||"Unknown",h=u;if(!Y$.has(h)){Y$.add(h);var v=un(a)||"Unknown";s("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",v,u,u)}break}case p:{kY||(s("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),kY=!0);break}}}function jw(a,u){if(Ko){var h=a.memoizedUpdaters;h.forEach(function(v){pv(a,v,u)})}}var Z$={};function X$(a,u){{var h=ic.current;return h!==null?(h.push(u),Z$):F0(a,u)}}function NY(a){if(a!==Z$)return cC(a)}function RY(){return ic.current!==null}function gOe(a){{if(a.mode&Ut){if(!oY())return}else if(!L6e()||jn!==wa||a.tag!==f&&a.tag!==I&&a.tag!==Y)return;if(ic.current===null){var u=Dr;try{Yn(a),s(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,un(a))}finally{u?Yn(a):Br()}}}}function vOe(a){a.tag!==Xp&&oY()&&ic.current===null&&s(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function zw(a){dY=a}var ll=null,oy=null,yOe=function(a){ll=a};function sy(a){{if(ll===null)return a;var u=ll(a);return u===void 0?a:u.current}}function Q$(a){return sy(a)}function J$(a){{if(ll===null)return a;var u=ll(a);if(u===void 0){if(a!=null&&typeof a.render=="function"){var h=sy(a.render);if(a.render!==h){var v={$$typeof:xt,render:h};return a.displayName!==void 0&&(v.displayName=a.displayName),v}}return a}return u.current}}function AY(a,u){{if(ll===null)return!1;var h=a.elementType,v=u.type,w=!1,T=typeof v=="object"&&v!==null?v.$$typeof:null;switch(a.tag){case p:{typeof v=="function"&&(w=!0);break}case f:{(typeof v=="function"||T===Gt)&&(w=!0);break}case I:{(T===xt||T===Gt)&&(w=!0);break}case K:case Y:{(T===rn||T===Gt)&&(w=!0);break}default:return!1}if(w){var A=ll(h);if(A!==void 0&&A===ll(v))return!0}return!1}}function DY(a){{if(ll===null||typeof WeakSet!="function")return;oy===null&&(oy=new WeakSet),oy.add(a)}}var bOe=function(a,u){{if(ll===null)return;var h=u.staleFamilies,v=u.updatedFamilies;Ed(),Cd(function(){eI(a.current,v,h)})}},wOe=function(a,u){{if(a.context!==bu)return;Ed(),Cd(function(){Bw(u,a,null,null)})}};function eI(a,u,h){{var v=a.alternate,w=a.child,T=a.sibling,A=a.tag,L=a.type,z=null;switch(A){case f:case Y:case p:z=L;break;case I:z=L.render;break}if(ll===null)throw new Error("Expected resolveFamily to be set during hot reload.");var Z=!1,J=!1;if(z!==null){var ve=ll(z);ve!==void 0&&(h.has(ve)?J=!0:u.has(ve)&&(A===p?J=!0:Z=!0))}if(oy!==null&&(oy.has(a)||v!==null&&oy.has(v))&&(J=!0),J&&(a._debugNeedsRemount=!0),J||Z){var me=Vs(a,Kt);me!==null&&Ca(me,a,Kt,Tr)}w!==null&&!J&&eI(w,u,h),T!==null&&eI(T,u,h)}}var xOe=function(a,u){{var h=new Set,v=new Set(u.map(function(w){return w.current}));return tI(a.current,v,h),h}};function tI(a,u,h){{var v=a.child,w=a.sibling,T=a.tag,A=a.type,L=null;switch(T){case f:case Y:case p:L=A;break;case I:L=A.render;break}var z=!1;L!==null&&u.has(L)&&(z=!0),z?SOe(a,h):v!==null&&tI(v,u,h),w!==null&&tI(w,u,h)}}function SOe(a,u){{var h=COe(a,u);if(h)return;for(var v=a;;){switch(v.tag){case x:u.add(v.stateNode);return;case y:u.add(v.stateNode.containerInfo);return;case g:u.add(v.stateNode.containerInfo);return}if(v.return===null)throw new Error("Expected to reach root first.");v=v.return}}}function COe(a,u){for(var h=a,v=!1;;){if(h.tag===x)v=!0,u.add(h.stateNode);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)return v;for(;h.sibling===null;){if(h.return===null||h.return===a)return v;h=h.return}h.sibling.return=h.return,h=h.sibling}return!1}var nI;{nI=!1;try{var OY=Object.preventExtensions({})}catch{nI=!0}}function EOe(a,u,h,v){this.tag=a,this.key=h,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=u,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=v,this.flags=Yt,this.subtreeFlags=Yt,this.deletions=null,this.lanes=qe,this.childLanes=qe,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!nI&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var wu=function(a,u,h,v){return new EOe(a,u,h,v)};function rI(a){var u=a.prototype;return!!(u&&u.isReactComponent)}function _Oe(a){return typeof a=="function"&&!rI(a)&&a.defaultProps===void 0}function TOe(a){if(typeof a=="function")return rI(a)?p:f;if(a!=null){var u=a.$$typeof;if(u===xt)return I;if(u===rn)return K}return m}function lg(a,u){var h=a.alternate;h===null?(h=wu(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h._debugSource=a._debugSource,h._debugOwner=a._debugOwner,h._debugHookTypes=a._debugHookTypes,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=Yt,h.subtreeFlags=Yt,h.deletions=null,h.actualDuration=0,h.actualStartTime=-1),h.flags=a.flags&pa,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue;var v=a.dependencies;switch(h.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.selfBaseDuration=a.selfBaseDuration,h.treeBaseDuration=a.treeBaseDuration,h._debugNeedsRemount=a._debugNeedsRemount,h.tag){case m:case f:case Y:h.type=sy(a.type);break;case p:h.type=Q$(a.type);break;case I:h.type=J$(a.type);break}return h}function kOe(a,u){a.flags&=pa|Or;var h=a.alternate;if(h===null)a.childLanes=qe,a.lanes=u,a.child=null,a.subtreeFlags=Yt,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null,a.selfBaseDuration=0,a.treeBaseDuration=0;else{a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=Yt,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type;var v=h.dependencies;a.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},a.selfBaseDuration=h.selfBaseDuration,a.treeBaseDuration=h.treeBaseDuration}return a}function NOe(a,u,h){var v;return a===gE?(v=Ut,u===!0&&(v|=Nn,v|=qo)):v=zt,Ko&&(v|=cn),wu(g,null,null,v)}function iI(a,u,h,v,w,T){var A=m,L=a;if(typeof a=="function")rI(a)?(A=p,L=Q$(L)):L=sy(L);else if(typeof a=="string")A=x;else e:switch(a){case Ra:return ch(h.children,w,T,u);case qn:A=k,w|=Nn,(w&Ut)!==zt&&(w|=qo);break;case oe:return ROe(h,w,T,u);case dn:return AOe(h,w,T,u);case _n:return DOe(h,w,T,u);case fr:return $Y(h,w,T,u);case dr:case zr:case gi:case fa:case or:default:{if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ke:A=O;break e;case wt:A=R;break e;case xt:A=I,L=J$(L);break e;case rn:A=K;break e;case Gt:A=te,L=null;break e}var z="";{(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(z+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Z=v?un(v):null;Z&&(z+=`

Check the render method of \``+Z+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(a==null?a:typeof a)+"."+z))}}var J=wu(A,h,u,w);return J.elementType=a,J.type=L,J.lanes=T,J._debugOwner=v,J}function aI(a,u,h){var v=null;v=a._owner;var w=a.type,T=a.key,A=a.props,L=iI(w,T,A,v,u,h);return L._debugSource=a._source,L._debugOwner=a._owner,L}function ch(a,u,h,v){var w=wu(_,a,v,u);return w.lanes=h,w}function ROe(a,u,h,v){typeof a.id!="string"&&s('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof a.id);var w=wu(P,a,v,u|cn);return w.elementType=oe,w.lanes=h,w.stateNode={effectDuration:0,passiveEffectDuration:0},w}function AOe(a,u,h,v){var w=wu(F,a,v,u);return w.elementType=dn,w.lanes=h,w}function DOe(a,u,h,v){var w=wu(de,a,v,u);return w.elementType=_n,w.lanes=h,w}function $Y(a,u,h,v){var w=wu(xe,a,v,u);w.elementType=fr,w.lanes=h;var T={isHidden:!1};return w.stateNode=T,w}function oI(a,u,h){var v=wu(S,a,null,u);return v.lanes=h,v}function OOe(){var a=wu(x,null,null,zt);return a.elementType="DELETED",a}function $Oe(a){var u=wu(ye,null,null,zt);return u.stateNode=a,u}function sI(a,u,h){var v=a.children!==null?a.children:[],w=wu(y,v,a.key,u);return w.lanes=h,w.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},w}function IY(a,u){return a===null&&(a=wu(m,null,null,zt)),a.tag=u.tag,a.key=u.key,a.elementType=u.elementType,a.type=u.type,a.stateNode=u.stateNode,a.return=u.return,a.child=u.child,a.sibling=u.sibling,a.index=u.index,a.ref=u.ref,a.pendingProps=u.pendingProps,a.memoizedProps=u.memoizedProps,a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.dependencies=u.dependencies,a.mode=u.mode,a.flags=u.flags,a.subtreeFlags=u.subtreeFlags,a.deletions=u.deletions,a.lanes=u.lanes,a.childLanes=u.childLanes,a.alternate=u.alternate,a.actualDuration=u.actualDuration,a.actualStartTime=u.actualStartTime,a.selfBaseDuration=u.selfBaseDuration,a.treeBaseDuration=u.treeBaseDuration,a._debugSource=u._debugSource,a._debugOwner=u._debugOwner,a._debugNeedsRemount=u._debugNeedsRemount,a._debugHookTypes=u._debugHookTypes,a}function IOe(a,u,h,v,w){this.tag=u,this.containerInfo=a,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=B6,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Ai,this.eventTimes=$m(qe),this.expirationTimes=$m(Tr),this.pendingLanes=qe,this.suspendedLanes=qe,this.pingedLanes=qe,this.expiredLanes=qe,this.mutableReadLanes=qe,this.finishedLanes=qe,this.entangledLanes=qe,this.entanglements=$m(qe),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var T=this.pendingUpdatersLaneMap=[],A=0;A<km;A++)T.push(new Set)}switch(u){case gE:this._debugRootType=h?"hydrateRoot()":"createRoot()";break;case Xp:this._debugRootType=h?"hydrate()":"render()";break}}function PY(a,u,h,v,w,T,A,L,z,Z){var J=new IOe(a,u,h,L,z),ve=NOe(u,T);J.current=ve,ve.stateNode=J;{var me={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null};ve.memoizedState=me}return wO(ve),J}var uI="18.3.1";function POe(a,u,h){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return ai(v),{$$typeof:Yr,key:v==null?null:""+v,children:a,containerInfo:u,implementation:h}}var lI,cI;lI=!1,cI={};function MY(a){if(!a)return bu;var u=_s(a),h=v4e(u);if(u.tag===p){var v=u.type;if(Jc(v))return lK(u,v,h)}return h}function MOe(a,u){{var h=_s(a);if(h===void 0){if(typeof a.render=="function")throw new Error("Unable to find node on an unmounted component.");var v=Object.keys(a).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+v)}var w=Rs(h);if(w===null)return null;if(w.mode&Nn){var T=un(h)||"Component";if(!cI[T]){cI[T]=!0;var A=Dr;try{Yn(w),h.mode&Nn?s("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",u,u,T):s("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",u,u,T)}finally{A?Yn(A):Br()}}}return w.stateNode}}function LY(a,u,h,v,w,T,A,L){var z=!1,Z=null;return PY(a,u,z,Z,h,v,w,T,A)}function FY(a,u,h,v,w,T,A,L,z,Z){var J=!0,ve=PY(h,v,J,a,w,T,A,L,z);ve.context=MY(null);var me=ve.current,Ne=Qo(),Oe=uh(me),Le=bd(Ne,Oe);return Le.callback=u??null,eh(me,Le,Oe),U6e(ve,Oe,Ne),ve}function Bw(a,u,h,v){wb(u,a);var w=u.current,T=Qo(),A=uh(w);Cb(A);var L=MY(h);u.context===null?u.context=L:u.pendingContext=L,Yi&&Dr!==null&&!lI&&(lI=!0,s(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,un(Dr)||"Unknown"));var z=bd(T,A);z.payload={element:a},v=v===void 0?null:v,v!==null&&(typeof v!="function"&&s("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",v),z.callback=v);var Z=eh(w,z,A);return Z!==null&&(Ca(Z,w,A,T),DE(Z,w,A)),A}function w_(a){var u=a.current;if(!u.child)return null;switch(u.child.tag){case x:return u.child.stateNode;default:return u.child.stateNode}}function LOe(a){switch(a.tag){case g:{var u=a.stateNode;if(hv(u)){var h=Tb(u);K6e(u,h)}break}case F:{Cd(function(){var w=Vs(a,Kt);if(w!==null){var T=Qo();Ca(w,a,Kt,T)}});var v=Kt;fI(a,v);break}}}function VY(a,u){var h=a.memoizedState;h!==null&&h.dehydrated!==null&&(h.retryLane=kC(h.retryLane,u))}function fI(a,u){VY(a,u);var h=a.alternate;h&&VY(h,u)}function FOe(a){if(a.tag===F){var u=Rm,h=Vs(a,u);if(h!==null){var v=Qo();Ca(h,a,u,v)}fI(a,u)}}function VOe(a){if(a.tag===F){var u=uh(a),h=Vs(a,u);if(h!==null){var v=Qo();Ca(h,a,u,v)}fI(a,u)}}function jY(a){var u=lC(a);return u===null?null:u.stateNode}var zY=function(a){return null};function jOe(a){return zY(a)}var BY=function(a){return!1};function zOe(a){return BY(a)}var UY=null,HY=null,WY=null,GY=null,KY=null,qY=null,YY=null,ZY=null,XY=null;{var QY=function(a,u,h){var v=u[h],w=An(a)?a.slice():gn({},a);return h+1===u.length?(An(w)?w.splice(v,1):delete w[v],w):(w[v]=QY(a[v],u,h+1),w)},JY=function(a,u){return QY(a,u,0)},eZ=function(a,u,h,v){var w=u[v],T=An(a)?a.slice():gn({},a);if(v+1===u.length){var A=h[v];T[A]=T[w],An(T)?T.splice(w,1):delete T[w]}else T[w]=eZ(a[w],u,h,v+1);return T},tZ=function(a,u,h){if(u.length!==h.length){o("copyWithRename() expects paths of the same length");return}else for(var v=0;v<h.length-1;v++)if(u[v]!==h[v]){o("copyWithRename() expects paths to be the same except for the deepest key");return}return eZ(a,u,h,0)},nZ=function(a,u,h,v){if(h>=u.length)return v;var w=u[h],T=An(a)?a.slice():gn({},a);return T[w]=nZ(a[w],u,h+1,v),T},rZ=function(a,u,h){return nZ(a,u,0,h)},dI=function(a,u){for(var h=a.memoizedState;h!==null&&u>0;)h=h.next,u--;return h};UY=function(a,u,h,v){var w=dI(a,u);if(w!==null){var T=rZ(w.memoizedState,h,v);w.memoizedState=T,w.baseState=T,a.memoizedProps=gn({},a.memoizedProps);var A=Vs(a,Kt);A!==null&&Ca(A,a,Kt,Tr)}},HY=function(a,u,h){var v=dI(a,u);if(v!==null){var w=JY(v.memoizedState,h);v.memoizedState=w,v.baseState=w,a.memoizedProps=gn({},a.memoizedProps);var T=Vs(a,Kt);T!==null&&Ca(T,a,Kt,Tr)}},WY=function(a,u,h,v){var w=dI(a,u);if(w!==null){var T=tZ(w.memoizedState,h,v);w.memoizedState=T,w.baseState=T,a.memoizedProps=gn({},a.memoizedProps);var A=Vs(a,Kt);A!==null&&Ca(A,a,Kt,Tr)}},GY=function(a,u,h){a.pendingProps=rZ(a.memoizedProps,u,h),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var v=Vs(a,Kt);v!==null&&Ca(v,a,Kt,Tr)},KY=function(a,u){a.pendingProps=JY(a.memoizedProps,u),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var h=Vs(a,Kt);h!==null&&Ca(h,a,Kt,Tr)},qY=function(a,u,h){a.pendingProps=tZ(a.memoizedProps,u,h),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var v=Vs(a,Kt);v!==null&&Ca(v,a,Kt,Tr)},YY=function(a){var u=Vs(a,Kt);u!==null&&Ca(u,a,Kt,Tr)},ZY=function(a){zY=a},XY=function(a){BY=a}}function BOe(a){var u=Rs(a);return u===null?null:u.stateNode}function UOe(a){return null}function HOe(){return Dr}function WOe(a){var u=a.findFiberByHostInstance,h=n.ReactCurrentDispatcher;return bb({bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:UY,overrideHookStateDeletePath:HY,overrideHookStateRenamePath:WY,overrideProps:GY,overridePropsDeletePath:KY,overridePropsRenamePath:qY,setErrorHandler:ZY,setSuspenseHandler:XY,scheduleUpdate:YY,currentDispatcherRef:h,findHostInstanceByFiber:BOe,findFiberByHostInstance:u||UOe,findHostInstancesForRefresh:xOe,scheduleRefresh:bOe,scheduleRoot:wOe,setRefreshHandler:yOe,getCurrentFiber:HOe,reconcilerVersion:uI})}var iZ=typeof reportError=="function"?reportError:function(a){console.error(a)};function pI(a){this._internalRoot=a}x_.prototype.render=pI.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?s("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S_(arguments[1])?s("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&s("You passed a second argument to root.render(...) but it only accepts one argument.");var h=u.containerInfo;if(h.nodeType!==st){var v=jY(u.current);v&&v.parentNode!==h&&s("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Bw(a,u,null,null)},x_.prototype.unmount=pI.prototype.unmount=function(){typeof arguments[0]=="function"&&s("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;gY()&&s("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Cd(function(){Bw(null,a,null,null)}),iK(u)}};function GOe(a,u){if(!S_(a))throw new Error("createRoot(...): Target container is not a DOM element.");aZ(a);var h=!1,v=!1,w="",T=iZ;u!=null&&(u.hydrate?o("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof u=="object"&&u!==null&&u.$$typeof===Ni&&s(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError),u.transitionCallbacks!==void 0&&u.transitionCallbacks);var A=LY(a,gE,null,h,v,w,T);lE(A.current,a);var L=a.nodeType===st?a.parentNode:a;return qb(L),new pI(A)}function x_(a){this._internalRoot=a}function KOe(a){a&&g6(a)}x_.prototype.unstable_scheduleHydration=KOe;function qOe(a,u,h){if(!S_(a))throw new Error("hydrateRoot(...): Target container is not a DOM element.");aZ(a),u===void 0&&s("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var v=h??null,w=h!=null&&h.hydratedSources||null,T=!1,A=!1,L="",z=iZ;h!=null&&(h.unstable_strictMode===!0&&(T=!0),h.identifierPrefix!==void 0&&(L=h.identifierPrefix),h.onRecoverableError!==void 0&&(z=h.onRecoverableError));var Z=FY(u,null,a,gE,v,T,A,L,z);if(lE(Z.current,a),qb(a),w)for(var J=0;J<w.length;J++){var ve=w[J];Q4e(Z,ve)}return new x_(Z)}function S_(a){return!!(a&&(a.nodeType===Lt||a.nodeType===jt||a.nodeType===pn||!we))}function Uw(a){return!!(a&&(a.nodeType===Lt||a.nodeType===jt||a.nodeType===pn||a.nodeType===st&&a.nodeValue===" react-mount-point-unstable "))}function aZ(a){a.nodeType===Lt&&a.tagName&&a.tagName.toUpperCase()==="BODY"&&s("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),aw(a)&&(a._reactRootContainer?s("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):s("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var YOe=n.ReactCurrentOwner,oZ;oZ=function(a){if(a._reactRootContainer&&a.nodeType!==st){var u=jY(a._reactRootContainer.current);u&&u.parentNode!==a&&s("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var h=!!a._reactRootContainer,v=hI(a),w=!!(v&&Yp(v));w&&!h&&s("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),a.nodeType===Lt&&a.tagName&&a.tagName.toUpperCase()==="BODY"&&s("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function hI(a){return a?a.nodeType===jt?a.documentElement:a.firstChild:null}function sZ(){}function ZOe(a,u,h,v,w){if(w){if(typeof v=="function"){var T=v;v=function(){var me=w_(A);T.call(me)}}var A=FY(u,v,a,Xp,null,!1,!1,"",sZ);a._reactRootContainer=A,lE(A.current,a);var L=a.nodeType===st?a.parentNode:a;return qb(L),Cd(),A}else{for(var z;z=a.lastChild;)a.removeChild(z);if(typeof v=="function"){var Z=v;v=function(){var me=w_(J);Z.call(me)}}var J=LY(a,Xp,null,!1,!1,"",sZ);a._reactRootContainer=J,lE(J.current,a);var ve=a.nodeType===st?a.parentNode:a;return qb(ve),Cd(function(){Bw(u,J,h,v)}),J}}function XOe(a,u){a!==null&&typeof a!="function"&&s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",u,a)}function C_(a,u,h,v,w){oZ(h),XOe(w===void 0?null:w,"render");var T=h._reactRootContainer,A;if(!T)A=ZOe(h,u,a,w,v);else{if(A=T,typeof w=="function"){var L=w;w=function(){var z=w_(A);L.call(z)}}Bw(u,A,a,w)}return w_(A)}var uZ=!1;function QOe(a){{uZ||(uZ=!0,s("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var u=YOe.current;if(u!==null&&u.stateNode!==null){var h=u.stateNode._warnedAboutRefsInRender;h||s("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",kn(u.type)||"A component"),u.stateNode._warnedAboutRefsInRender=!0}}return a==null?null:a.nodeType===Lt?a:MOe(a,"findDOMNode")}function JOe(a,u,h){if(s("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Uw(u))throw new Error("Target container is not a DOM element.");{var v=aw(u)&&u._reactRootContainer===void 0;v&&s("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return C_(null,a,u,!0,h)}function e$e(a,u,h){if(s("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Uw(u))throw new Error("Target container is not a DOM element.");{var v=aw(u)&&u._reactRootContainer===void 0;v&&s("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return C_(null,a,u,!1,h)}function t$e(a,u,h,v){if(s("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Uw(h))throw new Error("Target container is not a DOM element.");if(a==null||!wm(a))throw new Error("parentComponent must be a valid React Component");return C_(a,u,h,!1,v)}var lZ=!1;function n$e(a){if(lZ||(lZ=!0,s("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Uw(a))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var u=aw(a)&&a._reactRootContainer===void 0;u&&s("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(a._reactRootContainer){{var h=hI(a),v=h&&!Yp(h);v&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Cd(function(){C_(null,null,a,!1,function(){a._reactRootContainer=null,iK(a)})}),!0}else{{var w=hI(a),T=!!(w&&Yp(w)),A=a.nodeType===Lt&&Uw(a.parentNode)&&!!a.parentNode._reactRootContainer;T&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",A?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}Pp(LOe),h6(FOe),gv(VOe),AC($s),DC(Pa),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&s("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),oC(iAe),$0(W$,q6e,Cd);function r$e(a,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!S_(u))throw new Error("Target container is not a DOM element.");return POe(a,u,null,h)}function i$e(a,u,h,v){return t$e(a,u,h,v)}var mI={usingClientEntryPoint:!1,Events:[Yp,Fv,cE,O0,vm,W$]};function a$e(a,u){return mI.usingClientEntryPoint||s('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),GOe(a,u)}function o$e(a,u,h){return mI.usingClientEntryPoint||s('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),qOe(a,u,h)}function s$e(a){return gY()&&s("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Cd(a)}var u$e=WOe({findFiberByHostInstance:qm,bundleType:1,version:uI,rendererPackageName:"react-dom"});if(!u$e&&At&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var cZ=window.location.protocol;/^(https?|file):$/.test(cZ)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(cZ==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mI,ns.createPortal=r$e,ns.createRoot=a$e,ns.findDOMNode=QOe,ns.flushSync=s$e,ns.hydrate=JOe,ns.hydrateRoot=o$e,ns.render=e$e,ns.unmountComponentAtNode=n$e,ns.unstable_batchedUpdates=W$,ns.unstable_renderSubtreeIntoContainer=i$e,ns.version=uI,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),ns}function kI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function")){if(process.env.NODE_ENV!=="production")throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kI)}catch(t){console.error(t)}}}process.env.NODE_ENV==="production"?(kI(),T_.exports=bZ()):T_.exports=wZ();var lf=T_.exports;const xZ=cg(lf);var R_,Gw=lf;if(process.env.NODE_ENV==="production")R_=Gw.createRoot,Gw.hydrateRoot;else{var NI=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;R_=function(t,e){NI.usingClientEntryPoint=!0;try{return Gw.createRoot(t,e)}finally{NI.usingClientEntryPoint=!1}}}var py={},hy=j;function SZ(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Kw=SZ(hy);function CZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EZ(t,e,n){return CZ(t.prototype,e),t}var qw=typeof process<"u"&&process.env&&process.env.NODE_ENV==="production",A_=function(t){return Object.prototype.toString.call(t)==="[object String]"},_Z=function(){function t(n){var r=n===void 0?{}:n,i=r.name,o=i===void 0?"stylesheet":i,s=r.optimizeForSpeed,l=s===void 0?qw:s;cf(A_(o),"`name` must be a string"),this._name=o,this._deletedRulePlaceholder="#"+o+"-deleted-rule____{}",cf(typeof l=="boolean","`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var f=typeof window<"u"&&document.querySelector('meta[property="csp-nonce"]');this._nonce=f?f.getAttribute("content"):null}var e=t.prototype;return e.setOptimizeForSpeed=function(r){cf(typeof r=="boolean","`setOptimizeForSpeed` accepts a boolean"),cf(this._rulesCount===0,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=r,this.inject()},e.isOptimizeForSpeed=function(){return this._optimizeForSpeed},e.inject=function(){var r=this;if(cf(!this._injected,"sheet already injected"),this._injected=!0,typeof window<"u"&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(qw||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(i,o){return typeof o=="number"?r._serverSheet.cssRules[o]={cssText:i}:r._serverSheet.cssRules.push({cssText:i}),o},deleteRule:function(i){r._serverSheet.cssRules[i]=null}}},e.getSheetForTag=function(r){if(r.sheet)return r.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===r)return document.styleSheets[i]},e.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},e.insertRule=function(r,i){if(cf(A_(r),"`insertRule` accepts only strings"),typeof window>"u")return typeof i!="number"&&(i=this._serverSheet.cssRules.length),this._serverSheet.insertRule(r,i),this._rulesCount++;if(this._optimizeForSpeed){var o=this.getSheet();typeof i!="number"&&(i=o.cssRules.length);try{o.insertRule(r,i)}catch{return qw||console.warn(`StyleSheet: illegal rule: 

`+r+`

See https://stackoverflow.com/q/20007992 for more info`),-1}}else{var s=this._tags[i];this._tags.push(this.makeStyleTag(this._name,r,s))}return this._rulesCount++},e.replaceRule=function(r,i){if(this._optimizeForSpeed||typeof window>"u"){var o=typeof window<"u"?this.getSheet():this._serverSheet;if(i.trim()||(i=this._deletedRulePlaceholder),!o.cssRules[r])return r;o.deleteRule(r);try{o.insertRule(i,r)}catch{qw||console.warn(`StyleSheet: illegal rule: 

`+i+`

See https://stackoverflow.com/q/20007992 for more info`),o.insertRule(this._deletedRulePlaceholder,r)}}else{var s=this._tags[r];cf(s,"old rule at index `"+r+"` not found"),s.textContent=i}return r},e.deleteRule=function(r){if(typeof window>"u"){this._serverSheet.deleteRule(r);return}if(this._optimizeForSpeed)this.replaceRule(r,"");else{var i=this._tags[r];cf(i,"rule at index `"+r+"` not found"),i.parentNode.removeChild(i),this._tags[r]=null}},e.flush=function(){this._injected=!1,this._rulesCount=0,typeof window<"u"?(this._tags.forEach(function(r){return r&&r.parentNode.removeChild(r)}),this._tags=[]):this._serverSheet.cssRules=[]},e.cssRules=function(){var r=this;return typeof window>"u"?this._serverSheet.cssRules:this._tags.reduce(function(i,o){return o?i=i.concat(Array.prototype.map.call(r.getSheetForTag(o).cssRules,function(s){return s.cssText===r._deletedRulePlaceholder?null:s})):i.push(null),i},[])},e.makeStyleTag=function(r,i,o){i&&cf(A_(i),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+r,""),i&&s.appendChild(document.createTextNode(i));var l=document.head||document.getElementsByTagName("head")[0];return o?l.insertBefore(s,o):l.appendChild(s),s},EZ(t,[{key:"length",get:function(){return this._rulesCount}}]),t}();function cf(t,e){if(!t)throw new Error("StyleSheet: "+e+".")}function TZ(t){for(var e=5381,n=t.length;n;)e=e*33^t.charCodeAt(--n);return e>>>0}var kZ=TZ,NZ=function(t){return t.replace(/\/style/gi,"\\/style")},fg={};function D_(t,e){if(!e)return"jsx-"+t;var n=String(e),r=t+n;return fg[r]||(fg[r]="jsx-"+kZ(t+"-"+n)),fg[r]}function RI(t,e){var n=/__jsx-style-dynamic-selector/g;typeof window>"u"&&(e=NZ(e));var r=t+e;return fg[r]||(fg[r]=e.replace(n,t)),fg[r]}function RZ(t,e){return e===void 0&&(e={}),t.map(function(n){var r=n[0],i=n[1];return Kw.default.createElement("style",{id:"__"+r,key:"__"+r,nonce:e.nonce?e.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})}var AZ=function(){function t(n){var r=n===void 0?{}:n,i=r.styleSheet,o=i===void 0?null:i,s=r.optimizeForSpeed,l=s===void 0?!1:s;this._sheet=o||new _Z({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),o&&typeof l=="boolean"&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var e=t.prototype;return e.add=function(r){var i=this;this._optimizeForSpeed===void 0&&(this._optimizeForSpeed=Array.isArray(r.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),typeof window<"u"&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(p,m){return p[m]=0,p},{}));var o=this.getIdAndRules(r),s=o.styleId,l=o.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var f=l.map(function(p){return i._sheet.insertRule(p)}).filter(function(p){return p!==-1});this._indices[s]=f,this._instancesCounts[s]=1},e.remove=function(r){var i=this,o=this.getIdAndRules(r).styleId;if(DZ(o in this._instancesCounts,"styleId: `"+o+"` not found"),this._instancesCounts[o]-=1,this._instancesCounts[o]<1){var s=this._fromServer&&this._fromServer[o];s?(s.parentNode.removeChild(s),delete this._fromServer[o]):(this._indices[o].forEach(function(l){return i._sheet.deleteRule(l)}),delete this._indices[o]),delete this._instancesCounts[o]}},e.update=function(r,i){this.add(i),this.remove(r)},e.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},e.cssRules=function(){var r=this,i=this._fromServer?Object.keys(this._fromServer).map(function(s){return[s,r._fromServer[s]]}):[],o=this._sheet.cssRules();return i.concat(Object.keys(this._indices).map(function(s){return[s,r._indices[s].map(function(l){return o[l].cssText}).join(r._optimizeForSpeed?"":`
`)]}).filter(function(s){return!!s[1]}))},e.styles=function(r){return RZ(this.cssRules(),r)},e.getIdAndRules=function(r){var i=r.children,o=r.dynamic,s=r.id;if(o){var l=D_(s,o);return{styleId:l,rules:Array.isArray(i)?i.map(function(f){return RI(l,f)}):[RI(l,i)]}}return{styleId:D_(s),rules:Array.isArray(i)?i:[i]}},e.selectFromServer=function(){var r=Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]'));return r.reduce(function(i,o){var s=o.id.slice(2);return i[s]=o,i},{})},t}();function DZ(t,e){if(!t)throw new Error("StyleSheetRegistry: "+e+".")}var Yw=hy.createContext(null);Yw.displayName="StyleSheetContext";function O_(){return new AZ}function OZ(t){var e=t.registry,n=t.children,r=hy.useContext(Yw),i=hy.useState(function(){return r||e||O_()}),o=i[0];return Kw.default.createElement(Yw.Provider,{value:o},n)}function AI(){return hy.useContext(Yw)}var $Z=Kw.default.useInsertionEffect||Kw.default.useLayoutEffect,DI=typeof window<"u"?O_():void 0;function OI(t){var e=DI||AI();return e?typeof window>"u"?(e.add(t),null):($Z(function(){return e.add(t),function(){e.remove(t)}},[t.id,String(t.dynamic)]),null):null}OI.dynamic=function(t){return t.map(function(e){var n=e[0],r=e[1];return D_(n,r)}).join(" ")},py.StyleRegistry=OZ,py.createStyleRegistry=O_,py.style=OI,py.useStyleRegistry=AI;var IZ=py.style;const ei=cg(IZ);function $I(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$I(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$I(t))&&(r&&(r+=" "),r+=e);return r}function II(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function PI(...t){return e=>{let n=!1;const r=t.map(i=>{const o=II(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():II(t[i],null)}}}}function ti(...t){return j.useCallback(PI(...t),t)}var ff=j.forwardRef((t,e)=>{const{children:n,...r}=t,i=j.Children.toArray(n),o=i.find(PZ);if(o){const s=o.props.children,l=i.map(f=>f===o?j.Children.count(s)>1?j.Children.only(null):j.isValidElement(s)?s.props.children:null:f);return B.jsx($_,{...r,ref:e,children:j.isValidElement(s)?j.cloneElement(s,void 0,l):null})}return B.jsx($_,{...r,ref:e,children:n})});ff.displayName="Slot";var $_=j.forwardRef((t,e)=>{const{children:n,...r}=t;if(j.isValidElement(n)){const i=LZ(n);return j.cloneElement(n,{...MZ(r,n.props),ref:e?PI(e,i):i})}return j.Children.count(n)>1?j.Children.only(null):null});$_.displayName="SlotClone";var MI=({children:t})=>B.jsx(B.Fragment,{children:t});function PZ(t){return j.isValidElement(t)&&t.type===MI}function MZ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{o(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function LZ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Q={colors:{primary:{light:"#6366f1",main:"#4f46e5",dark:"#4338ca",text:"#fff"},destructive:{light:"#ef4444",main:"#dc2626",dark:"#b91c1c",text:"#fff"},accent:{light:"#d3d3d3",main:"#a3a3a3",dark:"#5c5c5c",text:"#000"},success:{light:"#22c55e",main:"#16a34a",dark:"#15803d",text:"#fff"},info:{light:"#0ea5e9",main:"#0284c7",dark:"#0369a1",text:"#fff"},warning:{light:"#f59e0b",main:"#d97706",dark:"#b45309",text:"#fff"},background:{light:"#f5f5f5",main:"#eaeaea",dark:"#d6d6d6",text:"#000"},borders:{input:"#e1e4ea"},core:{black:"#0a0d14",white:"#ffffff"},text:{muted:"#969696"}},resetCSS:`
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    * {
      margin: 0;
    }

    body {
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }

    img,
    picture,
    video,
    canvas,
    svg {
      display: block;
      max-width: 100%;
    }

    input,
    button,
    textarea,
    select {
      font: inherit;
    }

    p,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      overflow-wrap: break-word;
    }

    p {
      text-wrap: pretty;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      text-wrap: balance;
    }
  `,fonts:{default:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Helvetica Neue","Arial","sans-serif"].join(", ")},screens:{xxs:320,xs:420,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},shadow(t){const e=t||Q.alpha(this.colors.core.black,.05),n=t||Q.alpha(this.colors.core.black,.25);return{xs:`0px 1px 2px 0px ${e}`,sm:`0 1px 3px 0px ${e}, 0 1px 2px -1px ${e}`,md:`0 4px 6px -1px ${e}, 0 2px 4px -2px ${e}`,lg:`0 10px 15px -3px ${e}, 0 4px 6px -4px ${e}`,xl:`0 20px 25px -5px ${e}, 0 8px 10px -6px ${e}`,"2xl":`0 25px 50px -12px ${n}`,inner:`inset 0 2px 4px 0 ${e}`}},space(t){return t*4+"px"},ring(t){var o,s,l,f;const e=((o=t==null?void 0:t.ring)==null?void 0:o.width)||2,n=((s=t==null?void 0:t.offset)==null?void 0:s.width)||0,r=((l=t==null?void 0:t.offset)==null?void 0:l.color)||this.colors.core.white,i=((f=t==null?void 0:t.ring)==null?void 0:f.color)||this.alpha(this.colors.borders.input,.75);return`0 0 0 ${n}px ${r}, 0 0 0 ${e+n}px ${i}`},alpha(t,e){if(!/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/.test(t))throw new Error("Invalid HEX color format");t.length===4&&(t=`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`);const n=Math.min(1,Math.max(0,e)),r=Math.round(n*255).toString(16).padStart(2,"0");return`${t}${r}`},createStyles(t){return t},zIndex:t=>9999+t},LI={styles:B.jsx(ei,{id:"1927001424",children:["@property --gradient-form{syntax:'<color>';initial-value:rgba(255,255,255,0.2);inherits:false;}","*.jsx-1927001424,*.jsx-1927001424::before,*.jsx-1927001424::after{box-sizing:border-box;}","*.jsx-1927001424{margin:0;}","button.jsx-1927001424{font:inherit;}",`.button.jsx-1927001424{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:${Q.space(3)};border:1px solid;border-image-source:linear-gradient(180deg,rgba(255,255,255,0.15) 0%,rgba(255,255,255,0) 100%);background-image:linear-gradient(to bottom,var(--gradient-form),rgba(255,255,255,0));cursor:pointer;font-weight:500;font-family:${Q.fonts.default};-webkit-transition:--gradient-form 200ms ease-in-out;transition:--gradient-form 200ms ease-in-out;}`,".button.jsx-1927001424:hover{--gradient-form:rgba(255,255,255,0.3);}",`.button.primary.jsx-1927001424{color:${Q.colors.primary.text};background-color:${Q.colors.primary.main};box-shadow:0px 0px 0px 1px ${Q.colors.primary.main},0px 1px 2px 0px rgb(15,20,30,0.25);}`,`.button.error.jsx-1927001424{color:${Q.colors.destructive.text};background-color:${Q.colors.destructive.main};box-shadow:0px 0px 0px 1px ${Q.colors.destructive.main},0px 1px 2px 0px rgb(15,20,30,0.25);}`,`.button.accent.jsx-1927001424{color:${Q.colors.accent.text};background-color:${Q.colors.accent.light};box-shadow:0px 0px 0px 1px ${Q.colors.accent.light},0px 1px 2px 0px rgb(15,20,30,0.25);}`,`.button.success.jsx-1927001424{color:${Q.colors.success.text};background-color:${Q.colors.success.main};box-shadow:0px 0px 0px 1px ${Q.colors.success.main},0px 1px 2px 0px rgb(15,20,30,0.25);}`,`.button.warning.jsx-1927001424{color:${Q.colors.warning.text};background-color:${Q.colors.warning.main};box-shadow:0px 0px 0px 1px ${Q.colors.warning.main},0px 1px 2px 0px rgb(15,20,30,0.25);}`,`.button.info.jsx-1927001424{color:${Q.colors.info.text};background-color:${Q.colors.info.main};box-shadow:0px 0px 0px 1px ${Q.colors.info.main},0px 1px 2px 0px rgb(15,20,30,0.25);}`,".button.jsx-1927001424:focus{outline:none;}",`.button.primary.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.primary.main,.5)}})};}`,`.button.error.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.destructive.main,.5)}})};}`,`.button.accent.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.accent.light,.5)}})};}`,`.button.success.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.success.main,.5)}})};}`,`.button.warning.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.warning.main,.5)}})};}`,`.button.info.jsx-1927001424:focus{box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.info.main,.5)}})};}`,`.button.large.jsx-1927001424{padding-left:${Q.space(5.5)};padding-right:${Q.space(5.5)};border-radius:${Q.space(3)};height:${Q.space(11)};font-size:15px;}`,`.button.medium.jsx-1927001424{padding-left:${Q.space(5)};padding-right:${Q.space(5)};border-radius:${Q.space(2.5)};height:${Q.space(10)};font-size:14px;}`,`.button.small.jsx-1927001424{padding-left:${Q.space(4.5)};padding-right:${Q.space(4.5)};height:${Q.space(9)};border-radius:${Q.space(2)};font-size:14px;}`]}),className:"jsx-1927001424"},I_=j.forwardRef(({asChild:t,children:e,variant:n="primary",size:r="medium",className:i,...o},s)=>{const l=t?ff:"button";return B.jsxs(j.Fragment,{children:[LI.styles,B.jsx(l,{ref:s,className:Je(LI.className,"button",n,r,i),...o,children:e})]})}),Zw=[".icon.jsx-3041074246{z-index:10;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;position:relative;}",`.icon.medium.jsx-3041074246{width:${Q.space(5)};height:${Q.space(5)};margin-inline:-4px;}`,`.icon.small.jsx-3041074246{width:${Q.space(4)};height:${Q.space(4)};margin-inline:-4px;}`,`.icon.xsmall.jsx-3041074246{width:${Q.space(6)};height:${Q.space(6)};margin-inline:-4px;}`];Zw.__hash="3041074246";function FI({className:t,size:e="medium",as:n="div",...r}){return B.jsxs(j.Fragment,{children:[B.jsx(ei,{id:Zw.__hash,children:Zw}),B.jsx(n,{...r,className:`jsx-${Zw.__hash} `+(r&&r.className!=null&&r.className||Je("icon",e,t)||"")})]})}I_.Icon=FI,I_.displayName="Button",FI.displayName="ButtonIcon";function VI(t,[e,n]){return Math.min(n,Math.max(e,t))}function Cn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function df(t,e=[]){let n=[];function r(o,s){const l=j.createContext(s),f=n.length;n=[...n,s];const p=g=>{var R;const{scope:y,children:x,...S}=g,_=((R=y==null?void 0:y[t])==null?void 0:R[f])||l,k=j.useMemo(()=>S,Object.values(S));return B.jsx(_.Provider,{value:k,children:x})};p.displayName=o+"Provider";function m(g,y){var _;const x=((_=y==null?void 0:y[t])==null?void 0:_[f])||l,S=j.useContext(x);if(S)return S;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[p,m]}const i=()=>{const o=n.map(s=>j.createContext(s));return function(l){const f=(l==null?void 0:l[t])||o;return j.useMemo(()=>({[`__scope${t}`]:{...l,[t]:f}}),[l,f])}};return i.scopeName=t,[r,FZ(i,...e)]}function FZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((l,{useScope:f,scopeName:p})=>{const g=f(o)[`__scope${p}`];return{...l,...g}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function jI(t){const e=t+"CollectionProvider",[n,r]=df(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:S,children:_}=x,k=W.useRef(null),R=W.useRef(new Map).current;return B.jsx(i,{scope:S,itemMap:R,collectionRef:k,children:_})};s.displayName=e;const l=t+"CollectionSlot",f=W.forwardRef((x,S)=>{const{scope:_,children:k}=x,R=o(l,_),O=ti(S,R.collectionRef);return B.jsx(ff,{ref:O,children:k})});f.displayName=l;const p=t+"CollectionItemSlot",m="data-radix-collection-item",g=W.forwardRef((x,S)=>{const{scope:_,children:k,...R}=x,O=W.useRef(null),I=ti(S,O),P=o(p,_);return W.useEffect(()=>(P.itemMap.set(O,{ref:O,...R}),()=>void P.itemMap.delete(O))),B.jsx(ff,{[m]:"",ref:I,children:k})});g.displayName=p;function y(x){const S=o(t+"CollectionConsumer",x);return W.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const R=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((P,F)=>R.indexOf(P.ref.current)-R.indexOf(F.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:f,ItemSlot:g},y,r]}var VZ=j.createContext(void 0);function Xw(t){const e=j.useContext(VZ);return t||e||"ltr"}var jZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Gn=jZ.reduce((t,e)=>{const n=j.forwardRef((r,i)=>{const{asChild:o,...s}=r,l=o?ff:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(l,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function zZ(t,e){t&&lf.flushSync(()=>t.dispatchEvent(e))}function oc(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BZ(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UZ="DismissableLayer",P_="dismissableLayer.update",HZ="dismissableLayer.pointerDownOutside",WZ="dismissableLayer.focusOutside",zI,BI=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qw=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:l,...f}=t,p=j.useContext(BI),[m,g]=j.useState(null),y=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=j.useState({}),S=ti(e,Y=>g(Y)),_=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=_.indexOf(k),O=m?_.indexOf(m):-1,I=p.layersWithOutsidePointerEventsDisabled.size>0,P=O>=R,F=qZ(Y=>{const te=Y.target,fe=[...p.branches].some(ye=>ye.contains(te));!P||fe||(i==null||i(Y),s==null||s(Y),Y.defaultPrevented||l==null||l())},y),K=YZ(Y=>{const te=Y.target;[...p.branches].some(ye=>ye.contains(te))||(o==null||o(Y),s==null||s(Y),Y.defaultPrevented||l==null||l())},y);return BZ(Y=>{O===p.layers.size-1&&(r==null||r(Y),!Y.defaultPrevented&&l&&(Y.preventDefault(),l()))},y),j.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(zI=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),UI(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=zI)}},[m,y,n,p]),j.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),UI())},[m,p]),j.useEffect(()=>{const Y=()=>x({});return document.addEventListener(P_,Y),()=>document.removeEventListener(P_,Y)},[]),B.jsx(Gn.div,{...f,ref:S,style:{pointerEvents:I?P?"auto":"none":void 0,...t.style},onFocusCapture:Cn(t.onFocusCapture,K.onFocusCapture),onBlurCapture:Cn(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Cn(t.onPointerDownCapture,F.onPointerDownCapture)})});Qw.displayName=UZ;var GZ="DismissableLayerBranch",KZ=j.forwardRef((t,e)=>{const n=j.useContext(BI),r=j.useRef(null),i=ti(e,r);return j.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),B.jsx(Gn.div,{...t,ref:i})});KZ.displayName=GZ;function qZ(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let f=function(){HI(HZ,n,p,{discrete:!0})};const p={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YZ(t,e=globalThis==null?void 0:globalThis.document){const n=oc(t),r=j.useRef(!1);return j.useEffect(()=>{const i=o=>{o.target&&!r.current&&HI(WZ,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UI(){const t=new CustomEvent(P_);document.dispatchEvent(t)}function HI(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?zZ(i,o):i.dispatchEvent(o)}var M_=0;function WI(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GI()),document.body.insertAdjacentElement("beforeend",t[1]??GI()),M_++,()=>{M_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),M_--}},[])}function GI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var L_="focusScope.autoFocusOnMount",F_="focusScope.autoFocusOnUnmount",KI={bubbles:!1,cancelable:!0},ZZ="FocusScope",V_=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[l,f]=j.useState(null),p=oc(i),m=oc(o),g=j.useRef(null),y=ti(e,_=>f(_)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let _=function(I){if(x.paused||!l)return;const P=I.target;l.contains(P)?g.current=P:Td(g.current,{select:!0})},k=function(I){if(x.paused||!l)return;const P=I.relatedTarget;P!==null&&(l.contains(P)||Td(g.current,{select:!0}))},R=function(I){if(document.activeElement===document.body)for(const F of I)F.removedNodes.length>0&&Td(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const O=new MutationObserver(R);return l&&O.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),O.disconnect()}}},[r,l,x.paused]),j.useEffect(()=>{if(l){ZI.add(x);const _=document.activeElement;if(!l.contains(_)){const R=new CustomEvent(L_,KI);l.addEventListener(L_,p),l.dispatchEvent(R),R.defaultPrevented||(XZ(nX(qI(l)),{select:!0}),document.activeElement===_&&Td(l))}return()=>{l.removeEventListener(L_,p),setTimeout(()=>{const R=new CustomEvent(F_,KI);l.addEventListener(F_,m),l.dispatchEvent(R),R.defaultPrevented||Td(_??document.body,{select:!0}),l.removeEventListener(F_,m),ZI.remove(x)},0)}}},[l,p,m,x]);const S=j.useCallback(_=>{if(!n&&!r||x.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,R=document.activeElement;if(k&&R){const O=_.currentTarget,[I,P]=QZ(O);I&&P?!_.shiftKey&&R===P?(_.preventDefault(),n&&Td(I,{select:!0})):_.shiftKey&&R===I&&(_.preventDefault(),n&&Td(P,{select:!0})):R===O&&_.preventDefault()}},[n,r,x.paused]);return B.jsx(Gn.div,{tabIndex:-1,...s,ref:y,onKeyDown:S})});V_.displayName=ZZ;function XZ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Td(r,{select:e}),document.activeElement!==n)return}function QZ(t){const e=qI(t),n=YI(e,t),r=YI(e.reverse(),t);return[n,r]}function qI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YI(t,e){for(const n of t)if(!JZ(n,{upTo:e}))return n}function JZ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eX(t){return t instanceof HTMLInputElement&&"select"in t}function Td(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eX(t)&&e&&t.select()}}var ZI=tX();function tX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=XI(t,e),t.unshift(e)},remove(e){var n;t=XI(t,e),(n=t[0])==null||n.resume()}}}function XI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nX(t){return t.filter(e=>e.tagName!=="A")}var $o=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},rX=hZ.useId||(()=>{}),iX=0;function fh(t){const[e,n]=j.useState(rX());return $o(()=>{n(r=>r??String(iX++))},[t]),e?`radix-${e}`:""}const aX=["top","right","bottom","left"],kd=Math.min,Us=Math.max,Jw=Math.round,e2=Math.floor,sc=t=>({x:t,y:t}),oX={left:"right",right:"left",bottom:"top",top:"bottom"},sX={start:"end",end:"start"};function j_(t,e,n){return Us(t,kd(e,n))}function pf(t,e){return typeof t=="function"?t(e):t}function hf(t){return t.split("-")[0]}function dg(t){return t.split("-")[1]}function z_(t){return t==="x"?"y":"x"}function B_(t){return t==="y"?"height":"width"}function Nd(t){return["top","bottom"].includes(hf(t))?"y":"x"}function U_(t){return z_(Nd(t))}function uX(t,e,n){n===void 0&&(n=!1);const r=dg(t),i=U_(t),o=B_(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=t2(s)),[s,t2(s)]}function lX(t){const e=t2(t);return[H_(t),e,H_(e)]}function H_(t){return t.replace(/start|end/g,e=>sX[e])}function cX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function fX(t,e,n,r){const i=dg(t);let o=cX(hf(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(H_)))),o}function t2(t){return t.replace(/left|right|bottom|top/g,e=>oX[e])}function dX(t){return{top:0,right:0,bottom:0,left:0,...t}}function QI(t){return typeof t!="number"?dX(t):{top:t,right:t,bottom:t,left:t}}function n2(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function JI(t,e,n){let{reference:r,floating:i}=t;const o=Nd(e),s=U_(e),l=B_(s),f=hf(e),p=o==="y",m=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[l]/2-i[l]/2;let x;switch(f){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-i.width,y:g};break;default:x={x:r.x,y:r.y}}switch(dg(e)){case"start":x[s]-=y*(n&&p?-1:1);break;case"end":x[s]+=y*(n&&p?-1:1);break}return x}const pX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,l=o.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let p=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:g}=JI(p,r,f),y=r,x={},S=0;for(let _=0;_<l.length;_++){const{name:k,fn:R}=l[_],{x:O,y:I,data:P,reset:F}=await R({x:m,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:x,rects:p,platform:s,elements:{reference:t,floating:e}});m=O??m,g=I??g,x={...x,[k]:{...x[k],...P}},F&&S<=50&&(S++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(p=F.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:m,y:g}=JI(p,y,f)),_=-1)}return{x:m,y:g,placement:y,strategy:i,middlewareData:x}};async function my(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:l,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=pf(e,t),S=QI(x),k=l[y?g==="floating"?"reference":"floating":g],R=n2(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:p,rootBoundary:m,strategy:f})),O=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),P=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},F=n2(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:I,strategy:f}):O);return{top:(R.top-F.top+S.top)/P.y,bottom:(F.bottom-R.bottom+S.bottom)/P.y,left:(R.left-F.left+S.left)/P.x,right:(F.right-R.right+S.right)/P.x}}const hX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:l,middlewareData:f}=e,{element:p,padding:m=0}=pf(t,e)||{};if(p==null)return{};const g=QI(m),y={x:n,y:r},x=U_(i),S=B_(x),_=await s.getDimensions(p),k=x==="y",R=k?"top":"left",O=k?"bottom":"right",I=k?"clientHeight":"clientWidth",P=o.reference[S]+o.reference[x]-y[x]-o.floating[S],F=y[x]-o.reference[x],K=await(s.getOffsetParent==null?void 0:s.getOffsetParent(p));let Y=K?K[I]:0;(!Y||!await(s.isElement==null?void 0:s.isElement(K)))&&(Y=l.floating[I]||o.floating[S]);const te=P/2-F/2,fe=Y/2-_[S]/2-1,ye=kd(g[R],fe),de=kd(g[O],fe),Pe=ye,xe=Y-_[S]-de,Te=Y/2-_[S]/2+te,je=j_(Pe,Te,xe),$e=!f.arrow&&dg(i)!=null&&Te!==je&&o.reference[S]/2-(Te<Pe?ye:de)-_[S]/2<0,Re=$e?Te<Pe?Te-Pe:Te-xe:0;return{[x]:y[x]+Re,data:{[x]:je,centerOffset:Te-je-Re,...$e&&{alignmentOffset:Re}},reset:$e}}}),mX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...k}=pf(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=hf(i),O=Nd(l),I=hf(l)===l,P=await(f.isRTL==null?void 0:f.isRTL(p.floating)),F=y||(I||!_?[t2(l)]:lX(l)),K=S!=="none";!y&&K&&F.push(...fX(l,_,S,P));const Y=[l,...F],te=await my(e,k),fe=[];let ye=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&fe.push(te[R]),g){const Te=uX(i,s,P);fe.push(te[Te[0]],te[Te[1]])}if(ye=[...ye,{placement:i,overflows:fe}],!fe.every(Te=>Te<=0)){var de,Pe;const Te=(((de=o.flip)==null?void 0:de.index)||0)+1,je=Y[Te];if(je)return{data:{index:Te,overflows:ye},reset:{placement:je}};let $e=(Pe=ye.filter(Re=>Re.overflows[0]<=0).sort((Re,be)=>Re.overflows[1]-be.overflows[1])[0])==null?void 0:Pe.placement;if(!$e)switch(x){case"bestFit":{var xe;const Re=(xe=ye.filter(be=>{if(K){const Ve=Nd(be.placement);return Ve===O||Ve==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(Ve=>Ve>0).reduce((Ve,he)=>Ve+he,0)]).sort((be,Ve)=>be[1]-Ve[1])[0])==null?void 0:xe[0];Re&&($e=Re);break}case"initialPlacement":$e=l;break}if(i!==$e)return{reset:{placement:$e}}}return{}}}};function eP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tP(t){return aX.some(e=>t[e]>=0)}const gX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=pf(t,e);switch(r){case"referenceHidden":{const o=await my(e,{...i,elementContext:"reference"}),s=eP(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:tP(s)}}}case"escaped":{const o=await my(e,{...i,altBoundary:!0}),s=eP(o,n.floating);return{data:{escapedOffsets:s,escaped:tP(s)}}}default:return{}}}}};async function vX(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=hf(n),l=dg(n),f=Nd(n)==="y",p=["left","top"].includes(s)?-1:1,m=o&&f?-1:1,g=pf(e,t);let{mainAxis:y,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),f?{x:x*m,y:y*p}:{x:y*p,y:x*m}}const yX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:l}=e,f=await vX(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:o+f.y,data:{...f,placement:s}}}}},bX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:k=>{let{x:R,y:O}=k;return{x:R,y:O}}},...f}=pf(t,e),p={x:n,y:r},m=await my(e,f),g=Nd(hf(i)),y=z_(g);let x=p[y],S=p[g];if(o){const k=y==="y"?"top":"left",R=y==="y"?"bottom":"right",O=x+m[k],I=x-m[R];x=j_(O,x,I)}if(s){const k=g==="y"?"top":"left",R=g==="y"?"bottom":"right",O=S+m[k],I=S-m[R];S=j_(O,S,I)}const _=l.fn({...e,[y]:x,[g]:S});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[y]:o,[g]:s}}}}}},wX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:l=0,mainAxis:f=!0,crossAxis:p=!0}=pf(t,e),m={x:n,y:r},g=Nd(i),y=z_(g);let x=m[y],S=m[g];const _=pf(l,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const I=y==="y"?"height":"width",P=o.reference[y]-o.floating[I]+k.mainAxis,F=o.reference[y]+o.reference[I]-k.mainAxis;x<P?x=P:x>F&&(x=F)}if(p){var R,O;const I=y==="y"?"width":"height",P=["top","left"].includes(hf(i)),F=o.reference[g]-o.floating[I]+(P&&((R=s.offset)==null?void 0:R[g])||0)+(P?0:k.crossAxis),K=o.reference[g]+o.reference[I]+(P?0:((O=s.offset)==null?void 0:O[g])||0)-(P?k.crossAxis:0);S<F?S=F:S>K&&(S=K)}return{[y]:x,[g]:S}}}},xX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:l}=e,{apply:f=()=>{},...p}=pf(t,e),m=await my(e,p),g=hf(i),y=dg(i),x=Nd(i)==="y",{width:S,height:_}=o.floating;let k,R;g==="top"||g==="bottom"?(k=g,R=y===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(R=g,k=y==="end"?"top":"bottom");const O=_-m.top-m.bottom,I=S-m.left-m.right,P=kd(_-m[k],O),F=kd(S-m[R],I),K=!e.middlewareData.shift;let Y=P,te=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(te=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Y=O),K&&!y){const ye=Us(m.left,0),de=Us(m.right,0),Pe=Us(m.top,0),xe=Us(m.bottom,0);x?te=S-2*(ye!==0||de!==0?ye+de:Us(m.left,m.right)):Y=_-2*(Pe!==0||xe!==0?Pe+xe:Us(m.top,m.bottom))}await f({...e,availableWidth:te,availableHeight:Y});const fe=await s.getDimensions(l.floating);return S!==fe.width||_!==fe.height?{reset:{rects:!0}}:{}}}};function r2(){return typeof window<"u"}function pg(t){return nP(t)?(t.nodeName||"").toLowerCase():"#document"}function Hs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uc(t){var e;return(e=(nP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nP(t){return r2()?t instanceof Node||t instanceof Hs(t).Node:!1}function cl(t){return r2()?t instanceof Element||t instanceof Hs(t).Element:!1}function lc(t){return r2()?t instanceof HTMLElement||t instanceof Hs(t).HTMLElement:!1}function rP(t){return!r2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hs(t).ShadowRoot}function gy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function SX(t){return["table","td","th"].includes(pg(t))}function i2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function W_(t){const e=G_(),n=cl(t)?fl(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function CX(t){let e=Rd(t);for(;lc(e)&&!hg(e);){if(W_(e))return e;if(i2(e))return null;e=Rd(e)}return null}function G_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hg(t){return["html","body","#document"].includes(pg(t))}function fl(t){return Hs(t).getComputedStyle(t)}function a2(t){return cl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rd(t){if(pg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rP(t)&&t.host||uc(t);return rP(e)?e.host:e}function iP(t){const e=Rd(t);return hg(e)?t.ownerDocument?t.ownerDocument.body:t.body:lc(e)&&gy(e)?e:iP(e)}function vy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=iP(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Hs(i);if(o){const l=K_(s);return e.concat(s,s.visualViewport||[],gy(i)?i:[],l&&n?vy(l):[])}return e.concat(i,vy(i,[],n))}function K_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aP(t){const e=fl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=lc(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,l=Jw(n)!==o||Jw(r)!==s;return l&&(n=o,r=s),{width:n,height:r,$:l}}function q_(t){return cl(t)?t:t.contextElement}function mg(t){const e=q_(t);if(!lc(e))return sc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=aP(e);let s=(o?Jw(n.width):n.width)/r,l=(o?Jw(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const EX=sc(0);function oP(t){const e=Hs(t);return!G_()||!e.visualViewport?EX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _X(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Hs(t)?!1:e}function dh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=q_(t);let s=sc(1);e&&(r?cl(r)&&(s=mg(r)):s=mg(t));const l=_X(o,n,r)?oP(o):sc(0);let f=(i.left+l.x)/s.x,p=(i.top+l.y)/s.y,m=i.width/s.x,g=i.height/s.y;if(o){const y=Hs(o),x=r&&cl(r)?Hs(r):r;let S=y,_=K_(S);for(;_&&r&&x!==S;){const k=mg(_),R=_.getBoundingClientRect(),O=fl(_),I=R.left+(_.clientLeft+parseFloat(O.paddingLeft))*k.x,P=R.top+(_.clientTop+parseFloat(O.paddingTop))*k.y;f*=k.x,p*=k.y,m*=k.x,g*=k.y,f+=I,p+=P,S=Hs(_),_=K_(S)}}return n2({width:m,height:g,x:f,y:p})}function Y_(t,e){const n=a2(t).scrollLeft;return e?e.left+n:dh(uc(t)).left+n}function sP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Y_(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function TX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=uc(r),l=e?i2(e.floating):!1;if(r===s||l&&o)return n;let f={scrollLeft:0,scrollTop:0},p=sc(1);const m=sc(0),g=lc(r);if((g||!g&&!o)&&((pg(r)!=="body"||gy(s))&&(f=a2(r)),lc(r))){const x=dh(r);p=mg(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const y=s&&!g&&!o?sP(s,f,!0):sc(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+y.x,y:n.y*p.y-f.scrollTop*p.y+m.y+y.y}}function kX(t){return Array.from(t.getClientRects())}function NX(t){const e=uc(t),n=a2(t),r=t.ownerDocument.body,i=Us(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Us(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Y_(t);const l=-n.scrollTop;return fl(r).direction==="rtl"&&(s+=Us(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:l}}function RX(t,e){const n=Hs(t),r=uc(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,l=0,f=0;if(i){o=i.width,s=i.height;const p=G_();(!p||p&&e==="fixed")&&(l=i.offsetLeft,f=i.offsetTop)}return{width:o,height:s,x:l,y:f}}function AX(t,e){const n=dh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=lc(t)?mg(t):sc(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,f=i*o.x,p=r*o.y;return{width:s,height:l,x:f,y:p}}function uP(t,e,n){let r;if(e==="viewport")r=RX(t,n);else if(e==="document")r=NX(uc(t));else if(cl(e))r=AX(e,n);else{const i=oP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return n2(r)}function lP(t,e){const n=Rd(t);return n===e||!cl(n)||hg(n)?!1:fl(n).position==="fixed"||lP(n,e)}function DX(t,e){const n=e.get(t);if(n)return n;let r=vy(t,[],!1).filter(l=>cl(l)&&pg(l)!=="body"),i=null;const o=fl(t).position==="fixed";let s=o?Rd(t):t;for(;cl(s)&&!hg(s);){const l=fl(s),f=W_(s);!f&&l.position==="fixed"&&(i=null),(o?!f&&!i:!f&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gy(s)&&!f&&lP(t,s))?r=r.filter(m=>m!==s):i=l,s=Rd(s)}return e.set(t,r),r}function OX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?i2(e)?[]:DX(e,this._c):[].concat(n),r],l=s[0],f=s.reduce((p,m)=>{const g=uP(e,m,i);return p.top=Us(g.top,p.top),p.right=kd(g.right,p.right),p.bottom=kd(g.bottom,p.bottom),p.left=Us(g.left,p.left),p},uP(e,l,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $X(t){const{width:e,height:n}=aP(t);return{width:e,height:n}}function IX(t,e,n){const r=lc(e),i=uc(e),o=n==="fixed",s=dh(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const f=sc(0);if(r||!r&&!o)if((pg(e)!=="body"||gy(i))&&(l=a2(e)),r){const y=dh(e,!0,o,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else i&&(f.x=Y_(i));const p=i&&!r&&!o?sP(i,l):sc(0),m=s.left+l.scrollLeft-f.x-p.x,g=s.top+l.scrollTop-f.y-p.y;return{x:m,y:g,width:s.width,height:s.height}}function Z_(t){return fl(t).position==="static"}function cP(t,e){if(!lc(t)||fl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return uc(t)===n&&(n=n.ownerDocument.body),n}function fP(t,e){const n=Hs(t);if(i2(t))return n;if(!lc(t)){let i=Rd(t);for(;i&&!hg(i);){if(cl(i)&&!Z_(i))return i;i=Rd(i)}return n}let r=cP(t,e);for(;r&&SX(r)&&Z_(r);)r=cP(r,e);return r&&hg(r)&&Z_(r)&&!W_(r)?n:r||CX(t)||n}const PX=async function(t){const e=this.getOffsetParent||fP,n=this.getDimensions,r=await n(t.floating);return{reference:IX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MX(t){return fl(t).direction==="rtl"}const LX={convertOffsetParentRelativeRectToViewportRelativeRect:TX,getDocumentElement:uc,getClippingRect:OX,getOffsetParent:fP,getElementRects:PX,getClientRects:kX,getDimensions:$X,getScale:mg,isElement:cl,isRTL:MX};function FX(t,e){let n=null,r;const i=uc(t);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,f){l===void 0&&(l=!1),f===void 0&&(f=1),o();const{left:p,top:m,width:g,height:y}=t.getBoundingClientRect();if(l||e(),!g||!y)return;const x=e2(m),S=e2(i.clientWidth-(p+g)),_=e2(i.clientHeight-(m+y)),k=e2(p),O={rootMargin:-x+"px "+-S+"px "+-_+"px "+-k+"px",threshold:Us(0,kd(1,f))||1};let I=!0;function P(F){const K=F[0].intersectionRatio;if(K!==f){if(!I)return s();K?s(!1,K):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(P,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,O)}n.observe(t)}return s(!0),o}function VX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,p=q_(t),m=i||o?[...p?vy(p):[],...vy(e)]:[];m.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const g=p&&l?FX(p,n):null;let y=-1,x=null;s&&(x=new ResizeObserver(R=>{let[O]=R;O&&O.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=x)==null||I.observe(e)})),n()}),p&&!f&&x.observe(p),x.observe(e));let S,_=f?dh(t):null;f&&k();function k(){const R=dh(t);_&&(R.x!==_.x||R.y!==_.y||R.width!==_.width||R.height!==_.height)&&n(),_=R,S=requestAnimationFrame(k)}return n(),()=>{var R;m.forEach(O=>{i&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),g==null||g(),(R=x)==null||R.disconnect(),x=null,f&&cancelAnimationFrame(S)}}const jX=yX,zX=bX,BX=mX,UX=xX,HX=gX,dP=hX,WX=wX,GX=(t,e,n)=>{const r=new Map,i={platform:LX,...n},o={...i.platform,_c:r};return pX(t,e,{...i,platform:o})};var o2=typeof document<"u"?j.useLayoutEffect:j.useEffect;function s2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!s2(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!s2(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function pP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hP(t,e){const n=pP(t);return Math.round(e*n)/n}function X_(t){const e=j.useRef(t);return o2(()=>{e.current=t}),e}function KX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:l=!0,whileElementsMounted:f,open:p}=t,[m,g]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=j.useState(r);s2(y,r)||x(r);const[S,_]=j.useState(null),[k,R]=j.useState(null),O=j.useCallback(be=>{be!==K.current&&(K.current=be,_(be))},[]),I=j.useCallback(be=>{be!==Y.current&&(Y.current=be,R(be))},[]),P=o||S,F=s||k,K=j.useRef(null),Y=j.useRef(null),te=j.useRef(m),fe=f!=null,ye=X_(f),de=X_(i),Pe=X_(p),xe=j.useCallback(()=>{if(!K.current||!Y.current)return;const be={placement:e,strategy:n,middleware:y};de.current&&(be.platform=de.current),GX(K.current,Y.current,be).then(Ve=>{const he={...Ve,isPositioned:Pe.current!==!1};Te.current&&!s2(te.current,he)&&(te.current=he,lf.flushSync(()=>{g(he)}))})},[y,e,n,de,Pe]);o2(()=>{p===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,g(be=>({...be,isPositioned:!1})))},[p]);const Te=j.useRef(!1);o2(()=>(Te.current=!0,()=>{Te.current=!1}),[]),o2(()=>{if(P&&(K.current=P),F&&(Y.current=F),P&&F){if(ye.current)return ye.current(P,F,xe);xe()}},[P,F,xe,ye,fe]);const je=j.useMemo(()=>({reference:K,floating:Y,setReference:O,setFloating:I}),[O,I]),$e=j.useMemo(()=>({reference:P,floating:F}),[P,F]),Re=j.useMemo(()=>{const be={position:n,left:0,top:0};if(!$e.floating)return be;const Ve=hP($e.floating,m.x),he=hP($e.floating,m.y);return l?{...be,transform:"translate("+Ve+"px, "+he+"px)",...pP($e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ve,top:he}},[n,l,$e.floating,m.x,m.y]);return j.useMemo(()=>({...m,update:xe,refs:je,elements:$e,floatingStyles:Re}),[m,xe,je,$e,Re])}const qX=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?dP({element:r.current,padding:i}).fn(n):{}:r?dP({element:r,padding:i}).fn(n):{}}}},YX=(t,e)=>({...jX(t),options:[t,e]}),ZX=(t,e)=>({...zX(t),options:[t,e]}),XX=(t,e)=>({...WX(t),options:[t,e]}),QX=(t,e)=>({...BX(t),options:[t,e]}),JX=(t,e)=>({...UX(t),options:[t,e]}),eQ=(t,e)=>({...HX(t),options:[t,e]}),tQ=(t,e)=>({...qX(t),options:[t,e]});var nQ="Arrow",mP=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return B.jsx(Gn.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});mP.displayName=nQ;var rQ=mP;function gP(t){const[e,n]=j.useState(void 0);return $o(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,l;if("borderBoxSize"in o){const f=o.borderBoxSize,p=Array.isArray(f)?f[0]:f;s=p.inlineSize,l=p.blockSize}else s=t.offsetWidth,l=t.offsetHeight;n({width:s,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Q_="Popper",[vP,gg]=df(Q_),[iQ,yP]=vP(Q_),bP=t=>{const{__scopePopper:e,children:n}=t,[r,i]=j.useState(null);return B.jsx(iQ,{scope:e,anchor:r,onAnchorChange:i,children:n})};bP.displayName=Q_;var wP="PopperAnchor",xP=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=yP(wP,n),s=j.useRef(null),l=ti(e,s);return j.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:B.jsx(Gn.div,{...i,ref:l})});xP.displayName=wP;var J_="PopperContent",[aQ,oQ]=vP(J_),SP=j.forwardRef((t,e)=>{var Me,Ge,rt,ot,Rt,He;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:S,..._}=t,k=yP(J_,n),[R,O]=j.useState(null),I=ti(e,At=>O(At)),[P,F]=j.useState(null),K=gP(P),Y=(K==null?void 0:K.width)??0,te=(K==null?void 0:K.height)??0,fe=r+(o!=="center"?"-"+o:""),ye=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},de=Array.isArray(p)?p:[p],Pe=de.length>0,xe={padding:ye,boundary:de.filter(uQ),altBoundary:Pe},{refs:Te,floatingStyles:je,placement:$e,isPositioned:Re,middlewareData:be}=KX({strategy:"fixed",placement:fe,whileElementsMounted:(...At)=>VX(...At,{animationFrame:x==="always"}),elements:{reference:k.anchor},middleware:[YX({mainAxis:i+te,alignmentAxis:s}),f&&ZX({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?XX():void 0,...xe}),f&&QX({...xe}),JX({...xe,apply:({elements:At,rects:nn,availableWidth:Jn,availableHeight:yr})=>{const{width:ir,height:$i}=nn.reference,ai=At.floating.style;ai.setProperty("--radix-popper-available-width",`${Jn}px`),ai.setProperty("--radix-popper-available-height",`${yr}px`),ai.setProperty("--radix-popper-anchor-width",`${ir}px`),ai.setProperty("--radix-popper-anchor-height",`${$i}px`)}}),P&&tQ({element:P,padding:l}),lQ({arrowWidth:Y,arrowHeight:te}),y&&eQ({strategy:"referenceHidden",...xe})]}),[Ve,he]=_P($e),ne=oc(S);$o(()=>{Re&&(ne==null||ne())},[Re,ne]);const we=(Me=be.arrow)==null?void 0:Me.x,We=(Ge=be.arrow)==null?void 0:Ge.y,Ue=((rt=be.arrow)==null?void 0:rt.centerOffset)!==0,[at,Qe]=j.useState();return $o(()=>{R&&Qe(window.getComputedStyle(R).zIndex)},[R]),B.jsx("div",{ref:Te.setFloating,"data-radix-popper-content-wrapper":"",style:{...je,transform:Re?je.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(ot=be.transformOrigin)==null?void 0:ot.x,(Rt=be.transformOrigin)==null?void 0:Rt.y].join(" "),...((He=be.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:B.jsx(aQ,{scope:n,placedSide:Ve,onArrowChange:F,arrowX:we,arrowY:We,shouldHideArrow:Ue,children:B.jsx(Gn.div,{"data-side":Ve,"data-align":he,..._,ref:I,style:{..._.style,animation:Re?void 0:"none"}})})})});SP.displayName=J_;var CP="PopperArrow",sQ={top:"bottom",right:"left",bottom:"top",left:"right"},EP=j.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=oQ(CP,r),s=sQ[o.placedSide];return B.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:B.jsx(rQ,{...i,ref:n,style:{...i.style,display:"block"}})})});EP.displayName=CP;function uQ(t){return t!==null}var lQ=t=>({name:"transformOrigin",options:t,fn(e){var k,R,O;const{placement:n,rects:r,middlewareData:i}=e,s=((k=i.arrow)==null?void 0:k.centerOffset)!==0,l=s?0:t.arrowWidth,f=s?0:t.arrowHeight,[p,m]=_P(n),g={start:"0%",center:"50%",end:"100%"}[m],y=(((R=i.arrow)==null?void 0:R.x)??0)+l/2,x=(((O=i.arrow)==null?void 0:O.y)??0)+f/2;let S="",_="";return p==="bottom"?(S=s?g:`${y}px`,_=`${-f}px`):p==="top"?(S=s?g:`${y}px`,_=`${r.floating.height+f}px`):p==="right"?(S=`${-f}px`,_=s?g:`${x}px`):p==="left"&&(S=`${r.floating.width+f}px`,_=s?g:`${x}px`),{data:{x:S,y:_}}}});function _P(t){const[e,n="center"]=t.split("-");return[e,n]}var eT=bP,u2=xP,tT=SP,nT=EP,cQ="Portal",rT=j.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,o]=j.useState(!1);$o(()=>o(!0),[]);const s=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?xZ.createPortal(B.jsx(Gn.div,{...r,ref:e}),s):null});rT.displayName=cQ;function cc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=fQ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,l=oc(n),f=j.useCallback(p=>{if(o){const g=typeof p=="function"?p(t):p;g!==t&&l(g)}else i(p)},[o,t,i,l]);return[s,f]}function fQ({defaultProp:t,onChange:e}){const n=j.useState(t),[r]=n,i=j.useRef(r),o=oc(e);return j.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function TP(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var dQ="VisuallyHidden",iT=j.forwardRef((t,e)=>B.jsx(Gn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));iT.displayName=dQ;var pQ=iT,hQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vg=new WeakMap,l2=new WeakMap,c2={},aT=0,kP=function(t){return t&&(t.host||kP(t.parentNode))},mQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=kP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},gQ=function(t,e,n,r){var i=mQ(e,Array.isArray(t)?t:[t]);c2[n]||(c2[n]=new WeakMap);var o=c2[n],s=[],l=new Set,f=new Set(i),p=function(g){!g||l.has(g)||(l.add(g),p(g.parentNode))};i.forEach(p);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(y){if(l.has(y))m(y);else try{var x=y.getAttribute(r),S=x!==null&&x!=="false",_=(vg.get(y)||0)+1,k=(o.get(y)||0)+1;vg.set(y,_),o.set(y,k),s.push(y),_===1&&S&&l2.set(y,!0),k===1&&y.setAttribute(n,"true"),S||y.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return m(e),l.clear(),aT++,function(){s.forEach(function(g){var y=vg.get(g)-1,x=o.get(g)-1;vg.set(g,y),o.set(g,x),y||(l2.has(g)||g.removeAttribute(r),l2.delete(g)),x||g.removeAttribute(n)}),aT--,aT||(vg=new WeakMap,vg=new WeakMap,l2=new WeakMap,c2={})}},NP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=hQ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),gQ(r,i,n,"aria-hidden")):function(){return null}},fc=function(){return fc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fc.apply(this,arguments)};function RP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vQ(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var f2="right-scroll-bar-position",d2="width-before-scroll-bar",yQ="with-scroll-bars-hidden",bQ="--removed-body-scroll-bar-size";function oT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wQ(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var xQ=typeof window<"u"?j.useLayoutEffect:j.useEffect,AP=new WeakMap;function SQ(t,e){var n=wQ(null,function(r){return t.forEach(function(i){return oT(i,r)})});return xQ(function(){var r=AP.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(l){o.has(l)||oT(l,null)}),o.forEach(function(l){i.has(l)||oT(l,s)})}AP.set(n,t)},[t]),n}function CQ(t){return t}function EQ(t,e){e===void 0&&(e=CQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(o),s=n}var f=function(){var m=s;s=[],m.forEach(o)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){s.push(m),p()},filter:function(m){return s=s.filter(m),n}}}};return i}function _Q(t){t===void 0&&(t={});var e=EQ(null);return e.options=fc({async:!0,ssr:!1},t),e}var DP=function(t){var e=t.sideCar,n=RP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,fc({},n))};DP.isSideCarExport=!0;function TQ(t,e){return t.useMedium(e),DP}var OP=_Q(),sT=function(){},p2=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:sT,onWheelCapture:sT,onTouchMoveCapture:sT}),i=r[0],o=r[1],s=t.forwardProps,l=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,g=t.shards,y=t.sideCar,x=t.noIsolation,S=t.inert,_=t.allowPinchZoom,k=t.as,R=k===void 0?"div":k,O=t.gapMode,I=RP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=y,F=SQ([n,e]),K=fc(fc({},I),i);return j.createElement(j.Fragment,null,m&&j.createElement(P,{sideCar:OP,removeScrollBar:p,shards:g,noIsolation:x,inert:S,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:O}),s?j.cloneElement(j.Children.only(l),fc(fc({},K),{ref:F})):j.createElement(R,fc({},K,{className:f,ref:F}),l))});p2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},p2.classNames={fullWidth:d2,zeroRight:f2};var kQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kQ();return e&&t.setAttribute("nonce",e),t}function RQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var DQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=NQ())&&(RQ(e,n),AQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OQ=function(){var t=DQ();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$P=function(){var t=OQ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},$Q={left:0,top:0,right:0,gap:0},uT=function(t){return parseInt(t||"",10)||0},IQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[uT(n),uT(r),uT(i)]},PQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $Q;var e=IQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MQ=$P(),yg="data-scroll-locked",LQ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(yg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(f2,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(d2,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(f2," .").concat(f2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(d2," .").concat(d2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yg,`] {
    `).concat(bQ,": ").concat(l,`px;
  }
`)},IP=function(){var t=parseInt(document.body.getAttribute(yg)||"0",10);return isFinite(t)?t:0},FQ=function(){j.useEffect(function(){return document.body.setAttribute(yg,(IP()+1).toString()),function(){var t=IP()-1;t<=0?document.body.removeAttribute(yg):document.body.setAttribute(yg,t.toString())}},[])},VQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;FQ();var o=j.useMemo(function(){return PQ(i)},[i]);return j.createElement(MQ,{styles:LQ(o,!e,i,n?"":"!important")})},lT=!1;if(typeof window<"u")try{var h2=Object.defineProperty({},"passive",{get:function(){return lT=!0,!0}});window.addEventListener("test",h2,h2),window.removeEventListener("test",h2,h2)}catch{lT=!1}var bg=lT?{passive:!1}:!1,jQ=function(t){return t.tagName==="TEXTAREA"},PP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jQ(t)&&n[e]==="visible")},zQ=function(t){return PP(t,"overflowY")},BQ=function(t){return PP(t,"overflowX")},MP=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=LP(t,r);if(i){var o=FP(t,r),s=o[1],l=o[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},LP=function(t,e){return t==="v"?zQ(e):BQ(e)},FP=function(t,e){return t==="v"?UQ(e):HQ(e)},WQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},GQ=function(t,e,n,r,i){var o=WQ(t,window.getComputedStyle(e).direction),s=o*r,l=n.target,f=e.contains(l),p=!1,m=s>0,g=0,y=0;do{var x=FP(t,l),S=x[0],_=x[1],k=x[2],R=_-k-o*S;(S||R)&&LP(t,l)&&(g+=R,y+=S),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!f&&l!==document.body||f&&(e.contains(l)||e===l));return(m&&(Math.abs(g)<1||!i)||!m&&(Math.abs(y)<1||!i))&&(p=!0),p},m2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VP=function(t){return[t.deltaX,t.deltaY]},jP=function(t){return t&&"current"in t?t.current:t},KQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YQ=0,wg=[];function ZQ(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(YQ++)[0],o=j.useState($P)[0],s=j.useRef(t);j.useEffect(function(){s.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=vQ([t.lockRef.current],(t.shards||[]).map(jP),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=j.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!s.current.allowPinchZoom;var R=m2(_),O=n.current,I="deltaX"in _?_.deltaX:O[0]-R[0],P="deltaY"in _?_.deltaY:O[1]-R[1],F,K=_.target,Y=Math.abs(I)>Math.abs(P)?"h":"v";if("touches"in _&&Y==="h"&&K.type==="range")return!1;var te=MP(Y,K);if(!te)return!0;if(te?F=Y:(F=Y==="v"?"h":"v",te=MP(Y,K)),!te)return!1;if(!r.current&&"changedTouches"in _&&(I||P)&&(r.current=F),!F)return!0;var fe=r.current||F;return GQ(fe,k,_,fe==="h"?I:P,!0)},[]),f=j.useCallback(function(_){var k=_;if(!(!wg.length||wg[wg.length-1]!==o)){var R="deltaY"in k?VP(k):m2(k),O=e.current.filter(function(F){return F.name===k.type&&(F.target===k.target||k.target===F.shadowParent)&&KQ(F.delta,R)})[0];if(O&&O.should){k.cancelable&&k.preventDefault();return}if(!O){var I=(s.current.shards||[]).map(jP).filter(Boolean).filter(function(F){return F.contains(k.target)}),P=I.length>0?l(k,I[0]):!s.current.noIsolation;P&&k.cancelable&&k.preventDefault()}}},[]),p=j.useCallback(function(_,k,R,O){var I={name:_,delta:k,target:R,should:O,shadowParent:XQ(R)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(P){return P!==I})},1)},[]),m=j.useCallback(function(_){n.current=m2(_),r.current=void 0},[]),g=j.useCallback(function(_){p(_.type,VP(_),_.target,l(_,t.lockRef.current))},[]),y=j.useCallback(function(_){p(_.type,m2(_),_.target,l(_,t.lockRef.current))},[]);j.useEffect(function(){return wg.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",f,bg),document.addEventListener("touchmove",f,bg),document.addEventListener("touchstart",m,bg),function(){wg=wg.filter(function(_){return _!==o}),document.removeEventListener("wheel",f,bg),document.removeEventListener("touchmove",f,bg),document.removeEventListener("touchstart",m,bg)}},[]);var x=t.removeScrollBar,S=t.inert;return j.createElement(j.Fragment,null,S?j.createElement(o,{styles:qQ(i)}):null,x?j.createElement(VQ,{gapMode:t.gapMode}):null)}function XQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const QQ=TQ(OP,ZQ);var cT=j.forwardRef(function(t,e){return j.createElement(p2,fc({},t,{ref:e,sideCar:QQ}))});cT.classNames=p2.classNames;var JQ=[" ","Enter","ArrowUp","ArrowDown"],eJ=[" ","Enter"],yy="Select",[g2,v2,tJ]=jI(yy),[xg,f$e]=df(yy,[tJ,gg]),y2=gg(),[nJ,Ad]=xg(yy),[rJ,iJ]=xg(yy),zP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:l,onValueChange:f,dir:p,name:m,autoComplete:g,disabled:y,required:x,form:S}=t,_=y2(e),[k,R]=j.useState(null),[O,I]=j.useState(null),[P,F]=j.useState(!1),K=Xw(p),[Y=!1,te]=cc({prop:r,defaultProp:i,onChange:o}),[fe,ye]=cc({prop:s,defaultProp:l,onChange:f}),de=j.useRef(null),Pe=k?S||!!k.closest("form"):!0,[xe,Te]=j.useState(new Set),je=Array.from(xe).map($e=>$e.props.value).join(";");return B.jsx(eT,{..._,children:B.jsxs(nJ,{required:x,scope:e,trigger:k,onTriggerChange:R,valueNode:O,onValueNodeChange:I,valueNodeHasChildren:P,onValueNodeHasChildrenChange:F,contentId:fh(),value:fe,onValueChange:ye,open:Y,onOpenChange:te,dir:K,triggerPointerDownPosRef:de,disabled:y,children:[B.jsx(g2.Provider,{scope:e,children:B.jsx(rJ,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback($e=>{Te(Re=>new Set(Re).add($e))},[]),onNativeOptionRemove:j.useCallback($e=>{Te(Re=>{const be=new Set(Re);return be.delete($e),be})},[]),children:n})}),Pe?B.jsxs(p8,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:g,value:fe,onChange:$e=>ye($e.target.value),disabled:y,form:S,children:[fe===void 0?B.jsx("option",{value:""}):null,Array.from(xe)]},je):null]})})};zP.displayName=yy;var BP="SelectTrigger",UP=j.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=y2(n),s=Ad(BP,n),l=s.disabled||r,f=ti(e,s.onTriggerChange),p=v2(n),m=j.useRef("touch"),[g,y,x]=h8(_=>{const k=p().filter(I=>!I.disabled),R=k.find(I=>I.value===s.value),O=m8(k,_,R);O!==void 0&&s.onValueChange(O.value)}),S=_=>{l||(s.onOpenChange(!0),x()),_&&(s.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return B.jsx(u2,{asChild:!0,...o,children:B.jsx(Gn.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":d8(s.value)?"":void 0,...i,ref:f,onClick:Cn(i.onClick,_=>{_.currentTarget.focus(),m.current!=="mouse"&&S(_)}),onPointerDown:Cn(i.onPointerDown,_=>{m.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:Cn(i.onKeyDown,_=>{const k=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(k&&_.key===" ")&&JQ.includes(_.key)&&(S(),_.preventDefault())})})})});UP.displayName=BP;var HP="SelectValue",WP=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...l}=t,f=Ad(HP,n),{onValueNodeHasChildrenChange:p}=f,m=o!==void 0,g=ti(e,f.onValueNodeChange);return $o(()=>{p(m)},[p,m]),B.jsx(Gn.span,{...l,ref:g,style:{pointerEvents:"none"},children:d8(f.value)?B.jsx(B.Fragment,{children:s}):o})});WP.displayName=HP;var aJ="SelectIcon",GP=j.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return B.jsx(Gn.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});GP.displayName=aJ;var oJ="SelectPortal",KP=t=>B.jsx(rT,{asChild:!0,...t});KP.displayName=oJ;var ph="SelectContent",qP=j.forwardRef((t,e)=>{const n=Ad(ph,t.__scopeSelect),[r,i]=j.useState();if($o(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?lf.createPortal(B.jsx(YP,{scope:t.__scopeSelect,children:B.jsx(g2.Slot,{scope:t.__scopeSelect,children:B.jsx("div",{children:t.children})})}),o):null}return B.jsx(ZP,{...t,ref:e})});qP.displayName=ph;var dl=10,[YP,Dd]=xg(ph),sJ="SelectContentImpl",ZP=j.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:l,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:k,...R}=t,O=Ad(ph,n),[I,P]=j.useState(null),[F,K]=j.useState(null),Y=ti(e,Me=>P(Me)),[te,fe]=j.useState(null),[ye,de]=j.useState(null),Pe=v2(n),[xe,Te]=j.useState(!1),je=j.useRef(!1);j.useEffect(()=>{if(I)return NP(I)},[I]),WI();const $e=j.useCallback(Me=>{const[Ge,...rt]=Pe().map(He=>He.ref.current),[ot]=rt.slice(-1),Rt=document.activeElement;for(const He of Me)if(He===Rt||(He==null||He.scrollIntoView({block:"nearest"}),He===Ge&&F&&(F.scrollTop=0),He===ot&&F&&(F.scrollTop=F.scrollHeight),He==null||He.focus(),document.activeElement!==Rt))return},[Pe,F]),Re=j.useCallback(()=>$e([te,I]),[$e,te,I]);j.useEffect(()=>{xe&&Re()},[xe,Re]);const{onOpenChange:be,triggerPointerDownPosRef:Ve}=O;j.useEffect(()=>{if(I){let Me={x:0,y:0};const Ge=ot=>{var Rt,He;Me={x:Math.abs(Math.round(ot.pageX)-(((Rt=Ve.current)==null?void 0:Rt.x)??0)),y:Math.abs(Math.round(ot.pageY)-(((He=Ve.current)==null?void 0:He.y)??0))}},rt=ot=>{Me.x<=10&&Me.y<=10?ot.preventDefault():I.contains(ot.target)||be(!1),document.removeEventListener("pointermove",Ge),Ve.current=null};return Ve.current!==null&&(document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",rt,{capture:!0})}}},[I,be,Ve]),j.useEffect(()=>{const Me=()=>be(!1);return window.addEventListener("blur",Me),window.addEventListener("resize",Me),()=>{window.removeEventListener("blur",Me),window.removeEventListener("resize",Me)}},[be]);const[he,ne]=h8(Me=>{const Ge=Pe().filter(Rt=>!Rt.disabled),rt=Ge.find(Rt=>Rt.ref.current===document.activeElement),ot=m8(Ge,Me,rt);ot&&setTimeout(()=>ot.ref.current.focus())}),we=j.useCallback((Me,Ge,rt)=>{const ot=!je.current&&!rt;(O.value!==void 0&&O.value===Ge||ot)&&(fe(Me),ot&&(je.current=!0))},[O.value]),We=j.useCallback(()=>I==null?void 0:I.focus(),[I]),Ue=j.useCallback((Me,Ge,rt)=>{const ot=!je.current&&!rt;(O.value!==void 0&&O.value===Ge||ot)&&de(Me)},[O.value]),at=r==="popper"?fT:XP,Qe=at===fT?{side:l,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:S,hideWhenDetached:_,avoidCollisions:k}:{};return B.jsx(YP,{scope:n,content:I,viewport:F,onViewportChange:K,itemRefCallback:we,selectedItem:te,onItemLeave:We,itemTextRefCallback:Ue,focusSelectedItem:Re,selectedItemText:ye,position:r,isPositioned:xe,searchRef:he,children:B.jsx(cT,{as:ff,allowPinchZoom:!0,children:B.jsx(V_,{asChild:!0,trapped:O.open,onMountAutoFocus:Me=>{Me.preventDefault()},onUnmountAutoFocus:Cn(i,Me=>{var Ge;(Ge=O.trigger)==null||Ge.focus({preventScroll:!0}),Me.preventDefault()}),children:B.jsx(Qw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Me=>Me.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:B.jsx(at,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:Me=>Me.preventDefault(),...R,...Qe,onPlaced:()=>Te(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Cn(R.onKeyDown,Me=>{const Ge=Me.ctrlKey||Me.altKey||Me.metaKey;if(Me.key==="Tab"&&Me.preventDefault(),!Ge&&Me.key.length===1&&ne(Me.key),["ArrowUp","ArrowDown","Home","End"].includes(Me.key)){let ot=Pe().filter(Rt=>!Rt.disabled).map(Rt=>Rt.ref.current);if(["ArrowUp","End"].includes(Me.key)&&(ot=ot.slice().reverse()),["ArrowUp","ArrowDown"].includes(Me.key)){const Rt=Me.target,He=ot.indexOf(Rt);ot=ot.slice(He+1)}setTimeout(()=>$e(ot)),Me.preventDefault()}})})})})})})});ZP.displayName=sJ;var uJ="SelectItemAlignedPosition",XP=j.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Ad(ph,n),s=Dd(ph,n),[l,f]=j.useState(null),[p,m]=j.useState(null),g=ti(e,Y=>m(Y)),y=v2(n),x=j.useRef(!1),S=j.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:R,focusSelectedItem:O}=s,I=j.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&p&&_&&k&&R){const Y=o.trigger.getBoundingClientRect(),te=p.getBoundingClientRect(),fe=o.valueNode.getBoundingClientRect(),ye=R.getBoundingClientRect();if(o.dir!=="rtl"){const Rt=ye.left-te.left,He=fe.left-Rt,At=Y.left-He,nn=Y.width+At,Jn=Math.max(nn,te.width),yr=window.innerWidth-dl,ir=VI(He,[dl,Math.max(dl,yr-Jn)]);l.style.minWidth=nn+"px",l.style.left=ir+"px"}else{const Rt=te.right-ye.right,He=window.innerWidth-fe.right-Rt,At=window.innerWidth-Y.right-He,nn=Y.width+At,Jn=Math.max(nn,te.width),yr=window.innerWidth-dl,ir=VI(He,[dl,Math.max(dl,yr-Jn)]);l.style.minWidth=nn+"px",l.style.right=ir+"px"}const de=y(),Pe=window.innerHeight-dl*2,xe=_.scrollHeight,Te=window.getComputedStyle(p),je=parseInt(Te.borderTopWidth,10),$e=parseInt(Te.paddingTop,10),Re=parseInt(Te.borderBottomWidth,10),be=parseInt(Te.paddingBottom,10),Ve=je+$e+xe+be+Re,he=Math.min(k.offsetHeight*5,Ve),ne=window.getComputedStyle(_),we=parseInt(ne.paddingTop,10),We=parseInt(ne.paddingBottom,10),Ue=Y.top+Y.height/2-dl,at=Pe-Ue,Qe=k.offsetHeight/2,Me=k.offsetTop+Qe,Ge=je+$e+Me,rt=Ve-Ge;if(Ge<=Ue){const Rt=de.length>0&&k===de[de.length-1].ref.current;l.style.bottom="0px";const He=p.clientHeight-_.offsetTop-_.offsetHeight,At=Math.max(at,Qe+(Rt?We:0)+He+Re),nn=Ge+At;l.style.height=nn+"px"}else{const Rt=de.length>0&&k===de[0].ref.current;l.style.top="0px";const At=Math.max(Ue,je+_.offsetTop+(Rt?we:0)+Qe)+rt;l.style.height=At+"px",_.scrollTop=Ge-Ue+_.offsetTop}l.style.margin=`${dl}px 0`,l.style.minHeight=he+"px",l.style.maxHeight=Pe+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[y,o.trigger,o.valueNode,l,p,_,k,R,o.dir,r]);$o(()=>I(),[I]);const[P,F]=j.useState();$o(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const K=j.useCallback(Y=>{Y&&S.current===!0&&(I(),O==null||O(),S.current=!1)},[I,O]);return B.jsx(cJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:K,children:B.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:B.jsx(Gn.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XP.displayName=uJ;var lJ="SelectPopperPosition",fT=j.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=dl,...o}=t,s=y2(n);return B.jsx(tT,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fT.displayName=lJ;var[cJ,dT]=xg(ph,{}),pT="SelectViewport",QP=j.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Dd(pT,n),s=dT(pT,n),l=ti(e,o.onViewportChange),f=j.useRef(0);return B.jsxs(B.Fragment,{children:[B.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),B.jsx(g2.Slot,{scope:n,children:B.jsx(Gn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Cn(i.onScroll,p=>{const m=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&g){const x=Math.abs(f.current-m.scrollTop);if(x>0){const S=window.innerHeight-dl*2,_=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),R=Math.max(_,k);if(R<S){const O=R+x,I=Math.min(S,O),P=O-I;g.style.height=I+"px",g.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});QP.displayName=pT;var JP="SelectGroup",[fJ,dJ]=xg(JP),e8=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fh();return B.jsx(fJ,{scope:n,id:i,children:B.jsx(Gn.div,{role:"group","aria-labelledby":i,...r,ref:e})})});e8.displayName=JP;var t8="SelectLabel",n8=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dJ(t8,n);return B.jsx(Gn.div,{id:i.id,...r,ref:e})});n8.displayName=t8;var b2="SelectItem",[pJ,r8]=xg(b2),i8=j.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,l=Ad(b2,n),f=Dd(b2,n),p=l.value===r,[m,g]=j.useState(o??""),[y,x]=j.useState(!1),S=ti(e,O=>{var I;return(I=f.itemRefCallback)==null?void 0:I.call(f,O,r,i)}),_=fh(),k=j.useRef("touch"),R=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return B.jsx(pJ,{scope:n,value:r,disabled:i,textId:_,isSelected:p,onItemTextChange:j.useCallback(O=>{g(I=>I||((O==null?void 0:O.textContent)??"").trim())},[]),children:B.jsx(g2.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:B.jsx(Gn.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":p&&y,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:S,onFocus:Cn(s.onFocus,()=>x(!0)),onBlur:Cn(s.onBlur,()=>x(!1)),onClick:Cn(s.onClick,()=>{k.current!=="mouse"&&R()}),onPointerUp:Cn(s.onPointerUp,()=>{k.current==="mouse"&&R()}),onPointerDown:Cn(s.onPointerDown,O=>{k.current=O.pointerType}),onPointerMove:Cn(s.onPointerMove,O=>{var I;k.current=O.pointerType,i?(I=f.onItemLeave)==null||I.call(f):k.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Cn(s.onPointerLeave,O=>{var I;O.currentTarget===document.activeElement&&((I=f.onItemLeave)==null||I.call(f))}),onKeyDown:Cn(s.onKeyDown,O=>{var P;((P=f.searchRef)==null?void 0:P.current)!==""&&O.key===" "||(eJ.includes(O.key)&&R(),O.key===" "&&O.preventDefault())})})})})});i8.displayName=b2;var by="SelectItemText",a8=j.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Ad(by,n),l=Dd(by,n),f=r8(by,n),p=iJ(by,n),[m,g]=j.useState(null),y=ti(e,R=>g(R),f.onItemTextChange,R=>{var O;return(O=l.itemTextRefCallback)==null?void 0:O.call(l,R,f.value,f.disabled)}),x=m==null?void 0:m.textContent,S=j.useMemo(()=>B.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=p;return $o(()=>(_(S),()=>k(S)),[_,k,S]),B.jsxs(B.Fragment,{children:[B.jsx(Gn.span,{id:f.textId,...o,ref:y}),f.isSelected&&s.valueNode&&!s.valueNodeHasChildren?lf.createPortal(o.children,s.valueNode):null]})});a8.displayName=by;var o8="SelectItemIndicator",s8=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return r8(o8,n).isSelected?B.jsx(Gn.span,{"aria-hidden":!0,...r,ref:e}):null});s8.displayName=o8;var hT="SelectScrollUpButton",u8=j.forwardRef((t,e)=>{const n=Dd(hT,t.__scopeSelect),r=dT(hT,t.__scopeSelect),[i,o]=j.useState(!1),s=ti(e,r.onScrollButtonChange);return $o(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=f.scrollTop>0;o(p)};const f=n.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?B.jsx(c8,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=n;l&&f&&(l.scrollTop=l.scrollTop-f.offsetHeight)}}):null});u8.displayName=hT;var mT="SelectScrollDownButton",l8=j.forwardRef((t,e)=>{const n=Dd(mT,t.__scopeSelect),r=dT(mT,t.__scopeSelect),[i,o]=j.useState(!1),s=ti(e,r.onScrollButtonChange);return $o(()=>{if(n.viewport&&n.isPositioned){let l=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;o(m)};const f=n.viewport;return l(),f.addEventListener("scroll",l),()=>f.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?B.jsx(c8,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:f}=n;l&&f&&(l.scrollTop=l.scrollTop+f.offsetHeight)}}):null});l8.displayName=mT;var c8=j.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Dd("SelectScrollButton",n),s=j.useRef(null),l=v2(n),f=j.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return j.useEffect(()=>()=>f(),[f]),$o(()=>{var m;const p=l().find(g=>g.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),B.jsx(Gn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Cn(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Cn(i.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Cn(i.onPointerLeave,()=>{f()})})}),hJ="SelectSeparator",f8=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return B.jsx(Gn.div,{"aria-hidden":!0,...r,ref:e})});f8.displayName=hJ;var gT="SelectArrow",mJ=j.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=y2(n),o=Ad(gT,n),s=Dd(gT,n);return o.open&&s.position==="popper"?B.jsx(nT,{...i,...r,ref:e}):null});mJ.displayName=gT;function d8(t){return t===""||t===void 0}var p8=j.forwardRef((t,e)=>{const{value:n,...r}=t,i=j.useRef(null),o=ti(e,i),s=TP(n);return j.useEffect(()=>{const l=i.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(s!==n&&m){const g=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(g)}},[s,n]),B.jsx(iT,{asChild:!0,children:B.jsx("select",{...r,ref:o,defaultValue:n})})});p8.displayName="BubbleSelect";function h8(t){const e=oc(t),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(s=>{const l=n.current+s;e(l),function f(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(l)},[e]),o=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function m8(t,e,n){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=gJ(t,Math.max(o,0));i.length===1&&(s=s.filter(p=>p!==n));const f=s.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function gJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vJ=zP,yJ=UP,bJ=WP,wJ=GP,xJ=KP,SJ=qP,CJ=QP,EJ=e8,_J=n8,TJ=i8,kJ=a8,NJ=s8,RJ=u8,AJ=l8,DJ=f8;const OJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M228,128a100,100,0,0,1-98.66,100H128a99.39,99.39,0,0,1-68.62-27.29,12,12,0,0,1,16.48-17.45,76,76,0,1,0-1.57-109c-.13.13-.25.25-.39.37L54.89,92H72a12,12,0,0,1,0,24H24a12,12,0,0,1-12-12V56a12,12,0,0,1,24,0V76.72L57.48,57.06A100,100,0,0,1,228,128Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),W.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L44.59,96H72a8,8,0,0,1,0,16H24a8,8,0,0,1-8-8V56a8,8,0,0,1,16,0V85.8L60.25,60A96,96,0,0,1,224,128Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L60.63,81.29l17,17A8,8,0,0,1,72,112H24a8,8,0,0,1-8-8V56A8,8,0,0,1,29.66,50.3L49.31,70,60.25,60A96,96,0,0,1,224,128Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M222,128a94,94,0,0,1-92.74,94H128a93.43,93.43,0,0,1-64.5-25.65,6,6,0,1,1,8.24-8.72A82,82,0,1,0,70,70l-.19.19L39.44,98H72a6,6,0,0,1,0,12H24a6,6,0,0,1-6-6V56a6,6,0,0,1,12,0V90.34L61.63,61.4A94,94,0,0,1,222,128Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M224,128a96,96,0,0,1-94.71,96H128A95.38,95.38,0,0,1,62.1,197.8a8,8,0,0,1,11-11.63A80,80,0,1,0,71.43,71.39a3.07,3.07,0,0,1-.26.25L44.59,96H72a8,8,0,0,1,0,16H24a8,8,0,0,1-8-8V56a8,8,0,0,1,16,0V85.8L60.25,60A96,96,0,0,1,224,128Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M220,128a92,92,0,0,1-90.77,92H128a91.47,91.47,0,0,1-63.13-25.1,4,4,0,1,1,5.5-5.82A84,84,0,1,0,68.6,68.57l-.13.12L34.3,100H72a4,4,0,0,1,0,8H24a4,4,0,0,1-4-4V56a4,4,0,0,1,8,0V94.89l35-32A92,92,0,0,1,220,128Z"}))]]),$J=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M220,48V96a12,12,0,0,1-24,0V77l-39.51,39.52a12,12,0,0,1-17-17L179,60H160a12,12,0,0,1,0-24h48A12,12,0,0,1,220,48ZM99.51,139.51,60,179V160a12,12,0,0,0-24,0v48a12,12,0,0,0,12,12H96a12,12,0,0,0,0-24H77l39.52-39.51a12,12,0,0,0-17-17Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48Z",opacity:"0.2"}),W.createElement("path",{d:"M216,48V96a8,8,0,0,1-16,0V67.31l-50.34,50.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM106.34,138.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l50.35-50.34a8,8,0,0,0-11.32-11.32Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M117.66,138.34a8,8,0,0,1,0,11.32L83.31,184l18.35,18.34A8,8,0,0,1,96,216H48a8,8,0,0,1-8-8V160a8,8,0,0,1,13.66-5.66L72,172.69l34.34-34.35A8,8,0,0,1,117.66,138.34ZM208,40H160a8,8,0,0,0-5.66,13.66L172.69,72l-34.35,34.34a8,8,0,0,0,11.32,11.32L184,83.31l18.34,18.35A8,8,0,0,0,216,96V48A8,8,0,0,0,208,40Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M214,48V96a6,6,0,0,1-12,0V62.48l-53.76,53.76a6,6,0,0,1-8.48-8.48L193.52,54H160a6,6,0,0,1,0-12h48A6,6,0,0,1,214,48ZM107.76,139.76,54,193.52V160a6,6,0,0,0-12,0v48a6,6,0,0,0,6,6H96a6,6,0,0,0,0-12H62.48l53.76-53.76a6,6,0,0,0-8.48-8.48Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,48V96a8,8,0,0,1-16,0V67.31l-50.34,50.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM106.34,138.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l50.35-50.34a8,8,0,0,0-11.32-11.32Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M212,48V96a4,4,0,0,1-8,0V57.66l-57.17,57.17a4,4,0,0,1-5.66-5.66L198.34,52H160a4,4,0,0,1,0-8h48A4,4,0,0,1,212,48ZM109.17,141.17,52,198.34V160a4,4,0,0,0-8,0v48a4,4,0,0,0,4,4H96a4,4,0,0,0,0-8H57.66l57.17-57.17a4,4,0,0,0-5.66-5.66Z"}))]]),IJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),W.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),PJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),W.createElement("path",{d:"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"}))]]),MJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M148,96V48a12,12,0,0,1,24,0V84h36a12,12,0,0,1,0,24H160A12,12,0,0,1,148,96ZM96,148H48a12,12,0,0,0,0,24H84v36a12,12,0,0,0,24,0V160A12,12,0,0,0,96,148Zm112,0H160a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V172h36a12,12,0,0,0,0-24ZM96,36A12,12,0,0,0,84,48V84H48a12,12,0,0,0,0,24H96a12,12,0,0,0,12-12V48A12,12,0,0,0,96,36Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208,64V192a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V64A16,16,0,0,1,64,48H192A16,16,0,0,1,208,64Z",opacity:"0.2"}),W.createElement("path",{d:"M152,96V48a8,8,0,0,1,16,0V88h40a8,8,0,0,1,0,16H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0,0,16H88v40a8,8,0,0,0,16,0V160A8,8,0,0,0,96,152Zm112,0H160a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V168h40a8,8,0,0,0,0-16ZM96,40a8,8,0,0,0-8,8V88H48a8,8,0,0,0,0,16H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M152,96V48a8,8,0,0,1,13.66-5.66l48,48A8,8,0,0,1,208,104H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0-5.66,13.66l48,48A8,8,0,0,0,104,208V160A8,8,0,0,0,96,152ZM99.06,40.61a8,8,0,0,0-8.72,1.73l-48,48A8,8,0,0,0,48,104H96a8,8,0,0,0,8-8V48A8,8,0,0,0,99.06,40.61ZM208,152H160a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66l48-48A8,8,0,0,0,208,152Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M154,96V48a6,6,0,0,1,12,0V90h42a6,6,0,0,1,0,12H160A6,6,0,0,1,154,96ZM96,154H48a6,6,0,0,0,0,12H90v42a6,6,0,0,0,12,0V160A6,6,0,0,0,96,154Zm112,0H160a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V166h42a6,6,0,0,0,0-12ZM96,42a6,6,0,0,0-6,6V90H48a6,6,0,0,0,0,12H96a6,6,0,0,0,6-6V48A6,6,0,0,0,96,42Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M152,96V48a8,8,0,0,1,16,0V88h40a8,8,0,0,1,0,16H160A8,8,0,0,1,152,96ZM96,152H48a8,8,0,0,0,0,16H88v40a8,8,0,0,0,16,0V160A8,8,0,0,0,96,152Zm112,0H160a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V168h40a8,8,0,0,0,0-16ZM96,40a8,8,0,0,0-8,8V88H48a8,8,0,0,0,0,16H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M156,96V48a4,4,0,0,1,8,0V92h44a4,4,0,0,1,0,8H160A4,4,0,0,1,156,96ZM96,156H48a4,4,0,0,0,0,8H92v44a4,4,0,0,0,8,0V160A4,4,0,0,0,96,156Zm112,0H160a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V164h44a4,4,0,0,0,0-8ZM96,44a4,4,0,0,0-4,4V92H48a4,4,0,0,0,0,8H96a4,4,0,0,0,4-4V48A4,4,0,0,0,96,44Z"}))]]),LJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M224.15,179.17l-46.83-46.82,37.93-13.51.76-.3a20,20,0,0,0-1.76-37.27L54.16,29A20,20,0,0,0,29,54.16L81.27,214.24A20,20,0,0,0,118.54,216c.11-.25.21-.5.3-.76l13.51-37.92,46.83,46.82a20,20,0,0,0,28.28,0l16.69-16.68A20,20,0,0,0,224.15,179.17Zm-30.83,25.17-48.48-48.48A20,20,0,0,0,130.7,150a20.66,20.66,0,0,0-3.74.35A20,20,0,0,0,112.35,162c-.11.25-.21.5-.3.76L100.4,195.5,54.29,54.29l141.21,46.1-32.71,11.66c-.26.09-.51.19-.76.3a20,20,0,0,0-6.17,32.48h0l48.49,48.48Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M213.66,201,201,213.66a8,8,0,0,1-11.31,0l-51.31-51.31a8,8,0,0,0-13,2.46l-17.82,46.41a8,8,0,0,1-14.85-.71L40.41,50.44a8,8,0,0,1,10-10L210.51,92.68a8,8,0,0,1,.71,14.85l-46.41,17.82a8,8,0,0,0-2.46,13l51.31,51.31A8,8,0,0,1,213.66,201Z",opacity:"0.2"}),W.createElement("path",{d:"M168,132.69,214.08,115l.33-.13A16,16,0,0,0,213,85.07L52.92,32.8A15.95,15.95,0,0,0,32.8,52.92L85.07,213a15.82,15.82,0,0,0,14.41,11l.78,0a15.84,15.84,0,0,0,14.61-9.59l.13-.33L132.69,168,184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63ZM195.31,208,144,156.69a16,16,0,0,0-26,4.93c0,.11-.09.22-.13.32l-17.65,46L48,48l159.85,52.2-45.95,17.64-.32.13a16,16,0,0,0-4.93,26h0L208,195.31Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M220.49,207.8,207.8,220.49a12,12,0,0,1-17,0l-56.57-56.57L115,214.08l-.13.33A15.84,15.84,0,0,1,100.26,224l-.78,0a15.82,15.82,0,0,1-14.41-11L32.8,52.92A15.95,15.95,0,0,1,52.92,32.8L213,85.07a16,16,0,0,1,1.41,29.8l-.33.13-50.16,19.27,56.57,56.56A12,12,0,0,1,220.49,207.8Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M166.59,134.1a1.91,1.91,0,0,1-.55-1.79,2,2,0,0,1,1.08-1.42l46.25-17.76.24-.1A14,14,0,0,0,212.38,87L52.29,34.7A13.95,13.95,0,0,0,34.7,52.29L87,212.38a13.82,13.82,0,0,0,12.6,9.6c.23,0,.46,0,.69,0A13.84,13.84,0,0,0,113,213.61a2.44,2.44,0,0,0,.1-.24l17.76-46.25a2,2,0,0,1,3.21-.53l51.31,51.31a14,14,0,0,0,19.8,0l12.69-12.69a14,14,0,0,0,0-19.8Zm42.82,62.63-12.68,12.68a2,2,0,0,1-2.83,0L142.59,158.1a14,14,0,0,0-22.74,4.32,2.44,2.44,0,0,0-.1.24L102,208.91a2,2,0,0,1-3.61-.26L46.11,48.57a1.87,1.87,0,0,1,.47-2A1.92,1.92,0,0,1,47.93,46a2.22,2.22,0,0,1,.64.1L208.65,98.38a2,2,0,0,1,.26,3.61l-46.25,17.76-.24.1a14,14,0,0,0-4.32,22.74h0l51.31,51.31A2,2,0,0,1,209.41,196.73Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M168,132.69,214.08,115l.33-.13A16,16,0,0,0,213,85.07L52.92,32.8A15.95,15.95,0,0,0,32.8,52.92L85.07,213a15.82,15.82,0,0,0,14.41,11l.78,0a15.84,15.84,0,0,0,14.61-9.59l.13-.33L132.69,168,184,219.31a16,16,0,0,0,22.63,0l12.68-12.68a16,16,0,0,0,0-22.63ZM195.31,208,144,156.69a16,16,0,0,0-26,4.93c0,.11-.09.22-.13.32l-17.65,46L48,48l159.85,52.2-45.95,17.64-.32.13a16,16,0,0,0-4.93,26h0L208,195.31Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M165.17,135.51a4,4,0,0,1,1.17-6.46l46.31-17.79.16-.06a12,12,0,0,0-1.05-22.33L51.67,36.6A12,12,0,0,0,36.6,51.67L88.87,211.76A11.86,11.86,0,0,0,99.67,220h.58a11.86,11.86,0,0,0,11-7.19l.06-.16,17.79-46.31a4,4,0,0,1,6.47-1.17l51.31,51.32a12,12,0,0,0,17,0l12.69-12.69a12,12,0,0,0,0-17Zm45.66,62.63-12.69,12.69a4,4,0,0,1-5.66,0l-51.31-51.31a12,12,0,0,0-8.48-3.52,12.13,12.13,0,0,0-2.24.21,12,12,0,0,0-8.77,7l-.06.16-17.79,46.31a4,4,0,0,1-7.36-.42L44.2,49.19a4,4,0,0,1,5-5L209.27,96.47a4,4,0,0,1,.42,7.36l-46.31,17.78-.16.07a12,12,0,0,0-3.71,19.49l51.32,51.31A4,4,0,0,1,210.83,198.14Z"}))]]),FJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M108,60A16,16,0,1,1,92,44,16,16,0,0,1,108,60Zm56,16a16,16,0,1,0-16-16A16,16,0,0,0,164,76ZM92,112a16,16,0,1,0,16,16A16,16,0,0,0,92,112Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,112ZM92,180a16,16,0,1,0,16,16A16,16,0,0,0,92,180Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,180Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208,32V224a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V32A16,16,0,0,1,64,16H192A16,16,0,0,1,208,32Z",opacity:"0.2"}),W.createElement("path",{d:"M104,60A12,12,0,1,1,92,48,12,12,0,0,1,104,60Zm60,12a12,12,0,1,0-12-12A12,12,0,0,0,164,72ZM92,116a12,12,0,1,0,12,12A12,12,0,0,0,92,116Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,116ZM92,184a12,12,0,1,0,12,12A12,12,0,0,0,92,184Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,184Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M192,16H64A16,16,0,0,0,48,32V224a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V32A16,16,0,0,0,192,16ZM100,200a12,12,0,1,1,12-12A12,12,0,0,1,100,200Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,100,140Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,100,80Zm56,120a12,12,0,1,1,12-12A12,12,0,0,1,156,200Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,156,140Zm0-60a12,12,0,1,1,12-12A12,12,0,0,1,156,80Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M102,60A10,10,0,1,1,92,50,10,10,0,0,1,102,60Zm62,10a10,10,0,1,0-10-10A10,10,0,0,0,164,70ZM92,118a10,10,0,1,0,10,10A10,10,0,0,0,92,118Zm72,0a10,10,0,1,0,10,10A10,10,0,0,0,164,118ZM92,186a10,10,0,1,0,10,10A10,10,0,0,0,92,186Zm72,0a10,10,0,1,0,10,10A10,10,0,0,0,164,186Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M104,60A12,12,0,1,1,92,48,12,12,0,0,1,104,60Zm60,12a12,12,0,1,0-12-12A12,12,0,0,0,164,72ZM92,116a12,12,0,1,0,12,12A12,12,0,0,0,92,116Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,116ZM92,184a12,12,0,1,0,12,12A12,12,0,0,0,92,184Zm72,0a12,12,0,1,0,12,12A12,12,0,0,0,164,184Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M100,60a8,8,0,1,1-8-8A8,8,0,0,1,100,60Zm64,8a8,8,0,1,0-8-8A8,8,0,0,0,164,68ZM92,120a8,8,0,1,0,8,8A8,8,0,0,0,92,120Zm72,0a8,8,0,1,0,8,8A8,8,0,0,0,164,120ZM92,188a8,8,0,1,0,8,8A8,8,0,0,0,92,188Zm72,0a8,8,0,1,0,8,8A8,8,0,0,0,164,188Z"}))]]),VJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,180a52.06,52.06,0,0,0,52-52V64A52,52,0,0,0,76,64v64A52.06,52.06,0,0,0,128,180ZM100,64a28,28,0,0,1,56,0v64a28,28,0,0,1-56,0Zm40,155.22V240a12,12,0,0,1-24,0V219.22A92.14,92.14,0,0,1,36,128a12,12,0,0,1,24,0,68,68,0,0,0,136,0,12,12,0,0,1,24,0A92.14,92.14,0,0,1,140,219.22Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M168,64v64a40,40,0,0,1-40,40h0a40,40,0,0,1-40-40V64a40,40,0,0,1,40-40h0A40,40,0,0,1,168,64Z",opacity:"0.2"}),W.createElement("path",{d:"M128,176a48.05,48.05,0,0,0,48-48V64a48,48,0,0,0-96,0v64A48.05,48.05,0,0,0,128,176ZM96,64a32,32,0,0,1,64,0v64a32,32,0,0,1-64,0Zm40,143.6V240a8,8,0,0,1-16,0V207.6A80.11,80.11,0,0,1,48,128a8,8,0,0,1,16,0,64,64,0,0,0,128,0,8,8,0,0,1,16,0A80.11,80.11,0,0,1,136,207.6Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M80,128V64a48,48,0,0,1,96,0v64a48,48,0,0,1-96,0Zm128,0a8,8,0,0,0-16,0,64,64,0,0,1-128,0,8,8,0,0,0-16,0,80.11,80.11,0,0,0,72,79.6V240a8,8,0,0,0,16,0V207.6A80.11,80.11,0,0,0,208,128Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,174a46.06,46.06,0,0,0,46-46V64a46,46,0,0,0-92,0v64A46.06,46.06,0,0,0,128,174ZM94,64a34,34,0,0,1,68,0v64a34,34,0,0,1-68,0Zm40,141.75V240a6,6,0,0,1-12,0V205.75A78.09,78.09,0,0,1,50,128a6,6,0,0,1,12,0,66,66,0,0,0,132,0,6,6,0,0,1,12,0A78.09,78.09,0,0,1,134,205.75Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,176a48.05,48.05,0,0,0,48-48V64a48,48,0,0,0-96,0v64A48.05,48.05,0,0,0,128,176ZM96,64a32,32,0,0,1,64,0v64a32,32,0,0,1-64,0Zm40,143.6V240a8,8,0,0,1-16,0V207.6A80.11,80.11,0,0,1,48,128a8,8,0,0,1,16,0,64,64,0,0,0,128,0,8,8,0,0,1,16,0A80.11,80.11,0,0,1,136,207.6Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,172a44.05,44.05,0,0,0,44-44V64a44,44,0,0,0-88,0v64A44.05,44.05,0,0,0,128,172ZM92,64a36,36,0,0,1,72,0v64a36,36,0,0,1-72,0Zm40,139.89V240a4,4,0,0,1-8,0V203.89A76.09,76.09,0,0,1,52,128a4,4,0,0,1,8,0,68,68,0,0,0,136,0,4,4,0,0,1,8,0A76.09,76.09,0,0,1,132,203.89Z"}))]]),jJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M56.88,39.93A12,12,0,1,0,39.12,56.07L76,96.64V128a52,52,0,0,0,72.11,48l11.26,12.39A67.34,67.34,0,0,1,128,196a68.07,68.07,0,0,1-68-68,12,12,0,0,0-24,0,92.14,92.14,0,0,0,80,91.22V240a12,12,0,0,0,24,0V219.23a90.39,90.39,0,0,0,35.92-12.68l23.2,25.52a12,12,0,0,0,17.76-16.14ZM128,156a28,28,0,0,1-28-28v-5l29.9,32.89C129.27,156,128.64,156,128,156Zm63-2.42A67.63,67.63,0,0,0,196,128a12,12,0,0,1,24,0,91.48,91.48,0,0,1-6.74,34.61,12,12,0,0,1-22.23-9ZM85.7,33.75A52,52,0,0,1,180,64v56.54a12,12,0,0,1-24,0V64a28,28,0,0,0-50.79-16.28,12,12,0,0,1-19.51-14Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M168,64v64a40,40,0,0,1-40,40h0a40,40,0,0,1-40-40V64a40,40,0,0,1,40-40h0A40,40,0,0,1,168,64Z",opacity:"0.2"}),W.createElement("path",{d:"M213.92,218.62l-160-176A8,8,0,0,0,42.08,53.38L80,95.09V128a48,48,0,0,0,69.11,43.12l11.1,12.2A63.41,63.41,0,0,1,128,192a64.07,64.07,0,0,1-64-64,8,8,0,0,0-16,0,80.11,80.11,0,0,0,72,79.6V240a8,8,0,0,0,16,0V207.59a78.83,78.83,0,0,0,35.16-12.22l30.92,34a8,8,0,1,0,11.84-10.76ZM128,160a32,32,0,0,1-32-32V112.69l41.66,45.82A32,32,0,0,1,128,160Zm57.52-3.91A63.32,63.32,0,0,0,192,128a8,8,0,0,1,16,0,79.16,79.16,0,0,1-8.11,35.12,8,8,0,0,1-7.19,4.49,7.88,7.88,0,0,1-3.51-.82A8,8,0,0,1,185.52,156.09ZM84,44.87A48,48,0,0,1,176,64v64a49.19,49.19,0,0,1-.26,5,8,8,0,0,1-8,7.17,8.13,8.13,0,0,1-.84,0,8,8,0,0,1-7.12-8.79c.11-1.1.17-2.24.17-3.36V64A32,32,0,0,0,98.64,51.25,8,8,0,1,1,84,44.87Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M213.38,229.92a8,8,0,0,1-11.3-.54l-30.92-34A78.83,78.83,0,0,1,136,207.59V240a8,8,0,0,1-16,0V207.6A80.11,80.11,0,0,1,48,128a8,8,0,0,1,16,0,64.07,64.07,0,0,0,64,64,63.41,63.41,0,0,0,32.21-8.68l-11.1-12.2A48,48,0,0,1,80,128V95.09L42.08,53.38A8,8,0,0,1,53.92,42.62l160,176A8,8,0,0,1,213.38,229.92Zm-24.19-63.13a7.88,7.88,0,0,0,3.51.82,8,8,0,0,0,7.19-4.49A79.16,79.16,0,0,0,208,128a8,8,0,0,0-16,0,63.32,63.32,0,0,1-6.48,28.09A8,8,0,0,0,189.19,166.79Zm-27.33-29.22A8,8,0,0,0,175.74,133a49.49,49.49,0,0,0,.26-5V64A48,48,0,0,0,84,44.87a8,8,0,0,0,1.41,8.57Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M212.44,220,52.44,44A6,6,0,0,0,43.56,52L82,94.32V128a46,46,0,0,0,67.56,40.64l13.75,15.12A65.26,65.26,0,0,1,128,194a66.08,66.08,0,0,1-66-66,6,6,0,0,0-12,0,78.09,78.09,0,0,0,72,77.75V240a6,6,0,0,0,12,0V205.77a76.93,76.93,0,0,0,37.48-13L203.56,228a6,6,0,0,0,8.88-8.08ZM128,162a34,34,0,0,1-34-34V107.52l47.12,51.84A33.82,33.82,0,0,1,128,162Zm59.32-5A65.38,65.38,0,0,0,194,128a6,6,0,0,1,12,0,77.33,77.33,0,0,1-7.9,34.25A6,6,0,1,1,187.32,157ZM85.8,45.67A46,46,0,0,1,174,64v64a45.17,45.17,0,0,1-.25,4.81,6,6,0,0,1-6,5.38q-.31,0-.63,0a6,6,0,0,1-5.34-6.59A35.41,35.41,0,0,0,162,128V64A34,34,0,0,0,96.8,50.45a6,6,0,0,1-11-4.78Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M213.92,218.62l-160-176A8,8,0,0,0,42.08,53.38L80,95.09V128a48,48,0,0,0,69.11,43.12l11.1,12.2A63.41,63.41,0,0,1,128,192a64.07,64.07,0,0,1-64-64,8,8,0,0,0-16,0,80.11,80.11,0,0,0,72,79.6V240a8,8,0,0,0,16,0V207.59a78.83,78.83,0,0,0,35.16-12.22l30.92,34a8,8,0,1,0,11.84-10.76ZM128,160a32,32,0,0,1-32-32V112.69l41.66,45.82A32,32,0,0,1,128,160Zm57.52-3.91A63.32,63.32,0,0,0,192,128a8,8,0,0,1,16,0,79.16,79.16,0,0,1-8.11,35.12,8,8,0,0,1-7.19,4.49,7.88,7.88,0,0,1-3.51-.82A8,8,0,0,1,185.52,156.09ZM84,44.87A48,48,0,0,1,176,64v64a49.19,49.19,0,0,1-.26,5,8,8,0,0,1-8,7.17,8.13,8.13,0,0,1-.84,0,8,8,0,0,1-7.12-8.79c.11-1.1.17-2.24.17-3.36V64A32,32,0,0,0,98.64,51.25,8,8,0,1,1,84,44.87Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M211,221.31,51,45.31A4,4,0,0,0,45,50.69L84,93.55V128a44,44,0,0,0,66,38.12l16.38,18A67.21,67.21,0,0,1,128,196a68.07,68.07,0,0,1-68-68,4,4,0,0,0-8,0,76.09,76.09,0,0,0,72,75.89V240a4,4,0,0,0,8,0V203.89a75.1,75.1,0,0,0,39.79-13.77L205,226.69a4,4,0,1,0,5.92-5.38ZM128,164a36,36,0,0,1-36-36V102.35L144.43,160A35.83,35.83,0,0,1,128,164Zm61.12-6.15A67.44,67.44,0,0,0,196,128a4,4,0,0,1,8,0,75.28,75.28,0,0,1-7.7,33.37,4,4,0,0,1-7.18-3.52ZM87.63,46.46A44,44,0,0,1,172,64v64a44.2,44.2,0,0,1-.24,4.61,4,4,0,0,1-4,3.58l-.42,0a4,4,0,0,1-3.57-4.39A36.67,36.67,0,0,0,164,128V64A36,36,0,0,0,95,49.66a4,4,0,0,1-7.34-3.2Z"}))]]),zJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,28H160a20,20,0,0,0-20,20V208a20,20,0,0,0,20,20h40a20,20,0,0,0,20-20V48A20,20,0,0,0,200,28Zm-4,176H164V52h32ZM96,28H56A20,20,0,0,0,36,48V208a20,20,0,0,0,20,20H96a20,20,0,0,0,20-20V48A20,20,0,0,0,96,28ZM92,204H60V52H92Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208,48V208a8,8,0,0,1-8,8H160a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h40A8,8,0,0,1,208,48ZM96,40H56a8,8,0,0,0-8,8V208a8,8,0,0,0,8,8H96a8,8,0,0,0,8-8V48A8,8,0,0,0,96,40Z",opacity:"0.2"}),W.createElement("path",{d:"M200,32H160a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm0,176H160V48h40ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Zm0,176H56V48H96Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,34H160a14,14,0,0,0-14,14V208a14,14,0,0,0,14,14h40a14,14,0,0,0,14-14V48A14,14,0,0,0,200,34Zm2,174a2,2,0,0,1-2,2H160a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2h40a2,2,0,0,1,2,2ZM96,34H56A14,14,0,0,0,42,48V208a14,14,0,0,0,14,14H96a14,14,0,0,0,14-14V48A14,14,0,0,0,96,34Zm2,174a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2H96a2,2,0,0,1,2,2Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,32H160a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm0,176H160V48h40ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Zm0,176H56V48H96Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,36H160a12,12,0,0,0-12,12V208a12,12,0,0,0,12,12h40a12,12,0,0,0,12-12V48A12,12,0,0,0,200,36Zm4,172a4,4,0,0,1-4,4H160a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4h40a4,4,0,0,1,4,4ZM96,36H56A12,12,0,0,0,44,48V208a12,12,0,0,0,12,12H96a12,12,0,0,0,12-12V48A12,12,0,0,0,96,36Zm4,172a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4H96a4,4,0,0,1,4,4Z"}))]]),BJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),W.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]),UJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M234.49,111.07,90.41,22.94A20,20,0,0,0,60,39.87V216.13a20,20,0,0,0,30.41,16.93l144.08-88.13a19.82,19.82,0,0,0,0-33.86ZM84,208.85V47.15L216.16,128Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M228.23,134.69,84.15,222.81A8,8,0,0,1,72,216.12V39.88a8,8,0,0,1,12.15-6.69l144.08,88.12A7.82,7.82,0,0,1,228.23,134.69Z",opacity:"0.2"}),W.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M231.36,116.19,87.28,28.06a14,14,0,0,0-14.18-.27A13.69,13.69,0,0,0,66,39.87V216.13a13.69,13.69,0,0,0,7.1,12.08,14,14,0,0,0,14.18-.27l144.08-88.13a13.82,13.82,0,0,0,0-23.62Zm-6.26,13.38L81,217.7a2,2,0,0,1-2.06,0,1.78,1.78,0,0,1-1-1.61V39.87a1.78,1.78,0,0,1,1-1.61A2.06,2.06,0,0,1,80,38a2,2,0,0,1,1,.31L225.1,126.43a1.82,1.82,0,0,1,0,3.14Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M230.32,117.9,86.24,29.79a11.91,11.91,0,0,0-12.17-.23A11.71,11.71,0,0,0,68,39.89V216.11a11.71,11.71,0,0,0,6.07,10.33,11.91,11.91,0,0,0,12.17-.23L230.32,138.1a11.82,11.82,0,0,0,0-20.2Zm-4.18,13.37L82.06,219.39a4,4,0,0,1-4.07.07,3.77,3.77,0,0,1-2-3.35V39.89a3.77,3.77,0,0,1,2-3.35,4,4,0,0,1,4.07.07l144.08,88.12a3.8,3.8,0,0,1,0,6.54Z"}))]]),HJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm0-148a64,64,0,1,0,64,64A64.07,64.07,0,0,0,128,64Zm0,104a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M192,128a64,64,0,1,1-64-64A64,64,0,0,1,192,128Z",opacity:"0.2"}),W.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm0-160a72,72,0,1,0,72,72A72.08,72.08,0,0,0,128,56Zm0,128a56,56,0,1,1,56-56A56.06,56.06,0,0,1,128,184Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm72-88a72,72,0,1,1-72-72A72.08,72.08,0,0,1,200,128Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm0-160a70,70,0,1,0,70,70A70.08,70.08,0,0,0,128,58Zm0,128a58,58,0,1,1,58-58A58.07,58.07,0,0,1,128,186Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm0-160a72,72,0,1,0,72,72A72.08,72.08,0,0,0,128,56Zm0,128a56,56,0,1,1,56-56A56.06,56.06,0,0,1,128,184Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm0-160a68,68,0,1,0,68,68A68.07,68.07,0,0,0,128,60Zm0,128a60,60,0,1,1,60-60A60.07,60.07,0,0,1,128,188Z"}))]]),WJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-96,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96Zm104-60H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,200,136Zm-4,60H160V160h36Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm88-8H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Zm-96,96H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96,0H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,200,144Z",opacity:"0.2"}),W.createElement("path",{d:"M200,136H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48ZM104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm80-16H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm-96,96H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96,0H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-98,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,200,138Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm92-60H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM104,140H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm92-60H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,200,140Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Z"}))]]),GJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M178,78A84,84,0,1,0,78,178,84,84,0,1,0,178,78ZM220,160a60.75,60.75,0,0,1-.38,6.65l-44-44a83.62,83.62,0,0,0,4-19.39A59.83,59.83,0,0,1,220,160ZM36,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,36,96Zm67.28,83.66a83.62,83.62,0,0,0,19.39-4l44,44A60.75,60.75,0,0,1,160,220,59.83,59.83,0,0,1,103.28,179.66Zm88.53,31.18-46.73-46.73a85,85,0,0,0,19-19l46.73,46.73A60.45,60.45,0,0,1,191.81,210.84Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M232,160a72,72,0,0,1-143.6,7.6h0a73.37,73.37,0,0,0,7.6.4,72,72,0,0,0,72-72,73.37,73.37,0,0,0-.4-7.6h0A72,72,0,0,1,232,160Z",opacity:"0.2"}),W.createElement("path",{d:"M174.63,81.35a80,80,0,1,0-93.28,93.28,80,80,0,1,0,93.28-93.28ZM32,96a64,64,0,1,1,64,64A64.07,64.07,0,0,1,32,96ZM160,224A63.81,63.81,0,0,1,98,176,80.07,80.07,0,0,0,176,98,64,64,0,0,1,160,224Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M174.63,81.35a80,80,0,1,0-93.28,93.28,80,80,0,1,0,93.28-93.28ZM96,160a64,64,0,1,1,64-64A64.07,64.07,0,0,1,96,160Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M172.91,83.08a78,78,0,1,0-89.83,89.83,78,78,0,1,0,89.83-89.83ZM226,160a65.31,65.31,0,0,1-.62,8.9l-53.76-53.77A77.84,77.84,0,0,0,174,96c0-.17,0-.34,0-.51A65.8,65.8,0,0,1,226,160Zm-79.29-4.81,55.5,55.5A66,66,0,0,1,182.52,222l-54.8-54.81A77.86,77.86,0,0,0,146.71,155.19Zm8.48-8.48a77.86,77.86,0,0,0,12-19L222,182.52a66,66,0,0,1-11.35,19.69ZM30,96a66,66,0,1,1,66,66A66.08,66.08,0,0,1,30,96Zm65.49,78H96a77.84,77.84,0,0,0,19.13-2.38l53.77,53.76A65.87,65.87,0,0,1,95.49,174Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M174.63,81.35a80,80,0,1,0-93.28,93.28,80,80,0,1,0,93.28-93.28ZM224,160c0,1.52-.07,3-.18,4.51l-50-50A80.14,80.14,0,0,0,176,98,63.81,63.81,0,0,1,224,160Zm-77.4-2.09,52.61,52.62A64,64,0,0,1,183,219.7l-51.86-51.86A80.5,80.5,0,0,0,146.6,157.91Zm11.31-11.31a80.5,80.5,0,0,0,9.93-15.44L219.7,183a64,64,0,0,1-9.17,16.19ZM32,96a64,64,0,1,1,64,64A64.07,64.07,0,0,1,32,96ZM98,176a80.14,80.14,0,0,0,16.5-2.13l50,50c-1.49.11-3,.18-4.51.18A63.81,63.81,0,0,1,98,176Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M171.17,84.82a76,76,0,1,0-86.35,86.35,76,76,0,1,0,86.35-86.35ZM228,160a68.63,68.63,0,0,1-1.27,13.07l-57.34-57.34A76,76,0,0,0,172,96c0-1,0-2-.07-2.94A67.79,67.79,0,0,1,228,160Zm-81.19-7.54,58.33,58.34A68.14,68.14,0,0,1,182,224.33l-57.78-57.78A76.35,76.35,0,0,0,146.81,152.46Zm5.65-5.65a76.35,76.35,0,0,0,14.09-22.6L224.33,182a68.14,68.14,0,0,1-13.53,23.15ZM28,96a68,68,0,1,1,68,68A68.07,68.07,0,0,1,28,96Zm65.06,75.93c1,0,2,.07,2.94.07a76,76,0,0,0,19.73-2.61l57.34,57.34A68.63,68.63,0,0,1,160,228,67.79,67.79,0,0,1,93.06,171.93Z"}))]]),KJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),W.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]),qJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M249.45,69.31a12,12,0,0,0-12.51,1L212,88.43V72a20,20,0,0,0-20-20H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V167.57l24.94,18.14A12,12,0,0,0,256,176V80A12,12,0,0,0,249.45,69.31ZM188,180H36V76H188Zm44-27.57-20-14.54V118.11l20-14.54Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,72V184a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8H192A8,8,0,0,1,200,72Z",opacity:"0.2"}),W.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M192,72V184a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V72A16,16,0,0,1,32,56H176A16,16,0,0,1,192,72Zm58,.25a8.23,8.23,0,0,0-6.63,1.22L209.78,95.86A4,4,0,0,0,208,99.19v57.62a4,4,0,0,0,1.78,3.33l33.78,22.52a8,8,0,0,0,8.58.19,8.33,8.33,0,0,0,3.86-7.17V80A8,8,0,0,0,250,72.25Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V155.21L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM194,184a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H192a2,2,0,0,1,2,2Zm48-19.21-36-24V115.21l36-24Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M249.89,76.47a4,4,0,0,0-4.11.2L204,104.53V72a12,12,0,0,0-12-12H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V151.47l41.78,27.86A4,4,0,0,0,252,176V80A4,4,0,0,0,249.89,76.47ZM196,184a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4H192a4,4,0,0,1,4,4Zm48-15.47-40-26.67V114.14l40-26.67Z"}))]]),YJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M249.45,69.31a12,12,0,0,0-12.51,1L212,88.43V72a20,20,0,0,0-20-20H123.88a12,12,0,0,0,0,24H188v68a12,12,0,0,0,4.46,9.33c.15.13.31.25.48.38l44,32A12,12,0,0,0,256,176V80A12,12,0,0,0,249.45,69.31ZM232,152.43l-20-14.54V118.11l20-14.54ZM56.88,31.93A12,12,0,1,0,39.12,48.07L42.69,52H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H180.87l18.25,20.07a12,12,0,0,0,17.76-16.14ZM36,180V76H64.51l94.55,104Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M200,72V184a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8H192A8,8,0,0,1,200,72Z",opacity:"0.2"}),W.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H113.06a8,8,0,0,0,0,16H192v87.63a8,8,0,0,0,16,0V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM240,161.05l-32-21.33V116.28L240,95ZM53.92,34.62A8,8,0,1,0,42.08,45.38L51.73,56H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H182.64l19.44,21.38a8,8,0,1,0,11.84-10.76ZM32,184V72H66.28L168.1,184Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M256,80.23v95.45a8.33,8.33,0,0,1-3.86,7.17,8,8,0,0,1-8.58-.19l-33.78-22.52a4,4,0,0,1-1.78-3.33V99.19a4,4,0,0,1,1.78-3.32l33.78-22.53a8,8,0,0,1,9.73.66A8.23,8.23,0,0,1,256,80.23ZM53.92,34.62A8,8,0,1,0,42.08,45.38L51.73,56H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H182.64l19.44,21.38a8,8,0,1,0,11.84-10.76ZM185,155.07a4,4,0,0,0,7-2.7V72a16,16,0,0,0-16-16H104a4,4,0,0,0-3,6.69Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H113.06a6,6,0,0,0,0,12H192a2,2,0,0,1,2,2v87.63a6,6,0,0,0,12,0v-4.42L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM242,164.79l-36-24V115.21l36-24ZM52.44,36A6,6,0,0,0,43.56,44L56.25,58H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H183.53l20,22a6,6,0,0,0,8.88-8.08ZM32,186a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H67.16L172.62,186Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H113.06a8,8,0,0,0,0,16H192v87.63a8,8,0,0,0,16,0V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM240,161.05l-32-21.33V116.28L240,95ZM53.92,34.62A8,8,0,1,0,42.08,45.38L51.73,56H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H182.64l19.44,21.38a8,8,0,1,0,11.84-10.76ZM32,184V72H66.28L168.1,184Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M249.89,76.47a4,4,0,0,0-4.11.2L204,104.53V72a12,12,0,0,0-12-12H113.06a4,4,0,0,0,0,8H192a4,4,0,0,1,4,4v87.63a4,4,0,0,0,8,0v-8.16l41.78,27.86A4,4,0,0,0,252,176V80A4,4,0,0,0,249.89,76.47ZM244,168.53l-40-26.67V114.14l40-26.67ZM51,37.31A4,4,0,0,0,45,42.69L60.78,60H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H184.41L205,218.69a4,4,0,1,0,5.92-5.38ZM32,188a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4H68.05L177.14,188Z"}))]]),ZJ=new Map([["bold",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",W.createElement(W.Fragment,null,W.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),W.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",W.createElement(W.Fragment,null,W.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",W.createElement(W.Fragment,null,W.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",W.createElement(W.Fragment,null,W.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",W.createElement(W.Fragment,null,W.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),XJ=j.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});var QJ=Object.defineProperty,w2=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,v8=Object.prototype.propertyIsEnumerable,y8=(t,e,n)=>e in t?QJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b8=(t,e)=>{for(var n in e||(e={}))g8.call(e,n)&&y8(t,n,e[n]);if(w2)for(var n of w2(e))v8.call(e,n)&&y8(t,n,e[n]);return t},w8=(t,e)=>{var n={};for(var r in t)g8.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&w2)for(var r of w2(t))e.indexOf(r)<0&&v8.call(t,r)&&(n[r]=t[r]);return n};const x8=j.forwardRef((t,e)=>{const n=t,{alt:r,color:i,size:o,weight:s,mirrored:l,children:f,weights:p}=n,m=w8(n,["alt","color","size","weight","mirrored","children","weights"]),g=j.useContext(XJ),{color:y="currentColor",size:x,weight:S="regular",mirrored:_=!1}=g,k=w8(g,["color","size","weight","mirrored"]);return W.createElement("svg",b8(b8({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??x,height:o??x,fill:i??y,viewBox:"0 0 256 256",transform:l||_?"scale(-1, 1)":void 0},k),m),!!r&&W.createElement("title",null,r),f,p.get(s??S))});x8.displayName="IconBase";const ra=x8;var JJ=Object.defineProperty,eee=Object.defineProperties,tee=Object.getOwnPropertyDescriptors,S8=Object.getOwnPropertySymbols,nee=Object.prototype.hasOwnProperty,ree=Object.prototype.propertyIsEnumerable,C8=(t,e,n)=>e in t?JJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iee=(t,e)=>{for(var n in e||(e={}))nee.call(e,n)&&C8(t,n,e[n]);if(S8)for(var n of S8(e))ree.call(e,n)&&C8(t,n,e[n]);return t},aee=(t,e)=>eee(t,tee(e));const E8=j.forwardRef((t,e)=>W.createElement(ra,aee(iee({ref:e},t),{weights:OJ})));E8.displayName="ArrowCounterClockwise";var oee=Object.defineProperty,see=Object.defineProperties,uee=Object.getOwnPropertyDescriptors,_8=Object.getOwnPropertySymbols,lee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,T8=(t,e,n)=>e in t?oee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fee=(t,e)=>{for(var n in e||(e={}))lee.call(e,n)&&T8(t,n,e[n]);if(_8)for(var n of _8(e))cee.call(e,n)&&T8(t,n,e[n]);return t},dee=(t,e)=>see(t,uee(e));const k8=j.forwardRef((t,e)=>W.createElement(ra,dee(fee({ref:e},t),{weights:$J})));k8.displayName="ArrowsOutSimple";var pee=Object.defineProperty,hee=Object.defineProperties,mee=Object.getOwnPropertyDescriptors,N8=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty,vee=Object.prototype.propertyIsEnumerable,R8=(t,e,n)=>e in t?pee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yee=(t,e)=>{for(var n in e||(e={}))gee.call(e,n)&&R8(t,n,e[n]);if(N8)for(var n of N8(e))vee.call(e,n)&&R8(t,n,e[n]);return t},bee=(t,e)=>hee(t,mee(e));const A8=j.forwardRef((t,e)=>W.createElement(ra,bee(yee({ref:e},t),{weights:IJ})));A8.displayName="CaretDown";var wee=Object.defineProperty,xee=Object.defineProperties,See=Object.getOwnPropertyDescriptors,D8=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,O8=(t,e,n)=>e in t?wee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_ee=(t,e)=>{for(var n in e||(e={}))Cee.call(e,n)&&O8(t,n,e[n]);if(D8)for(var n of D8(e))Eee.call(e,n)&&O8(t,n,e[n]);return t},Tee=(t,e)=>xee(t,See(e));const $8=j.forwardRef((t,e)=>W.createElement(ra,Tee(_ee({ref:e},t),{weights:PJ})));$8.displayName="Check";var kee=Object.defineProperty,Nee=Object.defineProperties,Ree=Object.getOwnPropertyDescriptors,I8=Object.getOwnPropertySymbols,Aee=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,P8=(t,e,n)=>e in t?kee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oee=(t,e)=>{for(var n in e||(e={}))Aee.call(e,n)&&P8(t,n,e[n]);if(I8)for(var n of I8(e))Dee.call(e,n)&&P8(t,n,e[n]);return t},$ee=(t,e)=>Nee(t,Ree(e));const M8=j.forwardRef((t,e)=>W.createElement(ra,$ee(Oee({ref:e},t),{weights:MJ})));M8.displayName="CornersIn";var Iee=Object.defineProperty,Pee=Object.defineProperties,Mee=Object.getOwnPropertyDescriptors,L8=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,F8=(t,e,n)=>e in t?Iee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vee=(t,e)=>{for(var n in e||(e={}))Lee.call(e,n)&&F8(t,n,e[n]);if(L8)for(var n of L8(e))Fee.call(e,n)&&F8(t,n,e[n]);return t},jee=(t,e)=>Pee(t,Mee(e));const vT=j.forwardRef((t,e)=>W.createElement(ra,jee(Vee({ref:e},t),{weights:LJ})));vT.displayName="Cursor";var zee=Object.defineProperty,Bee=Object.defineProperties,Uee=Object.getOwnPropertyDescriptors,V8=Object.getOwnPropertySymbols,Hee=Object.prototype.hasOwnProperty,Wee=Object.prototype.propertyIsEnumerable,j8=(t,e,n)=>e in t?zee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gee=(t,e)=>{for(var n in e||(e={}))Hee.call(e,n)&&j8(t,n,e[n]);if(V8)for(var n of V8(e))Wee.call(e,n)&&j8(t,n,e[n]);return t},Kee=(t,e)=>Bee(t,Uee(e));const z8=j.forwardRef((t,e)=>W.createElement(ra,Kee(Gee({ref:e},t),{weights:FJ})));z8.displayName="DotsSixVertical";var qee=Object.defineProperty,Yee=Object.defineProperties,Zee=Object.getOwnPropertyDescriptors,B8=Object.getOwnPropertySymbols,Xee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,U8=(t,e,n)=>e in t?qee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jee=(t,e)=>{for(var n in e||(e={}))Xee.call(e,n)&&U8(t,n,e[n]);if(B8)for(var n of B8(e))Qee.call(e,n)&&U8(t,n,e[n]);return t},ete=(t,e)=>Yee(t,Zee(e));const H8=j.forwardRef((t,e)=>W.createElement(ra,ete(Jee({ref:e},t),{weights:VJ})));H8.displayName="Microphone";var tte=Object.defineProperty,nte=Object.defineProperties,rte=Object.getOwnPropertyDescriptors,W8=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ate=Object.prototype.propertyIsEnumerable,G8=(t,e,n)=>e in t?tte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ote=(t,e)=>{for(var n in e||(e={}))ite.call(e,n)&&G8(t,n,e[n]);if(W8)for(var n of W8(e))ate.call(e,n)&&G8(t,n,e[n]);return t},ste=(t,e)=>nte(t,rte(e));const K8=j.forwardRef((t,e)=>W.createElement(ra,ste(ote({ref:e},t),{weights:jJ})));K8.displayName="MicrophoneSlash";var ute=Object.defineProperty,lte=Object.defineProperties,cte=Object.getOwnPropertyDescriptors,q8=Object.getOwnPropertySymbols,fte=Object.prototype.hasOwnProperty,dte=Object.prototype.propertyIsEnumerable,Y8=(t,e,n)=>e in t?ute(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pte=(t,e)=>{for(var n in e||(e={}))fte.call(e,n)&&Y8(t,n,e[n]);if(q8)for(var n of q8(e))dte.call(e,n)&&Y8(t,n,e[n]);return t},hte=(t,e)=>lte(t,cte(e));const Z8=j.forwardRef((t,e)=>W.createElement(ra,hte(pte({ref:e},t),{weights:zJ})));Z8.displayName="Pause";var mte=Object.defineProperty,gte=Object.defineProperties,vte=Object.getOwnPropertyDescriptors,X8=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,Q8=(t,e,n)=>e in t?mte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wte=(t,e)=>{for(var n in e||(e={}))yte.call(e,n)&&Q8(t,n,e[n]);if(X8)for(var n of X8(e))bte.call(e,n)&&Q8(t,n,e[n]);return t},xte=(t,e)=>gte(t,vte(e));const J8=j.forwardRef((t,e)=>W.createElement(ra,xte(wte({ref:e},t),{weights:BJ})));J8.displayName="PencilSimple";var Ste=Object.defineProperty,Cte=Object.defineProperties,Ete=Object.getOwnPropertyDescriptors,eM=Object.getOwnPropertySymbols,_te=Object.prototype.hasOwnProperty,Tte=Object.prototype.propertyIsEnumerable,tM=(t,e,n)=>e in t?Ste(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kte=(t,e)=>{for(var n in e||(e={}))_te.call(e,n)&&tM(t,n,e[n]);if(eM)for(var n of eM(e))Tte.call(e,n)&&tM(t,n,e[n]);return t},Nte=(t,e)=>Cte(t,Ete(e));const nM=j.forwardRef((t,e)=>W.createElement(ra,Nte(kte({ref:e},t),{weights:UJ})));nM.displayName="Play";var Rte=Object.defineProperty,Ate=Object.defineProperties,Dte=Object.getOwnPropertyDescriptors,rM=Object.getOwnPropertySymbols,Ote=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,iM=(t,e,n)=>e in t?Rte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ite=(t,e)=>{for(var n in e||(e={}))Ote.call(e,n)&&iM(t,n,e[n]);if(rM)for(var n of rM(e))$te.call(e,n)&&iM(t,n,e[n]);return t},Pte=(t,e)=>Ate(t,Dte(e));const aM=j.forwardRef((t,e)=>W.createElement(ra,Pte(Ite({ref:e},t),{weights:HJ})));aM.displayName="Record";var Mte=Object.defineProperty,Lte=Object.defineProperties,Fte=Object.getOwnPropertyDescriptors,oM=Object.getOwnPropertySymbols,Vte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,sM=(t,e,n)=>e in t?Mte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zte=(t,e)=>{for(var n in e||(e={}))Vte.call(e,n)&&sM(t,n,e[n]);if(oM)for(var n of oM(e))jte.call(e,n)&&sM(t,n,e[n]);return t},Bte=(t,e)=>Lte(t,Fte(e));const uM=j.forwardRef((t,e)=>W.createElement(ra,Bte(zte({ref:e},t),{weights:WJ})));uM.displayName="SquaresFour";var Ute=Object.defineProperty,Hte=Object.defineProperties,Wte=Object.getOwnPropertyDescriptors,lM=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,cM=(t,e,n)=>e in t?Ute(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qte=(t,e)=>{for(var n in e||(e={}))Gte.call(e,n)&&cM(t,n,e[n]);if(lM)for(var n of lM(e))Kte.call(e,n)&&cM(t,n,e[n]);return t},Yte=(t,e)=>Hte(t,Wte(e));const fM=j.forwardRef((t,e)=>W.createElement(ra,Yte(qte({ref:e},t),{weights:GJ})));fM.displayName="Subtract";var Zte=Object.defineProperty,Xte=Object.defineProperties,Qte=Object.getOwnPropertyDescriptors,dM=Object.getOwnPropertySymbols,Jte=Object.prototype.hasOwnProperty,ene=Object.prototype.propertyIsEnumerable,pM=(t,e,n)=>e in t?Zte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tne=(t,e)=>{for(var n in e||(e={}))Jte.call(e,n)&&pM(t,n,e[n]);if(dM)for(var n of dM(e))ene.call(e,n)&&pM(t,n,e[n]);return t},nne=(t,e)=>Xte(t,Qte(e));const hM=j.forwardRef((t,e)=>W.createElement(ra,nne(tne({ref:e},t),{weights:KJ})));hM.displayName="Trash";var rne=Object.defineProperty,ine=Object.defineProperties,ane=Object.getOwnPropertyDescriptors,mM=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,sne=Object.prototype.propertyIsEnumerable,gM=(t,e,n)=>e in t?rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,une=(t,e)=>{for(var n in e||(e={}))one.call(e,n)&&gM(t,n,e[n]);if(mM)for(var n of mM(e))sne.call(e,n)&&gM(t,n,e[n]);return t},lne=(t,e)=>ine(t,ane(e));const yT=j.forwardRef((t,e)=>W.createElement(ra,lne(une({ref:e},t),{weights:qJ})));yT.displayName="VideoCamera";var cne=Object.defineProperty,fne=Object.defineProperties,dne=Object.getOwnPropertyDescriptors,vM=Object.getOwnPropertySymbols,pne=Object.prototype.hasOwnProperty,hne=Object.prototype.propertyIsEnumerable,yM=(t,e,n)=>e in t?cne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mne=(t,e)=>{for(var n in e||(e={}))pne.call(e,n)&&yM(t,n,e[n]);if(vM)for(var n of vM(e))hne.call(e,n)&&yM(t,n,e[n]);return t},gne=(t,e)=>fne(t,dne(e));const bM=j.forwardRef((t,e)=>W.createElement(ra,gne(mne({ref:e},t),{weights:YJ})));bM.displayName="VideoCameraSlash";var vne=Object.defineProperty,yne=Object.defineProperties,bne=Object.getOwnPropertyDescriptors,wM=Object.getOwnPropertySymbols,wne=Object.prototype.hasOwnProperty,xne=Object.prototype.propertyIsEnumerable,xM=(t,e,n)=>e in t?vne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sne=(t,e)=>{for(var n in e||(e={}))wne.call(e,n)&&xM(t,n,e[n]);if(wM)for(var n of wM(e))xne.call(e,n)&&xM(t,n,e[n]);return t},Cne=(t,e)=>yne(t,bne(e));const SM=j.forwardRef((t,e)=>W.createElement(ra,Cne(Sne({ref:e},t),{weights:ZJ})));SM.displayName="X";const bT=["@-webkit-keyframes rekorder-io-slide-down-fade-in{from{opacity:0;-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@keyframes rekorder-io-slide-down-fade-in{from{opacity:0;-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@-webkit-keyframes rekorder-io-slide-up-fade-in{from{opacity:0;-webkit-transform:translateY(4px);-ms-transform:translateY(4px);transform:translateY(4px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@keyframes rekorder-io-slide-up-fade-in{from{opacity:0;-webkit-transform:translateY(4px);-ms-transform:translateY(4px);transform:translateY(4px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@-webkit-keyframes rekorder-io-slide-left-fade-in{from{opacity:0;-webkit-transform:translateX(-4px);-ms-transform:translateX(-4px);transform:translateX(-4px);}to{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@keyframes rekorder-io-slide-left-fade-in{from{opacity:0;-webkit-transform:translateX(-4px);-ms-transform:translateX(-4px);transform:translateX(-4px);}to{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@-webkit-keyframes rekorder-io-slide-right-fade-in{from{opacity:0;-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}to{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@keyframes rekorder-io-slide-right-fade-in{from{opacity:0;-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}to{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}","@-webkit-keyframes rekorder-io-zoom-in-fade-in{from{opacity:0;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}to{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}","@keyframes rekorder-io-zoom-in-fade-in{from{opacity:0;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}to{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}","@-webkit-keyframes rekorder-io-zoom-out-fade-out{from{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}to{opacity:0;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}}","@keyframes rekorder-io-zoom-out-fade-out{from{opacity:1;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}to{opacity:0;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}}","@-webkit-keyframes rekorder-io-fade-in{from{opacity:0;}to{opacity:1;}}","@keyframes rekorder-io-fade-in{from{opacity:0;}to{opacity:1;}}","@-webkit-keyframes rekorder-io-fade-out{from{opacity:1;}to{opacity:0;}}","@keyframes rekorder-io-fade-out{from{opacity:1;}to{opacity:0;}}","@-webkit-keyframes rekorder-io-slide-down-fade-out{from{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}to{opacity:0;-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);}}","@keyframes rekorder-io-slide-down-fade-out{from{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}to{opacity:0;-webkit-transform:translateY(-4px);-ms-transform:translateY(-4px);transform:translateY(-4px);}}","@-webkit-keyframes rekorder-io-slide-up-fade-out{from{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}to{opacity:0;-webkit-transform:translateY(4px);-ms-transform:translateY(4px);transform:translateY(4px);}}","@keyframes rekorder-io-slide-up-fade-out{from{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}to{opacity:0;-webkit-transform:translateY(4px);-ms-transform:translateY(4px);transform:translateY(4px);}}","@-webkit-keyframes rekorder-io-slide-left-fade-out{from{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}to{opacity:0;-webkit-transform:translateX(-4px);-ms-transform:translateX(-4px);transform:translateX(-4px);}}","@keyframes rekorder-io-slide-left-fade-out{from{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}to{opacity:0;-webkit-transform:translateX(-4px);-ms-transform:translateX(-4px);transform:translateX(-4px);}}","@-webkit-keyframes rekorder-io-slide-right-fade-out{from{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}to{opacity:0;-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}}","@keyframes rekorder-io-slide-right-fade-out{from{opacity:1;-webkit-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}to{opacity:0;-webkit-transform:translateX(4px);-ms-transform:translateX(4px);transform:translateX(4px);}}","@-webkit-keyframes rekorder-io-ping{75%,100%{-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);opacity:0;}}","@keyframes rekorder-io-ping{75%,100%{-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);opacity:0;}}","@-webkit-keyframes rekorder-io-pulse{0%,100%{opacity:1;}50%{opacity:0.5;}}","@keyframes rekorder-io-pulse{0%,100%{opacity:1;}50%{opacity:0.5;}}","@-webkit-keyframes rekorder-io-spin{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rekorder-io-spin{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"];bT.__hash="753148338";const ni={spin:"rekorder-io-spin",ping:"rekorder-io-ping",pulse:"rekorder-io-pulse","slide-up-fade-in":"rekorder-io-slide-up-fade-in","slide-down-fade-in":"rekorder-io-slide-down-fade-in","slide-left-fade-in":"rekorder-io-slide-left-fade-in","slide-right-fade-in":"rekorder-io-slide-right-fade-in","zoom-in-fade-in":"rekorder-io-zoom-in-fade-in","zoom-out-fade-out":"rekorder-io-zoom-out-fade-out","fade-in":"rekorder-io-fade-in","fade-out":"rekorder-io-fade-out","slide-up-fade-out":"rekorder-io-slide-up-fade-out","slide-down-fade-out":"rekorder-io-slide-down-fade-out","slide-left-fade-out":"rekorder-io-slide-left-fade-out","slide-right-fade-out":"rekorder-io-slide-right-fade-out"},CM={ping:"rekorder-io-ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"rekorder-io-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",spin:"spin 1s linear infinite"},EM=j.createContext(null);function _M(){const t=j.useContext(EM);if(!t)throw new Error("This component must be used within the <Select /> component.");return t}function ia({size:t="medium",...e}){return B.jsx(EM.Provider,{value:{size:t},children:B.jsx(vJ,{...e})})}const wT={styles:B.jsx(ei,{id:"3584851846",children:["*.jsx-3584851846,*.jsx-3584851846::before,*.jsx-3584851846::after{box-sizing:border-box;}","*.jsx-3584851846{margin:0;}","button.jsx-3584851846{font:inherit;}",`.trigger.jsx-3584851846{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(4)};cursor:pointer;font-weight:400;font-family:${Q.fonts.default};color:${Q.colors.background.text};background-color:${Q.colors.core.white};box-shadow:${Q.shadow().xs};border:1px solid ${Q.colors.borders.input};-webkit-transition:background-color 200ms ease-in-out,border-color 200ms ease-in-out;transition:background-color 200ms ease-in-out,border-color 200ms ease-in-out;}`,`.trigger[data-placeholder].jsx-3584851846{color:${Q.colors.accent.dark};}`,`.trigger.jsx-3584851846:hover{background-color:${Q.colors.background.light};}`,`.trigger.jsx-3584851846:focus{outline:none;border-color:${Q.colors.primary.main};box-shadow:${Q.ring({ring:{color:Q.alpha(Q.colors.primary.main,.25)}})};}`,`.trigger.large.jsx-3584851846{height:${Q.space(11)};padding-left:${Q.space(3.5)};padding-right:${Q.space(3.5)};border-radius:${Q.space(3)};font-size:16px;}`,`.trigger.medium.jsx-3584851846{height:${Q.space(10)};padding-left:${Q.space(3.5)};padding-right:${Q.space(3.5)};border-radius:${Q.space(2.5)};font-size:14px;}`,`.trigger.small.jsx-3584851846{height:${Q.space(9)};padding-left:${Q.space(3.5)};padding-right:${Q.space(3.5)};border-radius:${Q.space(2)};font-size:14px;}`,`.trigger.jsx-3584851846 .icon.jsx-3584851846{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:${Q.colors.accent.main};}`]}),className:"jsx-3584851846"},TM=j.forwardRef(({className:t,children:e,placeholder:n,...r},i)=>{const{size:o}=_M();return B.jsxs(j.Fragment,{children:[wT.styles,B.jsxs(yJ,{ref:i,className:Je(wT.className,"trigger",o,t),...r,children:[e??B.jsx(bJ,{placeholder:n}),B.jsx(wJ,{className:Je(wT.className,"icon"),children:B.jsx(A8,{size:14,weight:"bold"})})]})]})});function Ene(t){return"options"in t}const Od={styles:B.jsx(ei,{id:"531071180",children:["*.jsx-531071180,*.jsx-531071180::before,*.jsx-531071180::after{box-sizing:border-box;}","*.jsx-531071180{margin:0;}",`.content.jsx-531071180{box-shadow:${Q.shadow().md};min-width:var(--radix-select-trigger-width);background-color:${Q.colors.core.white};padding:${Q.space(1.5)};font-family:${Q.fonts.default};border:1px solid ${Q.colors.borders.input};z-index:${Q.zIndex(100)};}`,`.content[data-state='open'].jsx-531071180{-webkit-animation-name:${ni["slide-down-fade-in"]};animation-name:${ni["slide-down-fade-in"]};-webkit-animation-duration:250ms;animation-duration:250ms;}`,`.content.large.jsx-531071180{border-radius:${Q.space(3)};}`,`.content.medium.jsx-531071180{border-radius:${Q.space(2.5)};}`,`.content.small.jsx-531071180{border-radius:${Q.space(2)};}`,`.content.jsx-531071180 .item.jsx-531071180{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(3)};padding:${Q.space(2.5)} ${Q.space(3.5)};border-radius:${Q.space(1.5)};font-size:14px;-webkit-transition:background-color 200ms ease-in-out;transition:background-color 200ms ease-in-out;cursor:pointer;}`,`.content.jsx-531071180 .item.jsx-531071180:focus{outline:none;background-color:${Q.colors.background.main};}`,`.content.jsx-531071180 .item.jsx-531071180:hover{outline:none;background-color:${Q.colors.background.main};}`,`.content.jsx-531071180 .label.jsx-531071180{font-size:12px;font-weight:600;padding:${Q.space(2)} ${Q.space(3)};color:${Q.colors.primary.dark};}`,`.content.jsx-531071180 .separator.jsx-531071180{height:1px;background-color:${Q.colors.borders.input};margin:${Q.space(1.5)} 0;}`]}),className:"jsx-531071180"},kM=j.forwardRef(({viewport:t,options:e,children:n,sideOffset:r=8,position:i="popper",...o},s)=>{const{size:l}=_M(),f=j.useCallback((p,m)=>Ene(p)?B.jsxs(j.Fragment,{children:[B.jsxs(xT,{children:[B.jsx(CT,{children:p.title}),p.options.map(f)]}),!e||m===e.length-1?null:B.jsx(ST,{})]},String([p.title,m])):B.jsx(ET,{disabled:p.disabled,value:p.value,children:p.label},p.value),[e]);return B.jsxs(j.Fragment,{children:[Od.styles,B.jsx(xJ,{children:B.jsxs(SJ,{className:Je(Od.className,"content",l),position:i,sideOffset:r,ref:s,...o,children:[B.jsx(RJ,{}),B.jsx(CJ,{ref:t,children:e?e.map(f):n}),B.jsx(AJ,{})]})})]})}),xT=j.forwardRef(({className:t,...e},n)=>B.jsx(EJ,{className:Je(Od.className,"group",t),ref:n,...e})),ST=j.forwardRef(({className:t,...e},n)=>B.jsx(DJ,{ref:n,className:Je(Od.className,"separator",t),...e})),CT=j.forwardRef(({className:t,...e},n)=>B.jsx(_J,{ref:n,className:Je(Od.className,"label",t),...e})),ET=j.forwardRef(({children:t,className:e,...n},r)=>B.jsxs(TJ,{className:Je(Od.className,"item",e),ref:r,...n,children:[B.jsx(kJ,{className:Je(Od.className,"text"),children:t}),B.jsx(NJ,{className:Je(Od.className,"indicator"),children:B.jsx($8,{size:16,weight:"bold",color:Q.colors.accent.dark})})]}));ia.Input=TM,ia.Content=kM,ia.Group=xT,ia.Separator=ST,ia.Label=CT,ia.Item=ET,ia.displayName="Select",TM.displayName="SelectInput",kM.displayName="SelectContent",xT.displayName="SelectGroup",ST.displayName="SelectSeparator",CT.displayName="SelectLabel",ET.displayName="SelectItem";var _T="Switch",[_ne,d$e]=df(_T),[Tne,kne]=_ne(_T),NM=j.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:l,value:f="on",onCheckedChange:p,form:m,...g}=t,[y,x]=j.useState(null),S=ti(e,I=>x(I)),_=j.useRef(!1),k=y?m||!!y.closest("form"):!0,[R=!1,O]=cc({prop:i,defaultProp:o,onChange:p});return B.jsxs(Tne,{scope:n,checked:R,disabled:l,children:[B.jsx(Gn.button,{type:"button",role:"switch","aria-checked":R,"aria-required":s,"data-state":DM(R),"data-disabled":l?"":void 0,disabled:l,value:f,...g,ref:S,onClick:Cn(t.onClick,I=>{O(P=>!P),k&&(_.current=I.isPropagationStopped(),_.current||I.stopPropagation())})}),k&&B.jsx(Nne,{control:y,bubbles:!_.current,name:r,value:f,checked:R,required:s,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});NM.displayName=_T;var RM="SwitchThumb",AM=j.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=kne(RM,n);return B.jsx(Gn.span,{"data-state":DM(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});AM.displayName=RM;var Nne=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=j.useRef(null),s=TP(n),l=gP(e);return j.useEffect(()=>{const f=o.current,p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(s!==n&&g){const y=new Event("click",{bubbles:r});g.call(f,n),f.dispatchEvent(y)}},[s,n,r]),B.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DM(t){return t?"checked":"unchecked"}var Rne=NM,Ane=AM;const TT={styles:B.jsx(ei,{id:"3499186073",children:["*.jsx-3499186073,*.jsx-3499186073::before,*.jsx-3499186073::after{box-sizing:border-box;}","*.jsx-3499186073{margin:0;}","button.jsx-3499186073{font:inherit;}",`.root.jsx-3499186073{display:block;border-radius:999px;padding:${Q.space(.75)};background-color:${Q.colors.background.dark};border:1px solid ${Q.colors.background.dark};-webkit-transition:background-color 200ms ease,border-color 200ms ease;transition:background-color 200ms ease,border-color 200ms ease;}`,`.root.medium.jsx-3499186073{width:${Q.space(10)};height:${Q.space(6)};}`,`.root.small.jsx-3499186073{width:${Q.space(8)};height:${Q.space(5)};}`,".root.jsx-3499186073:disabled{opacity:0.6;cursor:not-allowed;}",".root.jsx-3499186073:focus{outline:none;}",`.root.jsx-3499186073:not(:disabled):hover{border-color:${Q.colors.accent.light};background-color:${Q.alpha(Q.colors.accent.main,.6)};}`,".root.jsx-3499186073:not(:disabled):active{--thumb-scale:0.9;}",`.root[data-state='checked'].jsx-3499186073{border-color:${Q.colors.primary.main} !important;background-color:${Q.colors.primary.main} !important;}`,`.thumb.jsx-3499186073{display:block;position:relative;border-radius:100%;box-shadow:${Q.shadow().sm};background-color:${Q.colors.core.white};-webkit-transform:translateX(var(--thumb-x,0)) scale(var(--thumb-scale,1));-ms-transform:translateX(var(--thumb-x,0)) scale(var(--thumb-scale,1));transform:translateX(var(--thumb-x,0)) scale(var(--thumb-scale,1));-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;}`,`.thumb.medium.jsx-3499186073{width:${Q.space(4.25)};height:${Q.space(4.25)};}`,`.thumb.small.jsx-3499186073{width:${Q.space(3.25)};height:${Q.space(3.25)};}`,`.thumb.medium[data-state='checked'].jsx-3499186073{--thumb-x:${Q.space(4)};}`,`.thumb.small[data-state='checked'].jsx-3499186073{--thumb-x:${Q.space(3)};}`,`.thumb.jsx-3499186073::before{content:'';display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:100%;-webkit-transition:background-color 200ms ease;transition:background-color 200ms ease;background-color:${Q.colors.background.dark};}`,`.thumb.medium.jsx-3499186073::before{width:${Q.space(1.5)};height:${Q.space(1.5)};}`,`.thumb.small.jsx-3499186073::before{width:${Q.space(1)};height:${Q.space(1)};}`,`.root.jsx-3499186073:not(:disabled):hover .thumb.jsx-3499186073::before{background-color:${Q.alpha(Q.colors.accent.main,.6)};}`,`.root[data-state='checked'].jsx-3499186073 .thumb.jsx-3499186073::before{background-color:${Q.colors.primary.main} !important;}`]}),className:"jsx-3499186073"},Su=j.forwardRef(({thumb:t,size:e="medium",className:n,...r},i)=>B.jsxs(j.Fragment,{children:[TT.styles,B.jsx(Rne,{className:Je(TT.className,"root",e,n),ref:i,...r,children:B.jsx(Ane,{...t,className:Je(TT.className,"thumb",e,t==null?void 0:t.className)})})]})),x2={styles:B.jsx(ei,{id:"753846974",children:["*.jsx-753846974,*.jsx-753846974::before,*.jsx-753846974::after{box-sizing:border-box;}","*.jsx-753846974{margin:0;}","button.jsx-753846974{font:inherit;}",`.root.jsx-753846974{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:12px;font-weight:500;font-family:${Q.fonts.default};height:${Q.space(6)};padding-left:${Q.space(2)};padding-right:${Q.space(2.5)};border-radius:${Q.space(2)};}`,`.root.jsx-753846974:has(.dot){gap:${Q.space(1.5)};}`,`.root.jsx-753846974:has(.icon){gap:${Q.space(2)};}`,`.root.default.jsx-753846974{color:${Q.colors.accent.dark};background-color:${Q.alpha(Q.colors.accent.light,.4)};}`,`.root.success.jsx-753846974{color:${Q.colors.success.dark};background-color:${Q.alpha(Q.colors.success.light,.3)};}`,`.root.warning.jsx-753846974{color:${Q.colors.warning.dark};background-color:${Q.alpha(Q.colors.warning.light,.3)};}`,`.root.error.jsx-753846974{color:${Q.colors.destructive.dark};background-color:${Q.alpha(Q.colors.destructive.light,.3)};}`,`.root.info.jsx-753846974{color:${Q.colors.info.dark};background-color:${Q.alpha(Q.colors.info.light,.3)};}`,`.dot.jsx-753846974{border-radius:100%;width:${Q.space(1.25)};height:${Q.space(1.25)};}`,`.dot.default.jsx-753846974{background-color:${Q.colors.accent.main};}`,`.dot.success.jsx-753846974{background-color:${Q.colors.success.main};}`,`.dot.warning.jsx-753846974{background-color:${Q.colors.warning.main};}`,`.dot.error.jsx-753846974{background-color:${Q.colors.destructive.main};}`,`.dot.info.jsx-753846974{background-color:${Q.colors.info.main};}`]}),className:"jsx-753846974"},OM=j.forwardRef(({asChild:t,variant:e="default",indicator:n="dot",children:r,className:i,...o},s)=>{const l=t?ff:"div";return B.jsxs(j.Fragment,{children:[x2.styles,B.jsxs(l,{ref:s,className:Je(x2.className,"root",e,i),...o,children:[n==="dot"?B.jsx("span",{className:Je(x2.className,"dot",e),"aria-hidden":"true"}):B.jsx("span",{className:Je(x2.className,"icon",e),"aria-hidden":"true"}),B.jsx("span",{children:r})]})]})});function Dne(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var wy=t=>{const{present:e,children:n}=t,r=One(e),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),o=ti(r.ref,$ne(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:o}):null};wy.displayName="Presence";function One(t){const[e,n]=j.useState(),r=j.useRef({}),i=j.useRef(t),o=j.useRef("none"),s=t?"mounted":"unmounted",[l,f]=Dne(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const p=S2(r.current);o.current=l==="mounted"?p:"none"},[l]),$o(()=>{const p=r.current,m=i.current;if(m!==t){const y=o.current,x=S2(p);t?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&y!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),$o(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,g=x=>{const _=S2(r.current).includes(x.animationName);if(x.target===e&&_&&(f("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},y=x=>{x.target===e&&(o.current=S2(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function S2(t){return(t==null?void 0:t.animationName)||"none"}function $ne(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var[C2,p$e]=df("Tooltip",[gg]),E2=gg(),$M="TooltipProvider",Ine=700,kT="tooltip.open",[Pne,NT]=C2($M),IM=t=>{const{__scopeTooltip:e,delayDuration:n=Ine,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,[s,l]=j.useState(!0),f=j.useRef(!1),p=j.useRef(0);return j.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),B.jsx(Pne,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(p.current),l(!1)},[]),onClose:j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:j.useCallback(m=>{f.current=m},[]),disableHoverableContent:i,children:o})};IM.displayName=$M;var _2="Tooltip",[Mne,xy]=C2(_2),PM=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:l}=t,f=NT(_2,t.__scopeTooltip),p=E2(e),[m,g]=j.useState(null),y=fh(),x=j.useRef(0),S=s??f.disableHoverableContent,_=l??f.delayDuration,k=j.useRef(!1),[R=!1,O]=cc({prop:r,defaultProp:i,onChange:Y=>{Y?(f.onOpen(),document.dispatchEvent(new CustomEvent(kT))):f.onClose(),o==null||o(Y)}}),I=j.useMemo(()=>R?k.current?"delayed-open":"instant-open":"closed",[R]),P=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,k.current=!1,O(!0)},[O]),F=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,O(!1)},[O]),K=j.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{k.current=!0,O(!0),x.current=0},_)},[_,O]);return j.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),B.jsx(eT,{...p,children:B.jsx(Mne,{scope:e,contentId:y,open:R,stateAttribute:I,trigger:m,onTriggerChange:g,onTriggerEnter:j.useCallback(()=>{f.isOpenDelayed?K():P()},[f.isOpenDelayed,K,P]),onTriggerLeave:j.useCallback(()=>{S?F():(window.clearTimeout(x.current),x.current=0)},[F,S]),onOpen:P,onClose:F,disableHoverableContent:S,children:n})})};PM.displayName=_2;var RT="TooltipTrigger",MM=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=xy(RT,n),o=NT(RT,n),s=E2(n),l=j.useRef(null),f=ti(e,l,i.onTriggerChange),p=j.useRef(!1),m=j.useRef(!1),g=j.useCallback(()=>p.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),B.jsx(u2,{asChild:!0,...s,children:B.jsx(Gn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:f,onPointerMove:Cn(t.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:Cn(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:Cn(t.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Cn(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:Cn(t.onBlur,i.onClose),onClick:Cn(t.onClick,i.onClose)})})});MM.displayName=RT;var AT="TooltipPortal",[Lne,Fne]=C2(AT,{forceMount:void 0}),LM=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,o=xy(AT,e);return B.jsx(Lne,{scope:e,forceMount:n,children:B.jsx(wy,{present:n||o.open,children:B.jsx(rT,{asChild:!0,container:i,children:r})})})};LM.displayName=AT;var Sg="TooltipContent",FM=j.forwardRef((t,e)=>{const n=Fne(Sg,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=xy(Sg,t.__scopeTooltip);return B.jsx(wy,{present:r||s.open,children:s.disableHoverableContent?B.jsx(VM,{side:i,...o,ref:e}):B.jsx(Vne,{side:i,...o,ref:e})})}),Vne=j.forwardRef((t,e)=>{const n=xy(Sg,t.__scopeTooltip),r=NT(Sg,t.__scopeTooltip),i=j.useRef(null),o=ti(e,i),[s,l]=j.useState(null),{trigger:f,onClose:p}=n,m=i.current,{onPointerInTransitChange:g}=r,y=j.useCallback(()=>{l(null),g(!1)},[g]),x=j.useCallback((S,_)=>{const k=S.currentTarget,R={x:S.clientX,y:S.clientY},O=Bne(R,k.getBoundingClientRect()),I=Une(R,O),P=Hne(_.getBoundingClientRect()),F=Gne([...I,...P]);l(F),g(!0)},[g]);return j.useEffect(()=>()=>y(),[y]),j.useEffect(()=>{if(f&&m){const S=k=>x(k,m),_=k=>x(k,f);return f.addEventListener("pointerleave",S),m.addEventListener("pointerleave",_),()=>{f.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",_)}}},[f,m,x,y]),j.useEffect(()=>{if(s){const S=_=>{const k=_.target,R={x:_.clientX,y:_.clientY},O=(f==null?void 0:f.contains(k))||(m==null?void 0:m.contains(k)),I=!Wne(R,s);O?y():I&&(y(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,m,s,p,y]),B.jsx(VM,{...t,ref:o})}),[jne,zne]=C2(_2,{isInside:!1}),VM=j.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...l}=t,f=xy(Sg,n),p=E2(n),{onClose:m}=f;return j.useEffect(()=>(document.addEventListener(kT,m),()=>document.removeEventListener(kT,m)),[m]),j.useEffect(()=>{if(f.trigger){const g=y=>{const x=y.target;x!=null&&x.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),B.jsx(Qw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:B.jsxs(tT,{"data-state":f.stateAttribute,...p,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(MI,{children:r}),B.jsx(jne,{scope:n,isInside:!0,children:B.jsx(pQ,{id:f.contentId,role:"tooltip",children:i||r})})]})})});FM.displayName=Sg;var jM="TooltipArrow",zM=j.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=E2(n);return zne(jM,n).isInside?null:B.jsx(nT,{...i,...r,ref:e})});zM.displayName=jM;function Bne(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Une(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Hne(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Wne(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const l=e[o].x,f=e[o].y,p=e[s].x,m=e[s].y;f>r!=m>r&&n<(p-l)*(r-f)/(m-f)+l&&(i=!i)}return i}function Gne(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Kne(e)}function Kne(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var BM=PM,UM=MM,HM=LM,qne=FM,Yne=zM;function WM({children:t}){return B.jsxs(j.Fragment,{children:[B.jsx(ei,{id:bT.__hash,children:bT}),t]})}const DT={styles:B.jsx(ei,{id:"3984907695",children:["*.jsx-3984907695,*.jsx-3984907695::before,*.jsx-3984907695::after{box-sizing:border-box;}","*.jsx-3984907695{margin:0;}",`.content.jsx-3984907695{box-shadow:${Q.shadow().md};border-radius:${Q.space(2)};padding:${Q.space(2)} ${Q.space(3)};font-size:13px;font-family:${Q.fonts.default};z-index:${Q.zIndex(100)};-webkit-animation-duration:300ms;animation-duration:300ms;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;}`,`.content.dark.jsx-3984907695{color:${Q.colors.core.white};background-color:${Q.colors.core.black};}`,`.content.light.jsx-3984907695{color:${Q.colors.background.text};background-color:${Q.colors.core.white};border:1px solid ${Q.colors.borders.input};}`,`.content[data-side='top'].jsx-3984907695{-webkit-animation-name:${ni["slide-up-fade-in"]};animation-name:${ni["slide-up-fade-in"]};}`,`.content[data-side='right'].jsx-3984907695{-webkit-animation-name:${ni["slide-left-fade-in"]};animation-name:${ni["slide-left-fade-in"]};}`,`.content[data-side='bottom'].jsx-3984907695{-webkit-animation-name:${ni["slide-down-fade-in"]};animation-name:${ni["slide-down-fade-in"]};}`,`.content[data-side='left'].jsx-3984907695{-webkit-animation-name:${ni["slide-right-fade-in"]};animation-name:${ni["slide-right-fade-in"]};}`,`.arrow.jsx-3984907695{-webkit-transform:translateY(-50%) rotate(-45deg);-ms-transform:translateY(-50%) rotate(-45deg);transform:translateY(-50%) rotate(-45deg);-webkit-clip-path:polygon(0 100%,0 0,100% 100%);clip-path:polygon(0 100%,0 0,100% 100%);border-bottom-left-radius:${Q.space(.5)};}`,`.content.dark.jsx-3984907695 .arrow.jsx-3984907695{background-color:${Q.colors.core.black};height:${Q.space(2)};width:${Q.space(2)};}`,`.content.light.jsx-3984907695 .arrow.jsx-3984907695{border:1px solid ${Q.colors.borders.input};background-color:${Q.colors.core.white};height:${Q.space(2.25)};width:${Q.space(2.25)};}`]}),className:"jsx-3984907695"},$d=j.forwardRef(({content:t,arrow:e,portal:n,side:r,sideOffset:i=4,align:o,alignOffset:s,colorScheme:l,...f},p)=>B.jsxs(WM,{children:[DT.styles,B.jsxs(BM,{...f,children:[B.jsx(UM,{asChild:!0,children:f.children}),B.jsx(GM,{ref:p,arrow:e,portal:n,side:r,align:o,sideOffset:i,alignOffset:s,colorScheme:l,children:t})]})]})),GM=j.forwardRef(({children:t,arrow:e=!0,portal:n=!0,align:r="center",side:i="top",colorScheme:o="dark",...s},l)=>{const f=n?HM:j.Fragment;return B.jsx(f,{children:B.jsxs(qne,{ref:l,side:i,className:Je(DT.className,"content",o),align:r,...s,children:[t,e?B.jsx(KM,{}):null]})})}),KM=j.forwardRef((t,e)=>B.jsx(Yne,{asChild:!0,ref:e,...t,children:B.jsx("div",{className:Je(DT.className,"arrow")})}));$d.Provider=IM,$d.Root=BM,$d.Trigger=UM,$d.Portal=HM,$d.Arrow=KM,$d.Content=GM;const qM={styles:B.jsx(ei,{id:"4291171927",children:[`.divider.vertical.jsx-4291171927{height:100%;width:1.5px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;background-color:${Q.alpha(Q.colors.borders.input,1)};}`,`.divider.horizontal.jsx-4291171927{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:100%;position:relative;font-family:${Q.fonts.default};}`,`.divider.horizontal.line.jsx-4291171927{height:1px;background-color:${Q.alpha(Q.colors.borders.input,1)};}`,`.divider.horizontal.text.jsx-4291171927{font-size:12px;color:${Q.colors.accent.main};gap:${Q.space(2.5)};}`,`.divider.horizontal.text.jsx-4291171927::before,.divider.horizontal.text.jsx-4291171927::after{content:'';-webkit-flex:1;-ms-flex:1;flex:1;height:1px;width:100%;background-color:${Q.alpha(Q.colors.borders.input,1)};}`]}),className:"jsx-4291171927"},Zne=j.forwardRef(({className:t,orientation:e="horizontal",children:n,...r},i)=>{const o=n?"text":"line";return B.jsxs(j.Fragment,{children:[qM.styles,B.jsx("div",{ref:i,role:"separator",className:Je(qM.className,"divider",e,o,t),...r,children:n})]})});var OT="rovingFocusGroup.onEntryFocus",Xne={bubbles:!1,cancelable:!0},T2="RovingFocusGroup",[$T,YM,Qne]=jI(T2),[Jne,k2]=df(T2,[Qne]),[ere,tre]=Jne(T2),ZM=j.forwardRef((t,e)=>B.jsx($T.Provider,{scope:t.__scopeRovingFocusGroup,children:B.jsx($T.Slot,{scope:t.__scopeRovingFocusGroup,children:B.jsx(nre,{...t,ref:e})})}));ZM.displayName=T2;var nre=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...g}=t,y=j.useRef(null),x=ti(e,y),S=Xw(o),[_=null,k]=cc({prop:s,defaultProp:l,onChange:f}),[R,O]=j.useState(!1),I=oc(p),P=YM(n),F=j.useRef(!1),[K,Y]=j.useState(0);return j.useEffect(()=>{const te=y.current;if(te)return te.addEventListener(OT,I),()=>te.removeEventListener(OT,I)},[I]),B.jsx(ere,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:_,onItemFocus:j.useCallback(te=>k(te),[k]),onItemShiftTab:j.useCallback(()=>O(!0),[]),onFocusableItemAdd:j.useCallback(()=>Y(te=>te+1),[]),onFocusableItemRemove:j.useCallback(()=>Y(te=>te-1),[]),children:B.jsx(Gn.div,{tabIndex:R||K===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:Cn(t.onMouseDown,()=>{F.current=!0}),onFocus:Cn(t.onFocus,te=>{const fe=!F.current;if(te.target===te.currentTarget&&fe&&!R){const ye=new CustomEvent(OT,Xne);if(te.currentTarget.dispatchEvent(ye),!ye.defaultPrevented){const de=P().filter($e=>$e.focusable),Pe=de.find($e=>$e.active),xe=de.find($e=>$e.id===_),je=[Pe,xe,...de].filter(Boolean).map($e=>$e.ref.current);JM(je,m)}}F.current=!1}),onBlur:Cn(t.onBlur,()=>O(!1))})})}),XM="RovingFocusGroupItem",QM=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,l=fh(),f=o||l,p=tre(XM,n),m=p.currentTabStopId===f,g=YM(n),{onFocusableItemAdd:y,onFocusableItemRemove:x}=p;return j.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),B.jsx($T.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:B.jsx(Gn.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...s,ref:e,onMouseDown:Cn(t.onMouseDown,S=>{r?p.onItemFocus(f):S.preventDefault()}),onFocus:Cn(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:Cn(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=are(S,p.orientation,p.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=g().filter(O=>O.focusable).map(O=>O.ref.current);if(_==="last")R.reverse();else if(_==="prev"||_==="next"){_==="prev"&&R.reverse();const O=R.indexOf(S.currentTarget);R=p.loop?ore(R,O+1):R.slice(O+1)}setTimeout(()=>JM(R))}})})})});QM.displayName=XM;var rre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ire(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function are(t,e,n){const r=ire(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rre[r]}function JM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ore(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eL=ZM,tL=QM,IT="Tabs",[sre,h$e]=df(IT,[k2]),nL=k2(),[ure,PT]=sre(IT),rL=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:l,activationMode:f="automatic",...p}=t,m=Xw(l),[g,y]=cc({prop:r,onChange:i,defaultProp:o});return B.jsx(ure,{scope:n,baseId:fh(),value:g,onValueChange:y,orientation:s,dir:m,activationMode:f,children:B.jsx(Gn.div,{dir:m,"data-orientation":s,...p,ref:e})})});rL.displayName=IT;var iL="TabsList",aL=j.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=PT(iL,n),s=nL(n);return B.jsx(eL,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:B.jsx(Gn.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});aL.displayName=iL;var oL="TabsTrigger",sL=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=PT(oL,n),l=nL(n),f=cL(s.baseId,r),p=fL(s.baseId,r),m=r===s.value;return B.jsx(tL,{asChild:!0,...l,focusable:!i,active:m,children:B.jsx(Gn.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...o,ref:e,onMouseDown:Cn(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?s.onValueChange(r):g.preventDefault()}),onKeyDown:Cn(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&s.onValueChange(r)}),onFocus:Cn(t.onFocus,()=>{const g=s.activationMode!=="manual";!m&&!i&&g&&s.onValueChange(r)})})})});sL.displayName=oL;var uL="TabsContent",lL=j.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,l=PT(uL,n),f=cL(l.baseId,r),p=fL(l.baseId,r),m=r===l.value,g=j.useRef(m);return j.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),B.jsx(wy,{present:i||m,children:({present:y})=>B.jsx(Gn.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":f,hidden:!y,id:p,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&o})})});lL.displayName=uL;function cL(t,e){return`${t}-trigger-${e}`}function fL(t,e){return`${t}-content-${e}`}var dL=rL,pL=aL,hL=sL,mL=lL;const gL=new Set;function N2(t,e,n){t||gL.has(e)||(console.warn(e),gL.add(e))}function lre(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>(process.env.NODE_ENV!=="production"&&N2(!1,"motion() is deprecated. Use motion.create() instead."),t(...r));return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function R2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const MT=t=>Array.isArray(t);function vL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Sy(t){return typeof t=="string"||Array.isArray(t)}function yL(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function LT(t,e,n,r){if(typeof e=="function"){const[i,o]=yL(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=yL(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function A2(t,e,n){const r=t.getProps();return LT(r,e,n!==void 0?n:r.custom,t)}const FT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VT=["initial",...FT],Cy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hh=new Set(Cy),dc=t=>t*1e3,mf=t=>t/1e3,cre={type:"spring",stiffness:500,damping:25,restSpeed:10},fre=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dre={type:"keyframes",duration:.8},pre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hre=(t,{keyframes:e})=>e.length>2?dre:hh.has(t)?t.startsWith("scale")?fre(e[1]):cre:pre;function jT(t,e){return t?t[e]||t.default||t:void 0}const mre={skipAnimations:!1,useManualTiming:!1},gre=t=>t!==null;function D2(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gre),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const rs=t=>t;let Cg=rs,Id=rs;process.env.NODE_ENV!=="production"&&(Cg=(t,e)=>{!t&&typeof console<"u"&&console.warn(e)},Id=(t,e)=>{if(!t)throw new Error(e)});function vre(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function l(p){o.has(p)&&(f.schedule(p),t()),p(s)}const f={schedule:(p,m=!1,g=!1)=>{const x=g&&r?e:n;return m&&o.add(p),x.has(p)||x.add(p),p},cancel:p=>{n.delete(p),o.delete(p)},process:p=>{if(s=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,f.process(p))}};return f}const O2=["read","resolveKeyframes","update","preRender","render","postRender"],yre=40;function bL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=O2.reduce((R,O)=>(R[O]=vre(o),R),{}),{read:l,resolveKeyframes:f,update:p,preRender:m,render:g,postRender:y}=s,x=()=>{const R=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,yre),1),i.timestamp=R,i.isProcessing=!0,l.process(i),f.process(i),p.process(i),m.process(i),g.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},S=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:O2.reduce((R,O)=>{const I=s[O];return R[O]=(P,F=!1,K=!1)=>(n||S(),I.schedule(P,F,K)),R},{}),cancel:R=>{for(let O=0;O<O2.length;O++)s[O2[O]].cancel(R)},state:i,steps:s}}const{schedule:Mr,cancel:Pd,state:La,steps:zT}=bL(typeof requestAnimationFrame<"u"?requestAnimationFrame:rs,!0),wL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bre=1e-7,wre=12;function xre(t,e,n,r,i){let o,s,l=0;do s=e+(n-e)/2,o=wL(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>bre&&++l<wre);return s}function Ey(t,e,n,r){if(t===e&&n===r)return rs;const i=o=>xre(o,0,1,t,n);return o=>o===0||o===1?o:wL(i(o),e,r)}const xL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SL=t=>e=>1-t(1-e),CL=Ey(.33,1.53,.69,.99),BT=SL(CL),EL=xL(BT),_L=t=>(t*=2)<1?.5*BT(t):.5*(2-Math.pow(2,-10*(t-1))),UT=t=>1-Math.sin(Math.acos(t)),TL=SL(UT),kL=xL(UT),NL=t=>/^0[^.\s]+$/u.test(t);function Sre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NL(t):!0}const RL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),AL=t=>e=>typeof e=="string"&&e.startsWith(t),DL=AL("--"),Cre=AL("var(--"),HT=t=>Cre(t)?Ere.test(t.split("/*")[0].trim()):!1,Ere=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_re=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tre(t){const e=_re.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}const kre=4;function OL(t,e,n=1){Id(n<=kre,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=Tre(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return RL(s)?parseFloat(s):s}return HT(i)?OL(i,e,n+1):i}const gf=(t,e,n)=>n>e?e:n<t?t:n,Eg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_y={...Eg,transform:t=>gf(0,1,t)},$2={...Eg,default:1},Ty=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Md=Ty("deg"),pc=Ty("%"),on=Ty("px"),Nre=Ty("vh"),Rre=Ty("vw"),$L={...pc,parse:t=>pc.parse(t)/100,transform:t=>pc.transform(t*100)},Are=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),IL=t=>t===Eg||t===on,PL=(t,e)=>parseFloat(t.split(", ")[e]),ML=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return PL(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?PL(o[1],t):0}},Dre=new Set(["x","y","z"]),Ore=Cy.filter(t=>!Dre.has(t));function $re(t){const e=[];return Ore.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _g={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ML(4,13),y:ML(5,14)};_g.translateX=_g.x,_g.translateY=_g.y;const LL=t=>e=>e.test(t),FL=[Eg,on,pc,Md,Rre,Nre,{test:t=>t==="auto",parse:t=>t}],VL=t=>FL.find(LL(t)),mh=new Set;let WT=!1,GT=!1;function jL(){if(GT){const t=Array.from(mh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$re(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GT=!1,WT=!1,mh.forEach(t=>t.complete()),mh.clear()}function zL(){mh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GT=!0)})}function Ire(){zL(),jL()}class KT{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mh.add(this),WT||(WT=!0,Mr.read(zL),Mr.resolveKeyframes(jL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const f=r.readValue(n,l);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ky=t=>Math.round(t*1e5)/1e5,qT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pre(t){return t==null}const Mre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,YT=(t,e)=>n=>!!(typeof n=="string"&&Mre.test(n)&&n.startsWith(t)||e&&!Pre(n)&&Object.prototype.hasOwnProperty.call(n,e)),BL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,l]=r.match(qT);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Lre=t=>gf(0,255,t),ZT={...Eg,transform:t=>Math.round(Lre(t))},gh={test:YT("rgb","red"),parse:BL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ZT.transform(t)+", "+ZT.transform(e)+", "+ZT.transform(n)+", "+ky(_y.transform(r))+")"};function Fre(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const XT={test:YT("#"),parse:Fre,transform:gh.transform},Tg={test:YT("hsl","hue"),parse:BL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pc.transform(ky(e))+", "+pc.transform(ky(n))+", "+ky(_y.transform(r))+")"},ro={test:t=>gh.test(t)||XT.test(t)||Tg.test(t),parse:t=>gh.test(t)?gh.parse(t):Tg.test(t)?Tg.parse(t):XT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gh.transform(t):Tg.transform(t)},Vre=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jre(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Vre))===null||n===void 0?void 0:n.length)||0)>0}const UL="number",HL="color",zre="var",Bre="var(",WL="${}",Ure=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ny(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const l=e.replace(Ure,f=>(ro.test(f)?(r.color.push(o),i.push(HL),n.push(ro.parse(f))):f.startsWith(Bre)?(r.var.push(o),i.push(zre),n.push(f)):(r.number.push(o),i.push(UL),n.push(parseFloat(f))),++o,WL)).split(WL);return{values:n,split:l,indexes:r,types:i}}function GL(t){return Ny(t).values}function KL(t){const{split:e,types:n}=Ny(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const l=n[s];l===UL?o+=ky(i[s]):l===HL?o+=ro.transform(i[s]):o+=i[s]}return o}}const Hre=t=>typeof t=="number"?0:t;function Wre(t){const e=GL(t);return KL(t)(e.map(Hre))}const Ld={test:jre,parse:GL,createTransformer:KL,getAnimatableNone:Wre},Gre=new Set(["brightness","contrast","saturate","opacity"]);function Kre(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qT)||[];if(!r)return t;const i=n.replace(r,"");let o=Gre.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const qre=/\b([a-z-]*)\(.*?\)/gu,QT={...Ld,getAnimatableNone:t=>{const e=t.match(qre);return e?e.map(Kre).join(" "):t}},Yre={borderWidth:on,borderTopWidth:on,borderRightWidth:on,borderBottomWidth:on,borderLeftWidth:on,borderRadius:on,radius:on,borderTopLeftRadius:on,borderTopRightRadius:on,borderBottomRightRadius:on,borderBottomLeftRadius:on,width:on,maxWidth:on,height:on,maxHeight:on,top:on,right:on,bottom:on,left:on,padding:on,paddingTop:on,paddingRight:on,paddingBottom:on,paddingLeft:on,margin:on,marginTop:on,marginRight:on,marginBottom:on,marginLeft:on,backgroundPositionX:on,backgroundPositionY:on},Zre={rotate:Md,rotateX:Md,rotateY:Md,rotateZ:Md,scale:$2,scaleX:$2,scaleY:$2,scaleZ:$2,skew:Md,skewX:Md,skewY:Md,distance:on,translateX:on,translateY:on,translateZ:on,x:on,y:on,z:on,perspective:on,transformPerspective:on,opacity:_y,originX:$L,originY:$L,originZ:on},qL={...Eg,transform:Math.round},JT={...Yre,...Zre,zIndex:qL,size:on,fillOpacity:_y,strokeOpacity:_y,numOctaves:qL},Xre={...JT,color:ro,backgroundColor:ro,outlineColor:ro,fill:ro,stroke:ro,borderColor:ro,borderTopColor:ro,borderRightColor:ro,borderBottomColor:ro,borderLeftColor:ro,filter:QT,WebkitFilter:QT},e3=t=>Xre[t];function YL(t,e){let n=e3(t);return n!==QT&&(n=Ld),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qre=new Set(["auto","none","0"]);function Jre(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Qre.has(o)&&Ny(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=YL(n,i)}class ZL extends KT{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),HT(p))){const m=OL(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Are.has(r)||e.length!==2)return;const[i,o]=e,s=VL(i),l=VL(o);if(s!==l)if(IL(s)&&IL(l))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Sre(e[i])&&r.push(i);r.length&&Jre(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_g[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,l=i[s];i[s]=_g[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function t3(t){return typeof t=="function"}let I2;function eie(){I2=void 0}const hc={now:()=>(I2===void 0&&hc.set(La.isProcessing||mre.useManualTiming?La.timestamp:performance.now()),I2),set:t=>{I2=t,queueMicrotask(eie)}},XL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ld.test(t)||t==="0")&&!t.startsWith("url("));function tie(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nie(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=XL(i,e),l=XL(o,e);return Cg(s===l,`You are trying to animate ${e} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!s||!l?!1:tie(t)||(n==="spring"||t3(n))&&r}const rie=40;class QL{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hc.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ire(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=hc.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:l,onUpdate:f,isGenerator:p}=this.options;if(!p&&!nie(e,r,i,o))if(s)this.options.duration=0;else{f==null||f(D2(e,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const kg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},JL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(kg(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function eF(t,e){return e?t*(1e3/e):0}const iie=5;function tF(t,e,n){const r=Math.max(e-iie,0);return eF(n-t(r),e-r)}const di={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n3=.001;function aie({duration:t=di.duration,bounce:e=di.bounce,velocity:n=di.velocity,mass:r=di.mass}){let i,o;Cg(t<=dc(di.maxDuration),"Spring duration must be 10 seconds or less");let s=1-e;s=gf(di.minDamping,di.maxDamping,s),t=gf(di.minDuration,di.maxDuration,mf(t)),s<1?(i=p=>{const m=p*s,g=m*t,y=m-n,x=r3(p,s),S=Math.exp(-g);return n3-y/x*S},o=p=>{const g=p*s*t,y=g*n+n,x=Math.pow(s,2)*Math.pow(p,2)*t,S=Math.exp(-g),_=r3(Math.pow(p,2),s);return(-i(p)+n3>0?-1:1)*((y-x)*S)/_}):(i=p=>{const m=Math.exp(-p*t),g=(p-n)*t+1;return-n3+m*g},o=p=>{const m=Math.exp(-p*t),g=(n-p)*(t*t);return m*g});const l=5/t,f=sie(i,o,l);if(t=dc(t),isNaN(f))return{stiffness:di.stiffness,damping:di.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:s*2*Math.sqrt(r*p),duration:t}}}const oie=12;function sie(t,e,n){let r=n;for(let i=1;i<oie;i++)r=r-t(r)/e(r);return r}function r3(t,e){return t*Math.sqrt(1-e*e)}const i3=2e4;function nF(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<i3;)e+=n,r=t.next(e);return e>=i3?1/0:e}const uie=["duration","bounce"],lie=["stiffness","damping","mass"];function rF(t,e){return e.some(n=>t[n]!==void 0)}function cie(t){let e={velocity:di.velocity,stiffness:di.stiffness,damping:di.damping,mass:di.mass,isResolvedFromDuration:!1,...t};if(!rF(t,lie)&&rF(t,uie))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*gf(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:di.mass,stiffness:i,damping:o}}else{const n=aie(t);e={...e,...n,mass:di.mass},e.isResolvedFromDuration=!0}return e}function iF(t=di.visualDuration,e=di.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:f,damping:p,mass:m,duration:g,velocity:y,isResolvedFromDuration:x}=cie({...n,velocity:-mf(n.velocity||0)}),S=y||0,_=p/(2*Math.sqrt(f*m)),k=s-o,R=mf(Math.sqrt(f/m)),O=Math.abs(k)<5;r||(r=O?di.restSpeed.granular:di.restSpeed.default),i||(i=O?di.restDelta.granular:di.restDelta.default);let I;if(_<1){const F=r3(R,_);I=K=>{const Y=Math.exp(-_*R*K);return s-Y*((S+_*R*k)/F*Math.sin(F*K)+k*Math.cos(F*K))}}else if(_===1)I=F=>s-Math.exp(-R*F)*(k+(S+R*k)*F);else{const F=R*Math.sqrt(_*_-1);I=K=>{const Y=Math.exp(-_*R*K),te=Math.min(F*K,300);return s-Y*((S+_*R*k)*Math.sinh(te)+F*k*Math.cosh(te))/F}}const P={calculatedDuration:x&&g||null,next:F=>{const K=I(F);if(x)l.done=F>=g;else{let Y=0;_<1&&(Y=F===0?dc(S):tF(I,F,K));const te=Math.abs(Y)<=r,fe=Math.abs(s-K)<=i;l.done=te&&fe}return l.value=l.done?s:K,l},toString:()=>{const F=Math.min(nF(P),i3),K=JL(Y=>P.next(F*Y).value,F,30);return F+"ms "+K}};return P}function aF({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:f,restDelta:p=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},x=te=>l!==void 0&&te<l||f!==void 0&&te>f,S=te=>l===void 0?f:f===void 0||Math.abs(l-te)<Math.abs(f-te)?l:f;let _=n*e;const k=g+_,R=s===void 0?k:s(k);R!==k&&(_=R-g);const O=te=>-_*Math.exp(-te/r),I=te=>R+O(te),P=te=>{const fe=O(te),ye=I(te);y.done=Math.abs(fe)<=p,y.value=y.done?R:ye};let F,K;const Y=te=>{x(y.value)&&(F=te,K=iF({keyframes:[y.value,S(y.value)],velocity:tF(I,te,y.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return Y(0),{calculatedDuration:null,next:te=>{let fe=!1;return!K&&F===void 0&&(fe=!0,P(te),Y(te)),F!==void 0&&te>=F?K.next(te-F):(!fe&&P(te),y)}}}const fie=Ey(.42,0,1,1),die=Ey(0,0,.58,1),oF=Ey(.42,0,.58,1),pie=t=>Array.isArray(t)&&typeof t[0]!="number",a3=t=>Array.isArray(t)&&typeof t[0]=="number",sF={linear:rs,easeIn:fie,easeInOut:oF,easeOut:die,circIn:UT,circInOut:kL,circOut:TL,backIn:BT,backInOut:EL,backOut:CL,anticipate:_L},uF=t=>{if(a3(t)){Id(t.length===4,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return Ey(e,n,r,i)}else if(typeof t=="string")return Id(sF[t]!==void 0,`Invalid easing type '${t}'`),sF[t];return t},hie=(t,e)=>n=>e(t(n)),Ry=(...t)=>t.reduce(hie),pi=(t,e,n)=>t+(e-t)*n;function o3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,f=2*n-l;i=o3(f,l,t+1/3),o=o3(f,l,t),s=o3(f,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function P2(t,e){return n=>n>0?e:t}const s3=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gie=[XT,gh,Tg],vie=t=>gie.find(e=>e.test(t));function lF(t){const e=vie(t);if(Cg(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`),!e)return!1;let n=e.parse(t);return e===Tg&&(n=mie(n)),n}const cF=(t,e)=>{const n=lF(t),r=lF(e);if(!n||!r)return P2(t,e);const i={...n};return o=>(i.red=s3(n.red,r.red,o),i.green=s3(n.green,r.green,o),i.blue=s3(n.blue,r.blue,o),i.alpha=pi(n.alpha,r.alpha,o),gh.transform(i))},u3=new Set(["none","hidden"]);function yie(t,e){return u3.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bie(t,e){return n=>pi(t,e,n)}function l3(t){return typeof t=="number"?bie:typeof t=="string"?HT(t)?P2:ro.test(t)?cF:Sie:Array.isArray(t)?fF:typeof t=="object"?ro.test(t)?cF:wie:P2}function fF(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>l3(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function wie(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=l3(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function xie(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],l=t.indexes[s][i[s]],f=(n=t.values[l])!==null&&n!==void 0?n:0;r[o]=f,i[s]++}return r}const Sie=(t,e)=>{const n=Ld.createTransformer(e),r=Ny(t),i=Ny(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?u3.has(t)&&!i.values.length||u3.has(e)&&!r.values.length?yie(t,e):Ry(fF(xie(r,i),i.values),n):(Cg(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),P2(t,e))};function dF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pi(t,e,n):l3(t)(t,e)}function Cie(t,e,n){const r=[],i=n||dF,o=t.length-1;for(let s=0;s<o;s++){let l=i(t[s],t[s+1]);if(e){const f=Array.isArray(e)?e[s]||rs:e;l=Ry(f,l)}r.push(l)}return r}function Eie(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Id(o===e.length,"Both input and output ranges must be the same length"),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Cie(e,r,i),l=s.length,f=p=>{let m=0;if(l>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const g=kg(t[m],t[m+1],p);return s[m](g)};return n?p=>f(gf(t[0],t[o-1],p)):f}function _ie(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kg(0,e,r);t.push(pi(n,1,i))}}function Tie(t){const e=[0];return _ie(e,t.length-1),e}function kie(t,e){return t.map(n=>n*e)}function Nie(t,e){return t.map(()=>e||oF).splice(0,t.length-1)}function M2({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=pie(r)?r.map(uF):uF(r),o={done:!1,value:e[0]},s=kie(n&&n.length===e.length?n:Tie(e),t),l=Eie(s,e,{ease:Array.isArray(i)?i:Nie(e,i)});return{calculatedDuration:t,next:f=>(o.value=l(f),o.done=f>=t,o)}}const Rie=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Mr.update(e,!0),stop:()=>Pd(e),now:()=>La.isProcessing?La.timestamp:hc.now()}},Aie={decay:aF,inertia:aF,tween:M2,keyframes:M2,spring:iF},Die=t=>t/100;class c3 extends QL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||KT,l=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new s(o,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,l=t3(n)?n:Aie[n]||M2;let f,p;l!==M2&&typeof e[0]!="number"&&(process.env.NODE_ENV!=="production"&&Id(e.length===2,`Only two keyframes currently supported with spring and inertia animations. Trying to animate ${e}`),f=Ry(Die,dF(e[0],e[1])),e=[0,100]);const m=l({...this.options,keyframes:e});o==="mirror"&&(p=l({...this.options,keyframes:[...e].reverse(),velocity:-s})),m.calculatedDuration===null&&(m.calculatedDuration=nF(m));const{calculatedDuration:g}=m,y=g+i,x=y*(r+1)-i;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:g,resolvedDuration:y,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:te}=this.options;return{done:!0,value:te[te.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:l,keyframes:f,calculatedDuration:p,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return o.next(0);const{delay:y,repeat:x,repeatType:S,repeatDelay:_,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-y*(this.speed>=0?1:-1),O=this.speed>=0?R<0:R>m;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let I=this.currentTime,P=o;if(x){const te=Math.min(this.currentTime,m)/g;let fe=Math.floor(te),ye=te%1;!ye&&te>=1&&(ye=1),ye===1&&fe--,fe=Math.min(fe,x+1),!!(fe%2)&&(S==="reverse"?(ye=1-ye,_&&(ye-=_/g)):S==="mirror"&&(P=s)),I=gf(0,1,ye)*g}const F=O?{done:!1,value:f[0]}:P.next(I);l&&(F.value=l(F.value));let{done:K}=F;!O&&p!==null&&(K=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return Y&&i!==void 0&&(F.value=D2(f,this.options,i)),k&&k(F.value),Y&&this.finish(),F}get duration(){const{resolved:e}=this;return e?mf(e.calculatedDuration):0}get time(){return mf(this.currentTime)}set time(e){e=dc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mf(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Rie,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Oie=new Set(["opacity","clipPath","filter","transform"]);function f3(t){let e;return()=>(e===void 0&&(e=t()),e)}const $ie={linearEasing:void 0};function Iie(t,e){const n=f3(t);return()=>{var r;return(r=$ie[e])!==null&&r!==void 0?r:n()}}const L2=Iie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function pF(t){return!!(typeof t=="function"&&L2()||!t||typeof t=="string"&&(t in d3||L2())||a3(t)||Array.isArray(t)&&t.every(pF))}const Ay=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,d3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ay([0,.65,.55,1]),circOut:Ay([.55,0,1,.45]),backIn:Ay([.31,.01,.66,-.59]),backOut:Ay([.33,1.53,.69,.99])};function hF(t,e){if(t)return typeof t=="function"&&L2()?JL(t,e):a3(t)?Ay(t):Array.isArray(t)?t.map(n=>hF(n,e)||d3.easeOut):d3[t]}function Pie(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:l="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const m=hF(l,i);return Array.isArray(m)&&(p.easing=m),t.animate(p,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function mF(t,e){t.timeline=e,t.onfinish=null}const Mie=f3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),F2=10,Lie=2e4;function Fie(t){return t3(t.type)||t.type==="spring"||!pF(t.ease)}function Vie(t,e){const n=new c3({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<Lie;)r=n.sample(o),i.push(r.value),o+=F2;return{times:void 0,keyframes:i,duration:o-F2,ease:"linear"}}const gF={anticipate:_L,backInOut:EL,circInOut:kL};function jie(t){return t in gF}class vF extends QL{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new ZL(o,(s,l)=>this.onKeyframesResolved(s,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:o,ease:s,type:l,motionValue:f,name:p,startTime:m}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof s=="string"&&L2()&&jie(s)&&(s=gF[s]),Fie(this.options)){const{onComplete:y,onUpdate:x,motionValue:S,element:_,...k}=this.options,R=Vie(e,k);e=R.keyframes,e.length===1&&(e[1]=e[0]),i=R.duration,o=R.times,s=R.ease,l="keyframes"}const g=Pie(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:s});return g.startTime=m??this.calcStartTime(),this.pendingTimeline?(mF(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;f.set(D2(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:i,times:o,type:l,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return mf(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return mf(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=dc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rs;const{animation:r}=n;mF(r,e)}return rs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:g,element:y,...x}=this.options,S=new c3({...x,keyframes:r,duration:i,type:o,ease:s,times:l,isGenerator:!0}),_=dc(this.time);p.setWithVelocity(S.sample(_-F2).value,S.sample(_).value,F2)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:l}=e;return Mie()&&r&&Oie.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&s!==0&&l!=="inertia"}}const zie=f3(()=>window.ScrollTimeline!==void 0);class Bie{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>zie()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Uie({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const p3=(t,e,n,r={},i,o)=>s=>{const l=jT(r,t)||{},f=l.delay||r.delay||0;let{elapsed:p=0}=r;p=p-dc(f);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-p,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:i};Uie(l)||(m={...m,...hre(t,m)}),m.duration&&(m.duration=dc(m.duration)),m.repeatDelay&&(m.repeatDelay=dc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const y=D2(m.keyframes,l);if(y!==void 0)return Mr.update(()=>{m.onUpdate(y),m.onComplete()}),new Bie([])}return!o&&vF.supports(m)?new vF(m):new c3(m)},Hie=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Wie=t=>MT(t)?t[t.length-1]||0:t;function h3(t,e){t.indexOf(e)===-1&&t.push(e)}function m3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class g3{constructor(){this.subscriptions=[]}add(e){return h3(this.subscriptions,e),()=>m3(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yF=30,Gie=t=>!isNaN(parseFloat(t));class Kie{constructor(e,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=hc.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=hc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Gie(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return process.env.NODE_ENV!=="production"&&N2(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g3);const r=this.events[e].add(n);return e==="change"?()=>{r(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yF)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yF);return eF(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dy(t,e){return new Kie(t,e)}function qie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dy(n))}function Yie(t,e){const n=A2(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const l=Wie(o[s]);qie(t,s,l)}}const v3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bF="data-"+v3("framerAppearId");function wF(t){return t.props[bF]}const io=t=>!!(t&&t.getVelocity);function Zie(t){return!!(io(t)&&t.add)}function y3(t,e){const n=t.getValue("willChange");if(Zie(n))return n.add(e)}function Xie({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:l,...f}=e;r&&(s=r);const p=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in f){const y=t.getValue(g,(o=t.latestValues[g])!==null&&o!==void 0?o:null),x=f[g];if(x===void 0||m&&Xie(m,g))continue;const S={delay:n,...jT(s||{},g)};let _=!1;if(window.MotionHandoffAnimation){const R=wF(t);if(R){const O=window.MotionHandoffAnimation(R,g,Mr);O!==null&&(S.startTime=O,_=!0)}}y3(t,g),y.start(p3(g,y,x,t.shouldReduceMotion&&hh.has(g)?{type:!1}:S,t,_));const k=y.animation;k&&p.push(k)}return l&&Promise.all(p).then(()=>{Mr.update(()=>{l&&Yie(t,l)})}),p}function b3(t,e,n={}){var r;const i=A2(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(xF(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=o;return Qie(t,e,m+p,g,y,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,m]=f==="beforeChildren"?[s,l]:[l,s];return p().then(()=>m())}else return Promise.all([s(),l(n.delay)])}function Qie(t,e,n=0,r=0,i=1,o){const s=[],l=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>l-p*r;return Array.from(t.variantChildren).sort(Jie).forEach((p,m)=>{p.notify("AnimationStart",e),s.push(b3(p,e,{...o,delay:n+f(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(s)}function Jie(t,e){return t.sortNodePosition(e)}function eae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>b3(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=b3(t,e,n);else{const i=typeof e=="function"?A2(t,e,n.custom):e;r=Promise.all(xF(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const tae=VT.length;function SF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tae;n++){const r=VT[n],i=t.props[r];(Sy(i)||i===!1)&&(e[r]=i)}return e}const nae=[...FT].reverse(),rae=FT.length;function iae(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eae(t,n,r)))}function aae(t){let e=iae(t),n=CF(),r=!0;const i=f=>(p,m)=>{var g;const y=A2(t,m,f==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:x,transitionEnd:S,..._}=y;p={...p,..._,...S}}return p};function o(f){e=f(t)}function s(f){const{props:p}=t,m=SF(t.parent)||{},g=[],y=new Set;let x={},S=1/0;for(let k=0;k<rae;k++){const R=nae[k],O=n[R],I=p[R]!==void 0?p[R]:m[R],P=Sy(I),F=R===f?O.isActive:null;F===!1&&(S=k);let K=I===m[R]&&I!==p[R]&&P;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),O.protectedKeys={...x},!O.isActive&&F===null||!I&&!O.prevProp||R2(I)||typeof I=="boolean")continue;const Y=oae(O.prevProp,I);let te=Y||R===f&&O.isActive&&!K&&P||k>S&&P,fe=!1;const ye=Array.isArray(I)?I:[I];let de=ye.reduce(i(R),{});F===!1&&(de={});const{prevResolvedValues:Pe={}}=O,xe={...Pe,...de},Te=Re=>{te=!0,y.has(Re)&&(fe=!0,y.delete(Re)),O.needsAnimating[Re]=!0;const be=t.getValue(Re);be&&(be.liveStyle=!1)};for(const Re in xe){const be=de[Re],Ve=Pe[Re];if(x.hasOwnProperty(Re))continue;let he=!1;MT(be)&&MT(Ve)?he=!vL(be,Ve):he=be!==Ve,he?be!=null?Te(Re):y.add(Re):be!==void 0&&y.has(Re)?Te(Re):O.protectedKeys[Re]=!0}O.prevProp=I,O.prevResolvedValues=de,O.isActive&&(x={...x,...de}),r&&t.blockInitialAnimation&&(te=!1),te&&(!(K&&Y)||fe)&&g.push(...ye.map(Re=>({animation:Re,options:{type:R}})))}if(y.size){const k={};y.forEach(R=>{const O=t.getBaseTarget(R),I=t.getValue(R);I&&(I.liveStyle=!0),k[R]=O??null}),g.push({animation:k})}let _=!!g.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(g):Promise.resolve()}function l(f,p){var m;if(n[f].isActive===p)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(f,p)}),n[f].isActive=p;const g=s(f);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=CF(),r=!0}}}function oae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vL(e,t):!1}function vh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CF(){return{animate:vh(!0),whileInView:vh(),whileHover:vh(),whileTap:vh(),whileDrag:vh(),whileFocus:vh(),exit:vh()}}class Fd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sae extends Fd{constructor(e){super(e),e.animationState||(e.animationState=aae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();R2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let uae=0;class lae extends Fd{constructor(){super(...arguments),this.id=uae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cae={animation:{Feature:sae},exit:{Feature:lae}},pl={x:!1,y:!1};function EF(){return pl.x||pl.y}function fae(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function _F(t,e){const n=fae(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function TF(t){return e=>{e.pointerType==="touch"||EF()||t(e)}}function dae(t,e,n={}){const[r,i,o]=_F(t,n),s=TF(l=>{const{target:f}=l,p=e(l);if(!p||!f)return;const m=TF(g=>{p(g),f.removeEventListener("pointerleave",m)});f.addEventListener("pointerleave",m,i)});return r.forEach(l=>{l.addEventListener("pointerenter",s,i)}),o}const w3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Oy=new WeakSet;function kF(t){return e=>{e.key==="Enter"&&t(e)}}function x3(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pae=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kF(()=>{if(Oy.has(n))return;x3(n,"down");const i=kF(()=>{x3(n,"up")}),o=()=>x3(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)},hae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mae(t){return hae.has(t.tagName)||t.tabIndex!==-1}const NF=(t,e)=>e?t===e?!0:NF(t,e.parentElement):!1;function RF(t){return w3(t)&&!EF()}function gae(t,e,n={}){const[r,i,o]=_F(t,n),s=l=>{const f=l.currentTarget;if(!RF(l)||Oy.has(f))return;Oy.add(f);const p=e(l),m=(x,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!RF(x)||!Oy.has(f))&&(Oy.delete(f),p&&p(x,{success:S}))},g=x=>{m(x,n.useGlobalTarget||NF(f,x.target))},y=x=>{m(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{mae(l)||(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",s,i),l.addEventListener("focus",p=>pae(p,i),i)}),o}function vae(t){return t==="x"||t==="y"?pl[t]?null:(pl[t]=!0,()=>{pl[t]=!1}):pl.x||pl.y?null:(pl.x=pl.y=!0,()=>{pl.x=pl.y=!1})}function $y(t){return{point:{x:t.pageX,y:t.pageY}}}const yae=t=>e=>w3(e)&&t(e,$y(e));function Iy(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Py(t,e,n,r){return Iy(t,e,yae(n),r)}const AF=(t,e)=>Math.abs(t-e);function bae(t,e){const n=AF(t.x,e.x),r=AF(t.y,e.y);return Math.sqrt(n**2+r**2)}class DF{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=C3(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=bae(g.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:S}=g,{timestamp:_}=La;this.history.push({...S,timestamp:_});const{onStart:k,onMove:R}=this.handlers;y||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=S3(y,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=C3(g.type==="pointercancel"?this.lastMoveEventInfo:S3(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,k),S&&S(g,k)},!w3(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=$y(e),l=S3(s,this.transformPagePoint),{point:f}=l,{timestamp:p}=La;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,C3(l,this.history)),this.removeListeners=Ry(Py(this.contextWindow,"pointermove",this.handlePointerMove),Py(this.contextWindow,"pointerup",this.handlePointerUp),Py(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pd(this.updatePoint)}}function S3(t,e){return e?{point:e(t.point)}:t}function OF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C3({point:t},e){return{point:t,delta:OF(t,$F(e)),offset:OF(t,wae(e)),velocity:xae(e,.1)}}function wae(t){return t[0]}function $F(t){return t[t.length-1]}function xae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=$F(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>dc(e)));)n--;if(!r)return{x:0,y:0};const o=mf(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ng(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const IF=1e-4,Sae=1-IF,Cae=1+IF,PF=.01,Eae=0-PF,_ae=0+PF;function Ws(t){return t.max-t.min}function Tae(t,e,n){return Math.abs(t-e)<=n}function MF(t,e,n,r=.5){t.origin=r,t.originPoint=pi(e.min,e.max,t.origin),t.scale=Ws(n)/Ws(e),t.translate=pi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Sae&&t.scale<=Cae||isNaN(t.scale))&&(t.scale=1),(t.translate>=Eae&&t.translate<=_ae||isNaN(t.translate))&&(t.translate=0)}function My(t,e,n,r){MF(t.x,e.x,n.x,r?r.originX:void 0),MF(t.y,e.y,n.y,r?r.originY:void 0)}function LF(t,e,n){t.min=n.min+e.min,t.max=t.min+Ws(e)}function kae(t,e,n){LF(t.x,e.x,n.x),LF(t.y,e.y,n.y)}function FF(t,e,n){t.min=e.min-n.min,t.max=t.min+Ws(e)}function Ly(t,e,n){FF(t.x,e.x,n.x),FF(t.y,e.y,n.y)}function Nae(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pi(n,t,r.max):Math.min(t,n)),t}function VF(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rae(t,{top:e,left:n,bottom:r,right:i}){return{x:VF(t.x,n,i),y:VF(t.y,e,r)}}function jF(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Aae(t,e){return{x:jF(t.x,e.x),y:jF(t.y,e.y)}}function Dae(t,e){let n=.5;const r=Ws(t),i=Ws(e);return i>r?n=kg(e.min,e.max-r,t.min):r>i&&(n=kg(t.min,t.max-i,e.min)),gf(0,1,n)}function Oae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const E3=.35;function $ae(t=E3){return t===!1?t=0:t===!0&&(t=E3),{x:zF(t,"left","right"),y:zF(t,"top","bottom")}}function zF(t,e,n){return{min:BF(t,e),max:BF(t,n)}}function BF(t,e){return typeof t=="number"?t:t[e]||0}const UF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rg=()=>({x:UF(),y:UF()}),HF=()=>({min:0,max:0}),Oi=()=>({x:HF(),y:HF()});function Cu(t){return[t("x"),t("y")]}function WF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Iae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Pae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _3(t){return t===void 0||t===1}function T3({scale:t,scaleX:e,scaleY:n}){return!_3(t)||!_3(e)||!_3(n)}function yh(t){return T3(t)||GF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GF(t){return KF(t.x)||KF(t.y)}function KF(t){return t&&t!=="0%"}function V2(t,e,n){const r=t-n,i=e*r;return n+i}function qF(t,e,n,r,i){return i!==void 0&&(t=V2(t,i,r)),V2(t,n,r)+e}function k3(t,e=0,n=1,r,i){t.min=qF(t.min,e,n,r,i),t.max=qF(t.max,e,n,r,i)}function YF(t,{x:e,y:n}){k3(t.x,e.translate,e.scale,e.originPoint),k3(t.y,n.translate,n.scale,n.originPoint)}const ZF=.999999999999,XF=1.0000000000001;function Mae(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Dg(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,YF(t,s)),r&&yh(o.latestValues)&&Dg(t,o.latestValues))}e.x<XF&&e.x>ZF&&(e.x=1),e.y<XF&&e.y>ZF&&(e.y=1)}function Ag(t,e){t.min=t.min+e,t.max=t.max+e}function QF(t,e,n,r,i=.5){const o=pi(t.min,t.max,i);k3(t,e,n,o,r)}function Dg(t,e){QF(t.x,e.x,e.scaleX,e.scale,e.originX),QF(t.y,e.y,e.scaleY,e.scale,e.originY)}function JF(t,e){return WF(Pae(t.getBoundingClientRect(),e))}function Lae(t,e,n){const r=JF(t,n),{scroll:i}=e;return i&&(Ag(r.x,i.offset.x),Ag(r.y,i.offset.y)),r}const eV=({current:t})=>t?t.ownerDocument.defaultView:null,Fae=new WeakMap;class Vae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($y(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:x,onDragStart:S}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vae(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cu(k=>{let R=this.getAxisMotionValue(k).get()||0;if(pc.test(R)){const{projection:O}=this.visualElement;if(O&&O.layout){const I=O.layout.layoutBox[k];I&&(R=Ws(I)*(parseFloat(R)/100))}}this.originPoint[k]=R}),S&&Mr.postRender(()=>S(m,g)),y3(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},s=(m,g)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:S,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=g;if(x&&this.currentDirection===null){this.currentDirection=jae(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),_&&_(m,g)},l=(m,g)=>this.stop(m,g),f=()=>Cu(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new DF(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:eV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Mr.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!j2(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Nae(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Ng(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Rae(i.layoutBox,n):this.constraints=!1,this.elastic=$ae(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cu(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Oae(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ng(e))return!1;const r=e.current;Id(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Lae(r,i.root,this.visualElement.getTransformPagePoint());let s=Aae(i.layout.layoutBox,o);if(n){const l=n(Iae(s));this.hasMutatedConstraints=!!l,l&&(s=WF(l))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),f=this.constraints||{},p=Cu(m=>{if(!j2(m,n,this.currentDirection))return;let g=f[m]||{};s&&(g={min:0,max:0});const y=i?200:1e6,x=i?40:1e7,S={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return y3(this.visualElement,e),r.start(p3(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cu(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cu(n=>{const{drag:r}=this.getProps();if(!j2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(e[n]-pi(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ng(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cu(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const f=l.get();i[s]=Dae({min:f,max:f},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cu(s=>{if(!j2(s,e,null))return;const l=this.getAxisMotionValue(s),{min:f,max:p}=this.constraints[s];l.set(pi(f,p,i[s]))})}addListeners(){if(!this.visualElement.current)return;Fae.set(this.visualElement,this);const e=this.visualElement.current,n=Py(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ng(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mr.read(r);const s=Iy(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Cu(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=E3,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function j2(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zae extends Fd{constructor(e){super(e),this.removeGroupControls=rs,this.removeListeners=rs,this.controls=new Vae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const tV=t=>(e,n)=>{t&&Mr.postRender(()=>t(e,n))};class Bae extends Fd{constructor(){super(...arguments),this.removePointerDownListener=rs}onPointerDown(e){this.session=new DF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tV(e),onStart:tV(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Mr.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Py(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N3=j.createContext(null);function Uae(){const t=j.useContext(N3);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=j.useId();j.useEffect(()=>r(i),[]);const o=j.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,o]:[!0]}const z2=j.createContext({}),nV=j.createContext({}),B2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rV(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(on.test(t))t=parseFloat(t);else return t;const n=rV(t,e.target.x),r=rV(t,e.target.y);return`${n}% ${r}%`}},Hae={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ld.parse(t);if(i.length>5)return r;const o=Ld.createTransformer(t),s=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,f=n.y.scale*e.y;i[0+s]/=l,i[1+s]/=f;const p=pi(l,f,.5);return typeof i[2+s]=="number"&&(i[2+s]/=p),typeof i[3+s]=="number"&&(i[3+s]/=p),o(i)}},U2={};function Wae(t){Object.assign(U2,t)}const{schedule:R3,cancel:v$e}=bL(queueMicrotask,!1);class Gae extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Wae(Kae),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),B2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Mr.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),R3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iV(t){const[e,n]=Uae(),r=j.useContext(z2);return B.jsx(Gae,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(nV),isPresent:e,safeToRemove:n})}const Kae={borderRadius:{...Fy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fy,borderTopRightRadius:Fy,borderBottomLeftRadius:Fy,borderBottomRightRadius:Fy,boxShadow:Hae},aV=["TopLeft","TopRight","BottomLeft","BottomRight"],qae=aV.length,oV=t=>typeof t=="string"?parseFloat(t):t,sV=t=>typeof t=="number"||on.test(t);function Yae(t,e,n,r,i,o){i?(t.opacity=pi(0,n.opacity!==void 0?n.opacity:1,Zae(r)),t.opacityExit=pi(e.opacity!==void 0?e.opacity:1,0,Xae(r))):o&&(t.opacity=pi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<qae;s++){const l=`border${aV[s]}Radius`;let f=uV(e,l),p=uV(n,l);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||sV(f)===sV(p)?(t[l]=Math.max(pi(oV(f),oV(p),r),0),(pc.test(p)||pc.test(f))&&(t[l]+="%")):t[l]=p}(e.rotate||n.rotate)&&(t.rotate=pi(e.rotate||0,n.rotate||0,r))}function uV(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Zae=lV(0,.5,TL),Xae=lV(.5,.95,rs);function lV(t,e,n){return r=>r<t?0:r>e?1:n(kg(t,e,r))}function cV(t,e){t.min=e.min,t.max=e.max}function Eu(t,e){cV(t.x,e.x),cV(t.y,e.y)}function fV(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dV(t,e,n,r,i){return t-=e,t=V2(t,1/n,r),i!==void 0&&(t=V2(t,1/i,r)),t}function Qae(t,e=0,n=1,r=.5,i,o=t,s=t){if(pc.test(e)&&(e=parseFloat(e),e=pi(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=pi(o.min,o.max,r);t===o&&(l-=e),t.min=dV(t.min,e,n,l,i),t.max=dV(t.max,e,n,l,i)}function pV(t,e,[n,r,i],o,s){Qae(t,e[n],e[r],e[i],e.scale,o,s)}const Jae=["x","scaleX","originX"],eoe=["y","scaleY","originY"];function hV(t,e,n,r){pV(t.x,e,Jae,n?n.x:void 0,r?r.x:void 0),pV(t.y,e,eoe,n?n.y:void 0,r?r.y:void 0)}function mV(t){return t.translate===0&&t.scale===1}function gV(t){return mV(t.x)&&mV(t.y)}function vV(t,e){return t.min===e.min&&t.max===e.max}function toe(t,e){return vV(t.x,e.x)&&vV(t.y,e.y)}function yV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bV(t,e){return yV(t.x,e.x)&&yV(t.y,e.y)}function wV(t){return Ws(t.x)/Ws(t.y)}function xV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class noe{constructor(){this.members=[]}add(e){h3(this.members,e),e.scheduleRender()}remove(e){if(m3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function roe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:y,skewX:x,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),S&&(r+=`skewY(${S}deg) `)}const l=t.x.scale*e.x,f=t.y.scale*e.y;return(l!==1||f!==1)&&(r+=`scale(${l}, ${f})`),r||"none"}const ioe=(t,e)=>t.depth-e.depth;class aoe{constructor(){this.children=[],this.isDirty=!1}add(e){h3(this.children,e),this.isDirty=!0}remove(e){m3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ioe),this.isDirty=!1,this.children.forEach(e)}}function H2(t){const e=io(t)?t.get():t;return Hie(e)?e.toValue():e}function ooe(t,e){const n=hc.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Pd(r),t(o-e))};return Mr.read(r,!0),()=>Pd(r)}function soe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function uoe(t,e,n){const r=io(t)?t:Dy(t);return r.start(p3("",r,e,n)),r.animation}const bh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Vy=typeof window<"u"&&window.MotionDebug!==void 0,A3=["","X","Y","Z"],loe={visibility:"hidden"},SV=1e3;let coe=0;function D3(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mr,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CV(r)}function EV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=e==null?void 0:e()){this.id=coe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vy&&(bh.totalNodes=bh.resolvedTargetDeltas=bh.recalculatedProjection=0),this.nodes.forEach(poe),this.nodes.forEach(yoe),this.nodes.forEach(boe),this.nodes.forEach(hoe),Vy&&window.MotionDebug.record(bh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new aoe)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new g3),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const f=this.eventHandlers.get(s);f&&f.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=soe(s),this.instance=s;const{layoutId:f,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(p||f)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=ooe(y,250),B2.hasAnimatedSinceResize&&(B2.hasAnimatedSinceResize=!1,this.nodes.forEach(TV))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||Eoe,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),O=!this.targetLayout||!bV(this.targetLayout,S)||x,I=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,I);const P={...jT(_,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else y||TV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(woe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:f}=this.options;if(l===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_V);return}this.isUpdating||this.nodes.forEach(goe),this.isUpdating=!1,this.nodes.forEach(voe),this.nodes.forEach(foe),this.nodes.forEach(doe),this.clearAllSnapshots();const l=hc.now();La.delta=gf(0,1e3/60,l-La.timestamp),La.timestamp=l,La.isProcessing=!0,zT.update.process(La),zT.preRender.process(La),zT.render.process(La),La.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(moe),this.sharedNodes.forEach(xoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gV(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;s&&(l||yh(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let f=this.removeElementScroll(l);return s&&(f=this.removeTransform(f)),_oe(f),{animationId:this.root.animationId,measuredBox:l,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:l}=this.options;if(!l)return Oi();const f=l.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Toe))){const{scroll:m}=this.root;m&&(Ag(f.x,m.offset.x),Ag(f.y,m.offset.y))}return f}removeElementScroll(s){var l;const f=Oi();if(Eu(f,s),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return f;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Eu(f,s),Ag(f.x,g.offset.x),Ag(f.y,g.offset.y))}return f}applyTransform(s,l=!1){const f=Oi();Eu(f,s);for(let p=0;p<this.path.length;p++){const m=this.path[p];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Dg(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),yh(m.latestValues)&&Dg(f,m.latestValues)}return yh(this.latestValues)&&Dg(f,this.latestValues),f}removeTransform(s){const l=Oi();Eu(l,s);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!yh(p.latestValues))continue;T3(p.latestValues)&&p.updateSnapshot();const m=Oi(),g=p.measurePageBox();Eu(m,g),hV(l,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return yh(this.latestValues)&&hV(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==La.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(s||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=La.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Ly(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oi(),this.targetWithTransforms=Oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Eu(this.target,this.layout.layoutBox),YF(this.target,this.targetDelta)):Eu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Ly(this.relativeTargetOrigin,this.target,x.target),Eu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vy&&bh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||T3(this.parent.latestValues)||GF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),f=!!this.resumingFrom||this!==l;let p=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===La.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Eu(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;Mae(this.layoutCorrected,this.treeScale,this.path,f),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Oi());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fV(this.prevProjectionDelta.x,this.projectionDelta.x),fV(this.prevProjectionDelta.y,this.projectionDelta.y)),My(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!xV(this.projectionDelta.x,this.prevProjectionDelta.x)||!xV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Vy&&bh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),s){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rg(),this.projectionDelta=Rg(),this.projectionDeltaWithTransform=Rg()}setAnimationOrigin(s,l=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},g=Rg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Oi(),x=f?f.source:void 0,S=this.layout?this.layout.source:void 0,_=x!==S,k=this.getStack(),R=!k||k.members.length<=1,O=!!(_&&!R&&this.options.crossfade===!0&&!this.path.some(Coe));this.animationProgress=0;let I;this.mixTargetDelta=P=>{const F=P/1e3;kV(g.x,s.x,F),kV(g.y,s.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ly(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Soe(this.relativeTarget,this.relativeTargetOrigin,y,F),I&&toe(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Oi()),Eu(I,this.relativeTarget)),_&&(this.animationValues=m,Yae(m,p,this.latestValues,F,O,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{B2.hasAnimatedSinceResize=!0,this.currentAnimation=uoe(0,SV,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:f,layout:p,latestValues:m}=s;if(!(!l||!f||!p)){if(this!==s&&this.layout&&p&&OV(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Oi();const g=Ws(this.layout.layoutBox.x);f.x.min=s.target.x.min,f.x.max=f.x.min+g;const y=Ws(this.layout.layoutBox.y);f.y.min=s.target.y.min,f.y.max=f.y.min+y}Eu(l,f),Dg(l,m),My(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new noe),this.sharedNodes.get(s).add(l);const p=l.options.initialPromotionConfig;l.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:f}=s;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(l=!0),!l)return;const p={};f.z&&D3("z",s,p,this.animationValues);for(let m=0;m<A3.length;m++)D3(`rotate${A3[m]}`,s,p,this.animationValues),D3(`skew${A3[m]}`,s,p,this.animationValues);s.render();for(const m in p)s.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);s.scheduleRender()}getProjectionStyles(s){var l,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return loe;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=H2(s==null?void 0:s.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=H2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yh(this.latestValues)&&(_.transform=m?m({},""):"none",this.hasProjected=!1),_}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),p.transform=roe(this.projectionDeltaWithTransform,this.treeScale,y),m&&(p.transform=m(y,p.transform));const{x,y:S}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?p.opacity=g===this?(f=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:p.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in U2){if(y[_]===void 0)continue;const{correct:k,applyTo:R}=U2[_],O=p.transform==="none"?y[_]:k(y[_],g);if(R){const I=R.length;for(let P=0;P<I;P++)p[R[P]]=O}else p[_]=O}return this.options.layoutId&&(p.pointerEvents=g===this?H2(s==null?void 0:s.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_V),this.root.sharedNodes.clear()}}}function foe(t){t.updateLayout()}function doe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Cu(g=>{const y=s?n.measuredBox[g]:n.layoutBox[g],x=Ws(y);y.min=r[g].min,y.max=y.min+x}):OV(o,n.layoutBox,r)&&Cu(g=>{const y=s?n.measuredBox[g]:n.layoutBox[g],x=Ws(r[g]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=Rg();My(l,r,n.layoutBox);const f=Rg();s?My(f,t.applyTransform(i,!0),n.measuredBox):My(f,r,n.layoutBox);const p=!gV(l);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const S=Oi();Ly(S,n.layoutBox,y.layoutBox);const _=Oi();Ly(_,r,x.layoutBox),bV(S,_)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:l,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function poe(t){Vy&&bh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hoe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function moe(t){t.clearSnapshot()}function _V(t){t.clearMeasurements()}function goe(t){t.isLayoutDirty=!1}function voe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yoe(t){t.resolveTargetDelta()}function boe(t){t.calcProjection()}function woe(t){t.resetSkewAndRotation()}function xoe(t){t.removeLeadSnapshot()}function kV(t,e,n){t.translate=pi(e.translate,0,n),t.scale=pi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function NV(t,e,n,r){t.min=pi(e.min,n.min,r),t.max=pi(e.max,n.max,r)}function Soe(t,e,n,r){NV(t.x,e.x,n.x,r),NV(t.y,e.y,n.y,r)}function Coe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eoe={duration:.45,ease:[.4,0,.1,1]},RV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AV=RV("applewebkit/")&&!RV("chrome/")?Math.round:rs;function DV(t){t.min=AV(t.min),t.max=AV(t.max)}function _oe(t){DV(t.x),DV(t.y)}function OV(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tae(wV(e),wV(n),.2)}function Toe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const koe=EV({attachResizeListener:(t,e)=>Iy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),O3={current:void 0},$V=EV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!O3.current){const t=new koe({});t.mount(window),t.setOptions({layoutScroll:!0}),O3.current=t}return O3.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Noe={pan:{Feature:Bae},drag:{Feature:zae,ProjectionNode:$V,MeasureLayout:iV}};function IV(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Mr.postRender(()=>o(e,$y(e)))}class Roe extends Fd{mount(){const{current:e}=this.node;e&&(this.unmount=dae(e,n=>(IV(this.node,n,"Start"),r=>IV(this.node,r,"End"))))}unmount(){}}class Aoe extends Fd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ry(Iy(this.node.current,"focus",()=>this.onFocus()),Iy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PV(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Mr.postRender(()=>o(e,$y(e)))}class Doe extends Fd{mount(){const{current:e}=this.node;e&&(this.unmount=gae(e,n=>(PV(this.node,n,"Start"),(r,{success:i})=>PV(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $3=new WeakMap,I3=new WeakMap,Ooe=t=>{const e=$3.get(t.target);e&&e(t)},$oe=t=>{t.forEach(Ooe)};function Ioe({root:t,...e}){const n=t||document;I3.has(n)||I3.set(n,{});const r=I3.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($oe,{root:t,...e})),r[i]}function Poe(t,e,n){const r=Ioe(e);return $3.set(t,n),r.observe(t),()=>{$3.delete(t),r.unobserve(t)}}const Moe={some:0,all:1};class Loe extends Fd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Moe[i]},l=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=p?m:g;y&&y(f)};return Poe(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Foe(e,n))&&this.startObserver()}unmount(){}}function Foe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Voe={inView:{Feature:Loe},tap:{Feature:Doe},focus:{Feature:Aoe},hover:{Feature:Roe}},joe={layout:{ProjectionNode:$V,MeasureLayout:iV}},MV=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),W2=j.createContext({}),P3=typeof window<"u",LV=P3?j.useLayoutEffect:j.useEffect,FV=j.createContext({strict:!1});function zoe(t,e,n,r,i){var o,s;const{visualElement:l}=j.useContext(W2),f=j.useContext(FV),p=j.useContext(N3),m=j.useContext(MV).reducedMotion,g=j.useRef(null);r=r||f.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:l,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,x=j.useContext(nV);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&Boe(g.current,n,i,x);const S=j.useRef(!1);j.useInsertionEffect(()=>{y&&S.current&&y.update(n,p)});const _=n[bF],k=j.useRef(!!_&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,_))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,_)));return LV(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),R3.render(y.render),k.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,_)}),k.current=!1))}),y}function Boe(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:l,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VV(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||l&&Ng(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function VV(t){if(t)return t.options.allowProjection!==!1?t.projection:VV(t.parent)}function Uoe(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ng(n)&&(n.current=r))},[e])}function G2(t){return R2(t.animate)||VT.some(e=>Sy(t[e]))}function jV(t){return!!(G2(t)||t.variants)}function Hoe(t,e){if(G2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Sy(n)?n:void 0,animate:Sy(r)?r:void 0}}return t.inherit!==!1?e:{}}function Woe(t){const{initial:e,animate:n}=Hoe(t,j.useContext(W2));return j.useMemo(()=>({initial:e,animate:n}),[zV(e),zV(n)])}function zV(t){return Array.isArray(t)?t.join(" "):t}const BV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Og={};for(const t in BV)Og[t]={isEnabled:e=>BV[t].some(n=>!!e[n])};function Goe(t){for(const e in t)Og[e]={...Og[e],...t[e]}}const Koe=Symbol.for("motionComponentSymbol");function qoe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Goe(t);function o(l,f){let p;const m={...j.useContext(MV),...l,layoutId:Yoe(l)},{isStatic:g}=m,y=Woe(l),x=r(l,g);if(!g&&P3){Zoe(m,t);const S=Xoe(m);p=S.MeasureLayout,y.visualElement=zoe(i,x,m,e,S.ProjectionNode)}return B.jsxs(W2.Provider,{value:y,children:[p&&y.visualElement?B.jsx(p,{visualElement:y.visualElement,...m}):null,n(i,l,Uoe(x,y.visualElement,f),x,g,y.visualElement)]})}const s=j.forwardRef(o);return s[Koe]=i,s}function Yoe({layoutId:t}){const e=j.useContext(z2).id;return e&&t!==void 0?e+"-"+t:t}function Zoe(t,e){const n=j.useContext(FV).strict;if(process.env.NODE_ENV!=="production"&&e&&n){const r="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";t.ignoreStrict?Cg(!1,r):Id(!1,r)}}function Xoe(t){const{drag:e,layout:n}=Og;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M3(t){return typeof t!="string"||t.includes("-")?!1:!!(Qoe.indexOf(t)>-1||/[A-Z]/u.test(t))}function UV(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const HV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(t,e,n,r){UV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(HV.has(i)?i:v3(i),e.attrs[i])}function GV(t,{layout:e,layoutId:n}){return hh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!U2[t]||t==="opacity")}function L3(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(io(i[s])||e.style&&io(e.style[s])||GV(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function KV(t,e,n){const r=L3(t,e,n);for(const i in t)if(io(t[i])||io(e[i])){const o=Cy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function Joe(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}function ese({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:tse(r,i,o,t),renderState:e()};return n&&(s.mount=l=>n(r,l,s)),s}const qV=t=>(e,n)=>{const r=j.useContext(W2),i=j.useContext(N3),o=()=>ese(t,e,r,i);return n?o():Joe(o)};function tse(t,e,n,r){const i={},o=r(t,{});for(const y in o)i[y]=H2(o[y]);let{initial:s,animate:l}=t;const f=G2(t),p=jV(t);e&&p&&!f&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let m=n?n.initial===!1:!1;m=m||s===!1;const g=m?l:s;if(g&&typeof g!="boolean"&&!R2(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const S=LT(t,y[x]);if(S){const{transitionEnd:_,transition:k,...R}=S;for(const O in R){let I=R[O];if(Array.isArray(I)){const P=m?I.length-1:0;I=I[P]}I!==null&&(i[O]=I)}for(const O in _)i[O]=_[O]}}}return i}const F3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),YV=()=>({...F3(),attrs:{}}),ZV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,nse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rse=Cy.length;function ise(t,e,n){let r="",i=!0;for(let o=0;o<rse;o++){const s=Cy[o],l=t[s];if(l===void 0)continue;let f=!0;if(typeof l=="number"?f=l===(s.startsWith("scale")?1:0):f=parseFloat(l)===0,!f||n){const p=ZV(l,JT[s]);if(!f){i=!1;const m=nse[s]||s;r+=`${m}(${p}) `}n&&(e[s]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function V3(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,l=!1;for(const f in e){const p=e[f];if(hh.has(f)){s=!0;continue}else if(DL(f)){i[f]=p;continue}else{const m=ZV(p,JT[f]);f.startsWith("origin")?(l=!0,o[f]=m):r[f]=m}}if(e.transform||(s||n?r.transform=ise(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:f="50%",originY:p="50%",originZ:m=0}=o;r.transformOrigin=`${f} ${p} ${m}`}}function XV(t,e,n){return typeof t=="string"?t:on.transform(e+n*t)}function ase(t,e,n){const r=XV(e,t.x,t.width),i=XV(n,t.y,t.height);return`${r} ${i}`}const ose={offset:"stroke-dashoffset",array:"stroke-dasharray"},sse={offset:"strokeDashoffset",array:"strokeDasharray"};function use(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?ose:sse;t[o.offset]=on.transform(-r);const s=on.transform(e),l=on.transform(n);t[o.array]=`${s} ${l}`}function j3(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:f=0,...p},m,g){if(V3(t,p,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x,dimensions:S}=t;y.transform&&(S&&(x.transform=y.transform),delete y.transform),S&&(i!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=ase(S,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&use(y,s,l,f,!1)}const z3=t=>typeof t=="string"&&t.toLowerCase()==="svg",lse={useVisualState:qV({scrapeMotionValuesFromProps:KV,createRenderState:YV,onMount:(t,e,{renderState:n,latestValues:r})=>{Mr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Mr.render(()=>{j3(n,r,z3(e.tagName),t.transformTemplate),WV(e,n)})}})},cse={useVisualState:qV({scrapeMotionValuesFromProps:L3,createRenderState:F3})};function QV(t,e,n){for(const r in e)!io(e[r])&&!GV(r,n)&&(t[r]=e[r])}function fse({transformTemplate:t},e){return j.useMemo(()=>{const n=F3();return V3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dse(t,e){const n=t.style||{},r={};return QV(r,n,t),Object.assign(r,fse(t,e)),r}function pse(t,e){const n={},r=dse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function K2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hse.has(t)}let JV=t=>!K2(t);function mse(t){t&&(JV=e=>e.startsWith("on")?!K2(e):t(e))}try{mse(require("@emotion/is-prop-valid").default)}catch{}function gse(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JV(i)||n===!0&&K2(i)||!e&&!K2(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vse(t,e,n,r){const i=j.useMemo(()=>{const o=YV();return j3(o,e,z3(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};QV(o,t.style,t),i.style={...o,...i.style}}return i}function yse(t=!1){return(n,r,i,{latestValues:o},s)=>{const f=(M3(n)?vse:pse)(r,o,s,n),p=gse(r,typeof n=="string",t),m=n!==j.Fragment?{...p,...f,ref:i}:{},{children:g}=r,y=j.useMemo(()=>io(g)?g.get():g,[g]);return j.createElement(n,{...m,children:y})}}function bse(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...M3(r)?lse:cse,preloadedFeatures:t,useRender:yse(i),createVisualElement:e,Component:r};return qoe(s)}}const B3={current:null},ej={current:!1};function wse(){if(ej.current=!0,!!P3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>B3.current=t.matches;t.addListener(e),e()}else B3.current=!1}function xse(t,e,n){for(const r in e){const i=e[r],o=n[r];if(io(i))t.addValue(r,i),process.env.NODE_ENV==="development"&&N2(i.version==="11.15.0",`Attempting to mix Motion versions ${i.version} with 11.15.0 may not work as expected.`);else if(io(o))t.addValue(r,Dy(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Dy(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const tj=new WeakMap,Sse=[...FL,ro,Ld],Cse=t=>Sse.find(LL(t)),nj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ese{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=hc.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Mr.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=s;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=G2(n),this.isVariantNode=jV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const x=g[y];f[y]!==void 0&&io(x)&&x.set(f[y],!1)}}mount(e){this.current=e,tj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ej.current||wse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:B3.current,process.env.NODE_ENV!=="production"&&N2(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tj.delete(this.current),this.projection&&this.projection.unmount(),Pd(this.notifyUpdate),Pd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hh.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Og){const n=Og[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nj.length;r++){const i=nj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dy(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RL(i)||NL(i))?i=parseFloat(i):!Cse(i)&&Ld.test(n)&&(i=YL(e,n)),this.setBaseTarget(e,io(i)?i.get():i)),io(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=LT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!io(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rj extends Ese{constructor(){super(...arguments),this.KeyframeResolver=ZL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;io(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _se(t){return window.getComputedStyle(t)}class Tse extends rj{constructor(){super(...arguments),this.type="html",this.renderInstance=UV}readValueFromInstance(e,n){if(hh.has(n)){const r=e3(n);return r&&r.default||0}else{const r=_se(e),i=(DL(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JF(e,n)}build(e,n,r){V3(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return L3(e,n,r)}}class kse extends rj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hh.has(n)){const r=e3(n);return r&&r.default||0}return n=HV.has(n)?n:v3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KV(e,n,r)}build(e,n,r){j3(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){WV(e,n,r,i)}mount(e){this.isSVGTag=z3(e.tagName),super.mount(e)}}const Nse=(t,e)=>M3(t)?new kse(e):new Tse(e,{allowProjection:t!==j.Fragment}),Rse=bse({...cae,...Voe,...Noe,...joe},Nse),U3=lre(Rse),Ase=j.createContext(null);function Dse(){const t=j.useRef(!1);return LV(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Ose(){const t=Dse(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>Mr.postRender(r),[r]),e]}const $se=t=>!t.isLayoutDirty&&t.willUpdate(!1);function ij(){const t=new Set,e=new WeakMap,n=()=>t.forEach($se);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const i=e.get(r);i&&(i(),e.delete(r)),n()},dirty:n}}const aj=t=>t===!0,Ise=t=>aj(t===!0)||t==="id",oj=({children:t,id:e,inherit:n=!0})=>{const r=j.useContext(z2),i=j.useContext(Ase),[o,s]=Ose(),l=j.useRef(null),f=r.id||i;l.current===null&&(Ise(n)&&f&&(e=e?f+"-"+e:f),l.current={id:e,group:aj(n)&&r.group||ij()});const p=j.useMemo(()=>({...l.current,forceRender:o}),[s]);return B.jsx(z2.Provider,{value:p,children:t})};function sj(t){const e=j.useRef(t),n=j.useCallback((...r)=>{var i;return(i=e.current)==null?void 0:i.call(e,...r)},[]);return e.current=t,n}function uj(t,{options:e,onGetState:n,onCheckState:r}){const[i,o]=j.useState(null),s=sj(n),l=sj(r);return j.useEffect(()=>{if(!t.current)return;const f=t.current,p=new MutationObserver(m=>{for(const g of m)if(l(g)){const y=s(f);o(y)}});return o(s(f)),p.observe(f,e),()=>{p.disconnect()}},[t,e,l,s]),i}function lj(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function H3(){const[t,e]=j.useState(lj()),n=j.useCallback(()=>{e(lj())},[]);return j.useEffect(()=>(window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[n]),t}function Pse(t=3,e=0,n=!1){const[r,i]=j.useState(t),[o,s]=j.useState(n),l=j.useCallback(()=>{r>e&&s(!0)},[r,e]),f=j.useCallback(()=>{s(!1),i(t)},[t]);return j.useEffect(()=>{if(!o)return;let p;return r>e?p=setInterval(()=>{i(m=>m-1)},1e3):s(!1),()=>{p&&clearInterval(p)}},[o,r,e]),{time:r,start:l,reset:f}}function cj(t){return Object.prototype.toString.call(t)==="[object Function]"}const Vd={styles:B.jsx(ei,{id:"3262456453",children:["*.jsx-3262456453,*.jsx-3262456453::before,*.jsx-3262456453::after{box-sizing:border-box;}","*.jsx-3262456453{margin:0;}","button.jsx-3262456453{all:unset;}",`.control.jsx-3262456453{font-family:${Q.fonts.default};}`,`.list.jsx-3262456453{display:grid;gap:${Q.space(6)};grid-auto-columns:1fr;grid-auto-flow:column;overflow-x:auto;overflow-y:hidden;overscroll-behavior:contain;font-weight:500;font-size:14px;border-bottom:1px solid ${Q.colors.borders.input};-ms-overflow-style:none;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;}`,".list.jsx-3262456453::-webkit-scrollbar{display:none;}",".list.jsx-3262456453 .trigger.jsx-3262456453{width:100%;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",`.content.jsx-3262456453{position:relative;color:${Q.colors.accent.dark};padding:${Q.space(3)};-webkit-transition:color 300ms ease;transition:color 300ms ease;z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Q.space(1.5)};-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}`,`.trigger[data-state='active'].jsx-3262456453 .content.jsx-3262456453{color:${Q.colors.background.text};}`,`.icon.jsx-3262456453{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:${Q.colors.accent.dark};}`,`.trigger[data-state='active'].jsx-3262456453 .icon.jsx-3262456453{color:${Q.colors.primary.main};}`,`.indicator.jsx-3262456453{position:absolute;background-color:${Q.colors.primary.main};border-radius:${Q.space(.5)};bottom:0;left:0;height:${Q.space(.5)};width:100%;}`]}),className:"jsx-3262456453"},is=j.forwardRef(({className:t,size:e="medium",...n},r)=>B.jsxs(j.Fragment,{children:[Vd.styles,B.jsx(dL,{ref:r,className:Je(Vd.className,"control",e,t),...n})]})),Mse=j.forwardRef(({className:t,...e},n)=>{const r=j.useId();return B.jsx(oj,{id:r,children:B.jsx(pL,{...e,ref:n,className:Je(Vd.className,"list",t)})})}),Lse=j.forwardRef(({className:t,children:e,...n},r)=>{const i=j.useRef(null),o=j.useCallback(l=>{r&&(cj(r)?r(l):r.current=l),i.current=l},[r]),s=uj(i,{options:{attributes:!0,attributeFilter:["data-state"]},onGetState:l=>l.getAttribute("data-state"),onCheckState:l=>l.type==="attributes"&&l.attributeName==="data-state"});return B.jsxs(hL,{ref:o,className:Je(Vd.className,"trigger",t),...n,children:[B.jsx("div",{className:Je(Vd.className,"content"),children:e}),s==="active"?B.jsx(U3.div,{layoutId:"rekorder-segmented-controls-indictor",className:Je(Vd.className,"indicator")}):null]})}),Fse=j.forwardRef(({className:t,...e},n)=>B.jsx("span",{className:Je(Vd.className,"icon",t),ref:n,...e})),Vse=j.forwardRef(({className:t,...e},n)=>B.jsx(mL,{...e,ref:n,className:Je(Vd.className,"panel",t)}));is.List=Mse,is.Trigger=Lse,is.Panel=Vse,is.TriggerIcon=Fse;const jd={styles:B.jsx(ei,{id:"1223490659",children:["*.jsx-1223490659,*.jsx-1223490659::before,*.jsx-1223490659::after{box-sizing:border-box;}","*.jsx-1223490659{margin:0;}","button.jsx-1223490659{all:unset;}",`.control.jsx-1223490659{font-family:${Q.fonts.default};}`,`.list.jsx-1223490659{display:grid;grid-auto-columns:1fr;overflow:hidden;width:100%;font-weight:500;padding:${Q.space(1)};background-color:${Q.colors.background.main};border-radius:${Q.space(3)};}`,".control.small.jsx-1223490659 .list.jsx-1223490659{font-size:14px;}",".control.medium.jsx-1223490659 .list.jsx-1223490659{font-size:14px;}",".control.large.jsx-1223490659 .list.jsx-1223490659{font-size:15px;}",".control.horizontal.jsx-1223490659 .list.jsx-1223490659{grid-auto-flow:column;}",".control.vertical.jsx-1223490659 .list.jsx-1223490659{grid-auto-flow:row;}",".trigger.jsx-1223490659{width:100%;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".trigger.jsx-1223490659:disabled{opacity:0.5;cursor:not-allowed;}",`.control.small.jsx-1223490659 .trigger.jsx-1223490659{height:${Q.space(9)};border-radius:${Q.space(1.5)};}`,`.control.medium.jsx-1223490659 .trigger.jsx-1223490659{height:${Q.space(10)};border-radius:${Q.space(2)};}`,`.control.large.jsx-1223490659 .trigger.jsx-1223490659{height:${Q.space(11)};border-radius:${Q.space(2.5)};}`,`.content.jsx-1223490659{position:relative;color:${Q.colors.text.muted};-webkit-transition:color 300ms ease;transition:color 300ms ease;z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Q.space(1.5)};-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}`,`.trigger[data-state='active'].jsx-1223490659 .content.jsx-1223490659{color:${Q.colors.background.text};}`,`.icon.jsx-1223490659{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:${Q.colors.accent.dark};}`,`.trigger[data-state='active'].jsx-1223490659 .icon.jsx-1223490659{color:${Q.colors.primary.main};}`,`.indicator.jsx-1223490659{position:absolute;box-shadow:${Q.shadow().sm};background-color:${Q.colors.core.white};border-radius:${Q.space(2)};inset:0;}`]}),className:"jsx-1223490659"},hl=j.forwardRef(({className:t,orientation:e="horizontal",size:n="medium",...r},i)=>B.jsxs(j.Fragment,{children:[jd.styles,B.jsx(dL,{ref:i,orientation:e,className:Je(jd.className,"control",e,n,t),...r})]})),jse=j.forwardRef(({className:t,...e},n)=>{const r=j.useId();return B.jsx(oj,{id:r,children:B.jsx(pL,{...e,ref:n,className:Je(jd.className,"list",t)})})}),zse=j.forwardRef(({className:t,children:e,...n},r)=>{const i=j.useRef(null),o=j.useCallback(l=>{r&&(cj(r)?r(l):r.current=l),i.current=l},[r]),s=uj(i,{options:{attributes:!0,attributeFilter:["data-state"]},onGetState:l=>l.getAttribute("data-state"),onCheckState:l=>l.type==="attributes"&&l.attributeName==="data-state"});return B.jsxs(hL,{ref:o,className:Je(jd.className,"trigger",t),...n,children:[B.jsx("div",{className:Je(jd.className,"content"),children:e}),s==="active"?B.jsx(U3.div,{layoutId:"rekorder-segmented-controls-indictor",className:Je(jd.className,"indicator")}):null]})}),Bse=j.forwardRef(({className:t,...e},n)=>B.jsx("span",{className:Je(jd.className,"icon",t),ref:n,...e})),Use=j.forwardRef(({className:t,...e},n)=>B.jsx(mL,{...e,ref:n,className:Je(jd.className,"panel",t)}));hl.List=jse,hl.Trigger=zse,hl.Panel=Use,hl.TriggerIcon=Bse;function Hse({children:t,className:e,transition:n}){const r=j.useRef(null),[i,o]=j.useState("auto");return j.useEffect(()=>{if(r.current){const s=new ResizeObserver(l=>{const f=l[0].contentRect.height;o(f)});return s.observe(r.current),()=>{s.disconnect()}}},[]),B.jsx(U3.div,{className:e,style:{height:i,overflow:"hidden"},animate:{height:i},transition:{duration:.3,...n},children:B.jsx("div",{id:"animate-height-container",ref:r,children:t})})}var q2={exports:{}},fj={},W3={exports:{}},Y2={exports:{}},mr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dj;function Wse(){if(dj)return mr;dj=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,R=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function I(F){if(typeof F=="object"&&F!==null){var K=F.$$typeof;switch(K){case e:switch(F=F.type,F){case f:case p:case r:case o:case i:case g:return F;default:switch(F=F&&F.$$typeof,F){case l:case m:case S:case x:case s:return F;default:return K}}case n:return K}}}function P(F){return I(F)===p}return mr.AsyncMode=f,mr.ConcurrentMode=p,mr.ContextConsumer=l,mr.ContextProvider=s,mr.Element=e,mr.ForwardRef=m,mr.Fragment=r,mr.Lazy=S,mr.Memo=x,mr.Portal=n,mr.Profiler=o,mr.StrictMode=i,mr.Suspense=g,mr.isAsyncMode=function(F){return P(F)||I(F)===f},mr.isConcurrentMode=P,mr.isContextConsumer=function(F){return I(F)===l},mr.isContextProvider=function(F){return I(F)===s},mr.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},mr.isForwardRef=function(F){return I(F)===m},mr.isFragment=function(F){return I(F)===r},mr.isLazy=function(F){return I(F)===S},mr.isMemo=function(F){return I(F)===x},mr.isPortal=function(F){return I(F)===n},mr.isProfiler=function(F){return I(F)===o},mr.isStrictMode=function(F){return I(F)===i},mr.isSuspense=function(F){return I(F)===g},mr.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===r||F===p||F===o||F===i||F===g||F===y||typeof F=="object"&&F!==null&&(F.$$typeof===S||F.$$typeof===x||F.$$typeof===s||F.$$typeof===l||F.$$typeof===m||F.$$typeof===k||F.$$typeof===R||F.$$typeof===O||F.$$typeof===_)},mr.typeOf=I,mr}var gr={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pj;function Gse(){return pj||(pj=1,process.env.NODE_ENV!=="production"&&function(){var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,p=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,R=t?Symbol.for("react.responder"):60118,O=t?Symbol.for("react.scope"):60119;function I(He){return typeof He=="string"||typeof He=="function"||He===r||He===p||He===o||He===i||He===g||He===y||typeof He=="object"&&He!==null&&(He.$$typeof===S||He.$$typeof===x||He.$$typeof===s||He.$$typeof===l||He.$$typeof===m||He.$$typeof===k||He.$$typeof===R||He.$$typeof===O||He.$$typeof===_)}function P(He){if(typeof He=="object"&&He!==null){var At=He.$$typeof;switch(At){case e:var nn=He.type;switch(nn){case f:case p:case r:case o:case i:case g:return nn;default:var Jn=nn&&nn.$$typeof;switch(Jn){case l:case m:case S:case x:case s:return Jn;default:return At}}case n:return At}}}var F=f,K=p,Y=l,te=s,fe=e,ye=m,de=r,Pe=S,xe=x,Te=n,je=o,$e=i,Re=g,be=!1;function Ve(He){return be||(be=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),he(He)||P(He)===f}function he(He){return P(He)===p}function ne(He){return P(He)===l}function we(He){return P(He)===s}function We(He){return typeof He=="object"&&He!==null&&He.$$typeof===e}function Ue(He){return P(He)===m}function at(He){return P(He)===r}function Qe(He){return P(He)===S}function Me(He){return P(He)===x}function Ge(He){return P(He)===n}function rt(He){return P(He)===o}function ot(He){return P(He)===i}function Rt(He){return P(He)===g}gr.AsyncMode=F,gr.ConcurrentMode=K,gr.ContextConsumer=Y,gr.ContextProvider=te,gr.Element=fe,gr.ForwardRef=ye,gr.Fragment=de,gr.Lazy=Pe,gr.Memo=xe,gr.Portal=Te,gr.Profiler=je,gr.StrictMode=$e,gr.Suspense=Re,gr.isAsyncMode=Ve,gr.isConcurrentMode=he,gr.isContextConsumer=ne,gr.isContextProvider=we,gr.isElement=We,gr.isForwardRef=Ue,gr.isFragment=at,gr.isLazy=Qe,gr.isMemo=Me,gr.isPortal=Ge,gr.isProfiler=rt,gr.isStrictMode=ot,gr.isSuspense=Rt,gr.isValidElementType=I,gr.typeOf=P}()),gr}var hj;function mj(){return hj||(hj=1,process.env.NODE_ENV==="production"?Y2.exports=Wse():Y2.exports=Gse()),Y2.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var G3,gj;function Kse(){if(gj)return G3;gj=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function i(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},l=0;l<10;l++)s["_"+String.fromCharCode(l)]=l;var f=Object.getOwnPropertyNames(s).map(function(m){return s[m]});if(f.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return G3=i()?Object.assign:function(o,s){for(var l,f=r(o),p,m=1;m<arguments.length;m++){l=Object(arguments[m]);for(var g in l)e.call(l,g)&&(f[g]=l[g]);if(t){p=t(l);for(var y=0;y<p.length;y++)n.call(l,p[y])&&(f[p[y]]=l[p[y]])}}return f},G3}var K3,vj;function q3(){if(vj)return K3;vj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K3=t,K3}var Y3,yj;function bj(){return yj||(yj=1,Y3=Function.call.bind(Object.prototype.hasOwnProperty)),Y3}var Z3,wj;function qse(){if(wj)return Z3;wj=1;var t=function(){};if(process.env.NODE_ENV!=="production"){var e=q3(),n={},r=bj();t=function(o){var s="Warning: "+o;typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}}}function i(o,s,l,f,p){if(process.env.NODE_ENV!=="production"){for(var m in o)if(r(o,m)){var g;try{if(typeof o[m]!="function"){var y=Error((f||"React class")+": "+l+" type `"+m+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[m]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw y.name="Invariant Violation",y}g=o[m](s,m,f,l,null,e)}catch(S){g=S}if(g&&!(g instanceof Error)&&t((f||"React class")+": type specification of "+l+" `"+m+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof g+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),g instanceof Error&&!(g.message in n)){n[g.message]=!0;var x=p?p():"";t("Failed "+l+" type: "+g.message+(x??""))}}}}return i.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(n={})},Z3=i,Z3}var X3,xj;function Yse(){if(xj)return X3;xj=1;var t=mj(),e=Kse(),n=q3(),r=bj(),i=qse(),o=function(){};process.env.NODE_ENV!=="production"&&(o=function(l){var f="Warning: "+l;typeof console<"u"&&console.error(f);try{throw new Error(f)}catch{}});function s(){return null}return X3=function(l,f){var p=typeof Symbol=="function"&&Symbol.iterator,m="@@iterator";function g(he){var ne=he&&(p&&he[p]||he[m]);if(typeof ne=="function")return ne}var y="<<anonymous>>",x={array:R("array"),bigint:R("bigint"),bool:R("boolean"),func:R("function"),number:R("number"),object:R("object"),string:R("string"),symbol:R("symbol"),any:O(),arrayOf:I,element:P(),elementType:F(),instanceOf:K,node:ye(),objectOf:te,oneOf:Y,oneOfType:fe,shape:Pe,exact:xe};function S(he,ne){return he===ne?he!==0||1/he===1/ne:he!==he&&ne!==ne}function _(he,ne){this.message=he,this.data=ne&&typeof ne=="object"?ne:{},this.stack=""}_.prototype=Error.prototype;function k(he){if(process.env.NODE_ENV!=="production")var ne={},we=0;function We(at,Qe,Me,Ge,rt,ot,Rt){if(Ge=Ge||y,ot=ot||Me,Rt!==n){if(f){var He=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw He.name="Invariant Violation",He}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var At=Ge+":"+Me;!ne[At]&&we<3&&(o("You are manually calling a React.PropTypes validation function for the `"+ot+"` prop on `"+Ge+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ne[At]=!0,we++)}}return Qe[Me]==null?at?Qe[Me]===null?new _("The "+rt+" `"+ot+"` is marked as required "+("in `"+Ge+"`, but its value is `null`.")):new _("The "+rt+" `"+ot+"` is marked as required in "+("`"+Ge+"`, but its value is `undefined`.")):null:he(Qe,Me,Ge,rt,ot)}var Ue=We.bind(null,!1);return Ue.isRequired=We.bind(null,!0),Ue}function R(he){function ne(we,We,Ue,at,Qe,Me){var Ge=we[We],rt=$e(Ge);if(rt!==he){var ot=Re(Ge);return new _("Invalid "+at+" `"+Qe+"` of type "+("`"+ot+"` supplied to `"+Ue+"`, expected ")+("`"+he+"`."),{expectedType:he})}return null}return k(ne)}function O(){return k(s)}function I(he){function ne(we,We,Ue,at,Qe){if(typeof he!="function")return new _("Property `"+Qe+"` of component `"+Ue+"` has invalid PropType notation inside arrayOf.");var Me=we[We];if(!Array.isArray(Me)){var Ge=$e(Me);return new _("Invalid "+at+" `"+Qe+"` of type "+("`"+Ge+"` supplied to `"+Ue+"`, expected an array."))}for(var rt=0;rt<Me.length;rt++){var ot=he(Me,rt,Ue,at,Qe+"["+rt+"]",n);if(ot instanceof Error)return ot}return null}return k(ne)}function P(){function he(ne,we,We,Ue,at){var Qe=ne[we];if(!l(Qe)){var Me=$e(Qe);return new _("Invalid "+Ue+" `"+at+"` of type "+("`"+Me+"` supplied to `"+We+"`, expected a single ReactElement."))}return null}return k(he)}function F(){function he(ne,we,We,Ue,at){var Qe=ne[we];if(!t.isValidElementType(Qe)){var Me=$e(Qe);return new _("Invalid "+Ue+" `"+at+"` of type "+("`"+Me+"` supplied to `"+We+"`, expected a single ReactElement type."))}return null}return k(he)}function K(he){function ne(we,We,Ue,at,Qe){if(!(we[We]instanceof he)){var Me=he.name||y,Ge=Ve(we[We]);return new _("Invalid "+at+" `"+Qe+"` of type "+("`"+Ge+"` supplied to `"+Ue+"`, expected ")+("instance of `"+Me+"`."))}return null}return k(ne)}function Y(he){if(!Array.isArray(he))return process.env.NODE_ENV!=="production"&&(arguments.length>1?o("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):o("Invalid argument supplied to oneOf, expected an array.")),s;function ne(we,We,Ue,at,Qe){for(var Me=we[We],Ge=0;Ge<he.length;Ge++)if(S(Me,he[Ge]))return null;var rt=JSON.stringify(he,function(Rt,He){var At=Re(He);return At==="symbol"?String(He):He});return new _("Invalid "+at+" `"+Qe+"` of value `"+String(Me)+"` "+("supplied to `"+Ue+"`, expected one of "+rt+"."))}return k(ne)}function te(he){function ne(we,We,Ue,at,Qe){if(typeof he!="function")return new _("Property `"+Qe+"` of component `"+Ue+"` has invalid PropType notation inside objectOf.");var Me=we[We],Ge=$e(Me);if(Ge!=="object")return new _("Invalid "+at+" `"+Qe+"` of type "+("`"+Ge+"` supplied to `"+Ue+"`, expected an object."));for(var rt in Me)if(r(Me,rt)){var ot=he(Me,rt,Ue,at,Qe+"."+rt,n);if(ot instanceof Error)return ot}return null}return k(ne)}function fe(he){if(!Array.isArray(he))return process.env.NODE_ENV!=="production"&&o("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var ne=0;ne<he.length;ne++){var we=he[ne];if(typeof we!="function")return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+be(we)+" at index "+ne+"."),s}function We(Ue,at,Qe,Me,Ge){for(var rt=[],ot=0;ot<he.length;ot++){var Rt=he[ot],He=Rt(Ue,at,Qe,Me,Ge,n);if(He==null)return null;He.data&&r(He.data,"expectedType")&&rt.push(He.data.expectedType)}var At=rt.length>0?", expected one of type ["+rt.join(", ")+"]":"";return new _("Invalid "+Me+" `"+Ge+"` supplied to "+("`"+Qe+"`"+At+"."))}return k(We)}function ye(){function he(ne,we,We,Ue,at){return Te(ne[we])?null:new _("Invalid "+Ue+" `"+at+"` supplied to "+("`"+We+"`, expected a ReactNode."))}return k(he)}function de(he,ne,we,We,Ue){return new _((he||"React class")+": "+ne+" type `"+we+"."+We+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Ue+"`.")}function Pe(he){function ne(we,We,Ue,at,Qe){var Me=we[We],Ge=$e(Me);if(Ge!=="object")return new _("Invalid "+at+" `"+Qe+"` of type `"+Ge+"` "+("supplied to `"+Ue+"`, expected `object`."));for(var rt in he){var ot=he[rt];if(typeof ot!="function")return de(Ue,at,Qe,rt,Re(ot));var Rt=ot(Me,rt,Ue,at,Qe+"."+rt,n);if(Rt)return Rt}return null}return k(ne)}function xe(he){function ne(we,We,Ue,at,Qe){var Me=we[We],Ge=$e(Me);if(Ge!=="object")return new _("Invalid "+at+" `"+Qe+"` of type `"+Ge+"` "+("supplied to `"+Ue+"`, expected `object`."));var rt=e({},we[We],he);for(var ot in rt){var Rt=he[ot];if(r(he,ot)&&typeof Rt!="function")return de(Ue,at,Qe,ot,Re(Rt));if(!Rt)return new _("Invalid "+at+" `"+Qe+"` key `"+ot+"` supplied to `"+Ue+"`.\nBad object: "+JSON.stringify(we[We],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(he),null,"  "));var He=Rt(Me,ot,Ue,at,Qe+"."+ot,n);if(He)return He}return null}return k(ne)}function Te(he){switch(typeof he){case"number":case"string":case"undefined":return!0;case"boolean":return!he;case"object":if(Array.isArray(he))return he.every(Te);if(he===null||l(he))return!0;var ne=g(he);if(ne){var we=ne.call(he),We;if(ne!==he.entries){for(;!(We=we.next()).done;)if(!Te(We.value))return!1}else for(;!(We=we.next()).done;){var Ue=We.value;if(Ue&&!Te(Ue[1]))return!1}}else return!1;return!0;default:return!1}}function je(he,ne){return he==="symbol"?!0:ne?ne["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ne instanceof Symbol:!1}function $e(he){var ne=typeof he;return Array.isArray(he)?"array":he instanceof RegExp?"object":je(ne,he)?"symbol":ne}function Re(he){if(typeof he>"u"||he===null)return""+he;var ne=$e(he);if(ne==="object"){if(he instanceof Date)return"date";if(he instanceof RegExp)return"regexp"}return ne}function be(he){var ne=Re(he);switch(ne){case"array":case"object":return"an "+ne;case"boolean":case"date":case"regexp":return"a "+ne;default:return ne}}function Ve(he){return!he.constructor||!he.constructor.name?y:he.constructor.name}return x.checkPropTypes=i,x.resetWarningCache=i.resetWarningCache,x.PropTypes=x,x},X3}var Q3,Sj;function Zse(){if(Sj)return Q3;Sj=1;var t=q3();function e(){}function n(){}return n.resetWarningCache=e,Q3=function(){function r(s,l,f,p,m,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Q3}if(process.env.NODE_ENV!=="production"){var Xse=mj(),Qse=!0;W3.exports=Yse()(Xse.isElement,Qse)}else W3.exports=Zse()();var Cj=W3.exports;function Ej(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Ej(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function _j(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Ej(t))&&(r&&(r+=" "),r+=e);return r}const Jse=gI(Object.freeze(Object.defineProperty({__proto__:null,clsx:_j,default:_j},Symbol.toStringTag,{value:"Module"})));var _i={},mc={};Object.defineProperty(mc,"__esModule",{value:!0}),mc.dontSetMe=iue,mc.findInArray=eue,mc.int=rue,mc.isFunction=tue,mc.isNum=nue;function eue(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function tue(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function nue(t){return typeof t=="number"&&!isNaN(t)}function rue(t){return parseInt(t,10)}function iue(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var wh={};Object.defineProperty(wh,"__esModule",{value:!0}),wh.browserPrefixToKey=kj,wh.browserPrefixToStyle=aue,wh.default=void 0,wh.getPrefix=Tj;const J3=["Moz","Webkit","O","ms"];function Tj(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<J3.length;r++)if(kj(e,J3[r])in n)return J3[r];return""}function kj(t,e){return e?"".concat(e).concat(oue(t)):t}function aue(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function oue(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}wh.default=Tj(),Object.defineProperty(_i,"__esModule",{value:!0}),_i.addClassName=Dj,_i.addEvent=lue,_i.addUserSelectStyles=wue,_i.createCSSTransform=gue,_i.createSVGTransform=vue,_i.getTouch=yue,_i.getTouchIdentifier=bue,_i.getTranslation=ek,_i.innerHeight=pue,_i.innerWidth=hue,_i.matchesSelector=Aj,_i.matchesSelectorAndParentsTo=uue,_i.offsetXYFromParent=mue,_i.outerHeight=fue,_i.outerWidth=due,_i.removeClassName=Oj,_i.removeEvent=cue,_i.removeUserSelectStyles=xue;var Gs=mc,Nj=sue(wh);function Rj(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Rj=function(r){return r?n:e})(t)}function sue(t,e){if(t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Rj(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}let Z2="";function Aj(t,e){return Z2||(Z2=(0,Gs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Gs.isFunction)(t[n])})),(0,Gs.isFunction)(t[Z2])?t[Z2](e):!1}function uue(t,e,n){let r=t;do{if(Aj(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function lue(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function cue(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function fue(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Gs.int)(n.borderTopWidth),e+=(0,Gs.int)(n.borderBottomWidth),e}function due(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Gs.int)(n.borderLeftWidth),e+=(0,Gs.int)(n.borderRightWidth),e}function pue(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Gs.int)(n.paddingTop),e-=(0,Gs.int)(n.paddingBottom),e}function hue(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Gs.int)(n.paddingLeft),e-=(0,Gs.int)(n.paddingRight),e}function mue(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function gue(t,e){const n=ek(t,e,"px");return{[(0,Nj.browserPrefixToKey)("transform",Nj.default)]:n}}function vue(t,e){return ek(t,e,"")}function ek(t,e,n){let{x:r,y:i}=t,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const s="".concat(typeof e.x=="string"?e.x:e.x+n),l="".concat(typeof e.y=="string"?e.y:e.y+n);o="translate(".concat(s,", ").concat(l,")")+o}return o}function yue(t,e){return t.targetTouches&&(0,Gs.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Gs.findInArray)(t.changedTouches,n=>e===n.identifier)}function bue(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function wue(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Dj(t.body,"react-draggable-transparent-selection")}function xue(t){if(t)try{if(t.body&&Oj(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Dj(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function Oj(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var gc={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.canDragX=Eue,gc.canDragY=_ue,gc.createCoreData=kue,gc.createDraggableData=Nue,gc.getBoundPosition=Sue,gc.getControlPosition=Tue,gc.snapToGrid=Cue;var Ks=mc,$g=_i;function Sue(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:Rue(r);const i=tk(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let l;if(r==="parent"?l=i.parentNode:l=o.querySelector(r),!(l instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const f=l,p=s.getComputedStyle(i),m=s.getComputedStyle(f);r={left:-i.offsetLeft+(0,Ks.int)(m.paddingLeft)+(0,Ks.int)(p.marginLeft),top:-i.offsetTop+(0,Ks.int)(m.paddingTop)+(0,Ks.int)(p.marginTop),right:(0,$g.innerWidth)(f)-(0,$g.outerWidth)(i)-i.offsetLeft+(0,Ks.int)(m.paddingRight)-(0,Ks.int)(p.marginRight),bottom:(0,$g.innerHeight)(f)-(0,$g.outerHeight)(i)-i.offsetTop+(0,Ks.int)(m.paddingBottom)-(0,Ks.int)(p.marginBottom)}}return(0,Ks.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Ks.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Ks.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Ks.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function Cue(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function Eue(t){return t.props.axis==="both"||t.props.axis==="x"}function _ue(t){return t.props.axis==="both"||t.props.axis==="y"}function Tue(t,e,n){const r=typeof e=="number"?(0,$g.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=tk(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,$g.offsetXYFromParent)(r||t,o,n.props.scale)}function kue(t,e,n){const r=!(0,Ks.isNum)(t.lastX),i=tk(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function Nue(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function Rue(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function tk(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var X2={},Q2={};Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.default=Aue;function Aue(){}Object.defineProperty(X2,"__esModule",{value:!0}),X2.default=void 0;var nk=Oue(j),as=ik(Cj),Due=ik(lf),ao=_i,zd=gc,rk=mc,jy=ik(Q2);function ik(t){return t&&t.__esModule?t:{default:t}}function $j(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($j=function(r){return r?n:e})(t)}function Oue(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$j(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Io(t,e,n){return e=$ue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:String(e)}function Iue(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ml={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Bd=ml.mouse,J2=class extends nk.Component{constructor(){super(...arguments),Io(this,"dragging",!1),Io(this,"lastX",NaN),Io(this,"lastY",NaN),Io(this,"touchIdentifier",null),Io(this,"mounted",!1),Io(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,ao.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,ao.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,ao.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,zd.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:l}=o,f=(0,zd.createCoreData)(this,s,l);(0,jy.default)("DraggableCore: handleDragStart: %j",f),(0,jy.default)("calling",this.props.onStart),!(this.props.onStart(e,f)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,ao.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=l,(0,ao.addEvent)(r,Bd.move,this.handleDrag),(0,ao.addEvent)(r,Bd.stop,this.handleDragStop))}),Io(this,"handleDrag",e=>{const n=(0,zd.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,f=i-this.lastY;if([l,f]=(0,zd.snapToGrid)(this.props.grid,l,f),!l&&!f)return;r=this.lastX+l,i=this.lastY+f}const o=(0,zd.createCoreData)(this,r,i);if((0,jy.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(f)}return}this.lastX=r,this.lastY=i}),Io(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,zd.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let f=r-this.lastX||0,p=i-this.lastY||0;[f,p]=(0,zd.snapToGrid)(this.props.grid,f,p),r=this.lastX+f,i=this.lastY+p}const o=(0,zd.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,ao.removeUserSelectStyles)(l.ownerDocument),(0,jy.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,jy.default)("DraggableCore: Removing handlers"),(0,ao.removeEvent)(l.ownerDocument,Bd.move,this.handleDrag),(0,ao.removeEvent)(l.ownerDocument,Bd.stop,this.handleDragStop))}),Io(this,"onMouseDown",e=>(Bd=ml.mouse,this.handleDragStart(e))),Io(this,"onMouseUp",e=>(Bd=ml.mouse,this.handleDragStop(e))),Io(this,"onTouchStart",e=>(Bd=ml.touch,this.handleDragStart(e))),Io(this,"onTouchEnd",e=>(Bd=ml.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,ao.addEvent)(e,ml.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,ao.removeEvent)(n,ml.mouse.move,this.handleDrag),(0,ao.removeEvent)(n,ml.touch.move,this.handleDrag),(0,ao.removeEvent)(n,ml.mouse.stop,this.handleDragStop),(0,ao.removeEvent)(n,ml.touch.stop,this.handleDragStop),(0,ao.removeEvent)(e,ml.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,ao.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Due.default.findDOMNode(this)}render(){return nk.cloneElement(nk.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};X2.default=J2,Io(J2,"displayName","DraggableCore"),Io(J2,"propTypes",{allowAnyClick:as.default.bool,children:as.default.node.isRequired,disabled:as.default.bool,enableUserSelectHack:as.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:as.default.arrayOf(as.default.number),handle:as.default.string,cancel:as.default.string,nodeRef:as.default.object,onStart:as.default.func,onDrag:as.default.func,onStop:as.default.func,onMouseDown:as.default.func,scale:as.default.number,className:rk.dontSetMe,style:rk.dontSetMe,transform:rk.dontSetMe}),Io(J2,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var e=y(j),n=m(Cj),r=m(lf),i=m(Jse),o=_i,s=gc,l=mc,f=m(X2),p=m(Q2);function m(O){return O&&O.__esModule?O:{default:O}}function g(O){if(typeof WeakMap!="function")return null;var I=new WeakMap,P=new WeakMap;return(g=function(F){return F?P:I})(O)}function y(O,I){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var P=g(I);if(P&&P.has(O))return P.get(O);var F={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in O)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(O,Y)){var te=K?Object.getOwnPropertyDescriptor(O,Y):null;te&&(te.get||te.set)?Object.defineProperty(F,Y,te):F[Y]=O[Y]}return F.default=O,P&&P.set(O,F),F}function x(){return x=Object.assign?Object.assign.bind():function(O){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(O[F]=P[F])}return O},x.apply(this,arguments)}function S(O,I,P){return I=_(I),I in O?Object.defineProperty(O,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[I]=P,O}function _(O){var I=k(O,"string");return typeof I=="symbol"?I:String(I)}function k(O,I){if(typeof O!="object"||O===null)return O;var P=O[Symbol.toPrimitive];if(P!==void 0){var F=P.call(O,I||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(O)}class R extends e.Component{static getDerivedStateFromProps(I,P){let{position:F}=I,{prevPropsPosition:K}=P;return F&&(!K||F.x!==K.x||F.y!==K.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:F,prevPropsPosition:K}),{x:F.x,y:F.y,prevPropsPosition:{...F}}):null}constructor(I){super(I),S(this,"onDragStart",(P,F)=>{if((0,p.default)("Draggable: onDragStart: %j",F),this.props.onStart(P,(0,s.createDraggableData)(this,F))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),S(this,"onDrag",(P,F)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",F);const K=(0,s.createDraggableData)(this,F),Y={x:K.x,y:K.y,slackX:0,slackY:0};if(this.props.bounds){const{x:fe,y:ye}=Y;Y.x+=this.state.slackX,Y.y+=this.state.slackY;const[de,Pe]=(0,s.getBoundPosition)(this,Y.x,Y.y);Y.x=de,Y.y=Pe,Y.slackX=this.state.slackX+(fe-Y.x),Y.slackY=this.state.slackY+(ye-Y.y),K.x=Y.x,K.y=Y.y,K.deltaX=Y.x-this.state.x,K.deltaY=Y.y-this.state.y}if(this.props.onDrag(P,K)===!1)return!1;this.setState(Y)}),S(this,"onDragStop",(P,F)=>{if(!this.state.dragging||this.props.onStop(P,(0,s.createDraggableData)(this,F))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",F);const Y={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:fe,y:ye}=this.props.position;Y.x=fe,Y.y=ye}this.setState(Y)}),this.state={dragging:!1,dragged:!1,x:I.position?I.position.x:I.defaultPosition.x,y:I.position?I.position.y:I.defaultPosition.y,prevPropsPosition:{...I.position},slackX:0,slackY:0,isElementSVG:!1},I.position&&!(I.onDrag||I.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var I,P;return(I=(P=this.props)===null||P===void 0||(P=P.nodeRef)===null||P===void 0?void 0:P.current)!==null&&I!==void 0?I:r.default.findDOMNode(this)}render(){const{axis:I,bounds:P,children:F,defaultPosition:K,defaultClassName:Y,defaultClassNameDragging:te,defaultClassNameDragged:fe,position:ye,positionOffset:de,scale:Pe,...xe}=this.props;let Te={},je=null;const Re=!!!ye||this.state.dragging,be=ye||K,Ve={x:(0,s.canDragX)(this)&&Re?this.state.x:be.x,y:(0,s.canDragY)(this)&&Re?this.state.y:be.y};this.state.isElementSVG?je=(0,o.createSVGTransform)(Ve,de):Te=(0,o.createCSSTransform)(Ve,de);const he=(0,i.default)(F.props.className||"",Y,{[te]:this.state.dragging,[fe]:this.state.dragged});return e.createElement(f.default,x({},xe,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(F),{className:he,style:{...F.props.style,...Te},transform:je}))}}t.default=R,S(R,"displayName","Draggable"),S(R,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),S(R,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fj);const{default:Ij,DraggableCore:Pue}=fj;q2.exports=Ij,q2.exports.default=Ij,q2.exports.DraggableCore=Pue;var Mue=q2.exports;const ak=cg(Mue);var Lue={0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(e,n){return"Cannot apply '"+e+"' to '"+n.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",16:"Modification exception: the internal structure of an observable array was changed.",17:function(e,n){return"[mobx.array] Index out of bounds, "+e+" is larger than "+n},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(e){return"Cannot initialize from classes that inherit from Map: "+e.constructor.name},20:function(e){return"Cannot initialize map from "+e},21:function(e){return"Cannot convert to map from '"+e+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(e){return"Cannot obtain administration from "+e},25:function(e,n){return"the entry '"+e+"' does not exist in the observable map '"+n+"'"},26:"please specify a property",27:function(e,n){return"no observable property '"+e.toString()+"' found on the observable object '"+n+"'"},28:function(e){return"Cannot obtain atom from "+e},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(e,n){return"Cycle detected in computation "+e+": "+n},33:function(e){return"The setter of computed value '"+e+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(e){return"[ComputedValue '"+e+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(e){return"[mobx] `observableArray."+e+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+e+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"},Fue=process.env.NODE_ENV!=="production"?Lue:{};function kt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(process.env.NODE_ENV!=="production"){var i=typeof t=="string"?t:Fue[t];throw typeof i=="function"&&(i=i.apply(null,n)),new Error("[MobX] "+i)}throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var Vue={};function ex(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Vue}var Pj=Object.assign,tx=Object.getOwnPropertyDescriptor,vc=Object.defineProperty,nx=Object.prototype,rx=[];Object.freeze(rx);var Mj={};Object.freeze(Mj);var jue=typeof Proxy<"u",zue=Object.toString();function Lj(){jue||kt(process.env.NODE_ENV!=="production"?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function zy(t){process.env.NODE_ENV!=="production"&&et.verifyProxies&&kt("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+t)}function gl(){return++et.mobxGuid}function ok(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Ig=function(){};function aa(t){return typeof t=="function"}function xh(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function ix(t){return t!==null&&typeof t=="object"}function qs(t){if(!ix(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===zue}function Fj(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function By(t,e,n){vc(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Vj(t,e,n){vc(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Sh(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return ix(r)&&r[n]===!0}}function Pg(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function Bue(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function vf(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var jj=typeof Object.getOwnPropertySymbols<"u";function Uue(t){var e=Object.keys(t);if(!jj)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return nx.propertyIsEnumerable.call(t,r)})):e}var Mg=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:jj?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function sk(t){return typeof t=="string"?t:typeof t=="symbol"?t.toString():new String(t).toString()}function zj(t){return t===null?null:typeof t=="object"?""+t:t}function _u(t,e){return nx.hasOwnProperty.call(t,e)}var Hue=Object.getOwnPropertyDescriptors||function(e){var n={};return Mg(e).forEach(function(r){n[r]=tx(e,r)}),n};function Ys(t,e){return!!(t&e)}function Zs(t,e,n){return n?t|=e:t&=~e,t}function Bj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kue(r.key),r)}}function Lg(t,e,n){return e&&Wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=que(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(null,arguments)}function Uj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uk(t,e)}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function que(t,e){if(t){if(typeof t=="string")return Bj(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bj(t,e):void 0}}var os=Symbol("mobx-stored-annotations");function yc(t){function e(n,r){if(Hy(r))return t.decorate_20223_(n,r);Uy(n,r,t)}return Object.assign(e,t)}function Uy(t,e,n){if(_u(t,os)||By(t,os,yf({},t[os])),process.env.NODE_ENV!=="production"&&ux(n)&&!_u(t[os],e)){var r=t.constructor.name+".prototype."+e.toString();kt("'"+r+"' is decorated with 'override', but no such decorated member was found on prototype.")}Yue(t,n,e),ux(n)||(t[os][e]=n)}function Yue(t,e,n){if(process.env.NODE_ENV!=="production"&&!ux(e)&&_u(t[os],n)){var r=t.constructor.name+".prototype."+n.toString(),i=t[os][n].annotationType_,o=e.annotationType_;kt("Cannot apply '@"+o+"' to '"+r+"':"+(`
The field is already decorated with '@`+i+"'.")+`
Re-decorating fields is not allowed.
Use '@override' decorator for methods overridden by subclass.`)}}function Zue(t){return _u(t,os)||By(t,os,yf({},t[os])),t[os]}function Hy(t){return typeof t=="object"&&typeof t.kind=="string"}function ax(t,e){process.env.NODE_ENV!=="production"&&!e.includes(t.kind)&&kt("The decorator applied to '"+String(t.name)+"' cannot be used on a "+t.kind+" element")}var hn=Symbol("mobx administration"),Ud=function(){function t(n){n===void 0&&(n=process.env.NODE_ENV!=="production"?"Atom@"+gl():"Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=nr.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return lz(this)},e.reportChanged=function(){Nu(),cz(this),Ru()},e.toString=function(){return this.name_},Lg(t,[{key:"isBeingObserved",get:function(){return Ys(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ys(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ys(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Zs(this.flags_,t.diffValueMask_,r===1)}}])}();Ud.isBeingObservedMask_=1,Ud.isPendingUnobservationMask_=2,Ud.diffValueMask_=4;var lk=Sh("Atom",Ud);function Hj(t,e,n){e===void 0&&(e=Ig),n===void 0&&(n=Ig);var r=new Ud(t);return e!==Ig&&fce(r,e),n!==Ig&&yz(r,n),r}function Xue(t,e){return t===e}function Que(t,e){return Tk(t,e)}function Jue(t,e){return Tk(t,e,1)}function ele(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ox={identity:Xue,structural:Que,default:ele,shallow:Jue};function Ch(t,e,n){return Yy(t)?t:Array.isArray(t)?Ea.array(t,{name:n}):qs(t)?Ea.object(t,void 0,{name:n}):Pg(t)?Ea.map(t,{name:n}):vf(t)?Ea.set(t,{name:n}):typeof t=="function"&&!jg(t)&&!qy(t)?Fj(t)?zg(t):Ky(n,t):t}function tle(t,e,n){if(t==null||Bg(t)||_x(t)||Wd(t)||xc(t))return t;if(Array.isArray(t))return Ea.array(t,{name:n,deep:!1});if(qs(t))return Ea.object(t,void 0,{name:n,deep:!1});if(Pg(t))return Ea.map(t,{name:n,deep:!1});if(vf(t))return Ea.set(t,{name:n,deep:!1});process.env.NODE_ENV!=="production"&&kt("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}function sx(t){return t}function nle(t,e){return process.env.NODE_ENV!=="production"&&Yy(t)&&kt("observable.struct should not be used with observable values"),Tk(t,e)?e:t}var rle="override";function ux(t){return t.annotationType_===rle}function Wy(t,e){return{annotationType_:t,options_:e,make_:ile,extend_:ale,decorate_20223_:ole}}function ile(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(jg(n.value))return 1;var o=Wj(t,this,e,n,!1);return vc(r,e,o),2}function ale(t,e,n,r){var i=Wj(t,this,e,n);return t.defineProperty_(e,i,r)}function ole(t,e){process.env.NODE_ENV!=="production"&&ax(e,["method","field"]);var n=e.kind,r=e.name,i=e.addInitializer,o=this,s=function(p){var m,g,y,x;return Eh((m=(g=o.options_)==null?void 0:g.name)!=null?m:r.toString(),p,(y=(x=o.options_)==null?void 0:x.autoAction)!=null?y:!1)};if(n=="field")return function(f){var p,m=f;return jg(m)||(m=s(m)),(p=o.options_)!=null&&p.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(n=="method"){var l;return jg(t)||(t=s(t)),(l=this.options_)!=null&&l.bound&&i(function(){var f=this,p=f[r].bind(f);p.isMobxAction=!0,f[r]=p}),t}kt("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function sle(t,e,n,r){var i=e.annotationType_,o=r.value;process.env.NODE_ENV!=="production"&&!aa(o)&&kt("Cannot apply '"+i+"' to '"+t.name_+"."+n.toString()+"':"+(`
'`+i+"' can only be used on properties with a function value."))}function Wj(t,e,n,r,i){var o,s,l,f,p,m,g;i===void 0&&(i=et.safeDescriptors),sle(t,e,n,r);var y=r.value;if((o=e.options_)!=null&&o.bound){var x;y=y.bind((x=t.proxy_)!=null?x:t.target_)}return{value:Eh((s=(l=e.options_)==null?void 0:l.name)!=null?s:n.toString(),y,(f=(p=e.options_)==null?void 0:p.autoAction)!=null?f:!1,(m=e.options_)!=null&&m.bound?(g=t.proxy_)!=null?g:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function Gj(t,e){return{annotationType_:t,options_:e,make_:ule,extend_:lle,decorate_20223_:cle}}function ule(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!_u(t.target_,e)||!qy(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(qy(n.value))return 1;var o=Kj(t,this,e,n,!1,!1);return vc(r,e,o),2}function lle(t,e,n,r){var i,o=Kj(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,o,r)}function cle(t,e){var n;process.env.NODE_ENV!=="production"&&ax(e,["method"]);var r=e.name,i=e.addInitializer;return qy(t)||(t=zg(t)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,s=o[r].bind(o);s.isMobXFlow=!0,o[r]=s}),t}function fle(t,e,n,r){var i=e.annotationType_,o=r.value;process.env.NODE_ENV!=="production"&&!aa(o)&&kt("Cannot apply '"+i+"' to '"+t.name_+"."+n.toString()+"':"+(`
'`+i+"' can only be used on properties with a generator function value."))}function Kj(t,e,n,r,i,o){o===void 0&&(o=et.safeDescriptors),fle(t,e,n,r);var s=r.value;if(qy(s)||(s=zg(s)),i){var l;s=s.bind((l=t.proxy_)!=null?l:t.target_),s.isMobXFlow=!0}return{value:s,configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function ck(t,e){return{annotationType_:t,options_:e,make_:dle,extend_:ple,decorate_20223_:hle}}function dle(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function ple(t,e,n,r){return mle(t,this,e,n),t.defineComputedProperty_(e,yf({},this.options_,{get:n.get,set:n.set}),r)}function hle(t,e){process.env.NODE_ENV!=="production"&&ax(e,["getter"]);var n=this,r=e.name,i=e.addInitializer;return i(function(){var o=Rh(this)[hn],s=yf({},n.options_,{get:t,context:this});s.name||(s.name=process.env.NODE_ENV!=="production"?o.name_+"."+r.toString():"ObservableObject."+r.toString()),o.values_.set(r,new Tu(s))}),function(){return this[hn].getObservablePropValue_(r)}}function mle(t,e,n,r){var i=e.annotationType_,o=r.get;process.env.NODE_ENV!=="production"&&!o&&kt("Cannot apply '"+i+"' to '"+t.name_+"."+n.toString()+"':"+(`
'`+i+"' can only be used on getter(+setter) properties."))}function lx(t,e){return{annotationType_:t,options_:e,make_:gle,extend_:vle,decorate_20223_:yle}}function gle(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function vle(t,e,n,r){var i,o;return ble(t,this,e,n),t.defineObservableProperty_(e,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:Ch,r)}function yle(t,e){if(process.env.NODE_ENV!=="production"){if(e.kind==="field")throw kt("Please use `@observable accessor "+String(e.name)+"` instead of `@observable "+String(e.name)+"`");ax(e,["accessor"])}var n=this,r=e.kind,i=e.name,o=new WeakSet;function s(l,f){var p,m,g=Rh(l)[hn],y=new _h(f,(p=(m=n.options_)==null?void 0:m.enhancer)!=null?p:Ch,process.env.NODE_ENV!=="production"?g.name_+"."+i.toString():"ObservableObject."+i.toString(),!1);g.values_.set(i,y),o.add(l)}if(r=="accessor")return{get:function(){return o.has(this)||s(this,t.get.call(this)),this[hn].getObservablePropValue_(i)},set:function(f){return o.has(this)||s(this,f),this[hn].setObservablePropValue_(i,f)},init:function(f){return o.has(this)||s(this,f),f}}}function ble(t,e,n,r){var i=e.annotationType_;process.env.NODE_ENV!=="production"&&!("value"in r)&&kt("Cannot apply '"+i+"' to '"+t.name_+"."+n.toString()+"':"+(`
'`+i+"' cannot be used on getter/setter properties"))}var wle="true",xle=qj();function qj(t){return{annotationType_:wle,options_:t,make_:Sle,extend_:Cle,decorate_20223_:Ele}}function Sle(t,e,n,r){var i,o;if(n.get)return dx.make_(t,e,n,r);if(n.set){var s=Eh(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:et.safeDescriptors?t.isPlainObject_:!0,set:s})===null?0:2:(vc(r,e,{configurable:!0,set:s}),2)}if(r!==t.target_&&typeof n.value=="function"){var l;if(Fj(n.value)){var f,p=(f=this.options_)!=null&&f.autoBind?zg.bound:zg;return p.make_(t,e,n,r)}var m=(l=this.options_)!=null&&l.autoBind?Ky.bound:Ky;return m.make_(t,e,n,r)}var g=((i=this.options_)==null?void 0:i.deep)===!1?Ea.ref:Ea;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var y;n.value=n.value.bind((y=t.proxy_)!=null?y:t.target_)}return g.make_(t,e,n,r)}function Cle(t,e,n,r){var i,o;if(n.get)return dx.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:et.safeDescriptors?t.isPlainObject_:!0,set:Eh(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var s;n.value=n.value.bind((s=t.proxy_)!=null?s:t.target_)}var l=((o=this.options_)==null?void 0:o.deep)===!1?Ea.ref:Ea;return l.extend_(t,e,n,r)}function Ele(t,e){kt("'"+this.annotationType_+"' cannot be used as a decorator")}var _le="observable",Tle="observable.ref",kle="observable.shallow",Nle="observable.struct",Yj={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Yj);function cx(t){return t||Yj}var fk=lx(_le),Rle=lx(Tle,{enhancer:sx}),Ale=lx(kle,{enhancer:tle}),Dle=lx(Nle,{enhancer:nle}),Zj=yc(fk);function fx(t){return t.deep===!0?Ch:t.deep===!1?sx:$le(t.defaultDecorator)}function Ole(t){var e;return t?(e=t.defaultDecorator)!=null?e:qj(t):void 0}function $le(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Ch}function Xj(t,e,n){if(Hy(e))return fk.decorate_20223_(t,e);if(xh(e)){Uy(t,e,fk);return}return Yy(t)?t:qs(t)?Ea.object(t,e,n):Array.isArray(t)?Ea.array(t,e):Pg(t)?Ea.map(t,e):vf(t)?Ea.set(t,e):typeof t=="object"&&t!==null?t:Ea.box(t,e)}Pj(Xj,Zj);var Ile={box:function(e,n){var r=cx(n);return new _h(e,fx(r),r.name,!0,r.equals)},array:function(e,n){var r=cx(n);return(et.useProxies===!1||r.proxy===!1?Mce:Tce)(e,fx(r),r.name)},map:function(e,n){var r=cx(n);return new kz(e,fx(r),r.name)},set:function(e,n){var r=cx(n);return new Rz(e,fx(r),r.name)},object:function(e,n,r){return Gd(function(){return wz(et.useProxies===!1||(r==null?void 0:r.proxy)===!1?Rh({},r):Sce({},r),e,n)})},ref:yc(Rle),shallow:yc(Ale),deep:Zj,struct:yc(Dle)},Ea=Pj(Xj,Ile),Qj="computed",Ple="computed.struct",dk=ck(Qj),Mle=ck(Ple,{equals:ox.structural}),dx=function(e,n){if(Hy(n))return dk.decorate_20223_(e,n);if(xh(n))return Uy(e,n,dk);if(qs(e))return yc(ck(Qj,e));process.env.NODE_ENV!=="production"&&(aa(e)||kt("First argument to `computed` should be an expression."),aa(n)&&kt("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var r=qs(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Tu(r)};Object.assign(dx,dk),dx.struct=yc(Mle);var Jj,ez,px=0,Lle=1,Fle=(Jj=(ez=tx(function(){},"name"))==null?void 0:ez.configurable)!=null?Jj:!1,tz={value:"action",configurable:!0,writable:!1,enumerable:!1};function Eh(t,e,n,r){n===void 0&&(n=!1),process.env.NODE_ENV!=="production"&&(aa(e)||kt("`action` can only be invoked on functions"),(typeof t!="string"||!t)&&kt("actions should have valid names, got: '"+t+"'"));function i(){return nz(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},Fle&&(tz.value=t,vc(i,"name",tz)),i}function nz(t,e,n,r,i){var o=Vle(t,e,r,i);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{jle(o)}}function Vle(t,e,n,r){var i=process.env.NODE_ENV!=="production"&&Fa()&&!!t,o=0;if(process.env.NODE_ENV!=="production"&&i){o=Date.now();var s=r?Array.from(r):rx;Xs({type:vk,name:t,object:n,arguments:s})}var l=et.trackingDerivation,f=!e||!l;Nu();var p=et.allowStateChanges;f&&(Th(),p=hx(!0));var m=mk(!0),g={runAsAction_:f,prevDerivation_:l,prevAllowStateChanges_:p,prevAllowStateReads_:m,notifySpy_:i,startTime_:o,actionId_:Lle++,parentActionId_:px};return px=g.actionId_,g}function jle(t){px!==t.actionId_&&kt(30),px=t.parentActionId_,t.error_!==void 0&&(et.suppressReactionErrors=!0),mx(t.prevAllowStateChanges_),Gy(t.prevAllowStateReads_),Ru(),t.runAsAction_&&bf(t.prevDerivation_),process.env.NODE_ENV!=="production"&&t.notifySpy_&&Qs({time:Date.now()-t.startTime_}),et.suppressReactionErrors=!1}function zle(t,e){var n=hx(t);try{return e()}finally{mx(n)}}function hx(t){var e=et.allowStateChanges;return et.allowStateChanges=t,e}function mx(t){et.allowStateChanges=t}var Ble="create",_h=function(t){function e(r,i,o,s,l){var f;return o===void 0&&(o=process.env.NODE_ENV!=="production"?"ObservableValue@"+gl():"ObservableValue"),s===void 0&&(s=!0),l===void 0&&(l=ox.default),f=t.call(this,o)||this,f.enhancer=void 0,f.name_=void 0,f.equals=void 0,f.hasUnreportedChange_=!1,f.interceptors_=void 0,f.changeListeners_=void 0,f.value_=void 0,f.dehancer=void 0,f.enhancer=i,f.name_=o,f.equals=l,f.value_=i(r,void 0,o),process.env.NODE_ENV!=="production"&&s&&Fa()&&kh({type:Ble,object:f,observableKind:"value",debugObjectName:f.name_,newValue:""+f.value_}),f}Uj(e,t);var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){var o=this.value_;if(i=this.prepareNewValue_(i),i!==et.UNCHANGED){var s=Fa();process.env.NODE_ENV!=="production"&&s&&Xs({type:bl,object:this,observableKind:"value",debugObjectName:this.name_,newValue:i,oldValue:o}),this.setNewValue_(i),process.env.NODE_ENV!=="production"&&s&&Qs()}},n.prepareNewValue_=function(i){if(bc(this),Au(this)){var o=Du(this,{object:this,type:bl,newValue:i});if(!o)return et.UNCHANGED;i=o.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?et.UNCHANGED:i},n.setNewValue_=function(i){var o=this.value_;this.value_=i,this.reportChanged(),vl(this)&&yl(this,{type:bl,object:this,newValue:i,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return Zy(this,i)},n.observe_=function(i,o){return o&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:bl,newValue:this.value_,oldValue:void 0}),Xy(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return zj(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Ud),Tu=function(){function t(n){this.dependenciesState_=nr.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=nr.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vx(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ku.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||kt(31),this.derivation=n.get,this.name_=n.name||(process.env.NODE_ENV!=="production"?"ComputedValue@"+gl():"ComputedValue"),n.set&&(this.setter_=Eh(process.env.NODE_ENV!=="production"?this.name_+"-setter":"ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ox.structural:ox.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Zle(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&kt(32,this.name_,this.derivation),et.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)pk(this)&&(this.warnAboutUntrackedRead_(),Nu(),this.value_=this.computeValue_(!1),Ru());else if(lz(this),pk(this)){var r=et.trackingContext;this.keepAlive_&&!r&&(et.trackingContext=this),this.trackAndCompute()&&Yle(this),et.trackingContext=r}var i=this.value_;if(yx(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter&&kt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else kt(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===nr.NOT_TRACKING_,o=this.computeValue_(!0),s=i||yx(r)||yx(o)||!this.equals_(r,o);return s&&(this.value_=o,process.env.NODE_ENV!=="production"&&Fa()&&kh({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:r,newValue:o})),s},e.computeValue_=function(r){this.isComputing=!0;var i=hx(!1),o;if(r)o=rz(this,this.derivation,this.scope_);else if(et.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(s){o=new vx(s)}return mx(i),this.isComputing=!1,o},e.suspend_=function(){this.keepAlive_||(hk(this),this.value_=void 0,process.env.NODE_ENV!=="production"&&this.isTracing_!==ku.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' was suspended and it will recompute on the next access."))},e.observe_=function(r,i){var o=this,s=!0,l=void 0;return oce(function(){var f=o.get();if(!s||i){var p=Th();r({observableKind:"computed",debugObjectName:o.name_,type:bl,object:o,newValue:f,oldValue:l}),bf(p)}s=!1,l=f})},e.warnAboutUntrackedRead_=function(){process.env.NODE_ENV!=="production"&&(this.isTracing_!==ku.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."),(typeof this.requiresReaction_=="boolean"?this.requiresReaction_:et.computedRequiresReaction)&&console.warn("[mobx] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."))},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return zj(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Lg(t,[{key:"isComputing",get:function(){return Ys(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Ys(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Ys(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ys(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ys(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Zs(this.flags_,t.diffValueMask_,r===1)}}])}();Tu.isComputingMask_=1,Tu.isRunningSetterMask_=2,Tu.isBeingObservedMask_=4,Tu.isPendingUnobservationMask_=8,Tu.diffValueMask_=16;var gx=Sh("ComputedValue",Tu),nr;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(nr||(nr={}));var ku;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(ku||(ku={}));var vx=function(e){this.cause=void 0,this.cause=e};function yx(t){return t instanceof vx}function pk(t){switch(t.dependenciesState_){case nr.UP_TO_DATE_:return!1;case nr.NOT_TRACKING_:case nr.STALE_:return!0;case nr.POSSIBLY_STALE_:{for(var e=mk(!0),n=Th(),r=t.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(gx(s)){if(et.disableErrorBoundaries)s.get();else try{s.get()}catch{return bf(n),Gy(e),!0}if(t.dependenciesState_===nr.STALE_)return bf(n),Gy(e),!0}}return az(t),bf(n),Gy(e),!1}}}function bc(t){if(process.env.NODE_ENV!=="production"){var e=t.observers_.size>0;!et.allowStateChanges&&(e||et.enforceActions==="always")&&console.warn("[MobX] "+(et.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+t.name_)}}function Ule(t){process.env.NODE_ENV!=="production"&&!et.allowStateReads&&et.observableRequiresReaction&&console.warn("[mobx] Observable '"+t.name_+"' being read outside a reactive context.")}function rz(t,e,n){var r=mk(!0);az(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++et.runId;var i=et.trackingDerivation;et.trackingDerivation=t,et.inBatch++;var o;if(et.disableErrorBoundaries===!0)o=e.call(n);else try{o=e.call(n)}catch(s){o=new vx(s)}return et.inBatch--,et.trackingDerivation=i,Wle(t),Hle(t),Gy(r),o}function Hle(t){process.env.NODE_ENV!=="production"&&t.observing_.length===0&&(typeof t.requiresObservable_=="boolean"?t.requiresObservable_:et.reactionRequiresObservable)&&console.warn("[mobx] Derivation '"+t.name_+"' is created/updated without reading any observable value.")}function Wle(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=nr.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,s=0;s<o;s++){var l=n[s];l.diffValue===0&&(l.diffValue=1,i!==s&&(n[i]=l),i++),l.dependenciesState_>r&&(r=l.dependenciesState_)}for(n.length=i,t.newObserving_=null,o=e.length;o--;){var f=e[o];f.diffValue===0&&sz(f,t),f.diffValue=0}for(;i--;){var p=n[i];p.diffValue===1&&(p.diffValue=0,qle(p,t))}r!==nr.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function hk(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)sz(e[n],t);t.dependenciesState_=nr.NOT_TRACKING_}function iz(t){var e=Th();try{return t()}finally{bf(e)}}function Th(){var t=et.trackingDerivation;return et.trackingDerivation=null,t}function bf(t){et.trackingDerivation=t}function mk(t){var e=et.allowStateReads;return et.allowStateReads=t,e}function Gy(t){et.allowStateReads=t}function az(t){if(t.dependenciesState_!==nr.UP_TO_DATE_){t.dependenciesState_=nr.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=nr.UP_TO_DATE_}}var bx=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},wx=!0,oz=!1,et=function(){var t=ex();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(wx=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new bx().version&&(wx=!1),wx?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new bx):(setTimeout(function(){oz||kt(35)},1),new bx)}();function Gle(){if((et.pendingReactions.length||et.inBatch||et.isRunningReactions)&&kt(36),oz=!0,wx){var t=ex();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),et=new bx}}function Kle(){return et}function qle(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function sz(t,e){t.observers_.delete(e),t.observers_.size===0&&uz(t)}function uz(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,et.pendingUnobservations.push(t))}function Nu(){et.inBatch++}function Ru(){if(--et.inBatch===0){hz();for(var t=et.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Tu&&n.suspend_())}et.pendingUnobservations=[]}}function lz(t){Ule(t);var e=et.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&et.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&et.inBatch>0&&uz(t),!1)}function cz(t){t.lowestObserverState_!==nr.STALE_&&(t.lowestObserverState_=nr.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===nr.UP_TO_DATE_&&(process.env.NODE_ENV!=="production"&&e.isTracing_!==ku.NONE&&fz(e,t),e.onBecomeStale_()),e.dependenciesState_=nr.STALE_}))}function Yle(t){t.lowestObserverState_!==nr.STALE_&&(t.lowestObserverState_=nr.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===nr.POSSIBLY_STALE_?(e.dependenciesState_=nr.STALE_,process.env.NODE_ENV!=="production"&&e.isTracing_!==ku.NONE&&fz(e,t)):e.dependenciesState_===nr.UP_TO_DATE_&&(t.lowestObserverState_=nr.UP_TO_DATE_)}))}function Zle(t){t.lowestObserverState_===nr.UP_TO_DATE_&&(t.lowestObserverState_=nr.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===nr.UP_TO_DATE_&&(e.dependenciesState_=nr.POSSIBLY_STALE_,e.onBecomeStale_())}))}function fz(t,e){if(console.log("[mobx.trace] '"+t.name_+"' is invalidated due to a change in: '"+e.name_+"'"),t.isTracing_===ku.BREAK){var n=[];dz(xz(t),n,1),new Function(`debugger;
/*
Tracing '`+t.name_+`'

You are entering this break point because derivation '`+t.name_+"' is being traced and '"+e.name_+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(t instanceof Tu?t.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function dz(t,e,n){if(e.length>=1e3){e.push("(and many more)");return}e.push(""+"	".repeat(n-1)+t.name),t.dependencies&&t.dependencies.forEach(function(r){return dz(r,e,n+1)})}var wc=function(){function t(n,r,i,o){n===void 0&&(n=process.env.NODE_ENV!=="production"?"Reaction@"+gl():"Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=nr.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ku.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,et.pendingReactions.push(this),hz())},e.runReaction_=function(){if(!this.isDisposed){Nu(),this.isScheduled=!1;var r=et.trackingContext;if(et.trackingContext=this,pk(this)){this.isTrackPending=!0;try{this.onInvalidate_(),process.env.NODE_ENV!=="production"&&this.isTrackPending&&Fa()&&kh({name:this.name_,type:"scheduled-reaction"})}catch(i){this.reportExceptionInDerivation_(i)}}et.trackingContext=r,Ru()}},e.track=function(r){if(!this.isDisposed){Nu();var i=Fa(),o;process.env.NODE_ENV!=="production"&&i&&(o=Date.now(),Xs({name:this.name_,type:"reaction"})),this.isRunning=!0;var s=et.trackingContext;et.trackingContext=this;var l=rz(this,r,void 0);et.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&hk(this),yx(l)&&this.reportExceptionInDerivation_(l.cause),process.env.NODE_ENV!=="production"&&i&&Qs({time:Date.now()-o}),Ru()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(et.disableErrorBoundaries)throw r;var o=process.env.NODE_ENV!=="production"?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";et.suppressReactionErrors?process.env.NODE_ENV!=="production"&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(o,r),process.env.NODE_ENV!=="production"&&Fa()&&kh({type:"error",name:this.name_,message:o,error:""+r}),et.globalReactionErrorHandlers.forEach(function(s){return s(r,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Nu(),hk(this),Ru()))},e.getDisposer_=function(r){var i=this,o=function s(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[hn]=this,o},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){r===void 0&&(r=!1),bce(this,r)},Lg(t,[{key:"isDisposed",get:function(){return Ys(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Ys(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Ys(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Ys(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=Zs(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return Ys(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=Zs(this.flags_,t.diffValueMask_,r===1)}}])}();wc.isDisposedMask_=1,wc.isScheduledMask_=2,wc.isTrackPendingMask_=4,wc.isRunningMask_=8,wc.diffValueMask_=16;var pz=100,gk=function(e){return e()};function hz(){et.inBatch>0||et.isRunningReactions||gk(Xle)}function Xle(){et.isRunningReactions=!0;for(var t=et.pendingReactions,e=0;t.length>0;){++e===pz&&(console.error(process.env.NODE_ENV!=="production"?"Reaction doesn't converge to a stable state after "+pz+" iterations."+(" Probably there is a cycle in the reactive function: "+t[0]):"[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}et.isRunningReactions=!1}var xx=Sh("Reaction",wc);function Qle(t){var e=gk;gk=function(r){return t(function(){return e(r)})}}function Fa(){return process.env.NODE_ENV!=="production"&&!!et.spyListeners.length}function kh(t){if(process.env.NODE_ENV!=="production"&&et.spyListeners.length)for(var e=et.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function Xs(t){if(process.env.NODE_ENV!=="production"){var e=yf({},t,{spyReportStart:!0});kh(e)}}var Jle={type:"report-end",spyReportEnd:!0};function Qs(t){process.env.NODE_ENV!=="production"&&kh(t?yf({},t,{type:"report-end",spyReportEnd:!0}):Jle)}function ece(t){return process.env.NODE_ENV==="production"?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(et.spyListeners.push(t),ok(function(){et.spyListeners=et.spyListeners.filter(function(e){return e!==t})}))}var vk="action",tce="action.bound",mz="autoAction",nce="autoAction.bound",gz="<unnamed action>",yk=Wy(vk),rce=Wy(tce,{bound:!0}),bk=Wy(mz,{autoAction:!0}),ice=Wy(nce,{autoAction:!0,bound:!0});function vz(t){var e=function(r,i){if(aa(r))return Eh(r.name||gz,r,t);if(aa(i))return Eh(r,i,t);if(Hy(i))return(t?bk:yk).decorate_20223_(r,i);if(xh(i))return Uy(r,i,t?bk:yk);if(xh(r))return yc(Wy(t?mz:vk,{name:r,autoAction:t}));process.env.NODE_ENV!=="production"&&kt("Invalid arguments for `action`")};return e}var Vg=vz(!1);Object.assign(Vg,yk);var Ky=vz(!0);Object.assign(Ky,bk),Vg.bound=yc(rce),Ky.bound=yc(ice);function ace(t){return nz(t.name||gz,!1,t,this,void 0)}function jg(t){return aa(t)&&t.isMobxAction===!0}function oce(t,e){var n,r,i,o;e===void 0&&(e=Mj),process.env.NODE_ENV!=="production"&&(aa(t)||kt("Autorun expects a function as first argument"),jg(t)&&kt("Autorun does not accept actions since actions are untrackable"));var s=(n=(r=e)==null?void 0:r.name)!=null?n:process.env.NODE_ENV!=="production"?t.name||"Autorun@"+gl():"Autorun",l=!e.scheduler&&!e.delay,f;if(l)f=new wc(s,function(){this.track(g)},e.onError,e.requiresObservable);else{var p=uce(e),m=!1;f=new wc(s,function(){m||(m=!0,p(function(){m=!1,f.isDisposed||f.track(g)}))},e.onError,e.requiresObservable)}function g(){t(f)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||f.schedule_(),f.getDisposer_((o=e)==null?void 0:o.signal)}var sce=function(e){return e()};function uce(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:sce}var lce="onBO",cce="onBUO";function fce(t,e,n){return bz(lce,t,e,n)}function yz(t,e,n){return bz(cce,t,e,n)}function bz(t,e,n,r){var i=Ug(e),o=aa(r)?r:n,s=t+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var l=i[s];l&&(l.delete(o),l.size===0&&delete i[s])}}var dce="never",Sx="always",pce="observed";function hce(t){t.isolateGlobalState===!0&&Gle();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(et.useProxies=e===Sx?!0:e===dce?!1:typeof Proxy<"u"),e==="ifavailable"&&(et.verifyProxies=!0),n!==void 0){var r=n===Sx?Sx:n===pce;et.enforceActions=r,et.allowStateChanges=!(r===!0||r===Sx)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(et[i]=!!t[i])}),et.allowStateReads=!et.observableRequiresReaction,process.env.NODE_ENV!=="production"&&et.disableErrorBoundaries===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),t.reactionScheduler&&Qle(t.reactionScheduler)}function wz(t,e,n,r){process.env.NODE_ENV!=="production"&&(arguments.length>4&&kt("'extendObservable' expected 2-4 arguments"),typeof t!="object"&&kt("'extendObservable' expects an object as first argument"),Wd(t)&&kt("'extendObservable' should not be used on maps, use map.merge instead"),qs(e)||kt("'extendObservable' only accepts plain objects as second argument"),(Yy(e)||Yy(n))&&kt("Extending an object with another observable (object) is not supported"));var i=Hue(e);return Gd(function(){var o=Rh(t,r)[hn];Mg(i).forEach(function(s){o.extend_(s,i[s],n&&s in n?n[s]:!0)})}),t}function xz(t,e){return Sz(Ug(t,e))}function Sz(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=mce(t.observing_).map(Sz)),e}function mce(t){return Array.from(new Set(t))}var gce=0;function Cz(){this.message="FLOW_CANCELLED"}Cz.prototype=Object.create(Error.prototype);var wk=Gj("flow"),vce=Gj("flow.bound",{bound:!0}),zg=Object.assign(function(e,n){if(Hy(n))return wk.decorate_20223_(e,n);if(xh(n))return Uy(e,n,wk);process.env.NODE_ENV!=="production"&&arguments.length!==1&&kt("Flow expects single argument with generator function");var r=e,i=r.name||"<unnamed flow>",o=function(){var l=this,f=arguments,p=++gce,m=Vg(i+" - runid: "+p+" - init",r).apply(l,f),g,y=void 0,x=new Promise(function(S,_){var k=0;g=_;function R(P){y=void 0;var F;try{F=Vg(i+" - runid: "+p+" - yield "+k++,m.next).call(m,P)}catch(K){return _(K)}I(F)}function O(P){y=void 0;var F;try{F=Vg(i+" - runid: "+p+" - yield "+k++,m.throw).call(m,P)}catch(K){return _(K)}I(F)}function I(P){if(aa(P==null?void 0:P.then)){P.then(I,_);return}return P.done?S(P.value):(y=Promise.resolve(P.value),y.then(R,O))}R(void 0)});return x.cancel=Vg(i+" - runid: "+p+" - cancel",function(){try{y&&Ez(y);var S=m.return(void 0),_=Promise.resolve(S.value);_.then(Ig,Ig),Ez(_),g(new Cz)}catch(k){g(k)}}),x};return o.isMobXFlow=!0,o},wk);zg.bound=yc(vce);function Ez(t){aa(t.cancel)&&t.cancel()}function qy(t){return(t==null?void 0:t.isMobXFlow)===!0}function yce(t,e){return t?Bg(t)||!!t[hn]||lk(t)||xx(t)||gx(t):!1}function Yy(t){return process.env.NODE_ENV!=="production"&&arguments.length!==1&&kt("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),yce(t)}function bce(){if(process.env.NODE_ENV!=="production"){for(var t=!1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(t=n.pop());var i=wce(n);if(!i)return kt("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===ku.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=t?ku.BREAK:ku.LOG}}function wce(t){switch(t.length){case 0:return et.trackingDerivation;case 1:return Ug(t[0]);case 2:return Ug(t[0],t[1])}}function wf(t,e){e===void 0&&(e=void 0),Nu();try{return t.apply(e)}finally{Ru()}}function Nh(t){return t[hn]}var xce={has:function(e,n){return process.env.NODE_ENV!=="production"&&et.trackingDerivation&&zy("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),Nh(e).has_(n)},get:function(e,n){return Nh(e).get_(n)},set:function(e,n,r){var i;return xh(n)?(process.env.NODE_ENV!=="production"&&!Nh(e).values_.has(n)&&zy("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),(i=Nh(e).set_(n,r,!0))!=null?i:!0):!1},deleteProperty:function(e,n){var r;return process.env.NODE_ENV!=="production"&&zy("delete properties from an observable object. Use 'remove' from 'mobx' instead."),xh(n)?(r=Nh(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return process.env.NODE_ENV!=="production"&&zy("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),(i=Nh(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return process.env.NODE_ENV!=="production"&&et.trackingDerivation&&zy("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),Nh(e).ownKeys_()},preventExtensions:function(e){kt(13)}};function Sce(t,e){var n,r;return Lj(),t=Rh(t,e),(r=(n=t[hn]).proxy_)!=null?r:n.proxy_=new Proxy(t,xce)}function Au(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Zy(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),ok(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Du(t,e){var n=Th();try{for(var r=[].concat(t.interceptors_||[]),i=0,o=r.length;i<o&&(e=r[i](e),e&&!e.type&&kt(14),!!e);i++);return e}finally{bf(n)}}function vl(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Xy(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),ok(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function yl(t,e){var n=Th(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);bf(n)}}function Cce(t,e,n){return Gd(function(){var r,i=Rh(t,n)[hn];process.env.NODE_ENV!=="production"&&e&&t[os]&&kt("makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported."),(r=e)!=null||(e=Zue(t)),Mg(e).forEach(function(o){return i.make_(o,e[o])})}),t}var xk=Symbol("mobx-keys");function Cx(t,e,n){return process.env.NODE_ENV!=="production"&&(!qs(t)&&!qs(Object.getPrototypeOf(t))&&kt("'makeAutoObservable' can only be used for classes that don't have a superclass"),Bg(t)&&kt("makeAutoObservable can only be used on objects not already made observable")),qs(t)?wz(t,t,e,n):(Gd(function(){var r=Rh(t,n)[hn];if(!t[xk]){var i=Object.getPrototypeOf(t),o=new Set([].concat(Mg(t),Mg(i)));o.delete("constructor"),o.delete(hn),By(i,xk,o)}t[xk].forEach(function(s){return r.make_(s,e&&s in e?e[s]:!0)})}),t)}var _z="splice",bl="update",Ece=1e4,_ce={get:function(e,n){var r=e[hn];return n===hn?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):_u(Ex,n)?Ex[n]:e[n]},set:function(e,n,r){var i=e[hn];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){kt(15)}},Sk=function(){function t(n,r,i,o){n===void 0&&(n=process.env.NODE_ENV!=="production"?"ObservableArray@"+gl():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Ud(n),this.enhancer_=function(s,l){return r(s,l,process.env.NODE_ENV!=="production"?n+"[..]":"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Zy(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Xy(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&kt("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var o=new Array(r-i),s=0;s<r-i;s++)o[s]=void 0;this.spliceWithArray_(i,0,o)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&kt(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Fz(r+i+1)},e.spliceWithArray_=function(r,i,o){var s=this;bc(this.atom_);var l=this.values_.length;if(r===void 0?r=0:r>l?r=l:r<0&&(r=Math.max(0,l+r)),arguments.length===1?i=l-r:i==null?i=0:i=Math.max(0,Math.min(i,l-r)),o===void 0&&(o=rx),Au(this)){var f=Du(this,{object:this.proxy_,type:_z,index:r,removedCount:i,added:o});if(!f)return rx;i=f.removedCount,o=f.added}if(o=o.length===0?o:o.map(function(g){return s.enhancer_(g,void 0)}),this.legacyMode_||process.env.NODE_ENV!=="production"){var p=o.length-i;this.updateArrayLength_(l,p)}var m=this.spliceItemsIntoValues_(r,i,o);return(i!==0||o.length!==0)&&this.notifyArraySplice_(r,o,m),this.dehanceValues_(m)},e.spliceItemsIntoValues_=function(r,i,o){if(o.length<Ece){var s;return(s=this.values_).splice.apply(s,[r,i].concat(o))}else{var l=this.values_.slice(r,r+i),f=this.values_.slice(r+i);this.values_.length+=o.length-i;for(var p=0;p<o.length;p++)this.values_[r+p]=o[p];for(var m=0;m<f.length;m++)this.values_[r+o.length+m]=f[m];return l}},e.notifyArrayChildUpdate_=function(r,i,o){var s=!this.owned_&&Fa(),l=vl(this),f=l||s?{observableKind:"array",object:this.proxy_,type:bl,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:o}:null;process.env.NODE_ENV!=="production"&&s&&Xs(f),this.atom_.reportChanged(),l&&yl(this,f),process.env.NODE_ENV!=="production"&&s&&Qs()},e.notifyArraySplice_=function(r,i,o){var s=!this.owned_&&Fa(),l=vl(this),f=l||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:_z,index:r,removed:o,added:i,removedCount:o.length,addedCount:i.length}:null;process.env.NODE_ENV!=="production"&&s&&Xs(f),this.atom_.reportChanged(),l&&yl(this,f),process.env.NODE_ENV!=="production"&&s&&Qs()},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn(process.env.NODE_ENV!=="production"?"[mobx.array] Attempt to read an array index ("+r+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX":"[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var o=this.values_;if(this.legacyMode_&&r>o.length&&kt(17,r,o.length),r<o.length){bc(this.atom_);var s=o[r];if(Au(this)){var l=Du(this,{type:bl,object:this.proxy_,index:r,newValue:i});if(!l)return;i=l.newValue}i=this.enhancer_(i,s);var f=i!==s;f&&(o[r]=i,this.notifyArrayChildUpdate_(r,i,s))}else{for(var p=new Array(r+1-o.length),m=0;m<p.length-1;m++)p[m]=void 0;p[p.length-1]=i,this.spliceWithArray_(o.length,0,p)}},t}();function Tce(t,e,n,r){return n===void 0&&(n=process.env.NODE_ENV!=="production"?"ObservableArray@"+gl():"ObservableArray"),r===void 0&&(r=!1),Lj(),Gd(function(){var i=new Sk(n,e,r,!1);Vj(i.values_,hn,i);var o=new Proxy(i.values_,_ce);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o})}var Ex={clear:function(){return this.splice(0)},replace:function(e){var n=this[hn];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var s=this[hn];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,n)}return s.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[hn].spliceWithArray_(e,n,r)},push:function(){for(var e=this[hn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[hn].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[hn],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return et.trackingDerivation&&kt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){et.trackingDerivation&&kt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[hn],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Lr("at",Js),Lr("concat",Js),Lr("flat",Js),Lr("includes",Js),Lr("indexOf",Js),Lr("join",Js),Lr("lastIndexOf",Js),Lr("slice",Js),Lr("toString",Js),Lr("toLocaleString",Js),Lr("toSorted",Js),Lr("toSpliced",Js),Lr("with",Js),Lr("every",wl),Lr("filter",wl),Lr("find",wl),Lr("findIndex",wl),Lr("findLast",wl),Lr("findLastIndex",wl),Lr("flatMap",wl),Lr("forEach",wl),Lr("map",wl),Lr("some",wl),Lr("toReversed",wl),Lr("reduce",Tz),Lr("reduceRight",Tz);function Lr(t,e){typeof Array.prototype[t]=="function"&&(Ex[t]=e(t))}function Js(t){return function(){var e=this[hn];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function wl(t){return function(e,n){var r=this,i=this[hn];i.atom_.reportObserved();var o=i.dehanceValues_(i.values_);return o[t](function(s,l){return e.call(n,s,l,r)})}}function Tz(t){return function(){var e=this,n=this[hn];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,l){return i(o,s,l,e)},r[t].apply(r,arguments)}}var kce=Sh("ObservableArrayAdministration",Sk);function _x(t){return ix(t)&&kce(t[hn])}var Nce={},Hd="add",Tx="delete",kz=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ch),i===void 0&&(i=process.env.NODE_ENV!=="production"?"ObservableMap@"+gl():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[hn]=Nce,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,aa(Map)||kt(18),Gd(function(){o.keysAtom_=Hj(process.env.NODE_ENV!=="production"?o.name_+".keys()":"ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!et.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var s=o=new _h(this.has_(r),sx,process.env.NODE_ENV!=="production"?this.name_+"."+sk(r)+"?":"ObservableMap.key?",!1);this.hasMap_.set(r,s),yz(s,function(){return i.hasMap_.delete(r)})}return o.get()},e.set=function(r,i){var o=this.has_(r);if(Au(this)){var s=Du(this,{type:o?bl:Hd,object:this,newValue:i,name:r});if(!s)return this;i=s.newValue}return o?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(bc(this.keysAtom_),Au(this)){var o=Du(this,{type:Tx,object:this,name:r});if(!o)return!1}if(this.has_(r)){var s=Fa(),l=vl(this),f=l||s?{observableKind:"map",debugObjectName:this.name_,type:Tx,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return process.env.NODE_ENV!=="production"&&s&&Xs(f),wf(function(){var p;i.keysAtom_.reportChanged(),(p=i.hasMap_.get(r))==null||p.setNewValue_(!1);var m=i.data_.get(r);m.setNewValue_(void 0),i.data_.delete(r)}),l&&yl(this,f),process.env.NODE_ENV!=="production"&&s&&Qs(),!0}return!1},e.updateValue_=function(r,i){var o=this.data_.get(r);if(i=o.prepareNewValue_(i),i!==et.UNCHANGED){var s=Fa(),l=vl(this),f=l||s?{observableKind:"map",debugObjectName:this.name_,type:bl,object:this,oldValue:o.value_,name:r,newValue:i}:null;process.env.NODE_ENV!=="production"&&s&&Xs(f),o.setNewValue_(i),l&&yl(this,f),process.env.NODE_ENV!=="production"&&s&&Qs()}},e.addValue_=function(r,i){var o=this;bc(this.keysAtom_),wf(function(){var p,m=new _h(i,o.enhancer_,process.env.NODE_ENV!=="production"?o.name_+"."+sk(r):"ObservableMap.key",!1);o.data_.set(r,m),i=m.value_,(p=o.hasMap_.get(r))==null||p.setNewValue_(!0),o.keysAtom_.reportChanged()});var s=Fa(),l=vl(this),f=l||s?{observableKind:"map",debugObjectName:this.name_,type:Hd,object:this,name:r,newValue:i}:null;process.env.NODE_ENV!=="production"&&s&&Xs(f),l&&yl(this,f),process.env.NODE_ENV!=="production"&&s&&Qs()},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return Nz({next:function(){var s=i.next(),l=s.done,f=s.value;return{done:l,value:l?void 0:r.get(f)}}})},e.entries=function(){var r=this,i=this.keys();return Nz({next:function(){var s=i.next(),l=s.done,f=s.value;return{done:l,value:l?void 0:[f,r.get(f)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,i){for(var o=Fg(this),s;!(s=o()).done;){var l=s.value,f=l[0],p=l[1];r.call(i,p,f,this)}},e.merge=function(r){var i=this;return Wd(r)&&(r=new Map(r)),wf(function(){qs(r)?Uue(r).forEach(function(o){return i.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var s=o[0],l=o[1];return i.set(s,l)}):Pg(r)?(Bue(r)||kt(19,r),r.forEach(function(o,s){return i.set(s,o)})):r!=null&&kt(20,r)}),this},e.clear=function(){var r=this;wf(function(){iz(function(){for(var i=Fg(r.keys()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.replace=function(r){var i=this;return wf(function(){for(var o=Rce(r),s=new Map,l=!1,f=Fg(i.data_.keys()),p;!(p=f()).done;){var m=p.value;if(!o.has(m)){var g=i.delete(m);if(g)l=!0;else{var y=i.data_.get(m);s.set(m,y)}}}for(var x=Fg(o.entries()),S;!(S=x()).done;){var _=S.value,k=_[0],R=_[1],O=i.data_.has(k);if(i.set(k,R),i.data_.has(k)){var I=i.data_.get(k);s.set(k,I),O||(l=!0)}}if(!l)if(i.data_.size!==s.size)i.keysAtom_.reportChanged();else for(var P=i.data_.keys(),F=s.keys(),K=P.next(),Y=F.next();!K.done;){if(K.value!==Y.value){i.keysAtom_.reportChanged();break}K=P.next(),Y=F.next()}i.data_=s}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return process.env.NODE_ENV!=="production"&&i===!0&&kt("`observe` doesn't support fireImmediately=true in combination with maps."),Xy(this,r)},e.intercept_=function(r){return Zy(this,r)},Lg(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Wd=Sh("ObservableMap",kz);function Nz(t){return t[Symbol.toStringTag]="MapIterator",Nk(t)}function Rce(t){if(Pg(t)||Wd(t))return t;if(Array.isArray(t))return new Map(t);if(qs(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return kt(21,t)}var Ace={},Rz=function(){function t(n,r,i){var o=this;r===void 0&&(r=Ch),i===void 0&&(i=process.env.NODE_ENV!=="production"?"ObservableSet@"+gl():"ObservableSet"),this.name_=void 0,this[hn]=Ace,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,aa(Set)||kt(22),this.enhancer_=function(s,l){return r(s,l,i)},Gd(function(){o.atom_=Hj(o.name_),n&&o.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;wf(function(){iz(function(){for(var i=Fg(r.data_.values()),o;!(o=i()).done;){var s=o.value;r.delete(s)}})})},e.forEach=function(r,i){for(var o=Fg(this),s;!(s=o()).done;){var l=s.value;r.call(i,l,l,this)}},e.add=function(r){var i=this;if(bc(this.atom_),Au(this)){var o=Du(this,{type:Hd,object:this,newValue:r});if(!o)return this}if(!this.has(r)){wf(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var s=process.env.NODE_ENV!=="production"&&Fa(),l=vl(this),f=l||s?{observableKind:"set",debugObjectName:this.name_,type:Hd,object:this,newValue:r}:null;s&&process.env.NODE_ENV!=="production"&&Xs(f),l&&yl(this,f),s&&process.env.NODE_ENV!=="production"&&Qs()}return this},e.delete=function(r){var i=this;if(Au(this)){var o=Du(this,{type:Tx,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var s=process.env.NODE_ENV!=="production"&&Fa(),l=vl(this),f=l||s?{observableKind:"set",debugObjectName:this.name_,type:Tx,object:this,oldValue:r}:null;return s&&process.env.NODE_ENV!=="production"&&Xs(f),wf(function(){i.atom_.reportChanged(),i.data_.delete(r)}),l&&yl(this,f),s&&process.env.NODE_ENV!=="production"&&Qs(),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),o=Array.from(this.values());return Az({next:function(){var l=r;return r+=1,l<o.length?{value:[i[l],o[l]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,o=Array.from(this.data_.values());return Az({next:function(){return i<o.length?{value:r.dehanceValue_(o[i++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(r){if(vf(r)&&!xc(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},e.union=function(r){if(vf(r)&&!xc(r))return r.union(this);var i=new Set(this);return i.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(vf(r)&&!xc(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(vf(r)&&!xc(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},e.replace=function(r){var i=this;return xc(r)&&(r=new Set(r)),wf(function(){Array.isArray(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):vf(r)?(i.clear(),r.forEach(function(o){return i.add(o)})):r!=null&&kt("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return process.env.NODE_ENV!=="production"&&i===!0&&kt("`observe` doesn't support fireImmediately=true in combination with sets."),Xy(this,r)},e.intercept_=function(r){return Zy(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Lg(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),xc=Sh("ObservableSet",Rz);function Az(t){return t[Symbol.toStringTag]="SetIterator",Nk(t)}var Dz=Object.create(null),Oz="remove",Ck=function(){function t(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=xle),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Ud(process.env.NODE_ENV!=="production"?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=qs(this.target_),process.env.NODE_ENV!=="production"&&!Uz(this.defaultAnnotation_)&&kt("defaultAnnotation must be valid annotation"),process.env.NODE_ENV!=="production"&&(this.appliedAnnotations_={})}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var o=this.values_.get(r);if(o instanceof Tu)return o.set(i),!0;if(Au(this)){var s=Du(this,{type:bl,object:this.proxy_||this.target_,name:r,newValue:i});if(!s)return null;i=s.newValue}if(i=o.prepareNewValue_(i),i!==et.UNCHANGED){var l=vl(this),f=process.env.NODE_ENV!=="production"&&Fa(),p=l||f?{type:bl,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:i}:null;process.env.NODE_ENV!=="production"&&f&&Xs(p),o.setNewValue_(i),l&&yl(this,p),process.env.NODE_ENV!=="production"&&f&&Qs()}return!0},e.get_=function(r){return et.trackingDerivation&&!_u(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,o){return o===void 0&&(o=!1),_u(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):o?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},e.has_=function(r){if(!et.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new _h(r in this.target_,sx,process.env.NODE_ENV!=="production"?this.name_+"."+sk(r)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(Pz(this,i,r),!(r in this.target_)){var o;if((o=this.target_[os])!=null&&o[r])return;kt(1,i.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==nx;){var l=tx(s,r);if(l){var f=i.make_(this,r,l,s);if(f===0)return;if(f===1)break}s=Object.getPrototypeOf(s)}Iz(this,i,r)}},e.extend_=function(r,i,o,s){if(s===void 0&&(s=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,i,s);Pz(this,o,r);var l=o.extend_(this,r,i,s);return l&&Iz(this,o,r),l},e.defineProperty_=function(r,i,o){o===void 0&&(o=!1),bc(this.keysAtom_);try{Nu();var s=this.delete_(r);if(!s)return s;if(Au(this)){var l=Du(this,{object:this.proxy_||this.target_,name:r,type:Hd,newValue:i.value});if(!l)return null;var f=l.newValue;i.value!==f&&(i=yf({},i,{value:f}))}if(o){if(!Reflect.defineProperty(this.target_,r,i))return!1}else vc(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{Ru()}return!0},e.defineObservableProperty_=function(r,i,o,s){s===void 0&&(s=!1),bc(this.keysAtom_);try{Nu();var l=this.delete_(r);if(!l)return l;if(Au(this)){var f=Du(this,{object:this.proxy_||this.target_,name:r,type:Hd,newValue:i});if(!f)return null;i=f.newValue}var p=$z(r),m={configurable:et.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:p.get,set:p.set};if(s){if(!Reflect.defineProperty(this.target_,r,m))return!1}else vc(this.target_,r,m);var g=new _h(i,o,process.env.NODE_ENV!=="production"?this.name_+"."+r.toString():"ObservableObject.key",!1);this.values_.set(r,g),this.notifyPropertyAddition_(r,g.value_)}finally{Ru()}return!0},e.defineComputedProperty_=function(r,i,o){o===void 0&&(o=!1),bc(this.keysAtom_);try{Nu();var s=this.delete_(r);if(!s)return s;if(Au(this)){var l=Du(this,{object:this.proxy_||this.target_,name:r,type:Hd,newValue:void 0});if(!l)return null}i.name||(i.name=process.env.NODE_ENV!=="production"?this.name_+"."+r.toString():"ObservableObject.key"),i.context=this.proxy_||this.target_;var f=$z(r),p={configurable:et.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:f.get,set:f.set};if(o){if(!Reflect.defineProperty(this.target_,r,p))return!1}else vc(this.target_,r,p);this.values_.set(r,new Tu(i)),this.notifyPropertyAddition_(r,void 0)}finally{Ru()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),bc(this.keysAtom_),!_u(this.target_,r))return!0;if(Au(this)){var o=Du(this,{object:this.proxy_||this.target_,name:r,type:Oz});if(!o)return null}try{var s;Nu();var l=vl(this),f=process.env.NODE_ENV!=="production"&&Fa(),p=this.values_.get(r),m=void 0;if(!p&&(l||f)){var g;m=(g=tx(this.target_,r))==null?void 0:g.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(process.env.NODE_ENV!=="production"&&delete this.appliedAnnotations_[r],p&&(this.values_.delete(r),p instanceof _h&&(m=p.value_),cz(p)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(r in this.target_),l||f){var y={type:Oz,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:r};process.env.NODE_ENV!=="production"&&f&&Xs(y),l&&yl(this,y),process.env.NODE_ENV!=="production"&&f&&Qs()}}finally{Ru()}return!0},e.observe_=function(r,i){return process.env.NODE_ENV!=="production"&&i===!0&&kt("`observe` doesn't support the fire immediately property for observable objects."),Xy(this,r)},e.intercept_=function(r){return Zy(this,r)},e.notifyPropertyAddition_=function(r,i){var o,s=vl(this),l=process.env.NODE_ENV!=="production"&&Fa();if(s||l){var f=s||l?{type:Hd,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;process.env.NODE_ENV!=="production"&&l&&Xs(f),s&&yl(this,f),process.env.NODE_ENV!=="production"&&l&&Qs()}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Mg(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Rh(t,e){var n;if(process.env.NODE_ENV!=="production"&&e&&Bg(t)&&kt("Options can't be provided for already observable objects."),_u(t,hn))return process.env.NODE_ENV!=="production"&&!(Vz(t)instanceof Ck)&&kt("Cannot convert '"+kx(t)+`' into observable object:
The target is already observable of different type.
Extending builtins is not supported.`),t;process.env.NODE_ENV!=="production"&&!Object.isExtensible(t)&&kt("Cannot make the designated object observable; it is not extensible");var r=(n=e==null?void 0:e.name)!=null?n:process.env.NODE_ENV!=="production"?(qs(t)?"ObservableObject":t.constructor.name)+"@"+gl():"ObservableObject",i=new Ck(t,new Map,String(r),Ole(e));return By(t,hn,i),t}var Dce=Sh("ObservableObjectAdministration",Ck);function $z(t){return Dz[t]||(Dz[t]={get:function(){return this[hn].getObservablePropValue_(t)},set:function(n){return this[hn].setObservablePropValue_(t,n)}})}function Bg(t){return ix(t)?Dce(t[hn]):!1}function Iz(t,e,n){var r;process.env.NODE_ENV!=="production"&&(t.appliedAnnotations_[n]=e),(r=t.target_[os])==null||delete r[n]}function Pz(t,e,n){if(process.env.NODE_ENV!=="production"&&!Uz(e)&&kt("Cannot annotate '"+t.name_+"."+n.toString()+"': Invalid annotation."),process.env.NODE_ENV!=="production"&&!ux(e)&&_u(t.appliedAnnotations_,n)){var r=t.name_+"."+n.toString(),i=t.appliedAnnotations_[n].annotationType_,o=e.annotationType_;kt("Cannot apply '"+o+"' to '"+r+"':"+(`
The field is already annotated with '`+i+"'.")+`
Re-annotating fields is not allowed.
Use 'override' annotation for methods overridden by subclass.`)}}var Oce=Lz(0),$ce=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Ek=0,Mz=function(){};function Ice(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}Ice(Mz,Array.prototype);var _k=function(t){function e(r,i,o,s){var l;return o===void 0&&(o=process.env.NODE_ENV!=="production"?"ObservableArray@"+gl():"ObservableArray"),s===void 0&&(s=!1),l=t.call(this)||this,Gd(function(){var f=new Sk(o,i,s,!0);f.proxy_=l,Vj(l,hn,f),r&&r.length&&l.spliceWithArray(0,0,r),$ce&&Object.defineProperty(l,"0",Oce)}),l}Uj(e,t);var n=e.prototype;return n.concat=function(){this[hn].atom_.reportObserved();for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Array.prototype.concat.apply(this.slice(),o.map(function(l){return _x(l)?l.slice():l}))},n[Symbol.iterator]=function(){var r=this,i=0;return Nk({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},Lg(e,[{key:"length",get:function(){return this[hn].getArrayLength_()},set:function(i){this[hn].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Mz);Object.entries(Ex).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&By(_k.prototype,e,n)});function Lz(t){return{enumerable:!1,configurable:!0,get:function(){return this[hn].get_(t)},set:function(n){this[hn].set_(t,n)}}}function Pce(t){vc(_k.prototype,""+t,Lz(t))}function Fz(t){if(t>Ek){for(var e=Ek;e<t+100;e++)Pce(e);Ek=t}}Fz(1e3);function Mce(t,e,n){return new _k(t,e,n)}function Ug(t,e){if(typeof t=="object"&&t!==null){if(_x(t))return e!==void 0&&kt(23),t[hn].atom_;if(xc(t))return t.atom_;if(Wd(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||kt(25,e,kx(t)),n}if(Bg(t)){if(!e)return kt(26);var r=t[hn].values_.get(e);return r||kt(27,e,kx(t)),r}if(lk(t)||gx(t)||xx(t))return t}else if(aa(t)&&xx(t[hn]))return t[hn];kt(28)}function Vz(t,e){if(t||kt(29),lk(t)||gx(t)||xx(t)||Wd(t)||xc(t))return t;if(t[hn])return t[hn];kt(24,t)}function kx(t,e){var n;if(e!==void 0)n=Ug(t,e);else{if(jg(t))return t.name;Bg(t)||Wd(t)||xc(t)?n=Vz(t):n=Ug(t)}return n.name_}function Gd(t){var e=Th(),n=hx(!0);Nu();try{return t()}finally{Ru(),mx(n),bf(e)}}var jz=nx.toString;function Tk(t,e,n){return n===void 0&&(n=-1),kk(t,e,n)}function kk(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var s=jz.call(t);if(s!==jz.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=zz(t),e=zz(e);var l=s==="[object Array]";if(!l){if(typeof t!="object"||typeof e!="object")return!1;var f=t.constructor,p=e.constructor;if(f!==p&&!(aa(f)&&f instanceof f&&aa(p)&&p instanceof p)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var m=r.length;m--;)if(r[m]===t)return i[m]===e;if(r.push(t),i.push(e),l){if(m=t.length,m!==e.length)return!1;for(;m--;)if(!kk(t[m],e[m],n-1,r,i))return!1}else{var g=Object.keys(t),y;if(m=g.length,Object.keys(e).length!==m)return!1;for(;m--;)if(y=g[m],!(_u(e,y)&&kk(t[y],e[y],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function zz(t){return _x(t)?t.slice():Pg(t)||Wd(t)||vf(t)||xc(t)?Array.from(t.entries()):t}var Bz,Lce=((Bz=ex().Iterator)==null?void 0:Bz.prototype)||{};function Nk(t){return t[Symbol.iterator]=Fce,Object.assign(Object.create(Lce),t)}function Fce(){return this}function Uz(t){return t instanceof Object&&typeof t.annotationType_=="string"&&aa(t.make_)&&aa(t.extend_)}if(["Symbol","Map","Set"].forEach(function(t){var e=ex();typeof e[t]>"u"&&kt("MobX requires global '"+t+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ece,extras:{getDebugName:kx},$mobx:hn}),!j.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Cce)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Vce(t){t()}function jce(t){t||(t=Vce,process.env.NODE_ENV!=="production"&&console.warn("[MobX] Failed to get unstable_batched updates from react-dom / react-native")),hce({reactionScheduler:t})}function zce(t){return xz(t)}var Bce=1e4,Uce=1e4,Hce=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Bce),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,Uce))}}),t}(),Wce=typeof FinalizationRegistry<"u"?FinalizationRegistry:Hce,Qy=new Wce(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Rk={exports:{}},Ak={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hz;function Gce(){if(Hz)return Ak;Hz=1;var t=j;function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function l(g,y){var x=y(),S=r({inst:{value:x,getSnapshot:y}}),_=S[0].inst,k=S[1];return o(function(){_.value=x,_.getSnapshot=y,f(_)&&k({inst:_})},[g,x,y]),i(function(){return f(_)&&k({inst:_}),g(function(){f(_)&&k({inst:_})})},[g]),s(x),x}function f(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function p(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:l;return Ak.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Ak}var Dk={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function Kce(){return Wz||(Wz=1,process.env.NODE_ENV!=="production"&&function(){function t(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}function e(x,S){m||i.startTransition===void 0||(m=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var _=S();if(!g){var k=S();o(_,k)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),g=!0)}k=s({inst:{value:_,getSnapshot:S}});var R=k[0].inst,O=k[1];return f(function(){R.value=_,R.getSnapshot=S,n(R)&&O({inst:R})},[x,_,S]),l(function(){return n(R)&&O({inst:R}),x(function(){n(R)&&O({inst:R})})},[x]),p(_),_}function n(x){var S=x.getSnapshot;x=x.value;try{var _=S();return!o(x,_)}catch{return!0}}function r(x,S){return S()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var i=j,o=typeof Object.is=="function"?Object.is:t,s=i.useState,l=i.useEffect,f=i.useLayoutEffect,p=i.useDebugValue,m=!1,g=!1,y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:e;Dk.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:y,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Dk}process.env.NODE_ENV==="production"?Rk.exports=Gce():Rk.exports=Kce();var qce=Rk.exports;function Gz(t){t.reaction=new wc("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function Yce(t,e){e===void 0&&(e="observed");var n=W.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(l){return Qy.unregister(r),r.onStoreChange=l,r.reaction||(Gz(r),r.stateVersion=Symbol()),function(){var f;r.onStoreChange=null,(f=r.reaction)===null||f===void 0||f.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(Gz(i),Qy.register(n,i,i)),W.useDebugValue(i.reaction,zce),qce.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var o,s;if(i.reaction.track(function(){try{o=t()}catch(l){s=l}}),s)throw s;return o}var Ok,$k,Zce=!0,Kz=!0,qz=typeof Symbol=="function"&&Symbol.for,Xce=($k=(Ok=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Ok===void 0?void 0:Ok.configurable)!==null&&$k!==void 0?$k:!1,Yz=qz?Symbol.for("react.forward_ref"):typeof j.forwardRef=="function"&&j.forwardRef(function(t){return null}).$$typeof,Zz=qz?Symbol.for("react.memo"):typeof j.memo=="function"&&j.memo(function(t){return null}).$$typeof;function Qce(t,e){var n;if(process.env.NODE_ENV,Zz&&t.$$typeof===Zz)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=t,o=t.displayName||t.name;if(Yz&&t.$$typeof===Yz&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s=function(l,f){return Yce(function(){return i(l,f)},o)};return s.displayName=t.displayName,Xce&&Object.defineProperty(s,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(s.contextTypes=t.contextTypes,process.env.NODE_ENV!=="production"&&Kz&&(Kz=!1,console.warn("[mobx-react-lite] Support for Legacy Context in function components will be removed in the next major release."))),r&&(s=j.forwardRef(s)),s=j.memo(s),efe(t,s),process.env.NODE_ENV!=="production"&&Object.defineProperty(s,"contextTypes",{set:function(){var l,f;throw new Error("[mobx-react-lite] `".concat(this.displayName||((l=this.type)===null||l===void 0?void 0:l.displayName)||((f=this.type)===null||f===void 0?void 0:f.name)||"Component",".contextTypes` must be set before applying `observer`."))}}),s}var Jce={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function efe(t,e){Object.keys(t).forEach(function(n){Jce[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}process.env.NODE_ENV;var Ik;jce(lf.unstable_batchedUpdates),Ik=Qy.finalizeAllImmediately;function tfe(t,e){if(Xz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(e,n[i])||!Xz(t[n[i]],e[n[i]]))return!1;return!0}function Xz(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Qz=Symbol("patchMixins"),Jz=Symbol("patchedDefinition");function nfe(t,e){var n=t[Qz]=t[Qz]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function e5(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var s;return t!=null&&(s=t.apply(this,i)),s}finally{e.locks--,e.locks===0&&e.methods.forEach(function(l){l.apply(n,i)})}}function t5(t,e){var n=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];e5.call.apply(e5,[this,t,e].concat(o))};return n}function rfe(t,e,n){var r=nfe(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(t,e);if(!(i&&i[Jz])){var o=t[e],s=n5(t,e,i?i.enumerable:void 0,r,o);Object.defineProperty(t,e,s)}}function n5(t,e,n,r,i){var o,s=t5(i,r);return o={},o[Jz]=!0,o.get=function(){return s},o.set=function(f){if(this===t)s=t5(f,r);else{var p=n5(this,e,n,r,f);Object.defineProperty(this,e,p)}},o.configurable=!0,o.enumerable=n,o}var r5=Symbol("ObserverAdministration"),i5=Symbol("isMobXReactObserver"),a5;process.env.NODE_ENV!=="production"&&(a5={props:Pk("props"),state:Pk("state"),context:Pk("context")});function Jy(t){var e;return(e=t[r5])!=null?e:t[r5]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:Nx(t.constructor),state:void 0,props:void 0,context:void 0}}function ife(t){var e=t.prototype;if(t[i5]){var n=Nx(t);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}else t[i5]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==j.PureComponent){if(!e.shouldComponentUpdate)e.shouldComponentUpdate=o5;else if(e.shouldComponentUpdate!==o5)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}process.env.NODE_ENV!=="production"&&Object.defineProperties(e,a5);var r=e.render;if(typeof r!="function"){var i=Nx(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}e.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:afe.call(this,r)}),this.render()};var o=e.componentDidMount;return e.componentDidMount=function(){var s=this;if(process.env.NODE_ENV!=="production"&&this.componentDidMount!==Object.getPrototypeOf(this).componentDidMount){var l=Nx(t);throw new Error("[mobx-react] `observer("+l+").componentDidMount` must be defined on prototype.\n`componentDidMount = () => {}` or `componentDidMount = function() {}` is not supported.")}var f=Jy(this);return f.mounted=!0,Qy.unregister(this),f.forceUpdate=function(){return s.forceUpdate()},(!f.reaction||f.reactionInvalidatedBeforeMount)&&f.forceUpdate(),o==null?void 0:o.apply(this,arguments)},rfe(e,"componentWillUnmount",function(){var s,l=Jy(this);(s=l.reaction)==null||s.dispose(),l.reaction=null,l.forceUpdate=null,l.mounted=!1,l.reactionInvalidatedBeforeMount=!1}),t}function Nx(t){return t.displayName||t.name||"<component>"}function afe(t){var e=t.bind(this),n=Jy(this);function r(){n.reaction||(n.reaction=ofe(n),n.mounted||Qy.register(this,n,this));var i=void 0,o=void 0;if(n.reaction.track(function(){try{o=zle(!1,e)}catch(s){i=s}}),i)throw i;return o}return r}function ofe(t){return new wc(t.name+".render()",function(){if(!t.mounted){t.reactionInvalidatedBeforeMount=!0;return}try{t.forceUpdate==null||t.forceUpdate()}catch{var e;(e=t.reaction)==null||e.dispose(),t.reaction=null}})}function o5(t,e){return this.state!==e?!0:!tfe(this.props,t)}function Pk(t){return{configurable:!0,enumerable:!0,get:function(){var n=Jy(this),r=Kle().trackingDerivation;if(r&&r!==n.reaction)throw new Error('[mobx-react] Cannot read "'+n.name+"."+t+`" in a reactive context, as it isn't observable.
                    Please use component lifecycle method to copy the value into a local observable first.
                    See https://github.com/mobxjs/mobx/blob/main/packages/mobx-react/README.md#note-on-using-props-and-state-in-derivations`);return n[t]},set:function(n){Jy(this)[t]=n}}}function ss(t,e){return t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(j.Component,t)||Object.prototype.isPrototypeOf.call(j.PureComponent,t)?ife(t):Qce(t)}if(W.version.split(".")[0],!j.Component)throw new Error("mobx-react requires React to be available");if(!Ea)throw new Error("mobx-react requires mobx to be available");function s5(t,e){if(!t)return{width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0};const n=t.getBoundingClientRect();return{width:n.width,height:n.height}}var u5={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():window.ysFixWebmDuration=n()})("fix-webm-duration",function(){var e={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function n(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m}function r(m,g){this.name=m||"Unknown",this.type=g||"Unknown"}r.prototype.updateBySource=function(){},r.prototype.setSource=function(m){this.source=m,this.updateBySource()},r.prototype.updateByData=function(){},r.prototype.setData=function(m){this.data=m,this.updateByData()};function i(m,g){r.call(this,m,g||"Uint")}n(i,r);function o(m){return m.length%2===1?"0"+m:m}i.prototype.updateBySource=function(){this.data="";for(var m=0;m<this.source.length;m++){var g=this.source[m].toString(16);this.data+=o(g)}},i.prototype.updateByData=function(){var m=this.data.length/2;this.source=new Uint8Array(m);for(var g=0;g<m;g++){var y=this.data.substr(g*2,2);this.source[g]=parseInt(y,16)}},i.prototype.getValue=function(){return parseInt(this.data,16)},i.prototype.setValue=function(m){this.setData(o(m.toString(16)))};function s(m,g){r.call(this,m,g||"Float")}n(s,r),s.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},s.prototype.updateBySource=function(){var m=this.source.reverse(),g=this.getFloatArrayType(),y=new g(m.buffer);this.data=y[0]},s.prototype.updateByData=function(){var m=this.getFloatArrayType(),g=new m([this.data]),y=new Uint8Array(g.buffer);this.source=y.reverse()},s.prototype.getValue=function(){return this.data},s.prototype.setValue=function(m){this.setData(m)};function l(m,g){r.call(this,m,g||"Container")}n(l,r),l.prototype.readByte=function(){return this.source[this.offset++]},l.prototype.readUint=function(){for(var m=this.readByte(),g=8-m.toString(2).length,y=m-(1<<7-g),x=0;x<g;x++)y*=256,y+=this.readByte();return y},l.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=y){var m=this.readUint(),g=this.readUint(),y=Math.min(this.offset+g,this.source.length),x=this.source.slice(this.offset,y),S=e[m]||{name:"Unknown",type:"Unknown"},_=r;switch(S.type){case"Container":_=l;break;case"Uint":_=i;break;case"Float":_=s;break}var k=new _(S.name,S.type);k.setSource(x),this.data.push({id:m,idHex:m.toString(16),data:k})}},l.prototype.writeUint=function(m,g){for(var y=1,x=128;m>=x&&y<8;y++,x*=128);if(!g)for(var S=x+m,_=y-1;_>=0;_--){var k=S%256;this.source[this.offset+_]=k,S=(S-k)/256}this.offset+=y},l.prototype.writeSections=function(m){this.offset=0;for(var g=0;g<this.data.length;g++){var y=this.data[g],x=y.data.source,S=x.length;this.writeUint(y.id,m),this.writeUint(S,m),m||this.source.set(x,this.offset),this.offset+=S}return this.offset},l.prototype.updateByData=function(){var m=this.writeSections("draft");this.source=new Uint8Array(m),this.writeSections()},l.prototype.getSectionById=function(m){for(var g=0;g<this.data.length;g++){var y=this.data[g];if(y.id===m)return y.data}return null};function f(m){l.call(this,"File","File"),this.setSource(m)}n(f,l),f.prototype.fixDuration=function(m,g){var y=g&&g.logger;y===void 0?y=function(R){console.log(R)}:y||(y=function(){});var x=this.getSectionById(139690087);if(!x)return y("[fix-webm-duration] Segment section is missing"),!1;var S=x.getSectionById(88713574);if(!S)return y("[fix-webm-duration] Info section is missing"),!1;var _=S.getSectionById(710577);if(!_)return y("[fix-webm-duration] TimecodeScale section is missing"),!1;var k=S.getSectionById(1161);if(k)if(k.getValue()<=0)y(`[fix-webm-duration] Duration section is present, but the value is ${k.getValue()}`),k.setValue(m);else return y(`[fix-webm-duration] Duration section is present, and the value is ${k.getValue()}`),!1;else y("[fix-webm-duration] Duration section is missing"),k=new s("Duration","Float"),k.setValue(m),S.data.push({id:1161,data:k});return _.setValue(1e6),S.updateByData(),x.updateByData(),this.updateByData(),!0},f.prototype.toBlob=function(m){return new Blob([this.source.buffer],{type:m||"video/webm"})};function p(m,g,y,x){if(typeof y=="object"&&(x=y,y=void 0),!y)return new Promise(function(_){p(m,g,_,x)});try{var S=new FileReader;S.onloadend=function(){try{var _=new f(new Uint8Array(S.result));_.fixDuration(g,x)&&(m=_.toBlob(m.type))}catch{}y(m)},S.readAsArrayBuffer(m)}catch{y(m)}}return p.default=p,p})})(u5);var sfe=u5.exports;const ufe=cg(sfe),l5=3;class Mk{constructor(){this.device="n/a",this.status="idle",this.stream=null,this.enabled=!0,this.pushToTalk=!1,Cx(this,{},{autoBind:!0})}static createInstance(){return new Mk}__setupEvents(){document.addEventListener("keydown",this.__handleKeyDown),document.addEventListener("keyup",this.__handleKeyUp)}__removeEvents(){document.removeEventListener("keydown",this.__handleKeyDown),document.removeEventListener("keyup",this.__handleKeyUp)}__handleKeyDown(e){e.altKey&&e.shiftKey&&e.code==="KeyU"&&this.__enableAudioTracks()}__handleKeyUp(e){(e.altKey||e.shiftKey||e.code==="KeyU")&&this.__disableAudioTracks()}__enableAudioTracks(){var e;(e=this.stream)==null||e.getAudioTracks().forEach(n=>n.enabled=!0)}__disableAudioTracks(){var e;(e=this.stream)==null||e.getAudioTracks().forEach(n=>n.enabled=!1)}__createStreamSuccess(e){this.status="initialized",this.stream=e,this.pushToTalk&&this.__disableAudioTracks()}__createStreamError(){this.status="error"}changeDevice(e){return this.device=e,this}updatePushToTalk(e){return this.pushToTalk=e,this.enabled&&(this.pushToTalk?(this.__disableAudioTracks(),this.__setupEvents()):(this.__removeEvents(),this.__enableAudioTracks())),this}updateEnabled(e){return this.enabled=e==="toggle"?!this.enabled:e,this.enabled?this.__enableAudioTracks():this.__disableAudioTracks(),this}createStream(){return new Promise((e,n)=>{if(this.device!=="n/a"){const r={audio:{deviceId:this.device},video:!1};navigator.mediaDevices.getUserMedia(r).then(i=>{e(i),this.__createStreamSuccess(i)},i=>{n(i),this.__createStreamError()})}else e(null)})}destroyStream(){var e;return this.status="idle",(e=this.stream)==null||e.getTracks().forEach(n=>n.stop()),this.stream=null,this}}const Ou=Mk.createInstance(),$u=(class fZ{constructor(){this.status="idle",this.timestamp=0,this.audio=!1,this.recorder=null,this.chunks=[],this.stream=null,this.interval=null,this.timeout=null,this.helperAudioContext=null,Cx(this,{},{autoBind:!0})}static createInstance(){return new fZ}get time(){const e=Math.floor(this.timestamp/60),n=this.timestamp%60;return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")}__startTimer(){this.interval||(this.interval=setInterval(()=>{ace(()=>this.timestamp+=1)},1e3))}__stopTimer(e){this.interval&&clearInterval(this.interval),e&&(this.timestamp=0),this.interval=null}__recorderDataAvailable(e){e.data.size>0&&this.chunks.push(e.data)}__exportWebmBlob(e){const n=URL.createObjectURL(e);window.open(n),this.status="idle"}__recorderDataSaved(){const e=new Blob(this.chunks,{type:"video/webm"});ufe(e,this.timestamp,this.__exportWebmBlob,{logger:!1}),this.__stopTimer(!0),this.chunks=[]}__preventTabSilence(e){this.helperAudioContext=new AudioContext,this.helperAudioContext.createMediaStreamSource(e).connect(this.helperAudioContext.destination)}__captureStreamSuccess([e,n]){this.status="active",this.stream=e;const r=new MediaStream([...e.getVideoTracks(),...n?n.getAudioTracks():[],...this.audio?e.getAudioTracks():[]]),i=new AudioContext;i.createMediaStreamSource(e).connect(i.destination),this.recorder=new MediaRecorder(r,{mimeType:"video/webm; codecs=vp9,opus"}),this.recorder.addEventListener("dataavailable",this.__recorderDataAvailable),this.recorder.addEventListener("stop",this.__recorderDataSaved),this.__preventTabSilence(e),this.recorder.start(),this.__startTimer()}__captureStreamError(){this.status="error",this.__stopTimer(!0)}__createStream(){return new Promise((e,n)=>{chrome.runtime.sendMessage({type:"capture.tab",payload:null},r=>{switch(r.type){case"capture.tab.sucesss":{const i={audio:{mandatory:{chromeMediaSource:"tab",chromeMediaSourceId:r.payload.streamId}},video:{mandatory:{chromeMediaSource:"tab",chromeMediaSourceId:r.payload.streamId}}};navigator.mediaDevices.getDisplayMedia(i).then(e).catch(n)}}})})}startScreenCapture(){this.status="pending",this.timeout=setTimeout(()=>{const e=[this.__createStream(),Ou.createStream()];Promise.all(e).then(this.__captureStreamSuccess).catch(this.__captureStreamError)},l5*1e3)}stopScreenCapture(){!this.recorder||this.recorder.state==="inactive"?(this.status="idle",this.__stopTimer(!0)):(this.recorder.stop(),this.status="saving"),this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)}cancelScreenCapture(){this.timeout&&clearTimeout(this.timeout),this.status="idle"}pauseScreenCapture(){this.recorder&&(this.recorder.state==="recording"&&this.recorder.pause(),this.status="paused",this.__stopTimer())}resumeScreenCapture(){this.recorder&&(this.recorder.state==="paused"&&this.recorder.resume(),this.status="active",this.__startTimer())}}).createInstance(),_a=30,c5=1024;function lfe(){const[t,e]=j.useState([]);return j.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(n=>e(n.filter(r=>r.kind==="videoinput"&&!!r.deviceId)))},[]),t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cfe=1e-7,ffe=1e-4;class f5{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Lk{refCount(e){return us("refCount")}incRef(e){return us("incRef")}timerAvailable(){return!0}time(e){return us("time")}read(e){return us("read")}readSync(e){return us("readSync")}readToGPU(e,n){return us("readToGPU")}numDataIds(){return us("numDataIds")}disposeData(e,n){return us("disposeData")}write(e,n,r){return us("write")}move(e,n,r,i,o){return us("move")}createTensorFromGPUData(e,n,r){return us("createTensorFromGPUData")}memory(){return us("memory")}floatPrecision(){return us("floatPrecision")}epsilon(){return this.floatPrecision()===32?cfe:ffe}dispose(){return us("dispose")}}function us(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d5(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,xf(t,e,n)}function dfe(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,xf(t,n,r),xf(e,n,r)}function e1(t,e,n){return Math.max(t,Math.min(e,n))}function pfe(t){return t%2===0?t:t+1}function xf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function p5(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function hfe(t,e){const n=Math.random();return e*n+(1-n)*t}function mfe(t,e){let n=0;for(let r=0;r<t.length;r++){const i=Number(t[r])-Number(e[r]);n+=i*i}return n}function X(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Va(t,e,n=""){X(ja(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Ah(t){X(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function lt(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Fk(t){return t.length===0}function h5(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function ja(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Hg(t){return t%1===0}function gfe(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function vfe(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function yfe(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return d5(e),e}function t1(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function bfe(t,e=i=>0,n,r){return new Promise((i,o)=>{let s=0;const l=()=>{if(t()){i();return}s++;const f=e(s);if(n!=null&&s>=n){o();return}r!=null?r(l,f):setTimeout(l,f)};l()})}function m5(t,e){let n=1,r=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const i=t.slice();return i[r]=e/n,i}function eu(t,e){const n=e.length;return t=t==null?e.map((r,i)=>i):[].concat(t),X(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),X(t.every(r=>Hg(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function g5(t,e){const n=[],r=[],i=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||i?null:eu(e,t).sort();let s=0;for(let l=0;l<t.length;++l){if(o!=null){if(o[s]===l&&t[l]!==1)throw new Error(`Can't squeeze axis ${l} since its dim '${t[l]}' is not 1`);(o[s]==null||o[s]>l)&&t[l]===1&&(n.push(t[l]),r.push(l)),o[s]<=l&&s++}t[l]!==1&&(n.push(t[l]),r.push(l))}return{newShape:n,keptDims:r}}function Sf(t,e){return Hi(t,e)}function Hi(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function v5(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function y5(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function b5(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Rx(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function w5(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Cf(t){return typeof t=="string"||t instanceof String}function x5(t){return typeof t=="boolean"}function S5(t){return typeof t=="number"}function Wg(t){return Array.isArray(t)?Wg(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":S5(t)?"float32":Cf(t)?"string":x5(t)?"bool":"float32"}function Kd(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ax(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Ta(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function C5(t,e,n,r=!1){const i=new Array;if(e.length===1){const o=e[0]*(r?2:1);for(let s=0;s<o;s++)i[s]=n[t+s]}else{const o=e[0],s=e.slice(1),l=s.reduce((f,p)=>f*p)*(r?2:1);for(let f=0;f<o;f++)i[f]=C5(t+f*l,s,n,r)}return i}function Dh(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((i,o)=>i*o)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return C5(0,t,e,n)}function Dx(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function Vk(t,e){const n=Sc(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Sc(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function wfe(t,e){const n=t.reduce((r,i)=>r*i,1);if(e==null||e==="float32")return Dh(t,new Float32Array(n));if(e==="int32")return Dh(t,new Int32Array(n));if(e==="bool")return Dh(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function ls(t){t.forEach(e=>{X(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Ox(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let i=0;i<t.length-1;++i)r+=n[i]*t[i];return r}function $x(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(t/n[i]),t-=r[i]*n[i];return r[r.length-1]=t,r}function qd(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E5="tfjsflags";class _5{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=xfe,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&($t().getBool("IS_TEST")||$t().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const i=this.urlFlags[e];$t().getBool("IS_TEST")||$t().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${i}.`),this.set(e,i)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(qd(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);E5 in e&&e[E5].split(",").forEach(r=>{const[i,o]=r.split(":");this.urlFlags[i]=Cfe(i,o)})}}function xfe(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Sfe(e,r[0],r[1]),r.join("="))),e}function Sfe(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Cfe(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function $t(){return jk}let jk=null;function Efe(t){jk=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zk;function T5(){if(zk==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");zk=t}return zk}function _fe(){const t=T5();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Bk(t,e){const n=_fe();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const Uk="Abs",Hk="Acos",Wk="Acosh",Ix="Add",Gk="AddN",Kk="All",qk="Any",Yk="ArgMax",Zk="ArgMin",Xk="Asin",Qk="Asinh",Jk="Atan",eN="Atanh",tN="Atan2",nN="AvgPool",k5="AvgPoolGrad",rN="AvgPool3D",N5="AvgPool3DGrad",iN="BatchMatMul",aN="BatchToSpaceND",oN="Bincount",R5="BitwiseAnd",Tfe="BroadcastTo",sN="BroadcastArgs",Px="Cast",uN="Ceil",lN="ClipByValue",cN="Complex",fN="ComplexAbs",dN="Concat",pN="Conv2D",hN="Conv2DBackpropFilter",mN="Conv2DBackpropInput",gN="Conv3D",A5="Conv3DBackpropFilterV2",vN="Conv3DBackpropInputV2",yN="Cos",bN="Cosh",wN="Cumprod",xN="Cumsum",SN="CropAndResize",CN="DenseBincount",EN="DepthToSpace",_N="DepthwiseConv2dNative",TN="DepthwiseConv2dNativeBackpropFilter",kN="DepthwiseConv2dNativeBackpropInput",NN="Diag",RN="Dilation2D",D5="Dilation2DBackpropInput",O5="Dilation2DBackpropFilter",Mx="Draw",AN="RealDiv",DN="Einsum",ON="Elu",$5="EluGrad",$N="Erf",IN="Equal",PN="Exp",MN="ExpandDims",LN="Expm1",FN="FFT",VN="Fill",jN="FlipLeftRight",zN="Floor",BN="FloorDiv",UN="FusedBatchNorm",HN="GatherV2",WN="GatherNd",GN="Greater",KN="GreaterEqual",Lx="Identity",qN="IFFT",YN="Imag",ZN="IsFinite",XN="IsInf",QN="IsNan",JN="LeakyRelu",eR="Less",tR="LessEqual",nR="LinSpace",rR="Log",iR="Log1p",aR="LogicalAnd",oR="LogicalNot",sR="LogicalOr",kfe="LogicalXor",Nfe="LogSoftmax",Rfe="LowerBound",uR="LRN",I5="LRNGrad",Afe="MatrixBandPart",lR="Max",cR="Maximum",fR="MaxPool",P5="MaxPoolGrad",dR="MaxPool3D",M5="MaxPool3DGrad",pR="MaxPoolWithArgmax",hR="Mean",mR="Min",gR="Minimum",vR="MirrorPad",yR="Mod",bR="Multinomial",wR="Multiply",xR="Neg",SR="NotEqual",CR="NonMaxSuppressionV3",L5="NonMaxSuppressionV4",ER="NonMaxSuppressionV5",_R="OnesLike",TR="OneHot",kR="Pack",NR="PadV2",Dfe="Pool",RR="Pow",AR="Prelu",DR="Prod",F5="RaggedGather",V5="RaggedRange",j5="RaggedTensorToTensor",OR="Range",$R="Real",IR="Reciprocal",PR="Relu",MR="Reshape",LR="ResizeNearestNeighbor",z5="ResizeNearestNeighborGrad",FR="ResizeBilinear",B5="ResizeBilinearGrad",VR="Relu6",jR="Reverse",zR="Round",BR="Rsqrt",UR="ScatterNd",HR="TensorScatterUpdate",WR="SearchSorted",GR="Select",KR="Selu",qR="Slice",YR="Sin",ZR="Sinh",XR="Sign",QR="Sigmoid",JR="Softplus",eA="Sqrt",tA="Sum",nA="SpaceToBatchND",rA="SplitV",iA="Softmax",U5="SparseFillEmptyRows",H5="SparseReshape",aA="SparseSegmentMean",oA="SparseSegmentSum",sA="SparseToDense",uA="SquaredDifference",W5="Square",G5="StaticRegexReplace",lA="StridedSlice",cA="StringNGrams",K5="StringSplit",q5="StringToHashBucketFast",fA="Sub",dA="Tan",pA="Tanh",Fx="Tile",hA="TopK",mA="Transform",n1="Transpose",Y5="Unique",gA="Unpack",vA="UnsortedSegmentSum",Ofe="UpperBound",yA="ZerosLike",bA="Step",Vx="FromPixels",wA="RotateWithOffset",jx="_FusedMatMul",zx="FusedConv2D",Bx="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yd(...t){$t().getBool("IS_TEST")||$t().getBool("PROD")||console.warn(...t)}function $fe(...t){$t().getBool("IS_TEST")||$t().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gg=Bk("kernelRegistry",()=>new Map),r1=Bk("gradRegistry",()=>new Map);function i1(t,e){const n=CA(t,e);return Gg.get(n)}function xA(t){return r1.get(t)}function Ux(t){const e=Gg.entries(),n=[];for(;;){const{done:r,value:i}=e.next();if(r)break;const[o,s]=i,[l]=o.split("_");l===t&&n.push(s)}return n}function SA(t){const{kernelName:e,backendName:n}=t,r=CA(e,n);Gg.has(r)&&Yd(`The kernel '${e}' for backend '${n}' is already registered`),Gg.set(r,t)}function Ife(t){const{kernelName:e}=t;r1.has(e)&&$t().getBool("DEBUG")&&Yd(`Overriding the gradient for '${e}'`),r1.set(e,t)}function Pfe(t,e){const n=CA(t,e);if(!Gg.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Gg.delete(n)}function Mfe(t){if(!r1.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);r1.delete(t)}function Lfe(t,e){Ux(t).forEach(r=>{const i=Object.assign({},r,{backendName:e});SA(i)})}function CA(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z5(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var X5=Fr,Iu=null;try{Iu=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Fr(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Fr.prototype.__isLong__,Object.defineProperty(Fr.prototype,"__isLong__",{value:!0});function cs(t){return(t&&t.__isLong__)===!0}Fr.isLong=cs;var Q5={},J5={};function Oh(t,e){var n,r,i;return e?(t>>>=0,(i=0<=t&&t<256)&&(r=J5[t],r)?r:(n=Vr(t,(t|0)<0?-1:0,!0),i&&(J5[t]=n),n)):(t|=0,(i=-128<=t&&t<128)&&(r=Q5[t],r)?r:(n=Vr(t,t<0?-1:0,!1),i&&(Q5[t]=n),n))}Fr.fromInt=Oh;function Pu(t,e){if(isNaN(t))return e?$h:Mu;if(e){if(t<0)return $h;if(t>=tB)return oB}else{if(t<=-nB)return fs;if(t+1>=nB)return aB}return t<0?Pu(-t,e).neg():Vr(t%Kg|0,t/Kg|0,e)}Fr.fromNumber=Pu;function Vr(t,e,n){return new Fr(t,e,n)}Fr.fromBits=Vr;var Hx=Math.pow;function EA(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Mu;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return EA(t.substring(1),e,n).neg();for(var i=Pu(Hx(n,8)),o=Mu,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),f=parseInt(t.substring(s,s+l),n);if(l<8){var p=Pu(Hx(n,l));o=o.mul(p).add(Pu(f))}else o=o.mul(i),o=o.add(Pu(f))}return o.unsigned=e,o}Fr.fromString=EA;function xl(t,e){return typeof t=="number"?Pu(t,e):typeof t=="string"?EA(t,e):Vr(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Fr.fromValue=xl;var eB=65536,Ffe=1<<24,Kg=eB*eB,tB=Kg*Kg,nB=tB/2,rB=Oh(Ffe),Mu=Oh(0);Fr.ZERO=Mu;var $h=Oh(0,!0);Fr.UZERO=$h;var qg=Oh(1);Fr.ONE=qg;var iB=Oh(1,!0);Fr.UONE=iB;var _A=Oh(-1);Fr.NEG_ONE=_A;var aB=Vr(-1,2147483647,!1);Fr.MAX_VALUE=aB;var oB=Vr(-1,-1,!0);Fr.MAX_UNSIGNED_VALUE=oB;var fs=Vr(0,-2147483648,!1);Fr.MIN_VALUE=fs;var gt=Fr.prototype;gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Kg+(this.low>>>0):this.high*Kg+(this.low>>>0)},gt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(fs)){var n=Pu(e),r=this.div(n),i=r.mul(n).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=Pu(Hx(e,6),this.unsigned),s=this,l="";;){var f=s.div(o),p=s.sub(f.mul(o)).toInt()>>>0,m=p.toString(e);if(s=f,s.isZero())return m+l;for(;m.length<6;)m="0"+m;l=""+m+l}},gt.getHighBits=function(){return this.high},gt.getHighBitsUnsigned=function(){return this.high>>>0},gt.getLowBits=function(){return this.low},gt.getLowBitsUnsigned=function(){return this.low>>>0},gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(fs)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1},gt.isZero=function(){return this.high===0&&this.low===0},gt.eqz=gt.isZero,gt.isNegative=function(){return!this.unsigned&&this.high<0},gt.isPositive=function(){return this.unsigned||this.high>=0},gt.isOdd=function(){return(this.low&1)===1},gt.isEven=function(){return(this.low&1)===0},gt.equals=function(e){return cs(e)||(e=xl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},gt.eq=gt.equals,gt.notEquals=function(e){return!this.eq(e)},gt.neq=gt.notEquals,gt.ne=gt.notEquals,gt.lessThan=function(e){return this.comp(e)<0},gt.lt=gt.lessThan,gt.lessThanOrEqual=function(e){return this.comp(e)<=0},gt.lte=gt.lessThanOrEqual,gt.le=gt.lessThanOrEqual,gt.greaterThan=function(e){return this.comp(e)>0},gt.gt=gt.greaterThan,gt.greaterThanOrEqual=function(e){return this.comp(e)>=0},gt.gte=gt.greaterThanOrEqual,gt.ge=gt.greaterThanOrEqual,gt.compare=function(e){if(cs(e)||(e=xl(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},gt.comp=gt.compare,gt.negate=function(){return!this.unsigned&&this.eq(fs)?fs:this.not().add(qg)},gt.neg=gt.negate,gt.add=function(e){cs(e)||(e=xl(e));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,s=e.high>>>16,l=e.high&65535,f=e.low>>>16,p=e.low&65535,m=0,g=0,y=0,x=0;return x+=o+p,y+=x>>>16,x&=65535,y+=i+f,g+=y>>>16,y&=65535,g+=r+l,m+=g>>>16,g&=65535,m+=n+s,m&=65535,Vr(y<<16|x,m<<16|g,this.unsigned)},gt.subtract=function(e){return cs(e)||(e=xl(e)),this.add(e.neg())},gt.sub=gt.subtract,gt.multiply=function(e){if(this.isZero())return Mu;if(cs(e)||(e=xl(e)),Iu){var n=Iu.mul(this.low,this.high,e.low,e.high);return Vr(n,Iu.get_high(),this.unsigned)}if(e.isZero())return Mu;if(this.eq(fs))return e.isOdd()?fs:Mu;if(e.eq(fs))return this.isOdd()?fs:Mu;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(rB)&&e.lt(rB))return Pu(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,s=this.low&65535,l=e.high>>>16,f=e.high&65535,p=e.low>>>16,m=e.low&65535,g=0,y=0,x=0,S=0;return S+=s*m,x+=S>>>16,S&=65535,x+=o*m,y+=x>>>16,x&=65535,x+=s*p,y+=x>>>16,x&=65535,y+=i*m,g+=y>>>16,y&=65535,y+=o*p,g+=y>>>16,y&=65535,y+=s*f,g+=y>>>16,y&=65535,g+=r*m+i*p+o*f+s*l,g&=65535,Vr(x<<16|S,g<<16|y,this.unsigned)},gt.mul=gt.multiply,gt.divide=function(e){if(cs(e)||(e=xl(e)),e.isZero())throw Error("division by zero");if(Iu){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Iu.div_u:Iu.div_s)(this.low,this.high,e.low,e.high);return Vr(n,Iu.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$h:Mu;var r,i,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return $h;if(e.gt(this.shru(1)))return iB;o=$h}else{if(this.eq(fs)){if(e.eq(qg)||e.eq(_A))return fs;if(e.eq(fs))return qg;var s=this.shr(1);return r=s.div(e).shl(1),r.eq(Mu)?e.isNegative()?qg:_A:(i=this.sub(e.mul(r)),o=r.add(i.div(e)),o)}else if(e.eq(fs))return this.unsigned?$h:Mu;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=Mu}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var l=Math.ceil(Math.log(r)/Math.LN2),f=l<=48?1:Hx(2,l-48),p=Pu(r),m=p.mul(e);m.isNegative()||m.gt(i);)r-=f,p=Pu(r,this.unsigned),m=p.mul(e);p.isZero()&&(p=qg),o=o.add(p),i=i.sub(m)}return o},gt.div=gt.divide,gt.modulo=function(e){if(cs(e)||(e=xl(e)),Iu){var n=(this.unsigned?Iu.rem_u:Iu.rem_s)(this.low,this.high,e.low,e.high);return Vr(n,Iu.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},gt.mod=gt.modulo,gt.rem=gt.modulo,gt.not=function(){return Vr(~this.low,~this.high,this.unsigned)},gt.and=function(e){return cs(e)||(e=xl(e)),Vr(this.low&e.low,this.high&e.high,this.unsigned)},gt.or=function(e){return cs(e)||(e=xl(e)),Vr(this.low|e.low,this.high|e.high,this.unsigned)},gt.xor=function(e){return cs(e)||(e=xl(e)),Vr(this.low^e.low,this.high^e.high,this.unsigned)},gt.shiftLeft=function(e){return cs(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Vr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Vr(0,this.low<<e-32,this.unsigned)},gt.shl=gt.shiftLeft,gt.shiftRight=function(e){return cs(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Vr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Vr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},gt.shr=gt.shiftRight,gt.shiftRightUnsigned=function(e){if(cs(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Vr(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Vr(n,0,this.unsigned):Vr(n>>>e-32,0,this.unsigned)},gt.shru=gt.shiftRightUnsigned,gt.shr_u=gt.shiftRightUnsigned,gt.toSigned=function(){return this.unsigned?Vr(this.low,this.high,!1):this},gt.toUnsigned=function(){return this.unsigned?this:Vr(this.low,this.high,!0)},gt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},gt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},gt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]},Fr.fromBytes=function(e,n,r){return r?Fr.fromBytesLE(e,n):Fr.fromBytesBE(e,n)},Fr.fromBytesLE=function(e,n){return new Fr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)},Fr.fromBytesBE=function(e,n){return new Fr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const sB=cg(X5),Vfe=ly({__proto__:null,default:sB},[X5]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ih=sB||Vfe;function a1(t){return Ih.fromString(t,!0,16)}const uB=a1("c3a5c85c97cb3127"),Ph=a1("b492b66fbe98f273"),oo=a1("9ae16a3b2f90404f");function TA(t){return t.xor(t.shru(47))}function lB(t,e,n){const r=t.slice(e,e+n);return Ih.fromBytes(Array.from(r),!0,!0)}function kr(t,e){return lB(t,e,8)}function cB(t,e){return lB(t,e,4)}function oa(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Zd(t,e,n=a1("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let i=e.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function jfe(t,e,n,r,i,o){i=i.add(t),o=oa(o.add(i).add(r),21);const s=i;return i=i.add(e),i=i.add(n),o=o.add(oa(i,44)),[i.add(r),o.add(s)]}function Wx(t,e,n,r){return jfe(kr(t,e),kr(t,e+8),kr(t,e+16),kr(t,e+24),n,r)}function zfe(t,e=t.length){if(e>=8){const n=oo.add(e*2),r=kr(t,0).add(oo),i=kr(t,e-8),o=oa(i,37).mul(n).add(r),s=oa(r,25).add(i).mul(n);return Zd(o,s,n)}if(e>=4){const n=oo.add(e*2),r=cB(t,0);return Zd(r.shl(3).add(e),cB(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],i=t[e-1],o=n+(r<<8),s=e+(i<<2);return TA(oo.mul(o).xor(uB.mul(s))).mul(oo)}return oo}function Bfe(t,e=t.length){const n=oo.add(e*2),r=kr(t,0).mul(Ph),i=kr(t,8),o=kr(t,e-8).mul(n),s=kr(t,e-16).mul(oo);return Zd(oa(r.add(i),43).add(oa(o,30)).add(s),r.add(oa(i.add(oo),18)).add(o),n)}function Ufe(t,e=t.length){const n=oo.add(e*2),r=kr(t,0).mul(oo),i=kr(t,8),o=kr(t,e-8).mul(n),s=kr(t,e-16).mul(oo),l=oa(r.add(i),43).add(oa(o,30)).add(s),f=Zd(l,r.add(oa(i.add(oo),18)).add(o),n),p=kr(t,16).mul(n),m=kr(t,24),g=l.add(kr(t,e-32)).mul(n),y=f.add(kr(t,e-24)).mul(n);return Zd(oa(p.add(m),43).add(oa(g,30)).add(y),p.add(oa(m.add(r),18)).add(g),n)}function fB(t,e=t.length){const n=Ih.fromNumber(81,!0);if(e<=32)return e<=16?zfe(t,e):Bfe(t,e);if(e<=64)return Ufe(t,e);let r=n,i=n.mul(Ph).add(113),o=TA(i.mul(oo).add(113)).mul(oo),s=[Ih.UZERO,Ih.UZERO],l=[Ih.UZERO,Ih.UZERO];r=r.mul(oo).add(kr(t,0));let f=0;const p=(e-1>>6)*64,m=p+(e-1&63)-63;do r=oa(r.add(i).add(s[0]).add(kr(t,f+8)),37).mul(Ph),i=oa(i.add(s[1]).add(kr(t,f+48)),42).mul(Ph),r=r.xor(l[1]),i=i.add(s[0]).add(kr(t,f+40)),o=oa(o.add(l[0]),33).mul(Ph),s=Wx(t,f,s[1].mul(Ph),r.add(l[0])),l=Wx(t,f+32,o.add(l[1]),i.add(kr(t,f+16))),[o,r]=[r,o],f+=64;while(f!==p);const g=Ph.add(o.and(255).shl(1));return f=m,l[0]=l[0].add(e-1&63),s[0]=s[0].add(l[0]),l[0]=l[0].add(s[0]),r=oa(r.add(i).add(s[0]).add(kr(t,f+8)),37).mul(g),i=oa(i.add(s[1]).add(kr(t,f+48)),42).mul(g),r=r.xor(l[1].mul(9)),i=i.add(s[0].mul(9).add(kr(t,f+40))),o=oa(o.add(l[0]),33).mul(g),s=Wx(t,f,s[1].mul(g),r.add(l[0])),l=Wx(t,f+32,o.add(l[1]),i.add(kr(t,f+16))),[o,r]=[r,o],Zd(Zd(s[0],l[0],g).add(TA(i).mul(uB)).add(o),Zd(s[1],l[1],g).add(r),g)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dB(t,e){return e==="string"?Ef(t):o1([t],e)}function Hfe(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function o1(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Cc(t)),$t().getBool("DEBUG")&&v5(t,e),Hfe(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function s1(){return $t().platform.now()}function Wfe(t,e){return $t().platform.fetch(t,e)}function Ef(t,e="utf-8"){return e=e||"utf-8",$t().platform.encode(t,e)}function Mh(t,e="utf-8"){return e=e||"utf-8",$t().platform.decode(t,e)}function sa(t){return $t().platform.isTypedArray!=null?$t().platform.isTypedArray(t):Z5(t)}function Cc(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||qd(t)||t==null||sa(t)&&n)e.push(t);else if(Array.isArray(t)||sa(t))for(let r=0;r<t.length;++r)Cc(t[r],e,n);else{let r=-1;for(const i of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(i)&&(r=Math.max(r,Number(i)));for(let i=0;i<=r;i++)Cc(t[i],e,n)}return e}const Gfe=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:ja,arraysEqualWithNull:h5,assert:X,assertNonNegativeIntegerDimensions:ls,assertNonNull:Ah,assertShapesMatch:Va,bytesFromStringArray:w5,bytesPerElement:Rx,checkConversionForErrors:v5,clamp:e1,computeStrides:Ta,convertBackendValuesAndArrayBuffer:Dx,createScalarValue:dB,createShuffledIndices:yfe,decodeString:Mh,distSquared:mfe,encodeString:Ef,fetch:Wfe,fingerPrint64:fB,flatten:Cc,getArrayFromDType:Hi,getTypedArrayFromDType:Sf,hasEncodingLoss:b5,hexToLong:a1,indexToLoc:$x,inferDtype:Wg,inferFromImplicitShape:m5,isBoolean:x5,isFunction:Kd,isInt:Hg,isNumber:S5,isPromise:qd,isScalarShape:Fk,isString:Cf,isTypedArray:sa,isValidDtype:y5,locToIndex:Ox,makeOnesTypedArray:Vk,makeZerosNestedTypedArray:wfe,makeZerosTypedArray:Sc,nearestDivisor:Ax,nearestLargerEven:pfe,now:s1,parseAxisParam:eu,randUniform:hfe,repeatedTry:bfe,rightPad:t1,shuffle:d5,shuffleCombo:dfe,sizeFromShape:lt,sizeToSquarishShape:vfe,squeezeShape:g5,sum:p5,swap:xf,tanh:gfe,toNestedArray:Dh,toTypedArray:o1},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kfe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Yfe)}profileKernel(e,n,r){let i;const o=()=>{i=r()};let s;const l=s1();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(o);else{o();for(const p of i)p.dataSync();s=Promise.resolve({kernelMs:s1()-l})}if($t().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let p=0;p<i.length;p++){const m=i[p];m.data().then(g=>{qfe(g,m.dtype,e)})}return{kernelName:e,outputs:i,inputs:n,timeMs:s.then(p=>p.kernelMs),extraInfo:s.then(p=>p.getExtraProfileInfo!=null?p.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:i,inputs:o,extraInfo:s}=e;r.forEach(l=>{Promise.all([l.data(),i,s]).then(f=>{this.logger.logKernelProfile(n,l,f[0],f[1],o,f[2])})})}}function qfe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const i=t[r];if(isNaN(i)||!isFinite(i))return console.warn(`Found ${i} in the result of '${n}'`),!0}return!1}class Yfe{logKernelProfile(e,n,r,i,o,s){const l=typeof i=="number"?t1(`${i}ms`,9):i.error,f=t1(e,25),p=n.rank,m=n.size,g=t1(n.shape.toString(),14);let y="";for(const x in o){const S=o[x];if(S!=null){const _=S.shape||n.shape,k=_.length;y+=`${x}: ${k}D ${k>0?_:""} `}}console.log(`%c${f}	%c${l}	%c${p}D ${g}	%c${m}	%c${y}	%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t,e,n){const r={},i={};for(let f=0;f<e.length;f++)r[e[f].id]=!0;for(let f=0;f<t.length;f++){const p=t[f],m=p.inputs;for(const g in m){const y=m[g];let x=!1;for(let S=0;S<e.length;S++)if(r[y.id]){p.outputs.forEach(_=>r[_.id]=!0),x=!0,i[p.id]=!0;break}if(x)break}}const o={};o[n.id]=!0;const s={};for(let f=t.length-1;f>=0;f--){const p=t[f],m=p.inputs;for(let g=0;g<p.outputs.length;g++)if(o[p.outputs[g].id]){for(const y in m)o[m[y].id]=!0,s[p.id]=!0;break}}const l=[];for(let f=0;f<t.length;f++){const p=t[f];if(i[p.id]&&s[p.id]){const m={};for(const y in p.inputs){const x=p.inputs[y];r[x.id]&&(m[y]=x)}const g=Object.assign({},p);g.inputs=m,g.outputs=p.outputs,l.push(g)}}return l}function Xfe(t,e,n,r){for(let i=e.length-1;i>=0;i--){const o=e[i],s=[];if(o.outputs.forEach(f=>{const p=t[f.id];p!=null?s.push(p):s.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const l=o.gradient(s);for(const f in o.inputs){if(!(f in l))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(l)}.`);const p=n(()=>l[f]());if(p.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${p.dtype}'`);const m=o.inputs[f];if(!ja(p.shape,m.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${f}' has shape '${p.shape}', which does not match the shape of the input '${m.shape}'`);if(t[m.id]==null)t[m.id]=p;else{const g=t[m.id];t[m.id]=r(g,p),g.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pB=20,u1=3,kA=7;function Qfe(t,e,n,r){const i=Ta(e),o=Jfe(t,e,n,i),s=e.length,l=Gx(t,e,n,i,o),f=["Tensor"];return r&&(f.push(`  dtype: ${n}`),f.push(`  rank: ${s}`),f.push(`  shape: [${e}]`),f.push("  values:")),f.push(l.map(p=>"    "+p).join(`
`)),f.join(`
`)}function Jfe(t,e,n,r){const i=lt(e),o=r[r.length-1],s=new Array(o).fill(0),l=e.length,f=n==="complex64"?c1(t):t;if(l>1)for(let p=0;p<i/o;p++){const m=p*o;for(let g=0;g<o;g++)s[g]=Math.max(s[g],l1(f[m+g],0,n).length)}return s}function l1(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(kA))} + ${parseFloat(t[1].toFixed(kA))}j`:Cf(t)?r=`'${t}'`:n==="bool"?r=hB(t):r=parseFloat(t.toFixed(kA)).toString(),t1(r,e)}function hB(t){return t===0?"false":"true"}function Gx(t,e,n,r,i,o=!0){const s=n==="complex64"?2:1,l=e[0],f=e.length;if(f===0){if(n==="complex64"){const _=c1(t);return[l1(_[0],0,n)]}return n==="bool"?[hB(t[0])]:[t[0].toString()]}if(f===1){if(l>pB){const k=u1*s;let R=Array.from(t.slice(0,k)),O=Array.from(t.slice((l-u1)*s,l*s));return n==="complex64"&&(R=c1(R),O=c1(O)),["["+R.map((I,P)=>l1(I,i[P],n)).join(", ")+", ..., "+O.map((I,P)=>l1(I,i[l-u1+P],n)).join(", ")+"]"]}return["["+(n==="complex64"?c1(t):Array.from(t)).map((k,R)=>l1(k,i[R],n)).join(", ")+"]"]}const p=e.slice(1),m=r.slice(1),g=r[0]*s,y=[];if(l>pB){for(let _=0;_<u1;_++){const k=_*g,R=k+g;y.push(...Gx(t.slice(k,R),p,n,m,i,!1))}y.push("...");for(let _=l-u1;_<l;_++){const k=_*g,R=k+g;y.push(...Gx(t.slice(k,R),p,n,m,i,_===l-1))}}else for(let _=0;_<l;_++){const k=_*g,R=k+g;y.push(...Gx(t.slice(k,R),p,n,m,i,_===l-1))}const x=f===2?",":"";y[0]="["+(l>0?y[0]+x:"");for(let _=1;_<y.length-1;_++)y[_]=" "+y[_]+x;let S=`,
`;for(let _=2;_<f;_++)S+=`
`;return y[y.length-1]=" "+y[y.length-1]+"]"+(o?"":S),y}function c1(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lh{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=lt(e),r!=null){const i=r.length;X(i===this.size,()=>`Length of values '${i}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Hi(n,this.size),this.strides=Ta(e)}set(e,...n){n.length===0&&(n=[0]),X(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const i of e){if(i<0||i>=this.shape[n]){const o=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=this.strides[i]*e[i];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Sl().makeTensor(this.values,this.shape,this.dtype)}}let Sl=null,Yg=null;function ede(t){Sl=t}function tde(t){Yg=t}class rr{constructor(e,n,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=lt(e),this.strides=Ta(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Yg.buffer(this.shape,this.dtype,e)}bufferSync(){return Yg.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Dh(this.shape,e,this.dtype==="complex64")}arraySync(){return Dh(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Sl().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>Mh(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Sl().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Sl().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Mh(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Sl().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Sl().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Yg.print(this,e)}clone(){return this.throwIfDisposed(),Yg.clone(this)}toString(e=!1){const n=this.dataSync();return Qfe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Yg.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Sl().makeVariable(this,e,n,r)}}Object.defineProperty(rr,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function mB(){return Bk("Tensor",()=>rr)}mB();class f1 extends rr{constructor(e,n,r,i){super(e.shape,e.dtype,e.dataId,i),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!ja(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Sl().disposeTensor(this),this.dataId=e.dataId,Sl().incRef(this,null)}dispose(){Sl().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(f1,Symbol.hasInstance,{value:t=>t instanceof rr&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var NA;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(NA||(NA={}));var RA;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(RA||(RA={}));var AA;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(AA||(AA={}));var DA;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(DA||(DA={}));var OA;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(OA||(OA={}));const nde={float32:DA,int32:RA,bool:AA,complex64:OA};function Ec(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return nde[t][e]}function gB(t){return Ec(t,"int32")}function vB(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function yB(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ri(t,e){if(t.dtype===e.dtype)return[t,e];const n=Ec(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function bB(t,e){X(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function rde(t,e){return e.some(n=>n.id===t.id)}function $A(t){const e=[];return wB(t,e,new Set),e}function wB(t,e,n){if(t==null)return;if(t instanceof rr){e.push(t);return}if(!ide(t))return;const r=t;for(const i in r){const o=r[i];n.has(o)||(n.add(o),wB(o,e,n))}}function ide(t){return Array.isArray(t)||typeof t=="object"}const ade=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:bB,getTensorsInContainer:$A,isTensorInList:rde,makeTypesMatch:ri},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IA(t){return t.kernelName!=null}class xB{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Zg{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new xB}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Yd(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Kfe(this.backendInstance),!0}setupRegisteredKernels(){Ux(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Ux(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof Lk)&&typeof r.then=="function"){const i=++this.pendingBackendInitId,o=r.then(s=>i<this.pendingBackendInitId?!1:(this.registry[e]=s,this.pendingBackendInit=null,!0)).catch(s=>(i<this.pendingBackendInitId||(this.pendingBackendInit=null,Yd(`Initialization of backend ${e} failed`),Yd(s.stack||s.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Yd(`Initialization of backend ${e} failed`),Yd(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:i,asyncInit:o}=this.initializeBackend(r);if(o||i)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),i=r.backend,o=this.readSync(n),s=i.refCount(n);i.disposeData(n,!0),r.backend=e,e.move(n,o,r.shape,r.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let i;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(i),()=>(i=n(),i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i))}scopedRun(e,n,r){e();try{const i=r();return n(),i}catch(i){throw n(),i}}nextTensorId(){return Zg.nextTensorId++}nextVariableId(){return Zg.nextVariableId++}clone(e){const n=le.runKernel(Lx,{x:e}),r={x:e},i=s=>({x:()=>{const l="float32",f={x:s},p={dtype:l};return le.runKernel(Px,f,p)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],i,o,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(i1(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const i=this.backend.numDataIds();let o=0;r.forEach(f=>{o+=f.dtype==="complex64"?3:1});const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],l=i-n-o-s;if(l>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${l} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const i=this.isTapeOn(),o=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let l;this.backendName==null&&this.backend;let f;const p=IA(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(IA(e)){const{kernelName:S,inputs:_,attrs:k}=e;this.backendName==null&&this.backend;const R=i1(S,this.backendName);X(R!=null,()=>`Cannot find registered kernel '${S}' for backend '${this.backendName}'`),l=()=>{const O=this.backend.numDataIds();f=R.kernelFunc({inputs:_,attrs:k,backend:this.backend});const I=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(S,O,I);const P=I.map(F=>F.rank!=null?F:this.makeTensorFromTensorInfo(F));if(i){const F=this.getTensorsForGradient(S,_,P);r=this.saveTensorsForBackwardMode(F)}return P}}else{const{forwardFunc:S}=e,_=k=>{i&&(r=k.map(R=>this.keep(this.clone(R))))};l=()=>{const k=this.backend.numDataIds();f=this.tidy(()=>S(this.backend,_));const R=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,k,R),R}}const{inputs:m,attrs:g}=e,y=IA(e)?null:e.backwardsFunc;let x;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=l():(x=this.profiler.profileKernel(p,m,()=>l()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(x),n=x.outputs)}),i&&this.addTapeNode(p,m,n,y,r,g),this.state.profiling&&this.state.activeProfile.kernels.push({name:p,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(m).map(S=>m[S]!=null?m[S].shape:null),outputShapes:n.map(S=>S.shape),kernelTimeMs:x.timeMs,extraInfo:x.extraInfo}),Array.isArray(f)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const i=xA(e);if(i!=null){const o=i.inputsToSave||[],s=i.outputsToSave||[];let l;i.saveAllInputs?(X(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),l=Object.keys(n).map(p=>n[p])):l=o.map(p=>n[p]);const f=r.filter((p,m)=>s[m]);return l.concat(f)}return[]}makeTensor(e,n,r,i){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;let o=e;r==="string"&&Cf(e[0])&&(o=e.map(f=>Ef(f)));const s=i.write(o,n,r),l=new rr(n,r,s,this.nextTensorId());if(this.trackTensor(l,i),r==="string"){const f=this.state.tensorInfo.get(s),p=w5(o);this.state.numBytes+=p-f.bytes,f.bytes=p}return l}makeTensorFromDataId(e,n,r,i){r=r||"float32";const o={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,i)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:i,dtype:o}=e,s=new rr(i,o,r,this.nextTensorId());return this.trackTensor(s,n),s}makeVariable(e,n=!0,r,i){r=r||this.nextVariableId().toString(),i!=null&&i!==e.dtype&&(e=e.cast(i));const o=new f1(e,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Rx(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof f1||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Rx(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(i=>i.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const i of this.state.activeProfile.kernels)i.kernelTimeMs=await i.kernelTimeMs,i.extraInfo=await i.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,i,o,s){const l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:o},f=xA(e);f!=null&&(i=f.gradFunc),i!=null&&(l.gradient=p=>(p=p.map((m,g)=>{if(m==null){const y=r[g],x=Sc(y.size,y.dtype);return this.makeTensor(x,y.shape,y.dtype)}return m}),i(p.length>1?p:p[0],o,s))),this.state.activeTape.push(l)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=$A(e),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const s=this.state.activeScope.track[o];!s.kept&&!r.has(s.id)&&s.dispose()}const i=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===i.id&&this.track(o)})}gradients(e,n,r,i=!1){if(X(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));X(o instanceof rr,()=>"The result y returned by f() must be a tensor.");const s=Zfe(this.state.activeTape,n,o);if(!i&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const l={};l[o.id]=r??ode(o.shape),Xfe(l,s,p=>this.tidy(p),sde);const f=n.map(p=>l[p.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(p=>{for(const m of p.saved)m.dispose()}),this.state.activeTape=null),{value:o,grads:f}})}customGrad(e){return X(Kd(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{X(n.every(l=>l instanceof rr),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const i={};n.forEach((l,f)=>{i[f]=l});const o=(l,f)=>(r=e(...n,f),X(r.value instanceof rr,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),X(Kd(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),s=(l,f)=>{const p=r.gradFunc(l,f),m=Array.isArray(p)?p:[p];X(m.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),X(m.every(y=>y instanceof rr),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const g={};return m.forEach((y,x)=>{g[x]=()=>y}),g};return this.runKernelFunc({forwardFunc:o,backwardsFunc:s,inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=s1(),r=await this.backend.time(e);return r.wallMs=s1()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new xB;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Zg.nextTensorId=0,Zg.nextVariableId=0;function ode(t){const e=Vk(lt(t),"float32");return le.makeTensor(e,t,"float32")}function SB(){const t=T5();if(t._tfengine==null){const e=new _5(t);t._tfengine=new Zg(e)}return Efe(t._tfengine.ENV),ede(()=>t._tfengine),t._tfengine}const le=SB();function sde(t,e){const n={a:t,b:e};return le.runKernel(Ix,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(){return typeof navigator<"u"&&navigator!=null}let PA;function lde(t){PA=t}function cde(t){if(PA!==void 0)return PA;if(t||ude()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function CB(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const fde=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:CB,isMobile:cde,mockIsMobile:lde},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Po=$t();Po.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Po.registerFlag("IS_BROWSER",()=>CB()),Po.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Po.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Po.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Po.registerFlag("PROD",()=>!1),Po.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Po.getBool("DEBUG")),Po.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Po.registerFlag("IS_TEST",()=>!1),Po.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Po.getBool("DEBUG")),Po.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Po.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Po.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _c(t,e){let n=t;if(sa(t))return e==="string"?[]:[t.length];if(vB(t)){const i=t.channels||"RGBA";return[t.height,t.width*i.length]}else if(yB(t))return[t.buffer.size/(e==null?4:Rx(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||sa(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&$t().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&EB(t,r,[]),r}function EB(t,e,n){if(n=n||[],!Array.isArray(t)&&!sa(t)){X(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}X(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),X(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let i=0;i<t.length;++i)EB(t[i],r,n.concat(i))}function _B(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function q(t,e,n,r="numeric"){if(t instanceof mB())return _B(r,t.dtype,e,n),t;let i=Wg(t);if(i!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),_B(r,i,e,n),t==null||!sa(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const f=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${f}'`)}const o=_c(t,i);!sa(t)&&!Array.isArray(t)&&(t=[t]);const l=i!=="string"?o1(t,i):Cc(t,[],!0);return le.makeTensor(l,o,i)}function d1(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,s)=>q(o,`${e}[${s}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MA="__op";function ue(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+MA;const i=(...o)=>{le.startScope(n);try{const s=r(...o);return qd(s)&&console.error("Cannot return a Promise inside of tidy."),le.endScope(s),s}catch(s){throw le.endScope(null),s}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dde(t,e){const n=q(t,"real","complex"),r=q(e,"imag","complex");Va(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const i={real:n,imag:r};return le.runKernel(cN,i)}const _f=ue({complex_:dde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xd(t,e,n,r){if(r==null)r=Wg(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(yB(t)||vB(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return le.backend.createTensorFromGPUData(t,e||n,r)}if(!sa(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){ls(e);const i=lt(e),o=lt(n);X(i===o,()=>`Based on the provided shape, [${e}], the tensor should have ${i} values but has ${o}`);for(let s=0;s<n.length;++s){const l=n[s],f=s===n.length-1?l!==lt(e.slice(s)):!0;X(n[s]===e[s]||!f,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!sa(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?o1(t,r):Cc(t,[],!0),le.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lu(t,e,n){const r=_c(t,n);return Xd(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fh={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Cl{static join(e){return new Cl(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>sa(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const i=e[r];r!==e.length-1&&i.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+i.byteLength;this.shards.push({buffer:i,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const i=n-e,o=new ArrayBuffer(i),s=new Uint8Array(o);let l=0;for(let f=r;f<this.shards.length;f++){const p=this.shards[f],g=e+l-p.start,y=l,S=Math.min(n,p.end)-p.start,_=new Uint8Array(p.buffer,g,S-g);if(s.set(_,y),l+=_.length,n<p.end)break}return o}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(i){return e<i.start?-1:e>=i.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=pde(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function pde(t,e){let n=0,r=t.length;for(;n<=r;){const i=Math.floor((r-n)/2)+n,o=e(t[i]);if(o===0)return i;o<0?r=i:n=i+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hde(){$t().set("PROD",!0)}function mde(){$t().set("DEBUG",!0)}function gde(){$t().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function vde(t){$t().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function yde(){le.disposeVariables()}function Xg(){return le}function bde(){return le.memory()}function wde(t){return le.profile(t)}function tn(t,e){return le.tidy(t,e)}function so(t){$A(t).forEach(n=>n.dispose())}function El(t){return le.keep(t)}function xde(t){return le.time(t)}function Sde(t){return le.setBackend(t)}function Cde(){return le.ready()}function LA(){return le.backendName}function Ede(t){le.removeBackend(t)}function _de(t){return le.findBackend(t)}function Tde(t){return le.findBackendFactory(t)}function TB(t,e,n=1){return le.registerBackend(t,e,n)}function FA(){return le.backend}function kde(t,e){$t().setPlatform(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qd=4;async function Nde(t,e){const n=[],r=[],i=Array.isArray(t)?t.map(s=>s.name):Object.keys(t);for(let s=0;s<i.length;++s){const l=i[s],f=Array.isArray(t)?t[s].tensor:t[l];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string"&&f.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${l}': ${f.dtype}`);const p={name:l,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){const m=new Promise(async g=>{const y=await f.bytes(),x=y.reduce((k,R)=>k+R.length,0)+Qd*y.length,S=new Uint8Array(x);let _=0;for(let k=0;k<y.length;k++){const R=y[k],O=new Uint8Array(new Uint32Array([R.length]).buffer);S.set(O,_),_+=Qd,S.set(R,_),_+=R.length}g(S)});r.push(m)}else r.push(f.data());e!=null&&(p.group=e),n.push(p)}const o=await Promise.all(r);return{data:Dde(o),specs:n}}function kB(t,e){const n=new Cl(t),r={};let i=0;for(const o of e){const s=Rde(o,(l,f)=>n.slice(i+l,i+f));r[o.name]=NB(o,n.slice(i,i+s)),i+=s}return r}function Rde(t,e){const n=lt(t.shape);let r;if("quantization"in t){const i=t.quantization;r=Fh[i.dtype]}else if(t.dtype==="string"){let i=0;for(let o=0;o<n;o++)i+=Qd+new Uint32Array(e(i,i+Qd))[0];return i}else r=Fh[t.dtype];return n*r}async function Ade(t,e){const n=lt(t.shape);let r;if("quantization"in t){const i=t.quantization;r=Fh[i.dtype]}else if(t.dtype==="string"){let i=0;for(let o=0;o<n;o++)i+=Qd+new Uint32Array(await e(i,i+Qd))[0];return i}else r=Fh[t.dtype];return n*r}function NB(t,e){const n=t.name,r=t.dtype,i=t.shape,o=lt(i);let s,l=0;if("quantization"in t){const f=t.quantization;if(f.dtype==="uint8"||f.dtype==="uint16"){if(!("min"in f&&"scale"in f))throw new Error(`Weight ${t.name} with quantization ${f.dtype} doesn't have corresponding metadata min and scale.`)}else if(f.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${f.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${f.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const p=Fh[f.dtype],m=f.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(f.dtype==="uint8"||f.dtype==="uint16"){s=new Float32Array(m.length);for(let g=0;g<m.length;g++){const y=m[g];s[g]=y*f.scale+f.min}}else if(f.dtype==="float16")s=Fde()(m);else throw new Error(`Unsupported quantization type ${f.dtype} for weight type float32.`);else if(r==="int32"){if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error(`Unsupported quantization type ${f.dtype} for weight type int32.`);s=new Int32Array(m.length);for(let g=0;g<m.length;g++){const y=m[g];s[g]=Math.round(y*f.scale+f.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);l+=o*p}else if(r==="string"){const f=lt(t.shape);s=[];for(let p=0;p<f;p++){const m=new Uint32Array(e.slice(l,l+Qd))[0];l+=Qd;const g=new Uint8Array(e.slice(l,l+m));s.push(g),l+=m}}else{const f=Fh[r];if(r==="float32")s=new Float32Array(e);else if(r==="int32")s=new Int32Array(e);else if(r==="bool")s=new Uint8Array(e);else if(r==="complex64"){s=new Float32Array(e);const p=new Float32Array(s.length/2),m=new Float32Array(s.length/2);for(let S=0;S<p.length;S++)p[S]=s[S*2],m[S]=s[S*2+1];const g=Lu(p,i,"float32"),y=Lu(m,i,"float32"),x=_f(g,y);return g.dispose(),y.dispose(),x}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);l+=o*f}return Lu(s,i,r)}async function RB(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:i,value:o}=await t.read();if(i&&o==null){const l=n-r.byteLength;throw new Error(`Reader is done but ${l} bytes are still expected`)}const s=new Uint8Array(r.length+o.byteLength);s.set(r,0),s.set(new Uint8Array(o),r.length),r=s}return r.buffer}async function AB(t,e){const n={},r=t.getReader();let i=new ArrayBuffer(0);for(const o of e){const s=await Ade(o,async(p,m)=>(i=await RB(r,i,m),i.slice(p,m)));i=await RB(r,i,s);const l=i.slice(0,s);i=i.slice(s);const f=NB(o,l);if(n[o.name]=f,LA()==="webgpu"){const p=FA();"uploadToGPU"in p&&lt(f.shape)>=$t().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&p.uploadToGPU(f.dataId)}}return n}function Dde(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(e);let i=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),i),i+=o.byteLength}),r.buffer}const VA=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function DB(t){return VA?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Ode(t){if(VA)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function $de(t){if(VA){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function Ide(t){return Cl.join(t)}function OB(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function $B(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function IB(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function jA(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),IB(t,n,r)}function p1(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:DB(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:DB(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Cl(t.weightData).byteLength}}function zA(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Pde(){const t=n=>{let r=n<<13,i=0;for(;!(r&8388608);)i-=8388608,r<<=1;return r&=-8388609,i+=947912704,r|i},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Mde(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Lde(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Fde(){const t=Pde(),e=Mde(),n=Lde();return r=>{const i=new ArrayBuffer(4*r.length),o=new Uint32Array(i);for(let s=0;s<r.length;s++){const l=r[s],f=t[n[l>>10]+(l&1023)]+e[l>>10];o[s]=f}return new Float32Array(i)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ii{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ii.instance==null&&(ii.instance=new ii),ii.instance}static registerSaveRouter(e){ii.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ii.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ii.getHandlers(e,"save")}static getLoadHandlers(e,n){return ii.getHandlers(e,"load",n)}static getHandlers(e,n,r){const i=[];return(n==="load"?ii.getInstance().loadRouters:ii.getInstance().saveRouters).forEach(s=>{const l=s(e,r);l!==null&&i.push(l)}),i}}const Vde=t=>ii.registerSaveRouter(t),jde=t=>ii.registerLoadRouter(t),zde=t=>ii.getSaveHandlers(t),Bde=(t,e)=>ii.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BA="tensorflowjs",UA=1,Vh="models_store",Jd="model_info_store";function PB(){if(!$t().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function HA(t){const e=t.result;e.createObjectStore(Vh,{keyPath:"modelPath"}),e.createObjectStore(Jd,{keyPath:"modelPath"})}class jh{constructor(e){if(this.indexedDB=PB(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,i)=>{const o=this.indexedDB.open(BA,UA);o.onupgradeneeded=()=>HA(o),o.onsuccess=()=>{const s=o.result;if(n==null){const l=s.transaction(Vh,"readonly"),p=l.objectStore(Vh).get(this.modelPath);p.onsuccess=()=>{if(p.result==null)return s.close(),i(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(p.result.modelArtifacts)},p.onerror=m=>(s.close(),i(p.error)),l.oncomplete=()=>s.close()}else{n.weightData=Cl.join(n.weightData);const l=p1(n),f=s.transaction(Jd,"readwrite");let p=f.objectStore(Jd),m;try{m=p.put({modelPath:this.modelPath,modelArtifactsInfo:l})}catch(y){return i(y)}let g;m.onsuccess=()=>{g=s.transaction(Vh,"readwrite");const y=g.objectStore(Vh);let x;try{x=y.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:l})}catch(S){return i(S)}x.onsuccess=()=>r({modelArtifactsInfo:l}),x.onerror=S=>{p=f.objectStore(Jd);const _=p.delete(this.modelPath);_.onsuccess=()=>(s.close(),i(x.error)),_.onerror=k=>(s.close(),i(x.error))}},m.onerror=y=>(s.close(),i(m.error)),f.oncomplete=()=>{g==null?s.close():g.oncomplete=()=>s.close()}}},o.onerror=s=>i(o.error)})}}jh.URL_SCHEME="indexeddb://";const MB=t=>$t().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(jh.URL_SCHEME)?Ude(t.slice(jh.URL_SCHEME.length)):null;ii.registerSaveRouter(MB),ii.registerLoadRouter(MB);function Ude(t){return new jh(t)}function Hde(t){return t.startsWith(jh.URL_SCHEME)?t.slice(jh.URL_SCHEME.length):t}class Wde{constructor(){this.indexedDB=PB()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(BA,UA);r.onupgradeneeded=()=>HA(r),r.onsuccess=()=>{const i=r.result,o=i.transaction(Jd,"readonly"),l=o.objectStore(Jd).getAll();l.onsuccess=()=>{const f={};for(const p of l.result)f[p.modelPath]=p.modelArtifactsInfo;e(f)},l.onerror=f=>(i.close(),n(l.error)),o.oncomplete=()=>i.close()},r.onerror=i=>n(r.error)})}async removeModel(e){return e=Hde(e),new Promise((n,r)=>{const i=this.indexedDB.open(BA,UA);i.onupgradeneeded=()=>HA(i),i.onsuccess=()=>{const o=i.result,s=o.transaction(Jd,"readwrite"),l=s.objectStore(Jd),f=l.get(e);let p;f.onsuccess=()=>{if(f.result==null)return o.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const m=l.delete(e),g=()=>{p=o.transaction(Vh,"readwrite");const x=p.objectStore(Vh).delete(e);x.onsuccess=()=>n(f.result.modelArtifactsInfo),x.onerror=S=>r(f.error)};m.onsuccess=g,m.onerror=y=>(g(),o.close(),r(f.error))}},f.onerror=m=>(o.close(),r(f.error)),s.oncomplete=()=>{p==null?o.close():p.oncomplete=()=>o.close()}},i.onerror=o=>r(i.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tf="/",Qg="tensorflowjs_models",LB="info",Gde="model_topology",Kde="weight_specs",qde="weight_data",Yde="model_metadata";function FB(t){return{info:[Qg,t,LB].join(Tf),topology:[Qg,t,Gde].join(Tf),weightSpecs:[Qg,t,Kde].join(Tf),weightData:[Qg,t,qde].join(Tf),modelMetadata:[Qg,t,Yde].join(Tf)}}function VB(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Zde(t){const e=t.split(Tf);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Tf)}function Xde(t){return t.startsWith(zh.URL_SCHEME)?t.slice(zh.URL_SCHEME.length):t}class zh{constructor(e){if(!$t().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=FB(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=p1(e),o=Cl.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Ode(o));const s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(s)),{modelArtifactsInfo:i}}catch{throw VB(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const i=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(i==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=i;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const l=JSON.parse(o);n.format=l.format,n.generatedBy=l.generatedBy,n.convertedBy=l.convertedBy,l.signature!=null&&(n.signature=l.signature),l.userDefinedMetadata!=null&&(n.userDefinedMetadata=l.userDefinedMetadata),l.modelInitializer!=null&&(n.modelInitializer=l.modelInitializer),l.initializerSignature!=null&&(n.initializerSignature=l.initializerSignature),l.trainingConfig!=null&&(n.trainingConfig=l.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(s==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=$de(s),n}}zh.URL_SCHEME="localstorage://";const jB=t=>$t().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(zh.URL_SCHEME)?Qde(t.slice(zh.URL_SCHEME.length)):null;ii.registerSaveRouter(jB),ii.registerLoadRouter(jB);function Qde(t){return new zh(t)}class Jde{constructor(){X($t().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),X(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Qg+Tf,r=Tf+LB;for(let i=0;i<this.LS.length;++i){const o=this.LS.key(i);if(o.startsWith(n)&&o.endsWith(r)){const s=Zde(o);e[s]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=Xde(e);const n=FB(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return VB(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jg="://";class uo{constructor(){this.managers={}}static getInstance(){return uo.instance==null&&(uo.instance=new uo),uo.instance}static registerManager(e,n){X(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Jg)&&(e=e.slice(0,e.indexOf(Jg))),X(e.length>0,()=>"scheme must not be an empty string.");const r=uo.getInstance();X(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=uo.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(uo.getInstance().managers)}}function Kx(t){if(t.indexOf(Jg)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${uo.getSchemes().join(",")}`);return{scheme:t.split(Jg)[0],path:t.split(Jg)[1]}}async function zB(t,e,n=!1){X(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=ii.getLoadHandlers(t);X(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),X(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const i=r[0],o=ii.getSaveHandlers(e);X(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),X(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const s=o[0],l=Kx(t).scheme,f=Kx(t).path,p=l===Kx(t).scheme,m=await i.load();n&&p&&await uo.getManager(l).removeModel(f);const g=await s.save(m);return n&&!p&&await uo.getManager(l).removeModel(f),g.modelArtifactsInfo}async function epe(){const t=uo.getSchemes(),e={};for(const n of t){const r=await uo.getManager(n).listModels();for(const i in r){const o=n+Jg+i;e[o]=r[i]}}return e}async function tpe(t){const e=Kx(t);return uo.getManager(e.scheme).removeModel(e.path)}async function npe(t,e){return zB(t,e,!1)}async function rpe(t,e){return zB(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ipe{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!$t().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const i=this.functionRefs[r.data.index];i(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return Z5(e)}}if($t().get("IS_BROWSER")){$t().setPlatform("browser",new ipe);try{uo.registerManager(zh.URL_SCHEME,new Jde)}catch{}try{uo.registerManager(jh.URL_SCHEME,new Wde)}catch{}}const WA=gI(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ape={importFetch:()=>WA};let GA;class ope{constructor(){this.util=WA,this.textEncoder=new this.util.TextEncoder}fetch(e,n){return $t().global.fetch!=null?$t().global.fetch(e,n):(GA==null&&(GA=ape.importFetch()),GA(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}$t().get("IS_NODE")&&!$t().get("IS_BROWSER")&&$t().setPlatform("node",new ope);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nr(t,e="float32",n){return e=e||"float32",ls(t),new Lh(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(t,e){const n=q(t,"x","cast");if(!y5(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},i={dtype:e};return le.runKernel(Px,r,i)}const Kn=ue({cast_:spe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function upe(t){const n={x:q(t,"x","clone","string_or_numeric")};return le.runKernel(Lx,n)}const kf=ue({clone_:upe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KA(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */SB(),tde({buffer:Nr,cast:Kn,clone:kf,print:KA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lpe(t,e){let n=q(t,"a","add"),r=q(e,"b","add");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(Ix,i)}const en=ue({add_:lpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpe(t,e){let n=q(t,"a","floorDiv"),r=q(e,"b","floorDiv");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(BN,i)}const qA=ue({floorDiv_:cpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fpe(t,e){let n=q(t,"a","div"),r=q(e,"b","div");if([n,r]=ri(n,r),n.dtype==="int32"&&r.dtype==="int32")return qA(n,r);const i={a:n,b:r},o={};return le.runKernel(AN,i,o)}const Er=ue({div_:fpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpe(t,e){let n=q(t,"a","mul"),r=q(e,"b","mul");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(wR,i)}const vt=ue({mul_:dpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t){const e=q(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return le.runKernel(fN,n)}else{const n={x:e};return le.runKernel(Uk,n)}}const ds=ue({abs_:ppe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hpe(t){const n={x:q(t,"x","acos")};return le.runKernel(Hk,n)}const BB=ue({acos_:hpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mpe(t){const n={x:q(t,"x","acosh")};return le.runKernel(Wk,n)}const UB=ue({acosh_:mpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t){X(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),X(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((i,o)=>q(i,`tensors${o}`,"addN")),n=e[0];e.forEach(i=>{if(i.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(i=>{if(!ja(i.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return le.runKernel(Gk,r)}const HB=ue({addN_:gpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vpe(t,e=null,n=!1){const i={x:q(t,"x","all","bool")},o={axis:e,keepDims:n};return le.runKernel(Kk,i,o)}const WB=ue({all_:vpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ype(t,e=null,n=!1){const i={x:q(t,"x","any","bool")},o={axis:e,keepDims:n};return le.runKernel(qk,i,o)}const GB=ue({any_:ype});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t,e=0){const r={x:q(t,"x","argMax")},i={axis:e};return le.runKernel(Yk,r,i)}const YA=ue({argMax_:bpe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t,e=0){const r={x:q(t,"x","argMin")},i={axis:e};return le.runKernel(Zk,r,i)}const KB=ue({argMin_:wpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xpe(t){const n={x:q(t,"x","asin")};return le.runKernel(Xk,n)}const qB=ue({asin_:xpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Spe(t){const n={x:q(t,"x","asinh")};return le.runKernel(Qk,n)}const YB=ue({asinh_:Spe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t){const n={x:q(t,"x","atan")};return le.runKernel(Jk,n)}const ZB=ue({atan_:Cpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Epe(t,e){let n=q(t,"a","atan2"),r=q(e,"b","atan2");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(tN,i)}const XB=ue({atan2_:Epe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _pe(t){const n={x:q(t,"x","atanh")};return le.runKernel(eN,n)}const QB=ue({atanh_:_pe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qx(t,e,n,r,i="NHWC",o){const s=t[3],l=[...e,s],f=Hh(i);return tu(t,l,n,o,r,null,null,f)}function Bh(t,e,n,r,i,o,s="channelsLast"){const[l,f]=g1(e);let p;if(s==="channelsLast")p=[l,f,t[3],t[3]];else if(s==="channelsFirst")p=[l,f,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return tu(t,p,n,r,i,o,!1,s)}function h1(t,e,n,r,i,o,s="NDHWC"){const[l,f,p]=XA(e);let m,g;if(s==="NDHWC")g="channelsLast",m=[l,f,p,t[4],t[4]];else if(s==="NCDHW")g="channelsFirst",m=[l,f,p,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return m1(t,m,n,r,i,!1,g,o)}function tu(t,e,n,r,i,o,s=!1,l="channelsLast"){let[f,p,m,g]=[-1,-1,-1,-1];if(l==="channelsLast")[f,p,m,g]=t;else if(l==="channelsFirst")[f,g,p,m]=t;else throw new Error(`Unknown dataFormat ${l}`);const[y,x,,S]=e,[_,k]=g1(n),[R,O]=g1(r),I=e0(y,R),P=e0(x,O),{padInfo:F,outHeight:K,outWidth:Y}=Npe(i,p,m,_,k,I,P,o,l),te=s?S*g:S;let fe;return l==="channelsFirst"?fe=[f,te,K,Y]:l==="channelsLast"&&(fe=[f,K,Y,te]),{batchSize:f,dataFormat:l,inHeight:p,inWidth:m,inChannels:g,outHeight:K,outWidth:Y,outChannels:te,padInfo:F,strideHeight:_,strideWidth:k,filterHeight:y,filterWidth:x,effectiveFilterHeight:I,effectiveFilterWidth:P,dilationHeight:R,dilationWidth:O,inShape:t,outShape:fe,filterShape:e}}function m1(t,e,n,r,i,o=!1,s="channelsLast",l){let[f,p,m,g,y]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[f,p,m,g,y]=t;else if(s==="channelsFirst")[f,y,p,m,g]=t;else throw new Error(`Unknown dataFormat ${s}`);const[x,S,_,,k]=e,[R,O,I]=XA(n),[P,F,K]=XA(r),Y=e0(x,P),te=e0(S,F),fe=e0(_,K),{padInfo:ye,outDepth:de,outHeight:Pe,outWidth:xe}=Rpe(i,p,m,g,R,O,I,Y,te,fe,l),Te=o?k*y:k;let je;return s==="channelsFirst"?je=[f,Te,de,Pe,xe]:s==="channelsLast"&&(je=[f,de,Pe,xe,Te]),{batchSize:f,dataFormat:s,inDepth:p,inHeight:m,inWidth:g,inChannels:y,outDepth:de,outHeight:Pe,outWidth:xe,outChannels:Te,padInfo:ye,strideDepth:R,strideHeight:O,strideWidth:I,filterDepth:x,filterHeight:S,filterWidth:_,effectiveFilterDepth:Y,effectiveFilterHeight:te,effectiveFilterWidth:fe,dilationDepth:P,dilationHeight:F,dilationWidth:K,inShape:t,outShape:je,filterShape:e}}function Tpe(t,e,n,r,i){r==null&&(r=ZA(t,e,n));const o=t[0],s=t[1],l=v1((o-e+2*r)/n+1,i),f=v1((s-e+2*r)/n+1,i);return[l,f]}function kpe(t,e,n,r,i,o){i==null&&(i=ZA(t,e[0],r[0]));const s=[0,0,0,n];for(let l=0;l<3;l++)t[l]+2*i>=e[l]&&(s[l]=v1((t[l]-e[l]+2*i)/r[l]+1,o));return s}function ZA(t,e,n,r=1){const i=e0(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}function g1(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function XA(t){return typeof t=="number"?[t,t,t]:t}function e0(t,e){return e<=1?t:t+(t-1)*(e-1)}function Npe(t,e,n,r,i,o,s,l,f){let p,m,g;if(typeof t=="number"){p={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const x=Tpe([e,n],o,r,t,l);m=x[0],g=x[1]}else if(t==="same"){m=Math.ceil(e/r),g=Math.ceil(n/i);const y=Math.max(0,(m-1)*r+o-e),x=Math.max(0,(g-1)*i+s-n),S=Math.floor(y/2),_=y-S,k=Math.floor(x/2),R=x-k;p={top:S,bottom:_,left:k,right:R,type:"SAME"}}else if(t==="valid")p={top:0,bottom:0,left:0,right:0,type:"VALID"},m=Math.ceil((e-o+1)/r),g=Math.ceil((n-s+1)/i);else if(typeof t=="object"){const y=f==="channelsLast"?t[1][0]:t[2][0],x=f==="channelsLast"?t[1][1]:t[2][1],S=f==="channelsLast"?t[2][0]:t[3][0],_=f==="channelsLast"?t[2][1]:t[3][1];p={top:y,bottom:x,left:S,right:_,type:y===0&&x===0&&S===0&&_===0?"VALID":"EXPLICIT"},m=v1((e-o+y+x)/r+1,l),g=v1((n-s+S+_)/i+1,l)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:p,outHeight:m,outWidth:g}}function Rpe(t,e,n,r,i,o,s,l,f,p,m){let g,y,x,S;if(t==="valid"&&(t=0),typeof t=="number"){g={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const k=kpe([e,n,r,1],[l,f,p],1,[i,o,s],t,m);y=k[0],x=k[1],S=k[2]}else if(t==="same"){y=Math.ceil(e/i),x=Math.ceil(n/o),S=Math.ceil(r/s);const _=(y-1)*i+l-e,k=(x-1)*o+f-n,R=(S-1)*s+p-r,O=Math.floor(_/2),I=_-O,P=Math.floor(k/2),F=k-P,K=Math.floor(R/2),Y=R-K;g={top:P,bottom:F,left:K,right:Y,front:O,back:I,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:g,outDepth:y,outHeight:x,outWidth:S}}function v1(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function y1(t){const[e,n,r]=g1(t);return e===1&&n===1&&r===1}function _l(t,e){return y1(t)||y1(e)}function Uh(t){return g1(t).every(e=>e>0)}function Hh(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Fu(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")X(Hg(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(i=>{X(Hg(i),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${i}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape(t,e){const r={x:q(t,"x","reshape","string_or_numeric")},i={shape:e};return le.runKernel(MR,r,i)}const ze=ue({reshape_:Ape});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(t,e,n,r,i){const o=q(t,"x","avgPool","float32"),s=1;X(_l(n,s),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);let l=o,f=!1;o.rank===3&&(f=!0,l=ze(o,[1,o.shape[0],o.shape[1],o.shape[2]])),X(l.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${l.rank}.`),Fu("avgPool",r,i);const p={x:l},m={filterSize:e,strides:n,pad:r,dimRoundingMode:i};let g=le.runKernel(nN,p,m);return g=Kn(g,o.dtype),f?ze(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const QA=ue({avgPool_:Dpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ope(t,e,n,r,i,o="NDHWC"){const s=q(t,"x","avgPool3d","float32");let l=s,f=!1;s.rank===4&&(f=!0,l=ze(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),X(l.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${l.rank}.`),X(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),X(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Fu("avgPool3d",r,i);const p={x:l},m={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:o};let g=le.runKernel(rN,p,m);return g=Kn(g,l.dtype),f?ze(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const JB=ue({avgPool3d_:Ope});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t,e=0){X(t.length>=1,()=>"Pass at least one tensor to concat");const n=d1(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return kf(n[0]);const r=n,i={axis:e};return le.runKernel(dN,r,i)}const za=ue({concat_:$pe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ipe(t,e,n=!1,r=!1){let i=q(t,"a","matMul"),o=q(e,"b","matMul");[i,o]=ri(i,o);const s={a:i,b:o},l={transposeA:n,transposeB:r};return le.runKernel(iN,s,l)}const Qn=ue({matMul_:Ipe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ppe(t){const n={x:q(t,"x","sigmoid","float32")};return le.runKernel(QR,n)}const Tc=ue({sigmoid_:Ppe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mpe(t,e,n){const r=q(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const i={x:r},o={begin:e,size:n};return le.runKernel(qR,i,o)}const Sr=ue({slice_:Mpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lpe(t){const n={x:q(t,"x","tanh","float32")};return le.runKernel(pA,n)}const Yx=ue({tanh_:Lpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fpe(t,e,n,r,i,o){const s=q(t,"forgetBias","basicLSTMCell"),l=q(e,"lstmKernel","basicLSTMCell"),f=q(n,"lstmBias","basicLSTMCell"),p=q(r,"data","basicLSTMCell"),m=q(i,"c","basicLSTMCell"),g=q(o,"h","basicLSTMCell"),y=za([p,g],1),x=Qn(y,l),S=en(x,f),_=S.shape[0],k=S.shape[1]/4,R=[_,k],O=Sr(S,[0,0],R),I=Sr(S,[0,k],R),P=Sr(S,[0,k*2],R),F=Sr(S,[0,k*3],R),K=en(vt(Tc(O),Yx(I)),vt(m,Tc(en(s,P)))),Y=vt(Yx(K),Tc(F));return[K,Y]}const eU=ue({basicLSTMCell_:Fpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t,e,n){const r=q(t,"x","batchToSpaceND"),i=e.reduce((l,f)=>l*f);X(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),X(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),X(r.shape[0]%i===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${i}`);const o={x:r},s={blockShape:e,crops:n};return le.runKernel(aN,o,s)}const JA=ue({batchToSpaceND_:Vpe});function jpe(t){let e;return t.rank===0||t.rank===1?e=ze(t,[1,1,1,t.size]):t.rank===2?e=ze(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zpe(t,e,n,r,i,o){o==null&&(o=.001);const s=q(t,"x","batchNorm"),l=q(e,"mean","batchNorm"),f=q(n,"variance","batchNorm");let p;i!=null&&(p=q(i,"scale","batchNorm"));let m;r!=null&&(m=q(r,"offset","batchNorm")),X(l.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),X(m==null||l.rank===m.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),X(p==null||l.rank===p.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const y={x:jpe(s),scale:p,offset:m,mean:l,variance:f},x={varianceEpsilon:o},S=le.runKernel(UN,y,x);return ze(S,s.shape)}const b1=ue({batchNorm_:zpe});function Bpe(t,e,n,r,i,o){const s=q(t,"x","batchNorm"),l=q(e,"mean","batchNorm"),f=q(n,"variance","batchNorm");let p;i!=null&&(p=q(i,"scale","batchNorm"));let m;return r!=null&&(m=q(r,"offset","batchNorm")),X(s.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),X(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`),X(f.rank===2||f.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),p!=null&&X(p.rank===2||p.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`),m!=null&&X(m.rank===2||m.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${m.rank}.`),b1(s,l,f,m,p,o)}const tU=ue({batchNorm2d_:Bpe});function Upe(t,e,n,r,i,o){const s=q(t,"x","batchNorm"),l=q(e,"mean","batchNorm"),f=q(n,"variance","batchNorm");let p;i!=null&&(p=q(i,"scale","batchNorm"));let m;return r!=null&&(m=q(r,"offset","batchNorm")),X(s.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),X(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`),X(f.rank===3||f.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),p!=null&&X(p.rank===3||p.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`),m!=null&&X(m.rank===3||m.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${m.rank}.`),b1(s,l,f,m,p,o)}const nU=ue({batchNorm3d_:Upe});function Hpe(t,e,n,r,i,o){const s=q(t,"x","batchNorm"),l=q(e,"mean","batchNorm"),f=q(n,"variance","batchNorm");let p;i!=null&&(p=q(i,"scale","batchNorm"));let m;return r!=null&&(m=q(r,"offset","batchNorm")),X(s.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),X(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`),X(f.rank===4||f.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),p!=null&&X(p.rank===4||p.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`),m!=null&&X(m.rank===4||m.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${m.rank}.`),b1(s,l,f,m,p,o)}const rU=ue({batchNorm4d_:Hpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpe(t,e,n){const r=q(t,"x","bincount"),i=q(e,"weights","bincount");X(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),X(n>=0,()=>`size must be non-negative, but got ${n}.`),X(i.size===r.size||i.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${i.shape}.`);const o={x:r,weights:i},s={size:n};return le.runKernel(oN,o,s)}const e4=ue({bincount_:Wpe});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gpe(t,e){const n=q(t,"x","bitwiseAnd"),r=q(e,"y","bitwiseAnd");if(!ja(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const i={a:n,b:r};return le.runKernel(R5,i)}const iU=ue({bitwiseAnd_:Gpe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpe(t,e){const n=q(t,"s0","broadcastArgs","int32"),r=q(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const i={s0:n,s1:r};return le.runKernel(sN,i)}const aU=ue({broadcastArgs_:Kpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpe(t,e){let n=q(t,"broadcastTo","x");const r=n.shape;if(ls(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const p=n.shape.slice();for(;p.length<e.length;)p.unshift(1);n=ze(n,p)}const i=n.shape,o=Array.from(e);for(let p=e.length-1;p>=0;p--)if(i[p]===e[p])o[p]=1;else if(n.shape[p]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(o.map((p,m)=>p>1?m:-1).filter(p=>p>=0).length===0)return kf(n);const l={x:n},f={reps:o};return le.runKernel(Fx,l,f)}const t0=ue({broadcastTo_:qpe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ype(t){const n={x:q(t,"x","ceil","float32")};return le.runKernel(uN,n)}const oU=ue({ceil_:Ype});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0(t,e,n){ls(t),n=n||Wg(e);const r={shape:t,value:e,dtype:n};return le.runKernel(VN,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(t,e,n){const r=q(t,"x","clipByValue");if(X(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return n0(r.shape,e,r.dtype);const i={x:r},o={clipValueMin:e,clipValueMax:n};return le.runKernel(lN,i,o)}const sU=ue({clipByValue_:Zpe});function Xpe(t){return za(t,0)}const uU=ue({concat1d_:Xpe});function Qpe(t,e){return za(t,e)}const lU=ue({concat2d_:Qpe});function Jpe(t,e){return za(t,e)}const cU=ue({concat3d_:Jpe});function ehe(t,e){return za(t,e)}const fU=ue({concat4d_:ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function the(t,e,n,r,i="NHWC",o=[1,1],s){const l=q(t,"x","conv2d","float32"),f=q(e,"filter","conv2d","float32");let p=l,m=!1;l.rank===3&&(m=!0,p=ze(l,[1,l.shape[0],l.shape[1],l.shape[2]])),X(p.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),X(f.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),Fu("conv2d",r,s);const g=i==="NHWC"?p.shape[3]:p.shape[1];X(g===f.shape[2],()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${f.shape[2]}.`),X(_l(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),X(Uh(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),X(Uh(n),()=>"Error in conv2D: Strides should be larger than 0.");const y={x:p,filter:f},x={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:s},S=le.runKernel(pN,y,x);return m?ze(S,[S.shape[1],S.shape[2],S.shape[3]]):S}const w1=ue({conv2d_:the});function nhe(t,e,n,r,i="NWC",o=1,s){const l=q(t,"x","conv1d"),f=q(e,"filter","conv1d");let p=l,m=!1;l.rank===2&&(m=!0,p=ze(l,[1,l.shape[0],l.shape[1]])),X(p.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),X(f.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),Fu("conv1d",r,s),X(p.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${f.shape[1]}.`),X(_l(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),X(Uh(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),X(Uh(n),()=>"Error in conv1D: Stride should be larger than 0."),X(i==="NWC",()=>`Error in conv1d: got dataFormat of ${i} but only NWC is currently supported.`);const g=ze(f,[1,f.shape[0],f.shape[1],f.shape[2]]),y=ze(p,[p.shape[0],1,p.shape[1],p.shape[2]]),k=w1(y,g,[1,n],r,"NHWC",[1,o],s);return m?ze(k,[k.shape[2],k.shape[3]]):ze(k,[k.shape[0],k.shape[2],k.shape[3]])}const dU=ue({conv1d_:nhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t,e,n,r,i,o="NHWC",s){X(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let l=t,f=e,p=!1;e.rank===3&&(p=!0,f=ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]),l=[1,t[0],t[1],t[2]]),X(l.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${l.length}.`),X(f.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),X(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const m=o==="NHWC"?l[3]:l[1],g=o==="NHWC"?f.shape[3]:f.shape[1];X(m===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${m}) must match input depth for filter ${n.shape[2]}.`),X(g===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${n.shape[3]}.`),Fu("conv2dDerInput",i,s);const y={dy:f,filter:n},x={strides:r,pad:i,dataFormat:o,dimRoundingMode:s,inputShape:l},S=le.runKernel(mN,y,x);return p?ze(S,[S.shape[1],S.shape[2],S.shape[3]]):S}const pU=ue({conv2DBackpropInput_:rhe});function ihe(t,e,n,r,i,o){const s=q(t,"x","conv2dTranspose"),l=q(e,"filter","conv2dTranspose");return pU(n,s,l,r,i,"NHWC",o)}const hU=ue({conv2dTranspose_:ihe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(t,e,n,r,i="NDHWC",o=[1,1,1]){const s=q(t,"x","conv3d"),l=q(e,"filter","conv3d");let f=s,p=!1;s.rank===4&&(p=!0,f=ze(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),X(f.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),X(l.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${l.rank}.`),X(f.shape[4]===l.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${l.shape[3]}.`),X(_l(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),X(i==="NDHWC",()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`),X(Uh(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),X(Uh(n),()=>"Error in conv3D: Strides should be larger than 0.");const m={x:f,filter:l},g={strides:n,pad:r,dataFormat:i,dilations:o},y=le.runKernel(gN,m,g);return p?ze(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const mU=ue({conv3d_:ahe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e,n,r,i){X(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,s=e,l=!1;e.rank===4&&(l=!0,s=ze(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const f=o[4],p=s.shape[4];X(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),X(s.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),X(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),X(f===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[3]}.`),X(p===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[4]}.`);const m={dy:s,filter:n},g={pad:i,strides:r,inputShape:o},y=le.runKernel(vN,m,g);return l?ze(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const she=ue({conv3DBackpropInput_:ohe});function uhe(t,e,n,r,i){const o=q(t,"x","conv3dTranspose"),s=q(e,"filter","conv3dTranspose");return she(n,o,s,r,i)}const gU=ue({conv3dTranspose_:uhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(t){const n={x:q(t,"x","cos","float32")};return le.runKernel(yN,n)}const vU=ue({cos_:lhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function che(t){const n={x:q(t,"x","cosh","float32")};return le.runKernel(bN,n)}const yU=ue({cosh_:che});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fhe(t,e=0,n=!1,r=!1){const o={x:q(t,"x","cumprod")},s={axis:e,exclusive:n,reverse:r};return le.runKernel(wN,o,s)}const bU=ue({cumprod_:fhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dhe(t,e=0,n=!1,r=!1){const o={x:q(t,"x","cumsum")},s={axis:e,exclusive:n,reverse:r};return le.runKernel(xN,o,s)}const wU=ue({cumsum_:dhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function phe(t,e,n,r=!1){const i=q(t,"x","denseBincount"),o=q(e,"weights","denseBincount");X(i.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${i.dtype}`),X(i.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${i.rank}.`),X(n>=0,()=>`size must be non-negative, but got ${n}.`),X(o.size===i.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${i.shape}, weights shape: ${o.shape}.`);const s={x:i,weights:o},l={size:n,binaryOutput:r};return le.runKernel(CN,s,l)}const xU=ue({denseBincount_:phe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hhe(t,e,n="NHWC"){const r=q(t,"x","depthToSpace","float32"),i=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],s=n==="NHWC"?r.shape[3]:r.shape[1];X(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),X(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e}  for depthToSpace with input shape
    ${r.shape}`),X(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e} for depthToSpace with input shape
        ${r.shape}`),X(s%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${s} for depthToSpace with input shape ${r.shape}`);const l={x:r},f={blockSize:e,dataFormat:n};return le.runKernel(EN,l,f)}const SU=ue({depthToSpace_:hhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mhe(t,e,n,r,i="NHWC",o=[1,1],s){const l=q(t,"x","depthwiseConv2d","float32"),f=q(e,"filter","depthwiseConv2d","float32");let p=l,m=!1;l.rank===3&&(m=!0,p=ze(l,[1,l.shape[0],l.shape[1],l.shape[2]])),X(p.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),X(f.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`);const g=i==="NHWC"?p.shape[3]:p.shape[1];X(g===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${g}) must match the inChannels dimension in filter ${f.shape[2]}.`),Fu("depthwiseConv2d",r,s);const y={x:p,filter:f},x={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:s},S=le.runKernel(_N,y,x);return m?ze(S,[S.shape[1],S.shape[2],S.shape[3]]):S}const Zx=ue({depthwiseConv2d_:mhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ghe(t){const n={x:q(t,"x","diag")};return le.runKernel(NN,n)}const CU=ue({diag_:ghe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vhe(t,e,n,r,i=[1,1],o="NHWC"){const s=q(t,"x","dilation2d"),l=q(e,"filter","dilation2d");X(s.rank===3||s.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),X(l.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${l.rank}.`),X(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let f=s,p=!1;s.rank===3&&(f=ze(s,[1,s.shape[0],s.shape[1],s.shape[2]]),p=!0),X(f.shape[3]===l.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${f.shape[3]} vs ${l.shape[2]}`);const m={x:f,filter:l},g={strides:n,pad:r,dilations:i},y=le.runKernel(RN,m,g);return p?ze(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const EU=ue({dilation2d_:vhe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0(t,e){const n=t.length,r=[];for(let i=0;i<n;i++){const o=n-1-i,s=t[o]||1;(e[e.length-1-i]||1)>1&&s===1&&r.unshift(o)}return r}function t4(t,e){const n=[];for(let r=0;r<e.length;r++){const i=t[t.length-r-1],o=e.length-r-1,s=e[o];(i==null||i===1&&s>1)&&n.unshift(o)}return n}function vr(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let i=0;i<n;i++){let o=t[t.length-i-1];o==null&&(o=1);let s=e[e.length-i-1];if(s==null&&(s=1),o===1)r[n-i-1]=s;else if(s===1)r[n-i-1]=o;else if(o!==s){const l=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(l)}else r[n-i-1]=o}return r}const yhe=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:vr,getBroadcastDims:r0,getReductionAxes:t4},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bhe(t,e){let n=q(t,"a","equal","string_or_numeric"),r=q(e,"b","equal","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(IN,i)}const x1=ue({equal_:bhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function whe(t,e,n){const r=q(e,"a","where"),i=q(n,"b","where"),o=q(t,"condition","where","bool"),s=vr(vr(o.shape,r.shape),i.shape),l=t0(o,s),f=t0(r,s),p=t0(i,s),m={condition:l,t:f,e:p};return le.runKernel(GR,m)}const Nf=ue({where_:whe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xhe(t){const n={x:q(t,"x","zerosLike")};return le.runKernel(yA,n)}const ps=ue({zerosLike_:xhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(t,e){let n=q(t,"a","div"),r=q(e,"b","div");[n,r]=ri(n,r);const i=Er(n,r),o=ps(i),s=x1(r,o);return Nf(s,o,i)}const _U=ue({divNoNan_:She});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Che(t,e){const n=q(t,"t1","dot"),r=q(e,"t2","dot");X((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const i=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(X(i===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${o}.`),n.rank===1&&r.rank===1){const s=ze(n,[1,-1]),l=ze(r,[-1,1]),f=Qn(s,l);return ze(f,[])}else if(n.rank===1&&r.rank===2){const s=ze(n,[1,-1]),l=ze(r,[r.shape[0],r.shape[1]]),f=Qn(s,l);return ze(f,[f.size])}else if(n.rank===2&&r.rank===1){const s=ze(r,[-1,1]),l=Qn(n,s);return ze(l,[l.size])}else{const s=ze(r,[r.shape[0],r.shape[1]]);return Qn(n,s)}}const TU=ue({dot_:Che});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ehe(t,...e){const n=e.map((i,o)=>q(i,`tensors${o}`,"einsum")),r={equation:t};return le.runKernel(DN,n,r)}const Wh=ue({einsum_:Ehe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _he(t){const n={x:q(t,"x","elu","float32")};return le.runKernel(ON,n)}const n4=ue({elu_:_he});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function The(t,e){const n=q(t,"x","ensureShape","string_or_numeric");if(!h5(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const kU=ue({ensureShape_:The});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t){let e=q(t,"x","erf");X(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Kn(e,"float32"));const n={x:e};return le.runKernel($N,n)}const NU=ue({erf_:khe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r4(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function RU(t,e,n){const r=t.length+e.length,i=[];let o=0,s=0;for(let l=0;l<r;l++)n.indexOf(l)===-1?i.push(t[o++]):i.push(e[s++]);return i}function S1(t,e){const n=[],r=t.length;for(let o=0;o<r;o++)e.indexOf(o)===-1&&n.push(t[o]);const i=e.map(o=>t[o]);return[n,i]}function i0(t,e){const n=e.map(r=>1);return RU(t,n,e)}function Xx(t,e,n){X(r4(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function a0(t,e){if(r4(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function i4(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function o0(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nhe(t,e=null,n=!1){const i={x:q(t,"x","max")},o={reductionIndices:e,keepDims:n};return le.runKernel(lR,i,o)}const Gh=ue({max_:Nhe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rhe(t,e=null,n=!1){const i={x:q(t,"x","min")},o={axis:e,keepDims:n};return le.runKernel(mR,i,o)}const Qx=ue({min_:Rhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ahe(t,e){let n=q(t,"base","pow"),r=q(e,"exp","pow");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(RR,i)}const s0=ue({pow_:Ahe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tn(t,e){if((sa(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&sa(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Xd(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dhe(t){const n={x:q(t,"x","sqrt","float32")};return le.runKernel(eA,n)}const kc=ue({sqrt_:Dhe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ohe(t){const e=q(t,"x","square"),n={};return le.runKernel("Square",{x:e},n)}const Vu=ue({square_:Ohe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t,e=null,n=!1){let r=q(t,"x","sum");r.dtype==="bool"&&(r=Kn(r,"int32"));const i={x:r},o={axis:e,keepDims:n};return le.runKernel(tA,i,o)}const Rr=ue({sum_:$he});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ihe(t,e="euclidean",n=null,r=!1){t=q(t,"x","norm");const i=AU(t,e,n);let o=i.shape;if(r){const s=eu(n,t.shape);o=i0(i.shape,s)}return ze(i,o)}function AU(t,e,n=null){if(t.rank===0)return ds(t);if(t.rank!==1&&n===null)return AU(ze(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Rr(ds(t),n);if(e===1/0)return Gh(ds(t),n);if(e===-1/0)return Qx(ds(t),n);if(e==="euclidean"||e===2)return kc(Rr(s0(ds(t),Tn(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Gh(Rr(ds(t),n[0]),n[1]-1);if(e===1/0)return Gh(Rr(ds(t),n[1]),n[0]);if(e===-1/0)return Qx(Rr(ds(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return kc(Rr(Vu(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const C1=ue({norm_:Ihe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Phe(t,e=null,n=!1){return C1(t,"euclidean",e,n)}const DU=ue({euclideanNorm_:Phe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe(t){const n={x:q(t,"x","exp")};return le.runKernel(PN,n)}const ep=ue({exp_:Mhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t,e=0){const n=q(t,"x","expandDims","string_or_numeric");X(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},i={dim:e};return le.runKernel(MN,r,i)}const Mo=ue({expandDims_:Lhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t){const n={x:q(t,"x","expm1")};return le.runKernel(LN,n)}const OU=ue({expm1_:Fhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vhe(t,e){const n=q(t,"x","tile","string_or_numeric");X(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},i={reps:e};return le.runKernel(Fx,r,i)}const u0=ue({tile_:Vhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jhe(t,e,n,r="float32"){e==null&&(e=t);const i=Nr([t,e],r),o=t<=e?t:e;for(let l=0;l<o;++l)i.set(1,l,l);const s=ze(i.toTensor(),[t,e]);if(n==null)return s;if(n.length===1)return u0(Mo(s,0),[n[0],1,1]);if(n.length===2)return u0(Mo(Mo(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return u0(Mo(Mo(Mo(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const a4=ue({eye_:jhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe(t){const n={x:q(t,"x","floor","float32")};return le.runKernel(zN,n)}const o4=ue({floor_:zhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bhe(t,e,n=0,r=0){const i=q(t,"x","gather"),o=q(e,"indices","gather","int32"),s={x:i,indices:o},l={axis:n,batchDims:r};return le.runKernel(HN,s,l)}const s4=ue({gather_:Bhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uhe(t,e){let n=q(t,"a","greater","string_or_numeric"),r=q(e,"b","greater","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(GN,i)}const l0=ue({greater_:Uhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hhe(t,e){let n=q(t,"a","greaterEqual","string_or_numeric"),r=q(e,"b","greaterEqual","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(KN,i)}const u4=ue({greaterEqual_:Hhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Whe(t){const n={input:q(t,"input","imag")};return le.runKernel(YN,n)}const E1=ue({imag_:Whe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ghe(t){const n={x:q(t,"x","isFinite")};return le.runKernel(ZN,n)}const $U=ue({isFinite_:Ghe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Khe(t){const n={x:q(t,"x","isInf")};return le.runKernel(XN,n)}const IU=ue({isInf_:Khe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(t){const n={x:q(t,"x","isNaN")};return le.runKernel(QN,n)}const PU=ue({isNaN_:qhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yhe(t,e=.2){const r={x:q(t,"x","leakyRelu")},i={alpha:e};return le.runKernel(JN,r,i)}const l4=ue({leakyRelu_:Yhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zhe(t,e){let n=q(t,"a","less","string_or_numeric"),r=q(e,"b","less","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(eR,i)}const Jx=ue({less_:Zhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xhe(t,e){let n=q(t,"a","lessEqual","string_or_numeric"),r=q(e,"b","lessEqual","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(tR,i)}const eS=ue({lessEqual_:Xhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MU(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return le.runKernel(nR,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qhe(t,e=5,n=1,r=1,i=.5){const o=q(t,"x","localResponseNormalization");X(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),X(Hg(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let s=o,l=!1;o.rank===3&&(l=!0,s=ze(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const f={x:s},p={depthRadius:e,bias:n,alpha:r,beta:i},m=le.runKernel(uR,f,p);return l?ze(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const LU=ue({localResponseNormalization_:Qhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jhe(t){const n={x:q(t,"x","log","float32")};return le.runKernel(rR,n)}const c0=ue({log_:Jhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eme(t){const n={x:q(t,"x","log1p")};return le.runKernel(iR,n)}const c4=ue({log1p_:eme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tme(t){return X(Kd(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=q(e,"x","tf.grad","string_or_numeric"),i=n!=null?q(n,"dy","tf.grad"):null;return le.tidy(()=>{const{value:o,grads:s}=le.gradients(()=>t(r),[r],i);return i!=null&&Va(o.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),tS(s),s[0]})}}function nme(t){return X(Kd(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{X(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=d1(e,"args","tf.grads","string_or_numeric"),i=n!=null?q(n,"dy","tf.grads"):null;return le.tidy(()=>{const{value:o,grads:s}=le.gradients(()=>t(...r),r,i);return i!=null&&Va(o.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),tS(s),s})}}function rme(t){return X(Kd(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{X(e instanceof rr,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),X(n==null||n instanceof rr,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:i}=le.gradients(()=>t(e),[e],n);return tS(r),{grad:r[0],value:i}}}function ime(t){return X(Kd(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{X(Array.isArray(e)&&e.every(i=>i instanceof rr),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),X(n==null||n instanceof rr,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=le.gradients(()=>t(...e),e,n);return n!=null&&Va(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),tS(r.grads),r}}function FU(t,e){X(Kd(t),()=>"The f passed in variableGrads(f) must be a function"),X(e==null||Array.isArray(e)&&e.every(p=>p instanceof f1),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const p in le.registeredVariables)e.push(le.registeredVariables[p])}const r=n?e.filter(p=>!p.trainable):null,i=e.length;e=e.filter(p=>p.trainable),X(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`);const o=!0,{value:s,grads:l}=le.gradients(t,e,null,o);X(l.some(p=>p!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),X(s.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${s.rank} tensor`);const f={};return e.forEach((p,m)=>{l[m]!=null&&(f[p.name]=l[m])}),r!=null&&r.forEach(p=>f[p.name]=null),{value:s,grads:f}}function Nc(t){return le.customGrad(t)}function tS(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ame(t){const n={x:q(t,"x","neg")};return le.runKernel(xR,n)}const Tl=ue({neg_:ame});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ome(t){const n={x:q(t,"x","softplus")};return le.runKernel(JR,n)}const f4=ue({softplus_:ome});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sme(t){const e=q(t,"x","logSigmoid");return Nc(r=>({value:Tl(f4(Tl(r))),gradFunc:s=>vt(s,Tc(Tl(r)))}))(e)}const VU=ue({logSigmoid_:sme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ume(t,e){let n=q(t,"a","sub"),r=q(e,"b","sub");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(fA,i)}const xn=ue({sub_:ume});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lme(t,e=-1){const n=q(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Nc((i,o)=>{const l=Gh(i,e,!0),f=xn(i,l),p=xn(Kn(f,"float32"),c0(Rr(ep(f),e,!0)));return o([p]),{value:p,gradFunc:(g,y)=>{const[x]=y,S=!0,_=ep(x);return xn(g,vt(Rr(g,e,S),_))}}})(n)}const jU=ue({logSoftmax_:lme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cme(t,e=null,n=!1){const r=q(t,"x","logSumExp"),i=eu(e,r.shape),o=Gh(r,i,!0),s=xn(r,o),l=ep(s),f=Rr(l,i),p=c0(f),m=en(ze(o,p.shape),p);if(n){const g=i0(m.shape,i);return ze(m,g)}return m}const d4=ue({logSumExp_:cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fme(t,e){const n=q(t,"a","logicalAnd","bool"),r=q(e,"b","logicalAnd","bool");vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(aR,i)}const _1=ue({logicalAnd_:fme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t){const n={x:q(t,"x","logicalNot","bool")};return le.runKernel(oR,n)}const p4=ue({logicalNot_:dme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pme(t,e){const n=q(t,"a","logicalOr","bool"),r=q(e,"b","logicalOr","bool");vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(sR,i)}const h4=ue({logicalOr_:pme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hme(t,e){const n=q(t,"a","logicalXor","bool"),r=q(e,"b","logicalXor","bool");return vr(n.shape,r.shape),_1(h4(t,e),p4(_1(t,e)))}const zU=ue({logicalXor_:hme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nS=2147483648;function mme(t,e,n="left"){const r=q(t,"sortedSequence","searchSorted"),i=q(e,"values","searchSorted"),o=r.shape[r.shape.length-1],s=i.shape[i.shape.length-1],l=ze(r,[-1,o]),f=ze(i,[-1,s]);if(l.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(l.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(lt(f.shape)>=nS)throw new Error(`values tensor size must less than ${nS}`);if(l.shape[1]>=nS)throw new Error(`trailing dim_size must less than ${nS} for int32 output type, was ${l.shape[1]}`);const p={sortedSequence:l,values:f},m={side:n};return le.runKernel(WR,p,m)}const rS=ue({searchSorted_:mme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BU(t,e){return rS(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gme(t,e,n,r,i){const o=q(t,"x","maxPool"),s=1;let l=o,f=!1;o.rank===3&&(f=!0,l=ze(o,[1,o.shape[0],o.shape[1],o.shape[2]])),X(l.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${l.rank}.`),X(_l(n,s),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),Fu("maxPool",r,i);const p={x:l},m={filterSize:e,strides:n,pad:r,dimRoundingMode:i},g=le.runKernel(fR,p,m);return f?ze(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const m4=ue({maxPool_:gme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vme(t,e=[1,1,1],n,r,i,o="NDHWC"){const s=q(t,"x","maxPool3d");let l=s,f=!1;s.rank===4&&(f=!0,l=ze(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),X(l.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${l.rank}.`),X(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Fu("maxPool3d",r,i);const p={x:l},m={filterSize:e,strides:n,pad:r,dimRoundingMode:i,dataFormat:o},g=le.runKernel(dR,p,m);return f?ze(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const UU=ue({maxPool3d_:vme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yme(t,e,n,r,i=!1){const s={x:q(t,"x","maxPoolWithArgmax")},l={filterSize:e,strides:n,pad:r,includeBatchInIndex:i},f=le.runKernel(pR,s,l);return{result:f[0],indexes:f[1]}}const HU=ue({maxPoolWithArgmax_:yme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bme(t,e){let n=q(t,"a","maximum"),r=q(e,"b","maximum");[n,r]=ri(n,r),n.dtype==="bool"&&(n=Kn(n,"int32"),r=Kn(r,"int32")),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(cR,i)}const g4=ue({maximum_:bme});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wme(t,e=null,n=!1){const i={x:q(t,"x","mean")},o={axis:e,keepDims:n};return le.runKernel(hR,i,o)}const T1=ue({mean_:wme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tp(t,e="float32"){if(ls(t),e==="complex64"){const r=tp(t,"float32"),i=tp(t,"float32");return _f(r,i)}const n=Sc(lt(t),e);return le.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function np(t,e="float32"){if(ls(t),e==="complex64"){const r=np(t,"float32"),i=tp(t,"float32");return _f(r,i)}const n=Vk(lt(t),e);return le.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WU(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=q(t,"x","meshgrid",t instanceof rr?t.dtype:"float32");if(e===void 0)return[r];let i=q(e,"y","meshgrid",e instanceof rr?e.dtype:"float32");const o=lt(r.shape),s=lt(i.shape);return n==="xy"?(r=ze(r,[1,-1]),i=ze(i,[-1,1]),[Qn(np([s,1],r.dtype),r),Qn(i,np([1,o],i.dtype))]):(r=ze(r,[-1,1]),i=ze(i,[1,-1]),[Qn(r,np([1,s],r.dtype)),Qn(np([o,1],i.dtype),i)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xme(t,e){let n=q(t,"a","minimum"),r=q(e,"b","minimum");[n,r]=ri(n,r),n.dtype==="bool"&&(n=Kn(n,"int32"),r=Kn(r,"int32")),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(gR,i)}const k1=ue({minimum_:xme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sme(t,e,n){X(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=q(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");X(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const i=n==="reflect"?1:0;for(let l=0;l<r.rank;l++)X(e[l].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),X(e[l][0]>=0&&e[l][0]<=r.shape[l]-i&&e[l][1]>=0&&e[l][1]<=r.shape[l]-i,()=>`Padding in dimension ${l} cannot be greater than or equal to ${r.shape[l]-i} or less than 0 for input of shape ${r.shape}`);const o={paddings:e,mode:n},s={x:r};return le.runKernel(vR,s,o)}const v4=ue({mirrorPad_:Sme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cme(t,e){let n=q(t,"a","mod"),r=q(e,"b","mod");[n,r]=ri(n,r);const i={a:n,b:r};return le.runKernel(yR,i)}const GU=ue({mod_:Cme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eme(t,e=null,n=!1){t=q(t,"x","moments");const r=eu(e,t.shape),i=T1(t,r,n);let o=i.shape;n||(o=i0(i.shape,r));const s=Vu(xn(Kn(t,"float32"),ze(i,o))),l=T1(s,r,n);return{mean:i,variance:l}}const KU=ue({moments_:Eme});function _me(t,e,n,r){const i=q(e,"data","multiRNNCell"),o=d1(n,"c","multiRNNCell"),s=d1(r,"h","multiRNNCell");let l=i;const f=[];for(let g=0;g<t.length;g++){const y=t[g](l,o[g],s[g]);f.push(y[0]),f.push(y[1]),l=y[1]}const p=[],m=[];for(let g=0;g<f.length;g+=2)p.push(f[g]),m.push(f[g+1]);return[p,m]}const qU=ue({multiRNNCell_:_me});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tme(t,e,n,r=!1){const i=q(t,"logits","multinomial"),o=i.size,s=i.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();const f={logits:s===1?ze(i,[1,-1]):i},p={numSamples:e,seed:n,normalized:r},m=le.runKernel(bR,f,p);return s===1?ze(m,[m.size]):m}const YU=ue({multinomial_:Tme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kme(t,e){let n=q(t,"a","notEqual","string_or_numeric"),r=q(e,"b","notEqual","string_or_numeric");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r};return le.runKernel(SR,i)}const y4=ue({notEqual_:kme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nme(t,e,n=1,r=0,i="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const s={indices:q(t,"indices","oneHot","int32")},l={dtype:i,depth:e,onValue:n,offValue:r};return le.runKernel(TR,s,l)}const N1=ue({oneHot_:Nme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rme(t){const n={x:q(t,"x","onesLike")};return le.runKernel(_R,n)}const ZU=ue({onesLike_:Rme});function Ame(t,e){const n=q(t,"v1","outerProduct"),r=q(e,"v2","outerProduct");X(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const i=ze(n,[-1,1]),o=ze(r,[1,-1]);return Qn(i,o)}const XU=ue({outerProduct_:Ame});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dme(t,e,n=0){const r=q(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:e,constantValue:n},o={x:r};return le.runKernel(NR,o,i)}const Kh=ue({pad_:Dme});function Ome(t,e,n=0){return X(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Kh(t,[e],n)}const QU=ue({pad1d_:Ome});function $me(t,e,n=0){return X(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kh(t,e,n)}const JU=ue({pad2d_:$me});function Ime(t,e,n=0){return X(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kh(t,e,n)}const b4=ue({pad3d_:Ime});function Pme(t,e,n=0){return X(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kh(t,e,n)}const e9=ue({pad4d_:Pme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mme(t,e,n){const r=q(t,"x","spaceToBatchND");X(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),X(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),X(r.shape.reduce((s,l,f)=>f>0&&f<=e.length?s&&(l+n[f-1][0]+n[f-1][1])%e[f-1]===0:s,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const i={x:r},o={blockShape:e,paddings:n};return le.runKernel(nA,i,o)}const w4=ue({spaceToBatchND_:Mme});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lme(t,e,n,r,i,o,s){i==null&&(i=[1,1]),o==null&&(o=1),r===0&&(r="valid");const l=q(t,"x","maxPool");let f=l,p=!1;l.rank===3&&(p=!0,f=ze(l,[1,l.shape[0],l.shape[1],l.shape[2]])),X(_l(o,i),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${i}'`);const m=Bh(f.shape,e,o,i,r),g=[m.dilationHeight,m.dilationWidth];let y;r==="same"?y=Vme([m.filterHeight,m.filterWidth],g):y=[[0,0],[0,0]];const x=g[0]===1&&g[1]===1,[S,_]=Fme([m.inHeight,m.inWidth],g,y),k=x?r:"valid",R=x?f:w4(f,g,S),I=(n==="avg"?()=>QA(R,e,o,k,s):()=>m4(R,e,o,k,s))(),P=x?I:JA(I,g,_);return p?ze(P,[P.shape[1],P.shape[2],P.shape[3]]):P}function Fme(t,e,n){const r=n.map(m=>m[0]),i=n.map(m=>m[1]),o=t.concat(r,i),s=e.map((m,g)=>(m-o[g]%m)%m),l=i.map((m,g)=>m+s[g]),f=e.map((m,g)=>[r[g],l[g]]),p=e.map((m,g)=>[0,s[g]]);return[f,p]}function Vme(t,e){const r=t.map((s,l)=>s+(s-1)*(e[l]-1)).map(s=>s-1),i=r.map(s=>Math.floor(s/2)),o=r.map((s,l)=>s-i[l]);return r.map((s,l)=>[i[l],o[l]])}const t9=ue({pool_:Lme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jme(t,e){const n=q(t,"x","prelu"),r=q(e,"alpha","prelu"),i={x:n,alpha:r};return le.runKernel(AR,i)}const x4=ue({prelu_:jme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zme(t,e=null,n=!1){let r=q(t,"x","prod");r.dtype==="bool"&&(r=Kn(r,"int32"));const i={x:r},o={axis:e,keepDims:n};return le.runKernel(DR,i,o)}const n9=ue({prod_:zme});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bme(t,e,n,r){const i=t.map((m,g)=>q(m,`tensors${g}`,"raggedGather","int32")),o=q(e,"paramsDenseValues","raggedGather"),s=q(n,"indices","raggedGather","int32"),l={paramsNestedSplits:i,paramsDenseValues:o,indices:s},f={outputRaggedRank:r},p=le.runKernel(F5,l,f);return{outputNestedSplits:p.slice(0,p.length-1),outputDenseValues:p[p.length-1]}}const r9=ue({raggedGather_:Bme});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ume(t,e,n){const r=q(t,"starts","raggedRange"),i=q(e,"limits","raggedRange",r.dtype),o=q(n,"deltas","raggedRange",r.dtype),s={starts:r,limits:i,deltas:o},l=le.runKernel(V5,s);return{rtNestedSplits:l[0],rtDenseValues:l[1]}}const i9=ue({raggedRange_:Ume});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hme(t,e,n,r,i){const o=q(t,"shape","raggedTensorToTensor","int32"),s=q(e,"values","raggedTensorToTensor"),l=q(n,"defaultValue","raggedTensorToTensor",s.dtype),f=r.map((g,y)=>q(g,`tensors${y}`,"raggedTensorToTensor","int32")),p={shape:o,values:s,defaultValue:l,rowPartitionTensors:f},m={rowPartitionTypes:i};return le.runKernel(j5,p,m)}const a9=ue({raggedTensorToTensor_:Hme});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wme(t,e,n){ls(t);const r=lt(t);let i=null;if(n==null||n==="float32")i=new Float32Array(r);else if(n==="int32")i=new Int32Array(r);else if(n==="bool")i=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)i[o]=e();return le.makeTensor(i,t,n)}const o9=ue({rand_:Wme});var S4={exports:{}};S4.exports,function(t){(function(e,n,r){function i(f){var p=this,m=l();p.next=function(){var g=2091639*p.s0+p.c*23283064365386963e-26;return p.s0=p.s1,p.s1=p.s2,p.s2=g-(p.c=g|0)},p.c=1,p.s0=m(" "),p.s1=m(" "),p.s2=m(" "),p.s0-=m(f),p.s0<0&&(p.s0+=1),p.s1-=m(f),p.s1<0&&(p.s1+=1),p.s2-=m(f),p.s2<0&&(p.s2+=1),m=null}function o(f,p){return p.c=f.c,p.s0=f.s0,p.s1=f.s1,p.s2=f.s2,p}function s(f,p){var m=new i(f),g=p&&p.state,y=m.next;return y.int32=function(){return m.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,g&&(typeof g=="object"&&o(g,m),y.state=function(){return o(m,{})}),y}function l(){var f=4022871197,p=function(m){m=String(m);for(var g=0;g<m.length;g++){f+=m.charCodeAt(g);var y=.02519603282416938*f;f=y>>>0,y-=f,y*=f,f=y>>>0,y-=f,f+=y*4294967296}return(f>>>0)*23283064365386963e-26};return p}n.exports?n.exports=s:this.alea=s})(ac,t)}(S4);var Gme=S4.exports,C4={exports:{}};C4.exports,function(t){(function(e,n,r){function i(l){var f=this,p="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var g=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^g^g>>>8},l===(l|0)?f.x=l:p+=l;for(var m=0;m<p.length+64;m++)f.x^=p.charCodeAt(m)|0,f.next()}function o(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f}function s(l,f){var p=new i(l),m=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,x=(p.next()>>>0)/4294967296,S=(y+x)/(1<<21);while(S===0);return S},g.int32=p.next,g.quick=g,m&&(typeof m=="object"&&o(m,p),g.state=function(){return o(p,{})}),g}n.exports?n.exports=s:this.xor128=s})(ac,t)}(C4);var Kme=C4.exports,E4={exports:{}};E4.exports,function(t){(function(e,n,r){function i(l){var f=this,p="";f.next=function(){var g=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(g^g<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,l===(l|0)?f.x=l:p+=l;for(var m=0;m<p.length+64;m++)f.x^=p.charCodeAt(m)|0,m==p.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f.v=l.v,f.d=l.d,f}function s(l,f){var p=new i(l),m=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,x=(p.next()>>>0)/4294967296,S=(y+x)/(1<<21);while(S===0);return S},g.int32=p.next,g.quick=g,m&&(typeof m=="object"&&o(m,p),g.state=function(){return o(p,{})}),g}n.exports?n.exports=s:this.xorwow=s})(ac,t)}(E4);var qme=E4.exports,_4={exports:{}};_4.exports,function(t){(function(e,n,r){function i(l){var f=this;f.next=function(){var m=f.x,g=f.i,y,x;return y=m[g],y^=y>>>7,x=y^y<<24,y=m[g+1&7],x^=y^y>>>10,y=m[g+3&7],x^=y^y>>>3,y=m[g+4&7],x^=y^y<<7,y=m[g+7&7],y=y^y<<13,x^=y^y<<9,m[g]=x,f.i=g+1&7,x};function p(m,g){var y,x=[];if(g===(g|0))x[0]=g;else for(g=""+g,y=0;y<g.length;++y)x[y&7]=x[y&7]<<15^g.charCodeAt(y)+x[y+1&7]<<13;for(;x.length<8;)x.push(0);for(y=0;y<8&&x[y]===0;++y);for(y==8?x[7]=-1:x[y],m.x=x,m.i=0,y=256;y>0;--y)m.next()}p(f,l)}function o(l,f){return f.x=l.x.slice(),f.i=l.i,f}function s(l,f){l==null&&(l=+new Date);var p=new i(l),m=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,x=(p.next()>>>0)/4294967296,S=(y+x)/(1<<21);while(S===0);return S},g.int32=p.next,g.quick=g,m&&(m.x&&o(m,p),g.state=function(){return o(p,{})}),g}n.exports?n.exports=s:this.xorshift7=s})(ac,t)}(_4);var Yme=_4.exports,T4={exports:{}};T4.exports,function(t){(function(e,n,r){function i(l){var f=this;f.next=function(){var m=f.w,g=f.X,y=f.i,x,S;return f.w=m=m+1640531527|0,S=g[y+34&127],x=g[y=y+1&127],S^=S<<13,x^=x<<17,S^=S>>>15,x^=x>>>12,S=g[y]=S^x,f.i=y,S+(m^m>>>16)|0};function p(m,g){var y,x,S,_,k,R=[],O=128;for(g===(g|0)?(x=g,g=null):(g=g+"\0",x=0,O=Math.max(O,g.length)),S=0,_=-32;_<O;++_)g&&(x^=g.charCodeAt((_+32)%g.length)),_===0&&(k=x),x^=x<<10,x^=x>>>15,x^=x<<4,x^=x>>>13,_>=0&&(k=k+1640531527|0,y=R[_&127]^=x+k,S=y==0?S+1:0);for(S>=128&&(R[(g&&g.length||0)&127]=-1),S=127,_=4*128;_>0;--_)x=R[S+34&127],y=R[S=S+1&127],x^=x<<13,y^=y<<17,x^=x>>>15,y^=y>>>12,R[S]=x^y;m.w=k,m.X=R,m.i=S}p(f,l)}function o(l,f){return f.i=l.i,f.w=l.w,f.X=l.X.slice(),f}function s(l,f){l==null&&(l=+new Date);var p=new i(l),m=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,x=(p.next()>>>0)/4294967296,S=(y+x)/(1<<21);while(S===0);return S},g.int32=p.next,g.quick=g,m&&(m.X&&o(m,p),g.state=function(){return o(p,{})}),g}n.exports?n.exports=s:this.xor4096=s})(ac,t)}(T4);var Zme=T4.exports,k4={exports:{}};k4.exports,function(t){(function(e,n,r){function i(l){var f=this,p="";f.next=function(){var g=f.b,y=f.c,x=f.d,S=f.a;return g=g<<25^g>>>7^y,y=y-x|0,x=x<<24^x>>>8^S,S=S-g|0,f.b=g=g<<20^g>>>12^y,f.c=y=y-x|0,f.d=x<<16^y>>>16^S,f.a=S-g|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,l===Math.floor(l)?(f.a=l/4294967296|0,f.b=l|0):p+=l;for(var m=0;m<p.length+20;m++)f.b^=p.charCodeAt(m)|0,f.next()}function o(l,f){return f.a=l.a,f.b=l.b,f.c=l.c,f.d=l.d,f}function s(l,f){var p=new i(l),m=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,x=(p.next()>>>0)/4294967296,S=(y+x)/(1<<21);while(S===0);return S},g.int32=p.next,g.quick=g,m&&(typeof m=="object"&&o(m,p),g.state=function(){return o(p,{})}),g}n.exports?n.exports=s:this.tychei=s})(ac,t)}(k4);var Xme=k4.exports,s9={exports:{}};(function(t){(function(e,n,r){var i=256,o=6,s=52,l="random",f=r.pow(i,o),p=r.pow(2,s),m=p*2,g=i-1,y;function x(P,F,K){var Y=[];F=F==!0?{entropy:!0}:F||{};var te=R(k(F.entropy?[P,I(n)]:P??O(),3),Y),fe=new S(Y),ye=function(){for(var de=fe.g(o),Pe=f,xe=0;de<p;)de=(de+xe)*i,Pe*=i,xe=fe.g(1);for(;de>=m;)de/=2,Pe/=2,xe>>>=1;return(de+xe)/Pe};return ye.int32=function(){return fe.g(4)|0},ye.quick=function(){return fe.g(4)/4294967296},ye.double=ye,R(I(fe.S),n),(F.pass||K||function(de,Pe,xe,Te){return Te&&(Te.S&&_(Te,fe),de.state=function(){return _(fe,{})}),xe?(r[l]=de,Pe):de})(ye,te,"global"in F?F.global:this==r,F.state)}function S(P){var F,K=P.length,Y=this,te=0,fe=Y.i=Y.j=0,ye=Y.S=[];for(K||(P=[K++]);te<i;)ye[te]=te++;for(te=0;te<i;te++)ye[te]=ye[fe=g&fe+P[te%K]+(F=ye[te])],ye[fe]=F;(Y.g=function(de){for(var Pe,xe=0,Te=Y.i,je=Y.j,$e=Y.S;de--;)Pe=$e[Te=g&Te+1],xe=xe*i+$e[g&($e[Te]=$e[je=g&je+Pe])+($e[je]=Pe)];return Y.i=Te,Y.j=je,xe})(i)}function _(P,F){return F.i=P.i,F.j=P.j,F.S=P.S.slice(),F}function k(P,F){var K=[],Y=typeof P,te;if(F&&Y=="object")for(te in P)try{K.push(k(P[te],F-1))}catch{}return K.length?K:Y=="string"?P:P+"\0"}function R(P,F){for(var K=P+"",Y,te=0;te<K.length;)F[g&te]=g&(Y^=F[g&te]*19)+K.charCodeAt(te++);return I(F)}function O(){try{var P;return y&&(P=y.randomBytes)?P=P(i):(P=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(P)),I(P)}catch{var F=e.navigator,K=F&&F.plugins;return[+new Date,e,K,e.screen,I(n)]}}function I(P){return String.fromCharCode.apply(0,P)}if(R(r.random(),n),t.exports){t.exports=x;try{y=WA}catch{}}else r["seed"+l]=x})(typeof self<"u"?self:ac,[],Math)})(s9);var Qme=s9.exports,Jme=Gme,ege=Kme,tge=qme,nge=Yme,rge=Zme,ige=Xme,qh=Qme;qh.alea=Jme,qh.xor128=ege,qh.xorwow=tge,qh.xorshift7=nge,qh.xor4096=rge,qh.tychei=ige;var N4=qh;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const age=.001,u9=.1;function oge(t,e,n){return n==null&&(n=R4()),A4(t,e,(r,i)=>D4(r,i,n))}function R4(){return le.backend.floatPrecision()===32?age:u9}function A4(t,e,n){let r=!0;if((sa(t)||sa(e))&&(r=!1),sa(t)&&sa(e)&&(r=!0),r){const s=t.constructor.name,l=e.constructor.name;if(s!==l)throw new Error(`Arrays are of different type. Actual: ${s}. Expected: ${l}`)}if(Array.isArray(t)&&Array.isArray(e)){const s=_c(t),l=_c(e);if(!ja(s,l))throw new Error(`Arrays have different shapes. Actual: [${s}]. Expected: [${l}]`)}const i=sa(t)?t:Cc(t),o=sa(e)?e:Cc(e);if(i.length!==o.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${o.length}.
Actual:   ${i}.
Expected: ${o}.`);for(let s=0;s<o.length;++s){const l=i[s],f=o[s];if(!n(l,f))throw new Error(`Arrays differ: actual[${s}] = ${l}, expected[${s}] = ${f}.
Actual:   ${i}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function sge(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function uge(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Cf(t)||Cf(t[0])||Cf(e)||Cf(e[0])?A4(t,n,(r,i)=>r==i):A4(t,e,(r,i)=>D4(r,i,0))}function lge(t,e,n){if(n==null&&(n=R4()),!D4(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function D4(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function cge(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function fge(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${n[i]} instead`)}function l9(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?l9(n):t[e]=Ef(n)}return t}function dge(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function pge(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const hge=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:u9,createVideoElement:dge,encodeStrings:l9,expectArrayBuffersEqual:fge,expectArraysClose:oge,expectArraysEqual:uge,expectNumbersClose:lge,expectPromiseToFail:sge,expectValuesInRange:cge,play:pge,testEpsilon:R4},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O4{constructor(e,n,r,i,o){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const s=o||Math.random();this.random=N4.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const i=this.nextVal;return this.nextVal=NaN,i}let e,n,r=!1;for(;!r;){let i,o,s;do i=2*this.random()-1,o=2*this.random()-1,s=i*i+o*o;while(s>=1||s===0);const l=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*i*l,n=this.mean+this.stdDev*o*l,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class mge{constructor(e,n,r,i){this.alpha=e,this.beta=1/n,this.dtype=r;const o=i||Math.random();this.randu=N4.alea(o.toString()),this.randn=new O4(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,i,o,s;for(;;){do i=this.randn.nextValue(),s=1+this.c*i;while(s<=0);if(s*=s*s,e=i*i,n=1-.331*e*e,r=.5*e+this.d*(1-s+Math.log(s)),o=this.randu(),o<n||Math.log(o)<r)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class gge{constructor(e=0,n=1,r,i){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=N4.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vge(t,e,n=1,r="float32",i){if(ls(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new mge(e,n,r,i),s=Nr(t,r);for(let l=0;l<s.values.length;l++)s.values[l]=o.nextValue();return s.toTensor()}const c9=ue({randomGamma_:vge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yge(t,e=0,n=1,r,i){if(ls(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new O4(e,n,r,!1,i),s=Nr(t,r);for(let l=0;l<s.values.length;l++)s.values[l]=o.nextValue();return s.toTensor()}const $4=ue({randomNormal_:yge});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bge(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return $4(t,0,1,e,n)}const f9=ue({randomStandardNormal_:bge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wge(t,e=0,n=1,r="float32",i){ls(t);const o=Nr(t,r),s=new gge(e,n,null,i);for(let l=0;l<o.values.length;l++)o.values[l]=s.nextValue();return o.toTensor()}const iS=ue({randomUniform_:wge});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xge(t,e,n,r){return iS(t,e,n,"int32",r)}const d9=ue({randomUniformInt_:xge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rp(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const i={start:t,stop:e,step:n,dtype:r};return le.runKernel(OR,{},i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sge(t){const n={input:q(t,"input","real")};return le.runKernel($R,n)}const f0=ue({real_:Sge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cge(t){const n={x:q(t,"x","reciprocal")};return le.runKernel(IR,n)}const p9=ue({reciprocal_:Cge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ege(t){const n={x:q(t,"x","relu")};return le.runKernel(PR,n)}const R1=ue({relu_:Ege});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ge(t){const n={x:q(t,"x","relu6")};return le.runKernel(VR,n)}const I4=ue({relu6_:_ge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tge(t,e){const r={x:q(t,"x","reverse")},i={dims:e};return le.runKernel(jR,r,i)}const ip=ue({reverse_:Tge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kge(t){const e=q(t,"x","reverse");return X(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),ip(e,0)}const h9=ue({reverse1d_:kge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nge(t,e){const n=q(t,"x","reverse");return X(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),ip(n,e)}const m9=ue({reverse2d_:Nge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rge(t,e){const n=q(t,"x","reverse");return X(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),ip(n,e)}const g9=ue({reverse3d_:Rge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Age(t,e){const n=q(t,"x","reverse");return X(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),ip(n,e)}const v9=ue({reverse4d_:Age});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dge(t){const n={x:q(t,"x","round")};return le.runKernel(zR,n)}const P4=ue({round_:Dge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oge(t){const n={x:q(t,"x","rsqrt","float32")};return le.runKernel(BR,n)}const y9=ue({rsqrt_:Oge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ge(t){const n={x:q(t,"x","selu")};return le.runKernel(KR,n)}const b9=ue({selu_:$ge});function Ige(t,e,n,r,i,o=[1,1],s="NHWC"){const l=q(t,"x","separableConv2d"),f=q(e,"depthwiseFilter","separableConv2d"),p=q(n,"pointwiseFilter","separableConv2d");let m=l,g=!1;if(l.rank===3&&(g=!0,m=ze(l,[1,l.shape[0],l.shape[1],l.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");X(m.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${m.rank}.`),X(f.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),X(p.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),X(p.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),X(p.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);const y=f.shape[2],x=f.shape[3];X(p.shape[2]===y*x,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${y*x}, but got ${p.shape[2]}.`);const S=Zx(m,f,r,i,s,o),k=w1(S,p,1,"valid",s);return g?ze(k,[k.shape[1],k.shape[2],k.shape[3]]):k}const w9=ue({separableConv2d_:Ige});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Pge(t,e){const n=q(t,"x","setdiff1d"),r=q(e,"y","setdiff1d");X(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),X(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),X(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const i=await n.data(),o=await r.data(),s=new Set(o);let l=0;for(let m=0;m<i.length;m++)s.has(i[m])||l++;const f=new Lh([l],n.dtype),p=new Lh([l],"int32");for(let m=0,g=0;m<i.length;m++)s.has(i[m])||(f.values[g]=i[m],p.values[g]=m,g++);return[f.toTensor(),p.toTensor()]}const x9=Pge;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mge(t){const n={x:q(t,"x","sign")};return le.runKernel(XR,n)}const S9=ue({sign_:Mge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lge(t){const n={x:q(t,"x","sin","float32")};return le.runKernel(YR,n)}const C9=ue({sin_:Lge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fge(t){const n={x:q(t,"x","sinh")};return le.runKernel(ZR,n)}const E9=ue({sinh_:Fge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vge(t,e,n){const r=q(t,"x","slice1d");return X(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Sr(r,[e],[n])}const _9=ue({slice1d_:Vge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jge(t,e,n){const r=q(t,"x","slice2d");return X(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const T9=ue({slice2d_:jge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zge(t,e,n){const r=q(t,"x","slice3d");return X(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const k9=ue({slice3d_:zge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bge(t,e,n){const r=q(t,"x","slice4d");return X(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Sr(r,e,n)}const N9=ue({slice4d_:Bge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uge(t,e=-1){const n=q(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},i={dim:e};return le.runKernel(iA,r,i)}const R9=ue({softmax_:Uge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hge(t){X(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return le.runKernel(FN,e)}const aS=ue({fft_:Hge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wge(t){X(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return le.runKernel(qN,e)}const A1=ue({ifft_:Wge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gge(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const i=ze(t,[n,e]);r=A1(i)}else{const i=[n,2*(e-1)],o=ze(f0(t),[n,e]),s=ze(E1(t),[n,e]),l=ip(Sr(o,[0,1],[n,e-2]),1),f=vt(ip(Sr(s,[0,1],[n,e-2]),1),Tn(-1)),p=za([o,l],1),m=za([s,f],1),g=ze(_f(p,m),[i[0],i[1]]);r=A1(g)}if(r=f0(r),t.rank===3&&t.shape[0]!==0){const i=r,o=t.shape[0];r=ze(r,[o,r.shape[0]/o,r.shape[1]]),i.dispose()}return r}const M4=ue({irfft_:Gge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kge(t,e,n=0){const i={x:q(t,"x","split")},o={numOrSizeSplits:e,axis:n};return le.runKernel(rA,i,o)}const d0=ue({split_:Kge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qge(t,e){X(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let i;if(e!=null&&e<n){const S=t.shape.map(k=>0),_=t.shape.map(k=>k);_[t.shape.length-1]=e,i=Sr(t,S,_),n=e}else if(e!=null&&e>n){const S=t.shape.map(_=>_);S[t.shape.length-1]=e-n,i=za([t,tp(S)],t.shape.length-1),n=e}else i=t;const o=ps(i),s=ze(_f(i,o),[r,n]),l=aS(s),f=Math.floor(n/2)+1,p=f0(l),m=E1(l),g=d0(p,[f,n-f],p.shape.length-1),y=d0(m,[f,n-f],m.shape.length-1),x=i.shape.slice();return x[i.shape.length-1]=f,ze(_f(g[0],y[0]),x)}const oS=ue({rfft_:qge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yge(t,e){let n=q(t,"a","squaredDifference"),r=q(e,"b","squaredDifference");[n,r]=ri(n,r),vr(n.shape,r.shape);const i={a:n,b:r},o={};return le.runKernel(uA,i,o)}const L4=ue({squaredDifference_:Yge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zge(t,e){const n=q(t,"x","squeeze","string_or_numeric");return ze(n,g5(n.shape,e).newShape)}const ju=ue({squeeze_:Zge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xge(t,e=0){const n=d1(t,"tensors","stack","string_or_numeric");X(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&X(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,i={axis:e};return le.runKernel(kR,r,i)}const Rc=ue({stack_:Xge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qge(t,e=0){const r={x:q(t,"x","step")},i={alpha:e};return le.runKernel(bA,r,i)}const F4=ue({step_:Qge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jge(t,e,n,r,i=0,o=0,s=0,l=0,f=0){const m={x:q(t,"x","stridedSlice","string_or_numeric")},g={begin:e,end:n,strides:r,beginMask:i,endMask:o,ellipsisMask:s,newAxisMask:l,shrinkAxisMask:f};return le.runKernel(lA,m,g)}const A9=ue({stridedSlice_:Jge});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e0e(t){const n={x:q(t,"x","tan","float32")};return le.runKernel(dA,n)}const D9=ue({tan_:e0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nu(t,e){Ah(t);const n=_c(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Xd(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yh(t,e,n){if(Ah(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=_c(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Xd(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V4(t,e,n){if(Ah(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=_c(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Xd(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O9(t,e,n){if(Ah(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=_c(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Xd(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $9(t,e,n){if(Ah(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=_c(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Xd(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I9(t,e,n){if(Ah(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=_c(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Xd(t,e,r,n)}function j4(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(o+` update.rank < ${i}. `);if(t.length<r+(n.rank-i))throw new Error(o+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+t.length-r)throw new Error(o+` update.rank != ${i+t.length-r}`);for(let s=0;s<i;++s)if(n.shape[s]!==e.shape[s])throw new Error(o+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${e.shape[s]}).`);for(let s=0;s<n.rank-i;++s)if(n.shape[s+i]!==t[s+r])throw new Error(o+` updates.shape[${s+i}] (${n.shape[s+i]}) != shape[${s+i}] (${t[s+i]})`)}function sS(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}j4(n,e,t)}function D1(t,e,n){const r=e.shape.length,i=r>1?e.shape[r-1]:1,o=n.length;let s=1;for(let g=i;g<o;++g)s*=n[g];const l=i<1?1:i,f=lt(e.shape)/l,p=[...Ta(n.slice(0,i)),1],m=lt(n);return{sliceRank:i,numUpdates:f,sliceSize:s,strides:p,outputSize:m}}const t0e=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:D1,validateInput:sS,validateUpdateShape:j4},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0e(t,e,n){const r=q(t,"tensor","tensorScatterupdate"),i=q(e,"indices","tensorScatterupdate","int32"),o=q(n,"updates","tensorScatterupdate");if(sS(o,i,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const s={tensor:r,indices:i,updates:o},l={};return le.runKernel(HR,s,l)}const P9=ue({tensorScatterUpdate_:n0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0e(t,e=1,n=!0){const r=q(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const i=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) but got ${e}`);const o={x:r},s={k:e,sorted:n},[l,f]=le.runKernel(hA,o,s);return{values:l,indices:f}}const M9=ue({topk_:r0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i0e(t,e=0,n=1,r,i){if(ls(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new O4(e,n,r,!0,i),s=Nr(t,r);for(let l=0;l<s.values.length;l++)s.values[l]=o.nextValue();return s.toTensor()}const L9=ue({truncatedNormal_:i0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a0e(t,e=0){const n=q(t,"x","unique","string_or_numeric");X(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},i={axis:e},[o,s]=le.runKernel(Y5,r,i);return{values:o,indices:s}}const F9=ue({unique_:a0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0e(t,e,n){const r=q(t,"x","unsortedSegmentSum"),i=q(e,"segmentIds","unsortedSegmentSum","int32");X(Hg(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:i},s={numSegments:n};return le.runKernel(vA,o,s)}const V9=ue({unsortedSegmentSum_:o0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s0e(t,e=0){const n=q(t,"x","unstack","string_or_numeric");X(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},i={axis:e};return le.runKernel(gA,r,i)}const ap=ue({unstack_:s0e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j9(t,e){return rS(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z9(t,e=!0,n,r){return le.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B9(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const r=Nr(t,"int32"),i=Nr([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const s=r.indexToLoc(n[o]),l=o*t.length;i.values.set(s,l)}return i.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function u0e(t){const e=q(t,"condition","whereAsync","bool"),n=await e.data(),r=B9(e.shape,n);return t!==e&&e.dispose(),r}const z4=u0e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function l0e(t,e,n){const r=q(t,"tensor","boolMask"),i=q(e,"mask","boolMask","bool"),o=n??0,s=i.rank,l=r.shape;X(s>0,()=>"mask cannot be scalar"),Va(l.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let _=o;_<o+s;_++)f*=l[_];const p=l.slice(0,o).concat([f],l.slice(o+s)),m=ze(r,p),g=ze(i,[-1]),y=await z4(g),x=ju(y,[1]),S=s4(m,x,o);return t!==r&&r.dispose(),e!==i&&i.dispose(),x.dispose(),m.dispose(),g.dispose(),y.dispose(),S}const U9=l0e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c0e(t,e,n){const r=q(t,"x","transpose");if(e==null&&(e=r.shape.map((s,l)=>l).reverse()),X(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(s=>{X(s>=0&&s<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const i={x:r},o={perm:e};return r.dtype==="complex64"?tn(()=>{let s=f0(r),l=E1(r);return s=le.runKernel(n1,{x:s},o),l=le.runKernel(n1,{x:l},o),n&&(l=Tl(l)),_f(s,l)}):le.runKernel(n1,i,o)}const O1=ue({transpose_:c0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0e(t,e,n,r,i=!0){const o=q(t,"v","movingAverage"),s=q(e,"x","movingAverage"),l=q(n,"decay","movingAverage");bB(o,s),X(ja(o.shape,s.shape),()=>"Shape mismatch in v and x");const f=Tn(1),p=xn(f,l);let m=vt(xn(s,o),p);if(i){X(r!=null,()=>"When using zeroDebias: true, step is required.");const g=q(r,"step","movingAverage");m=Er(m,xn(f,s0(l,g)))}return en(o,m)}const H9=ue({movingAverage_:f0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0e(t,e,n){ls(n);const r=q(t,"indices","scatterND","int32"),i=q(e,"updates","scatterND");sS(i,r,n);const o={indices:r,updates:i},s={shape:n};return le.runKernel(UR,o,s)}const W9=ue({scatterND_:d0e});function p0e(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const i=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const s=e.size;if(!(e.rank===0||e.rank===1&&s===i))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${i}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h0e(t,e,n,r=0){ls(n);const i=q(t,"sparseIndices","sparseToDense","int32"),o=q(e,"sparseValues","sparseToDense","string_or_numeric"),s=q(r,"defaultValue","sparseToDense",o.dtype);p0e(i,o,n,s);const l={sparseIndices:i,sparseValues:o,defaultValue:s},f={outputShape:n};return le.runKernel(sA,l,f)}const G9=ue({sparseToDense_:h0e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0e(t,e){const n=q(e,"indices","gatherND","int32"),i={params:q(t,"x","gatherND","string_or_numeric"),indices:n};return le.runKernel(WN,i)}const K9=ue({gatherND_:m0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0e(t,e){if(e==null)return t.shape.slice();if(ja(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v0e(t,e,n,r){const i=q(t,"x","dropout");if(X(i.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`),X(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof rr?i.clone():i;const o=g0e(i,n),s=1-e,l=Er(o4(en(iS(o,0,1,"float32",r),s)),s);return vt(i,l)}const q9=ue({dropout_:v0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function uS(t,e,n){const r=1-t%2,i=new Float32Array(t);for(let o=0;o<t;++o){const s=2*Math.PI*o/(t+r-1);i[o]=e-n*Math.cos(s)}return nu(i,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function y0e(t,e,n=1){const r=q(t,"predictions","inTopK"),i=q(e,"targets","inTopK");X(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),X(r.rank-1===i.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`),Va(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];X(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const s=await r.data(),l=await i.data(),[f,p]=[s.length/o,o],m=Sf("bool",f);for(let g=0;g<f;g++){const y=g*p,x=s.subarray(y,y+p),S=[];for(let _=0;_<x.length;_++)S.push({value:x[_],index:_});S.sort((_,k)=>k.value-_.value),m[g]=0;for(let _=0;_<n;_++)if(S[_].index===l[g]){m[g]=1;break}}return t!==r&&r.dispose(),e!==i&&i.dispose(),Lu(m,i.shape,"bool")}const Y9=y0e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0e(t,e,n,r,i,o="NHWC",s){let l=t;t.rank===3&&(l=ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=ze(e,[1,e.shape[0],e.shape[1],e.shape[2]])),X(l.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${l.shape}.`),X(f.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),X(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const p=o==="NHWC"?l.shape[3]:l.shape[1],m=o==="NHWC"?f.shape[3]:f.shape[1];X(p===n[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${n[2]}.`),X(m===n[3],()=>`Error in conv2dDerFilter: depth of dy (${m}) must match output depth for filter (${n[3]}).`),Fu("conv2dDerFilter",i,s);const g={x:l,dy:f},y={strides:r,pad:i,dataFormat:o,dimRoundingMode:s,filterShape:n};return le.runKernel(hN,g,y)}const w0e=ue({conv2DBackpropFilter_:b0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lS(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return vt(t,F4(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function cS(t,e){let n=e;const r=t4(t.shape,e.shape);return r.length>0&&(n=Rr(n,r)),ze(n,t.shape)}function fS(t,e,n,r){if(e==="linear")return t;if(e==="relu")return R1(t);if(e==="elu")return n4(t);if(e==="relu6")return I4(t);if(e==="prelu")return x4(t,n);if(e==="leakyrelu")return l4(t,r);if(e==="sigmoid")return Tc(t);throw new Error(`Unknown fused activation ${e}.`)}const dS=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x0e({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:l,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:m}){if(f=f||"linear",dS(le.state.gradientDepth,f)===!1){X(i==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let K=w1(t,e,n,r,i,o,s);return l!=null&&(K=en(K,l)),fS(K,f,p,m)}const g=q(t,"x","conv2d","float32"),y=q(e,"filter","conv2d","float32");let x=g,S=!1;g.rank===3&&(S=!0,x=ze(g,[1,g.shape[0],g.shape[1],g.shape[2]])),X(x.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${x.rank}.`),X(y.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${y.rank}.`),Fu("fused conv2d",r,s);const _=i==="NHWC"?x.shape[3]:x.shape[1];X(y.shape[2]===_,()=>`Error in conv2d: depth of input (${_}) must match input depth for filter ${y.shape[2]}.`),X(_l(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const k=tu(x.shape,y.shape,n,o,r,s);let R;l!=null&&(R=q(l,"bias","fused conv2d"),[R]=ri(R,g),i==="NHWC"?vr(k.outShape,R.shape):(X(R.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${R.shape.length}.`),X(R.shape.length===0||R.shape[0]===k.outChannels||R.shape[0]===1,()=>`Error in fused conv2d: bias shape (${R.shape}) is not compatible with the number of output channels (${k.outChannels})`)));let O;if(p!=null){const K=p.shape;if(X(K.length<=1||K.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${K.length}.`),K.length===1)X(K[0]===1||K[0]===k.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${K}) is not compatible with the number of output channels (${k.outChannels}).`);else if(K.length===3)try{vr(K,k.outShape)}catch{const te=`Error in fused conv2d: PReLU activation weights (${K}) is not compatible with the output shape of the conv2d (${k.outShape}).`;throw Error(te)}O=q(p,"prelu weights","fused conv2d")}const I=(K,Y)=>{X(i==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`);const[te,fe,ye,de]=Y,Pe=lS(K,ye,f);X(y1(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const xe=pU(fe.shape,Pe,te,n,r),Te=w0e(fe,Pe,te.shape,n,r),je=[xe,Te];if(de!=null){const $e=cS(de,Pe);je.push($e)}return je},P={x,filter:y,bias:R,preluActivationWeights:O},F={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:s,activation:f,leakyreluAlpha:m};return l==null?Nc((Y,te,fe)=>{let ye=le.runKernel(zx,P,F);return fe([te,Y,ye]),S&&(ye=ze(ye,[ye.shape[1],ye.shape[2],ye.shape[3]])),{value:ye,gradFunc:I}})(x,y):Nc((Y,te,fe,ye)=>{let de=le.runKernel(zx,P,F);return ye([te,Y,de,fe]),S&&(de=ze(de,[de.shape[1],de.shape[2],de.shape[3]])),{value:de,gradFunc:I}})(x,y,R)}const S0e=ue({fusedConv2d_:x0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C0e(t,e,n,r,i,o=[1,1],s){let l=t;t.rank===3&&(l=ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const p={x:l,dy:f},m={strides:r,pad:i,dimRoundingMode:s,dilations:o,filterShape:n};return le.runKernel(TN,p,m)}const E0e=ue({depthwiseConv2dNativeBackpropFilter_:C0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0e(t,e,n,r,i,o=[1,1],s){let l=e,f=!1;e.rank===3&&(f=!0,l=ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const p={dy:l,filter:n},m={strides:r,pad:i,dimRoundingMode:s,dilations:o,inputShape:t},g=le.runKernel(kN,p,m);return f?ze(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const T0e=ue({depthwiseConv2dNativeBackpropInput_:_0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k0e({x:t,filter:e,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:l,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:m}){if(dS(le.state.gradientDepth,f)===!1){let F=Zx(t,e,n,r,i,o,s);return l!=null&&(F=en(F,l)),fS(F,f,p,m)}const g=q(t,"x","depthwiseConv2d","float32"),y=q(e,"filter","depthwiseConv2d","float32");let x=g,S=!1;g.rank===3&&(S=!0,x=ze(g,[1,g.shape[0],g.shape[1],g.shape[2]])),X(x.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${x.rank}.`),X(y.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${y.rank}.`),X(x.shape[3]===y.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${x.shape[3]}) must match the inChannels dimension in filter ${y.shape[2]}.`),o==null&&(o=[1,1]),X(_l(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Fu("fused depthwiseConv2d",r,s);const _=tu(x.shape,y.shape,n,o,r,s,!0);let k;l!=null&&(k=q(l,"bias","fused conv2d"),[k]=ri(k,g),vr(_.outShape,k.shape));let R;p!=null&&(R=q(p,"prelu weights","fused depthwiseConv2d"));const O=(F,K)=>{X(y1(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[Y,te,fe,ye]=K,de=lS(F,fe,f),Pe=T0e(te.shape,de,Y,n,r,o,s),xe=E0e(te,de,Y.shape,n,r,o,s);if(ye!=null){const Te=cS(k,de);return[Pe,xe,Te]}return[Pe,xe]},I={x,filter:y,bias:k,preluActivationWeights:R},P={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:s,activation:f,leakyreluAlpha:m};return l==null?Nc((K,Y,te)=>{let fe=le.runKernel(Bx,I,P);return te([Y,K,fe]),S&&(fe=ze(fe,[fe.shape[1],fe.shape[2],fe.shape[3]])),{value:fe,gradFunc:O}})(x,y):Nc((K,Y,te,fe)=>{let ye=le.runKernel(Bx,I,P);return fe([Y,K,ye,te]),S&&(ye=ze(ye,[ye.shape[1],ye.shape[2],ye.shape[3]])),{value:ye,gradFunc:O}})(x,y,k)}const N0e=ue({fusedDepthwiseConv2d_:k0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R0e({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:i,activation:o="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}){if(dS(le.state.gradientDepth,o)===!1){let de=Qn(t,e,n,r);return i!=null&&(de=en(de,i)),fS(de,o,s,l)}let f=q(t,"a","fused matMul"),p=q(e,"b","fused matMul");[f,p]=ri(f,p);const m=n?f.shape[f.rank-2]:f.shape[f.rank-1],g=r?p.shape[p.rank-1]:p.shape[p.rank-2],y=n?f.shape[f.rank-1]:f.shape[f.rank-2],x=r?p.shape[p.rank-2]:p.shape[p.rank-1],S=f.shape.slice(0,-2),_=p.shape.slice(0,-2),k=lt(S),R=lt(_);X(m===g,()=>`Error in fused matMul: inner shapes (${m}) and (${g}) of Tensors with shapes ${f.shape} and ${p.shape} and transposeA=${n} and transposeB=${r} must match.`);const I=vr(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([y,x]),P=n?ze(f,[k,m,y]):ze(f,[k,y,m]),F=r?ze(p,[R,x,g]):ze(p,[R,g,x]);let K;i!=null&&(K=q(i,"bias","fused matMul"),[K]=ri(K,f),vr(I,K.shape));let Y;s!=null&&(Y=q(s,"prelu weights","fused matMul"));const te=(de,Pe)=>{const[xe,Te,je,$e]=Pe,Re=lS(ze(de,je.shape),je,o);let be,Ve;if(!n&&!r?(be=Qn(Re,Te,!1,!0),Ve=Qn(xe,Re,!0,!1)):!n&&r?(be=Qn(Re,Te,!1,!1),Ve=Qn(Re,xe,!0,!1)):n&&!r?(be=Qn(Te,Re,!1,!0),Ve=Qn(xe,Re,!1,!1)):(be=Qn(Te,Re,!0,!0),Ve=Qn(Re,xe,!0,!0)),i!=null){const he=cS($e,Re);return[be,Ve,he]}else return[be,Ve]},fe={a:P,b:F,bias:K,preluActivationWeights:Y},ye={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:l};return i==null?Nc((Pe,xe,Te)=>{const je=le.runKernel(jx,fe,ye);return Te([Pe,xe,je]),{value:ze(je,I),gradFunc:te}})(P,F):Nc((Pe,xe,Te,je)=>{const $e=le.runKernel(jx,fe,ye);return je([Pe,xe,$e,Te]),{value:ze($e,I),gradFunc:te}})(P,F,K)}const A0e=ue({fusedMatMul_:R0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z9=Object.freeze(Object.defineProperty({__proto__:null,conv2d:S0e,depthwiseConv2d:N0e,matMul:A0e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D0e(t){return uS(t,.54,.46)}const O0e=ue({hammingWindow_:D0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $0e(t){return uS(t,.5,.5)}const X9=ue({hannWindow_:$0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0e(t,e,n,r=!1,i=0){let o=0;const s=[];for(;o+e<=t.size;)s.push(Sr(t,o,e)),o+=n;if(r)for(;o<t.size;){const l=o+e-t.size,f=za([Sr(t,o,e-l),n0([l],i)]);s.push(f),o+=n}return s.length===0?Yh([],[0,e]):ze(za(s),[s.length,e])}const Q9=ue({frame_:I0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P0e(t,e,n,r,i=X9){r==null&&(r=B4(e));const o=Q9(t,e,n),s=vt(o,i(e));return oS(s,r)}const M0e=ue({stft_:P0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L0e(t,e,n,r,i="bilinear",o=0){const s=q(t,"image","cropAndResize"),l=q(e,"boxes","cropAndResize","float32"),f=q(n,"boxInd","cropAndResize","int32"),p=l.shape[0];X(s.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),X(l.rank===2&&l.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${l.shape}.`),X(f.rank===1&&f.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${l.shape}.`),X(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),X(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),X(i==="bilinear"||i==="nearest",()=>`method must be bilinear or nearest, but was ${i}`);const m={image:s,boxes:l,boxInd:f},g={method:i,extrapolationValue:o,cropSize:r};return le.runKernel(SN,m,g)}const F0e=ue({cropAndResize_:L0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V0e(t){const e=q(t,"image","flipLeftRight","float32");X(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return le.runKernel(jN,n,{})}const j0e=ue({flipLeftRight_:V0e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0e(t){const e=q(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];X(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),X(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const i=new Array(e.rank);return i.fill(1,0,n),i[n]=3,u0(e,i)}const B0e=ue({grayscaleToRGB_:z0e});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0e(t){const e=q(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];X(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),X(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const i=e.dtype,o=Kn(e,"float32"),s=nu([.2989,.587,.114]);let l;switch(e.rank){case 2:l=Wh("ij,j->i",o,s);break;case 3:l=Wh("ijk,k->ij",o,s);break;case 4:l=Wh("ijkl,l->ijk",o,s);break;case 5:l=Wh("ijklm,m->ijkl",o,s);break;case 6:l=Wh("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return l=Mo(l,-1),Kn(l,i)}const H0e=ue({rgbToGrayscale_:U0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W0e(t,e,n=0,r=.5){const i=q(t,"image","rotateWithOffset","float32");X(i.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`);const o={image:i},s={radians:e,fillValue:n,center:r};return le.runKernel(wA,o,s)}const G0e=ue({rotateWithOffset_:W0e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p0(t,e,n,r,i,o){r==null&&(r=.5),i==null&&(i=Number.NEGATIVE_INFINITY),o==null&&(o=0);const s=t.shape[0];return n=Math.min(n,s),X(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),X(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),X(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),X(e.rank===1,()=>"scores must be a 1D tensor"),X(e.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${e.shape[0]}`),X(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0e(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=q(t,"boxes","nonMaxSuppression","float32"),s=q(e,"scores","nonMaxSuppression","float32"),l=p0(o,s,n,r,i);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold;const f={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return le.runKernel(CR,{boxes:o,scores:s},f)}const q0e=ue({nonMaxSuppression_:K0e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0e(t,e,n){const r=Z0e(t,e,n),i=r<0?-(r+1):r;t.splice(i,0,e)}function Z0e(t,e,n){return X0e(t,e,n)}function X0e(t,e,n){let r=0,i=t.length,o=0,s=!1;for(;r<i;){o=r+(i-r>>>1);const l=n(e,t[o]);l>0?r=o+1:(i=o,s=!l)}return s?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U4(t,e,n,r,i){return W4(t,e,n,r,i,0)}function J9(t,e,n,r,i,o){return W4(t,e,n,r,i,0,!1,o,!0)}function H4(t,e,n,r,i,o){return W4(t,e,n,r,i,o,!0)}function W4(t,e,n,r,i,o,s=!1,l=!1,f=!1){const p=[];for(let k=0;k<e.length;k++)e[k]>i&&p.push({score:e[k],boxIndex:k,suppressBeginIndex:0});p.sort(e7);const m=o>0?-.5/o:0,g=[],y=[];for(;g.length<n&&p.length>0;){const k=p.pop(),{score:R,boxIndex:O,suppressBeginIndex:I}=k;if(R<i)break;let P=!1;for(let F=g.length-1;F>=I;--F){const K=Q0e(t,O,g[F]);if(K>=r){P=!0;break}if(k.score=k.score*J0e(r,m,K),k.score<=i)break}k.suppressBeginIndex=g.length,P||(k.score===R?(g.push(O),y.push(k.score)):k.score>i&&Y0e(p,k,e7))}const x=g.length,S=n-x;l&&S>0&&(g.push(...new Array(S).fill(0)),y.push(...new Array(S).fill(0)));const _={selectedIndices:g};return s&&(_.selectedScores=y),f&&(_.validOutputs=x),_}function Q0e(t,e,n){const r=t.subarray(e*4,e*4+4),i=t.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),l=Math.max(r[0],r[2]),f=Math.max(r[1],r[3]),p=Math.min(i[0],i[2]),m=Math.min(i[1],i[3]),g=Math.max(i[0],i[2]),y=Math.max(i[1],i[3]),x=(l-o)*(f-s),S=(g-p)*(y-m);if(x<=0||S<=0)return 0;const _=Math.max(o,p),k=Math.max(s,m),R=Math.min(l,g),O=Math.min(f,y),I=Math.max(R-_,0)*Math.max(O-k,0);return I/(x+S-I)}function J0e(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function e7(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function eve(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=q(t,"boxes","nonMaxSuppressionAsync"),s=q(e,"scores","nonMaxSuppressionAsync"),l=p0(o,s,n,r,i);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold;const f=await Promise.all([o.data(),s.data()]),p=f[0],m=f[1],{selectedIndices:g}=U4(p,m,n,r,i);return o!==t&&o.dispose(),s!==e&&s.dispose(),nu(g,"int32")}const tve=eve;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nve(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const s=q(t,"boxes","nonMaxSuppression"),l=q(e,"scores","nonMaxSuppression"),f=p0(s,l,n,r,i,o);n=f.maxOutputSize,r=f.iouThreshold,i=f.scoreThreshold,o=f.softNmsSigma;const p={boxes:s,scores:l},m={maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o},g=le.runKernel(ER,p,m);return{selectedIndices:g[0],selectedScores:g[1]}}const rve=ue({nonMaxSuppressionWithScore_:nve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ive(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const s=q(t,"boxes","nonMaxSuppressionAsync"),l=q(e,"scores","nonMaxSuppressionAsync"),f=p0(s,l,n,r,i,o);n=f.maxOutputSize,r=f.iouThreshold,i=f.scoreThreshold,o=f.softNmsSigma;const p=await Promise.all([s.data(),l.data()]),m=p[0],g=p[1],{selectedIndices:y,selectedScores:x}=H4(m,g,n,r,i,o);return s!==t&&s.dispose(),l!==e&&l.dispose(),{selectedIndices:nu(y,"int32"),selectedScores:nu(x)}}const ave=ive;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ove(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const s=q(t,"boxes","nonMaxSuppression"),l=q(e,"scores","nonMaxSuppression"),f=p0(s,l,n,r,i,null),p=f.maxOutputSize,m=f.iouThreshold,g=f.scoreThreshold,y={boxes:s,scores:l},x={maxOutputSize:p,iouThreshold:m,scoreThreshold:g,padToMaxOutputSize:o},S=le.runKernel(L5,y,x);return{selectedIndices:S[0],validOutputs:S[1]}}const sve=ue({nonMaxSuppressionPadded_:ove});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function uve(t,e,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const s=q(t,"boxes","nonMaxSuppressionAsync"),l=q(e,"scores","nonMaxSuppressionAsync"),f=p0(s,l,n,r,i,null),p=f.maxOutputSize,m=f.iouThreshold,g=f.scoreThreshold,[y,x]=await Promise.all([s.data(),l.data()]),{selectedIndices:S,validOutputs:_}=J9(y,x,p,m,g,o);return s!==t&&s.dispose(),l!==e&&l.dispose(),{selectedIndices:nu(S,"int32"),validOutputs:Tn(_,"int32")}}const lve=uve;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cve(t,e,n=!1,r=!1){const i=q(t,"images","resizeBilinear");X(i.rank===3||i.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`),X(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),X(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=i,s=!1;i.rank===3&&(s=!0,o=ze(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={images:o},f={alignCorners:n,halfPixelCenters:r,size:e},p=le.runKernel(FR,l,f);return s?ze(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const fve=ue({resizeBilinear_:cve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dve(t,e,n=!1,r=!1){const i=q(t,"images","resizeNearestNeighbor");X(i.rank===3||i.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`),X(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),X(i.dtype==="float32"||i.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),X(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=i,s=!1;i.rank===3&&(s=!0,o=ze(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={images:o},f={alignCorners:n,halfPixelCenters:r,size:e},p=le.runKernel(LR,l,f);return s?ze(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const pve=ue({resizeNearestNeighbor_:dve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hve(t,e="binary",n=!1,r=.5){const i=q(t,"image","threshold"),o=.2989,s=.587,l=.114,f=i.shape[0]*i.shape[1];let p=vt(nu([r]),255),m,g,y,x;if(X(i.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`),X(i.shape[2]===3||i.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`),X(i.dtype==="int32"||i.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`),X(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),i.shape[2]===3){[m,g,y]=d0(i,[1,1,1],-1);const k=vt(m,o),R=vt(g,s),O=vt(y,l);x=en(en(k,R),O)}else x=t;if(e==="otsu"){const k=e4(Kn(P4(x),"int32"),Lu([]),256);p=mve(k,f)}const S=n?eS(x,p):l0(x,p);return Kn(vt(S,255),"int32")}function mve(t,e){let n=nu([-1]),r=nu([0]),i=nu([0]),o,s,l,f,p,m;for(let g=0;g<t.size-1;g++){o=Sr(t,0,g+1),s=Sr(t,g+1),p=Er(Rr(o),e),m=Er(Rr(s),e);const y=Rr(vt(o,rp(0,o.size)));l=Er(y,Rr(o));const x=n0(s.shape,o.size),S=en(rp(0,s.size),x),_=vt(s,S);f=Er(Rr(_),Rr(s));const k=xn(l,f),R=xn(l,f),O=vt(p,m);i=vt(vt(O,k),R);const I=l0(i,r);r=Nf(I,i,r),n=Nf(I,nu([g]),n)}return n}const gve=ue({threshold_:hve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vve(t,e,n="nearest",r="constant",i=0,o){const s=q(t,"image","transform","float32"),l=q(e,"transforms","transform","float32");X(s.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),X(l.rank===2&&(l.shape[0]===s.shape[0]||l.shape[0]===1)&&l.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),X(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const f={image:s,transforms:l},p={interpolation:n,fillMode:r,fillValue:i,outputShape:o};return le.runKernel(mA,f,p)}const yve=ue({transform_:vve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bve(t,e,n){const r=q(t,"a","bandPart");X(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const i=r.shape,[o,s]=r.shape.slice(-2);let l,f;typeof e=="number"?(X(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),X(e<=o,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`),l=q(e<0?o:e,"numLower","bandPart")):(X(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),l=Nf(Jx(e,0),o,k1(e,o))),typeof n=="number"?(X(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),X(n<=s,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`),f=q(n<0?s:n,"numUpper","bandPart")):(X(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),f=Nf(Jx(n,0),s,k1(n,s)));const p=ze(rp(0,o,1,"int32"),[-1,1]),m=rp(0,s,1,"int32"),g=xn(p,m),y=_1(eS(g,l),u4(g,Tl(f))),x=tp([o,s],r.dtype);return ze(Rc(ap(ze(r,[-1,o,s])).map(S=>Nf(y,S,x))),i)}const wve=ue({bandPart_:bve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xve(t){let e;if(Array.isArray(t)){e=!1,X(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const i=t[0].shape[0];for(let o=1;o<t.length;++o)X(t[o].shape[0]===i,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[o].shape[0]} vs. ${i})`)}else e=!0,t=d0(t,t.shape[0],0).map(i=>ju(i,[0]));X(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let i=0;i<t.length;++i)n.push(le.tidy(()=>{let o=r[i];if(i>0)for(let s=0;s<i;++s){const l=vt(Rr(vt(n[s],o)),n[s]);o=xn(o,l)}return Er(o,C1(o,"euclidean"))}));return e?Rc(n,0):n}const Sve=ue({gramSchmidt_:xve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cve(t,e=!1){if(X(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return t7(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((f,p)=>f*p),r=ap(ze(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],o=[];r.forEach(f=>{const[p,m]=t7(f,e);i.push(p),o.push(m)});const s=ze(Rc(i,0),t.shape),l=ze(Rc(o,0),t.shape);return[s,l]}}function t7(t,e=!1){return le.tidy(()=>{X(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let i=a4(n),o=kf(t);const s=Yh([[1]],[1,1]);let l=kf(s);const f=n>=r?r:n;for(let p=0;p<f;++p){const m=o,g=l,y=i;[l,o,i]=le.tidy(()=>{const x=Sr(o,[p,p],[n-p,1]),S=C1(x),_=Sr(o,[p,p],[1,1]),k=Nf(l0(_,0),Yh([[-1]]),Yh([[1]])),R=xn(_,vt(k,S)),O=Er(x,R);O.shape[0]===1?l=kf(s):l=za([s,Sr(O,[1,0],[O.shape[0]-1,O.shape[1]])],0);const I=Tl(Er(Qn(k,R),S)),P=Sr(o,[p,0],[n-p,r]),F=vt(I,l),K=O1(l);if(p===0)o=xn(P,Qn(F,Qn(K,P)));else{const fe=xn(P,Qn(F,Qn(K,P)));o=za([Sr(o,[0,0],[p,r]),fe],0)}const Y=O1(F),te=Sr(i,[0,p],[n,i.shape[1]-p]);if(p===0)i=xn(te,Qn(Qn(te,l),Y));else{const fe=xn(te,Qn(Qn(te,l),Y));i=za([Sr(i,[0,0],[n,p]),fe],1)}return[l,o,i]}),so([m,g,y])}return!e&&n>r&&(i=Sr(i,[0,0],[n,r]),o=Sr(o,[0,0],[r,r])),[i,o]})}const Eve=ue({qr_:Cve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var lo;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(lo||(lo={}));function _ve(t,e,n=lo.SUM_BY_NONZERO_WEIGHTS){const r=q(t,"losses","computeWeightedLoss");let i=null;e!=null&&(i=q(e,"weights","computeWeightedLoss"));const o=i==null?r:vt(r,i);if(n===lo.NONE)return o;if(n===lo.SUM)return Rr(o);if(n===lo.MEAN){if(i==null)return T1(o);{const s=r.size/i.size,l=Er(Rr(o),Rr(i));return s>1?Er(l,Tn(s)):l}}if(n===lo.SUM_BY_NONZERO_WEIGHTS){if(i==null)return Er(Rr(o),Tn(r.size));{const s=vt(i,np(r.shape)),l=Kn(Rr(y4(s,Tn(0))),"float32");return Er(Rr(o),l)}}throw Error(`Unknown reduction: ${n}`)}const Rf=ue({computeWeightedLoss_:_ve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tve(t,e,n,r=lo.SUM_BY_NONZERO_WEIGHTS){const i=q(t,"labels","absoluteDifference"),o=q(e,"predictions","absoluteDifference");let s=null;n!=null&&(s=q(n,"weights","absoluteDifference")),Va(i.shape,o.shape,"Error in absoluteDifference: ");const l=ds(xn(i,o));return Rf(l,s,r)}const kve=ue({absoluteDifference_:Tve});function Nve(t,e,n,r,i=lo.SUM_BY_NONZERO_WEIGHTS){const o=q(t,"labels","cosineDistance"),s=q(e,"predictions","cosineDistance");let l=null;r!=null&&(l=q(r,"weights","cosineDistance")),Va(o.shape,s.shape,"Error in cosineDistance: ");const f=Tn(1),p=xn(f,Rr(vt(o,s),n,!0));return Rf(p,l,i)}const Rve=ue({cosineDistance_:Nve});function Ave(t,e,n,r=lo.SUM_BY_NONZERO_WEIGHTS){let i=q(t,"labels","hingeLoss");const o=q(e,"predictions","hingeLoss");let s=null;n!=null&&(s=q(n,"weights","hingeLoss")),Va(i.shape,o.shape,"Error in hingeLoss: ");const l=Tn(1);i=xn(vt(Tn(2),i),l);const f=R1(xn(l,vt(i,o)));return Rf(f,s,r)}const Dve=ue({hingeLoss_:Ave});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ove(t,e,n,r=1,i=lo.SUM_BY_NONZERO_WEIGHTS){const o=q(t,"labels","huberLoss"),s=q(e,"predictions","huberLoss");let l=null;n!=null&&(l=q(n,"weights","huberLoss")),Va(o.shape,s.shape,"Error in huberLoss: ");const f=Tn(r),p=ds(xn(s,o)),m=k1(p,f),g=xn(p,m),y=en(vt(Tn(.5),Vu(m)),vt(f,g));return Rf(y,l,i)}const $ve=ue({huberLoss_:Ove});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ive(t,e,n,r=1e-7,i=lo.SUM_BY_NONZERO_WEIGHTS){const o=q(t,"labels","logLoss"),s=q(e,"predictions","logLoss");let l=null;n!=null&&(l=q(n,"weights","logLoss")),Va(o.shape,s.shape,"Error in logLoss: ");const f=Tn(1),p=Tn(r),m=Tl(vt(o,c0(en(s,p)))),g=vt(xn(f,o),c0(en(xn(f,s),p))),y=xn(m,g);return Rf(y,l,i)}const Pve=ue({logLoss_:Ive});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mve(t,e,n,r=lo.SUM_BY_NONZERO_WEIGHTS){const i=q(t,"labels","meanSquaredError"),o=q(e,"predictions","meanSquaredError");let s=null;n!=null&&(s=q(n,"weights","meanSquaredError")),Va(i.shape,o.shape,"Error in meanSquaredError: ");const l=L4(i,o);return Rf(l,s,r)}const Lve=ue({meanSquaredError_:Mve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fve(t,e){const n=q(t,"labels","sigmoidCrossEntropyWithLogits"),r=q(e,"logits","sigmoidCrossEntropyWithLogits");Va(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=R1(r),o=vt(r,n),s=c4(ep(Tl(ds(r))));return en(xn(i,o),s)}function Vve(t,e,n,r=0,i=lo.SUM_BY_NONZERO_WEIGHTS){let o=q(t,"multiClassLabels","sigmoidCrossEntropy");const s=q(e,"logits","sigmoidCrossEntropy");let l=null;if(n!=null&&(l=q(n,"weights","sigmoidCrossEntropy")),Va(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const p=Tn(r),m=Tn(1),g=Tn(.5);o=en(vt(o,xn(m,p)),vt(g,p))}const f=Fve(o,s);return Rf(f,l,i)}const jve=ue({sigmoidCrossEntropy_:Vve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zve(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Nc((i,o,s)=>{const f=d4(o,[n],!0),p=xn(Kn(o,"float32"),f);s([i,p]);const m=Tl(vt(p,i));return{value:Rr(m,[n]),gradFunc:(x,S)=>{const[_,k]=S,R=i0(x.shape,[n]);return[vt(ze(x,R),xn(Kn(_,"float32"),ep(k))),vt(ze(x,R),xn(ep(k),Kn(_,"float32")))]}}})(t,e)}function Bve(t,e,n,r=0,i=lo.SUM_BY_NONZERO_WEIGHTS){let o=q(t,"onehotLabels","softmaxCrossEntropy");const s=q(e,"logits","softmaxCrossEntropy");let l=null;if(n!=null&&(l=q(n,"weights","softmaxCrossEntropy")),Va(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const p=Tn(r),m=Tn(1),g=Tn(o.shape[1]);o=en(vt(o,xn(m,p)),Er(p,g))}const f=zve(o,s);return Rf(f,l,i)}const Uve=ue({softmaxCrossEntropy_:Bve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hve(t,e,n,r){const i=q(t,"indices","sparseFillEmptyRows","int32"),o=q(e,"values","sparseFillEmptyRows"),s=q(n,"denseShape","sparseFillEmptyRows","int32"),l=q(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(i.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${i.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(s.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(l.rank!==0)throw new Error(`Default value should be a scalar but received shape ${l.shape}`);const f={indices:i,values:o,denseShape:s,defaultValue:l},p=le.runKernel(U5,f);return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}const Wve=ue({sparseFillEmptyRows_:Hve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gve(t,e,n){const r=q(t,"inputIndices","sparseReshape","int32"),i=q(e,"inputShape","sparseReshape","int32"),o=q(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(i.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const s={inputIndices:r,inputShape:i,newShape:o},l=le.runKernel(H5,s);return{outputIndices:l[0],outputShape:l[1]}}const Kve=ue({sparseReshape_:Gve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qve(t,e,n){const r=q(t,"data","sparseSegmentMean"),i=q(e,"indices","sparseSegmentMean","int32"),o=q(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${i.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const s={data:r,indices:i,segmentIds:o};return le.runKernel(aA,s)}const Yve=ue({sparseSegmentMean_:qve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zve(t,e,n){const r=q(t,"data","sparseSegmentSum"),i=q(e,"indices","sparseSegmentSum","int32"),o=q(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${i.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const s={data:r,indices:i,segmentIds:o};return le.runKernel(oA,s)}const Xve=ue({sparseSegmentSum_:Zve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qve(t,e,n,r,i,o,s,l){const f=q(t,"data","stringNGrams","string");if(f.dtype!=="string")throw new Error("Data must be of datatype string");if(f.shape.length!==1)throw new Error(`Data must be a vector, saw: ${f.shape}`);const p=q(e,"dataSplits","stringNGrams");if(p.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const m={separator:n,nGramWidths:r,leftPad:i,rightPad:o,padWidth:s,preserveShortSequences:l},g={data:f,dataSplits:p},y=le.runKernel(cA,g,m);return{nGrams:y[0],nGramsSplits:y[1]}}const Jve=ue({stringNGrams_:Qve});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eye(t,e,n=!0){const r=q(t,"input","stringSplit","string"),i=q(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(i.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const o={skipEmpty:n},s={input:r,delimiter:i},l=le.runKernel(K5,s,o);return{indices:l[0],values:l[1],shape:l[2]}}const tye=ue({stringSplit_:eye});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nye(t,e){const n=q(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return le.runKernel(q5,i,r)}const rye=ue({stringToHashBucketFast_:nye});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iye(t,e,n,r=!0){const i=q(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:r};return le.runKernel(G5,{x:i},o)}const aye=ue({staticRegexReplace_:iye});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n7={fft:aS,ifft:A1,rfft:oS,irfft:M4},r7={hammingWindow:O0e,hannWindow:X9,frame:Q9,stft:M0e},Zh={flipLeftRight:j0e,grayscaleToRGB:B0e,resizeNearestNeighbor:pve,resizeBilinear:fve,rgbToGrayscale:H0e,rotateWithOffset:G0e,cropAndResize:F0e,nonMaxSuppression:q0e,nonMaxSuppressionAsync:tve,nonMaxSuppressionWithScore:rve,nonMaxSuppressionWithScoreAsync:ave,nonMaxSuppressionPadded:sve,nonMaxSuppressionPaddedAsync:lve,threshold:gve,transform:yve},i7={bandPart:wve,gramSchmidt:Sve,qr:Eve},a7={absoluteDifference:kve,computeWeightedLoss:Rf,cosineDistance:Rve,hingeLoss:Dve,huberLoss:$ve,logLoss:Pve,meanSquaredError:Lve,sigmoidCrossEntropy:jve,softmaxCrossEntropy:Uve},o7={sparseFillEmptyRows:Wve,sparseReshape:Kve,sparseSegmentMean:Yve,sparseSegmentSum:Xve},s7={stringNGrams:Jve,stringSplit:tye,stringToHashBucketFast:rye,staticRegexReplace:aye};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oye=new Map,G4=new Map;class u7{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class op{constructor(){this.classNameMap={}}static getMap(){return op.instance==null&&(op.instance=new op),op.instance}static register(e){op.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function l7(t,e,n){X(t.className!=null,()=>"Class being registered does not have the static className property defined."),X(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),X(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,i=e+">"+r;return op.register(t),oye.set(i,t),G4.set(t,i),t}function sye(t){return G4.has(t)?G4.get(t):t.className}const uye=Object.freeze(Object.defineProperty({__proto__:null,Serializable:u7,SerializationMap:op,getRegisteredName:sye,registerClass:l7},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sp extends u7{minimize(e,n=!1,r){const{value:i,grads:o}=this.computeGradients(e,r);if(r!=null){const s=r.map(l=>({name:l.name,tensor:o[l.name]}));this.applyGradients(s)}else this.applyGradients(o);return so(o),n?i:(i.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return FU(e,n)}dispose(){this.iterations_!=null&&so(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Tn(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(sp,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K4 extends sp{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const o=le.registeredVariables[r],s=!1;this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accum_grad`,variable:tn(()=>ps(o).variable(s))}),this.accumulatedUpdates[i]==null&&(this.accumulatedUpdates[i]={originalName:`${r}/accum_var`,variable:tn(()=>ps(o).variable(s))});const l=Array.isArray(e)?e[i].tensor:e[r];if(l==null)return;const f=this.accumulatedGrads[i].variable,p=this.accumulatedUpdates[i].variable;tn(()=>{const m=en(vt(f,this.rho),vt(Vu(l),1-this.rho)),g=vt(Er(kc(en(p,this.epsilon)),kc(en(f,this.epsilon))),l),y=en(vt(p,this.rho),vt(Vu(g),1-this.rho));f.assign(m),p.assign(y);const x=en(vt(g,-this.learningRate),o);o.assign(x)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(so(this.accumulatedGrads.map(e=>e.variable)),so(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q4 extends sp{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const o=le.registeredVariables[r];this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accumulator`,variable:tn(()=>n0(o.shape,this.initialAccumulatorValue).variable(!1))});const s=Array.isArray(e)?e[i].tensor:e[r];if(s==null)return;const l=this.accumulatedGrads[i].variable;tn(()=>{const f=en(l,Vu(s));l.assign(f);const p=en(vt(Er(s,kc(en(f,le.backend.epsilon()))),-this.learningRate),o);o.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&so(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y4 extends sp{static get className(){return"Adam"}constructor(e,n,r,i=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=i,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],tn(()=>{this.accBeta1=Tn(n).variable(),this.accBeta2=Tn(r).variable()}),i==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);tn(()=>{const r=xn(1,this.accBeta1),i=xn(1,this.accBeta2);n.forEach((o,s)=>{const l=le.registeredVariables[o],f=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${o}/m`,variable:tn(()=>ps(l).variable(f))}),this.accumulatedSecondMoment[s]==null&&(this.accumulatedSecondMoment[s]={originalName:`${o}/v`,variable:tn(()=>ps(l).variable(f))});const p=Array.isArray(e)?e[s].tensor:e[o];if(p==null)return;const m=this.accumulatedFirstMoment[s].variable,g=this.accumulatedSecondMoment[s].variable,y=en(vt(m,this.beta1),vt(p,1-this.beta1)),x=en(vt(g,this.beta2),vt(Vu(p),1-this.beta2)),S=Er(y,r),_=Er(x,i);m.assign(y),g.assign(x);const k=en(vt(Er(S,en(kc(_),this.epsilon)),-this.learningRate),l);l.assign(k)}),this.accBeta1.assign(vt(this.accBeta1,this.beta1)),this.accBeta2.assign(vt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&so(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&so(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),tn(()=>{this.accBeta1.assign(s0(this.beta1,this.iterations_+1)),this.accBeta2.assign(s0(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Z4 extends sp{static get className(){return"Adamax"}constructor(e,n,r,i=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=i,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],tn(()=>{this.iteration=Tn(0).variable(),this.accBeta1=Tn(n).variable()}),i==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);tn(()=>{const r=xn(1,this.accBeta1),i=Er(-this.learningRate,en(vt(this.iteration,this.decay),1));n.forEach((o,s)=>{const l=le.registeredVariables[o],f=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${o}/m`,variable:ps(l).variable(f)}),this.accumulatedWeightedInfNorm[s]==null&&(this.accumulatedWeightedInfNorm[s]={originalName:`${o}/v`,variable:ps(l).variable(f)});const p=Array.isArray(e)?e[s].tensor:e[o];if(p==null)return;const m=this.accumulatedFirstMoment[s].variable,g=this.accumulatedWeightedInfNorm[s].variable,y=en(vt(m,this.beta1),vt(p,1-this.beta1)),x=vt(g,this.beta2),S=ds(p),_=g4(x,S);m.assign(y),g.assign(_);const k=en(vt(Er(i,r),Er(y,en(_,this.epsilon))),l);l.assign(k)}),this.iteration.assign(en(this.iteration,1)),this.accBeta1.assign(vt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&so(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&so(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pS extends sp{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const o=Array.isArray(e)?e[i].tensor:e[r];if(o==null)return;const s=le.registeredVariables[r];tn(()=>{const l=en(vt(this.c,o),s);s.assign(l)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=El(Tn(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class X4 extends pS{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Tn(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const o=le.registeredVariables[r];this.accumulations[i]==null&&(this.accumulations[i]={originalName:`${r}/momentum`,variable:tn(()=>ps(o).variable(!1))});const s=this.accumulations[i].variable,l=Array.isArray(e)?e[i].tensor:e[r];l!=null&&tn(()=>{let f;const p=en(vt(this.m,s),l);this.useNesterov?f=en(vt(this.c,en(l,vt(p,this.m))),o):f=en(vt(this.c,p),o),s.assign(p),o.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&so(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Q4 extends sp{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,i=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=i,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,i==null&&(this.epsilon=le.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const o=le.registeredVariables[r],s=!1;this.accumulatedMeanSquares[i]==null&&(this.accumulatedMeanSquares[i]={originalName:`${r}/rms`,variable:tn(()=>ps(o).variable(s))}),this.accumulatedMoments[i]==null&&(this.accumulatedMoments[i]={originalName:`${r}/momentum`,variable:tn(()=>ps(o).variable(s))}),this.accumulatedMeanGrads[i]==null&&this.centered&&(this.accumulatedMeanGrads[i]={originalName:`${r}/mg`,variable:tn(()=>ps(o).variable(s))});const l=Array.isArray(e)?e[i].tensor:e[r];if(l==null)return;const f=this.accumulatedMeanSquares[i].variable,p=this.accumulatedMoments[i].variable;tn(()=>{const m=en(vt(f,this.decay),vt(Vu(l),1-this.decay));if(this.centered){const g=this.accumulatedMeanGrads[i].variable,y=en(vt(g,this.decay),vt(l,1-this.decay)),x=Er(vt(l,this.learningRate),kc(xn(m,en(Vu(y),this.epsilon)))),S=en(vt(p,this.momentum),x);f.assign(m),g.assign(y),p.assign(S);const _=xn(o,S);o.assign(_)}else{const g=en(vt(f,this.decay),vt(Vu(l),1-this.decay)),y=en(vt(p,this.momentum),Er(vt(l,this.learningRate),kc(en(g,this.epsilon))));f.assign(g),p.assign(y);const x=xn(o,y);o.assign(x)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&so(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&so(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&so(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lye=[K4,q4,Y4,Z4,X4,Q4,pS];function cye(){for(const t of lye)l7(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fye="model",dye=".json",pye=".weights.bin";function c7(t){return new Promise(e=>setTimeout(e)).then(t)}class Xh{constructor(e){if(!$t().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Xh.URL_SCHEME)&&(e=e.slice(Xh.URL_SCHEME.length)),(e==null||e.length===0)&&(e=fye),this.modelJsonFileName=e+dye,this.weightDataFileName=e+pye}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Cl.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const i=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o=$B(e,i),s=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),l=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(l.download=this.modelJsonFileName,l.href=s,await c7(()=>l.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const f=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;f.download=this.weightDataFileName,f.href=r,await c7(()=>f.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:p1(e)}}}}Xh.URL_SCHEME="downloads://";class hye{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{const o=JSON.parse(i.target.result),s=o.modelTopology;if(s==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:s});return}const f=jA(o,p=>this.loadWeights(p));e(f)},r.onerror=i=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const s of e)n.push(...s.weights),r.push(...s.paths);const i=this.checkManifestAndWeightFiles(e),o=r.map(s=>this.loadWeightsFile(s,i[s]));return Promise.all(o).then(s=>[n,s])}loadWeightsFile(e,n){return new Promise((r,i)=>{const o=new FileReader;o.onload=s=>{const l=s.target.result;r(l)},o.onerror=s=>i(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(o=>OB(o.name)),i={};for(const o of e)o.paths.forEach(s=>{const l=OB(s);if(n.indexOf(l)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${l}'`);if(n.push(l),r.indexOf(l)===-1)throw new Error(`Weight file with basename '${l}' is not provided.`);i[s]=this.weightsFiles[r.indexOf(l)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return i}}const mye=t=>$t().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Xh.URL_SCHEME)?gye(t.slice(Xh.URL_SCHEME.length)):null;ii.registerSaveRouter(mye);function gye(t="model"){return new Xh(t)}function vye(t){return new hye(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f7(t,e,n,r){s(t),n=n??0,r=r??1,l(n,r);let i=0;const o=f=>(f.then(p=>{const m=n+ ++i/t.length*(r-n);return e(m),p}),f);function s(f){X(f!=null&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")}function l(f,p){X(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),X(p>=0&&p<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${p}`),X(p>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${p}`)}return Promise.all(t.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function d7(t,e){e==null&&(e={});const n=e.fetchFunc==null?$t().platform.fetch:e.fetchFunc,r=t.map(g=>n(g,e.requestInit,{isBinary:!0})),l=(e.onProgress==null?await Promise.all(r):await f7(r,e.onProgress,0,.5)).map(g=>g.arrayBuffer());return e.onProgress==null?await Promise.all(l):await f7(l,e.onProgress,.5,1)}function yye(t,e){var n;const r=e.fetchFunc==null?$t().platform.fetch:e.fetchFunc;let i=0,o;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async s=>{for(var l;i<t.length;){o||(o=(await r(t[i],e.requestInit,{isBinary:!0})).body.getReader());const{done:f,value:p}=await o.read();if(f){i++,o=void 0,(l=e.onProgress)===null||l===void 0||l.call(e,i/t.length);continue}s.enqueue(p);return}s.close()}})}async function bye(t,e="",n,r){return p7(s=>d7(s,{requestInit:r}))(t,e,n)}function p7(t){return async(e,n="",r)=>{const i=e.map(()=>!1),o={},s=r!=null?r.map(()=>!1):[],l=[];if(e.forEach((x,S)=>{let _=0;x.weights.forEach(k=>{const R="quantization"in k?k.quantization.dtype:k.dtype,O=Fh[R]*lt(k.shape),I=()=>{i[S]=!0,o[S]==null&&(o[S]=[]),o[S].push({manifestEntry:k,groupOffset:_,sizeBytes:O})};r!=null?r.forEach((P,F)=>{P===k.name&&(I(),s[F]=!0)}):I(),l.push(k.name),_+=O})}),!s.every(x=>x)){const x=r.filter((S,_)=>!s[_]);throw new Error(`Could not find weights in manifest with names: ${x.join(", ")}. 
Manifest JSON has weights with names: ${l.join(", ")}.`)}const f=i.reduce((x,S,_)=>(S&&x.push(_),x),[]),p=[];f.forEach(x=>{e[x].paths.forEach(S=>{const _=n+(n.endsWith("/")?"":"/")+S;p.push(_)})});const m=await t(p),g={};let y=0;return f.forEach(x=>{const S=e[x].paths.length,_=new Cl(m.slice(y,y+S));o[x].forEach(R=>{const O=_.slice(R.groupOffset,R.groupOffset+R.sizeBytes),I=kB(O,[R.manifestEntry]);for(const P in I)g[P]=I[P]}),y+=S}),g}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wye="application/octet-stream",xye="application/json";class J4{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(X(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=$t().platform.fetch,X(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&X(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i=$B(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(i)],{type:xye}),"model.json"),e.weightData!=null){const s=Cl.join(e.weightData);n.body.append("model.weights.bin",new Blob([s],{type:wye}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:p1(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let s=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?s+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":s+=" Please make sure the server is serving valid JSON for this request.",new Error(s)}const r=n.modelTopology,i=n.weightsManifest;if(r==null&&i==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return jA(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=zA(e.weightsManifest),i=()=>yye(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:i})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,i]=Sye(n),o=this.weightPathPrefix||r,s=[],l=[];for(const f of e)for(const p of f.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(p)):s.push(o+p+i);return this.weightUrlConverter&&s.push(...await Promise.all(l)),s}async loadWeights(e){const n=await this.getWeightUrls(e),r=zA(e),i=await d7(n,this.loadOptions);return[r,i]}}J4.URL_SCHEME_REGEX=/^https?:\/\//;function Sye(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),i=n>e?t.substring(n):"";return[r+"/",i]}function eD(t){return t.match(J4.URL_SCHEME_REGEX)!=null}const h7=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>eD(r)):n=eD(t),n)return tD(t,e)}return null};ii.registerSaveRouter(h7),ii.registerLoadRouter(h7);function tD(t,e){return new J4(t,e)}function Cye(t,e){return tD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nD{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class m7{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Eye{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function _ye(t,e,n,r){const i=arguments;return new Eye(g7(...i))}function g7(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new nD(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new nD({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new nD({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function Tye(t){return new m7(t)}function kye(t){return new m7(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rD=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Cl,browserFiles:vye,browserHTTPRequest:Cye,concatenateArrayBuffers:Ide,copyModel:npe,decodeWeights:kB,decodeWeightsStream:AB,encodeWeights:Nde,fromMemory:_ye,fromMemorySync:g7,getLoadHandlers:Bde,getModelArtifactsForJSON:jA,getModelArtifactsForJSONSync:IB,getModelArtifactsInfoForJSON:p1,getSaveHandlers:zde,getWeightSpecs:zA,http:tD,isHTTPScheme:eD,listModels:epe,loadWeights:bye,moveModel:rpe,registerLoadRouter:jde,registerSaveRouter:Vde,removeModel:tpe,weightsLoaderFactory:p7,withSaveHandler:Tye,withSaveHandlerSync:kye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nye(t,e,n){const r=q(t,"labels","confusionMatrix"),i=q(e,"predictions","confusionMatrix");X(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),X(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),X(i.rank===1,()=>`Expected the rank of predictions to be 1, but got ${i.rank}`),X(r.shape[0]===i.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`),X(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const o=N1(Kn(r,"int32"),n),s=N1(Kn(i,"int32"),n),l=O1(o),f=Qn(l,s);return Kn(f,"int32")}const Rye=ue({confusionMatrix_:Nye});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aye=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:Rye},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Qh,v7=!1;function y7(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,o=!1,s=!1,l=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)l=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(i1(Vx,le.backendName)!=null){const S={pixels:t},_={numChannels:e};return le.runKernel(Vx,S,_)}const[p,m]=i?[t.videoWidth,t.videoHeight]:[t.width,t.height];let g;if(s)g=t.getContext("2d").getImageData(0,0,p,m).data;else if(r||n)g=t.data;else if(o||i||l){if(Qh==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Qh=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Qh=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Qh.canvas.width=p,Qh.canvas.height=m,Qh.drawImage(t,0,0,p,m),g=Qh.getImageData(0,0,p,m).data}let y;if(e===4)y=new Int32Array(g);else{const S=p*m;y=new Int32Array(S*e);for(let _=0;_<S;_++)for(let k=0;k<e;++k)y[_*e+k]=g[_*4+k]}return V4(y,[m,p,e],"int32")}function Dye(t){return t!=null&&t.data instanceof Uint8Array}function Oye(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function $ye(t){return t!=null&&t.width!==0&&t.height!==0}function Iye(t){return Oye()&&!(t instanceof ImageBitmap)&&$ye(t)&&!Dye(t)}async function Pye(t,e=3){let n=null;if($t().getBool("WRAP_TO_IMAGEBITMAP")&&Iye(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return y7(n,e)}function b7(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function Mye(t){const e=(t==null?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function $1(t,e){let n=q(t,"img","toPixels");if(!(t instanceof rr)){const p=n;n=Kn(p,"int32"),p.dispose()}b7(n);const[r,i]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],s=await n.data(),l=n.dtype==="float32"?255:1,f=new Uint8ClampedArray(i*r*4);for(let p=0;p<r*i;++p){const m=[0,0,0,255];for(let y=0;y<o;y++){const x=s[p*o+y];if(n.dtype==="float32"){if(x<0||x>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${x}.`)}else if(n.dtype==="int32"&&(x<0||x>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${x}.`);o===1?(m[0]=x*l,m[1]=x*l,m[2]=x*l):m[y]=x*l}const g=p*4;f[g+0]=Math.round(m[0]),f[g+1]=Math.round(m[1]),f[g+2]=Math.round(m[2]),f[g+3]=Math.round(m[3])}if(e!=null){v7||i1(Mx,le.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),v7=!0),e.width=i,e.height=r;const p=e.getContext("2d"),m=new ImageData(f,i,r);p.putImageData(m,0,0)}return n!==t&&n.dispose(),f}function Lye(t,e,n){let r=q(t,"img","draw");if(!(t instanceof rr)){const s=r;r=Kn(s,"int32"),s.dispose()}b7(r),Mye(n==null?void 0:n.imageOptions);const i={image:r},o={canvas:e,options:n};le.runKernel(Mx,i,o)}const hS=ue({fromPixels_:y7}),Fye=Object.freeze(Object.defineProperty({__proto__:null,draw:Lye,fromPixels:hS,fromPixelsAsync:Pye,toPixels:$1},Symbol.toStringTag,{value:"Module"}));function iD(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(lt(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const i=e.shape,o=i[i.length-1];let s=1;for(let g=0;g<i.length-1;++g)s*=i[g];const l=t.shape,f=i.slice();f.pop();let p=1;for(let g=o;g<n;++g)p*=l[g],f.push(l[g]);const m=[...Ta(t.shape).map(g=>g/p),1].slice(0,o);return[f,s,p,m]}const Vye=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:iD},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aD=-2,jye=-1;function w7(t,e,n){const r=t.shape.length;X(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),X(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let i=0;i<r;++i)X(e[i]+n[i]<=t.shape[i],()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${e[i]+n[i]}) would overflow input.shape[${i}] (${t.shape[i]})`)}function zye(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function x7(t,e,n){const r=[];for(let i=0;i<t.length;i++)r[i]=Math.ceil((e[i]-t[i])/n[i]);return r}function S7(t,e,n,r){const i=[...t];for(let o=i.length;o<r.length;o++)i.push(1);for(let o=0;o<n;o++)o===0?i[e]=1:(i.splice(e,0,1),i.pop());return i}function C7(t,e,n){return n<=t?n:n-(e-1)}function E7(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function Bye(t,e,n,r,i,o,s,l,f){const p=t.length;let m=new Array(p),g=new Array(p),y=new Array(p);if(e.length&&n>0){const x=e[0],S=n+1;m=_7(s,x,S,r,t),g=T7(l,x,S,i,t),y=S7(o,x,S,t)}else for(let x=0;x<p;x++)m[x]=N7(s,r,o,t,x,f),g[x]=R7(l,i,o,t,x,f),y[x]=k7(o,x,f);return{begin:m,end:g,strides:y}}function _7(t,e,n,r,i){const o=[...i],s=E7(n,e);for(let l=0;l<o.length;l++)if(s.indexOf(l)>-1)o[l]=0;else{const f=C7(e,n,l);let p=r[f];t&1<<f&&(p=0),o[l]=p}return o}function T7(t,e,n,r,i){const o=[...i],s=E7(n,e);for(let l=0;l<o.length;l++)if(s.indexOf(l)>-1)o[l]=Number.MAX_SAFE_INTEGER;else{const f=C7(e,n,l);let p=r[f];t&1<<f&&(p=Number.MAX_SAFE_INTEGER),o[l]=p}for(let l=0;l<o.length;l++){const f=i[l];o[l]<0&&(o[l]+=f),o[l]=e1(0,o[l],i[l])}return o}function k7(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function N7(t,e,n,r,i,o){let s=e[i];const l=n[i]||1;(t&1<<i||o&1<<i||s==null)&&(l>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);const f=r[i];return s<0&&(s+=f),s=e1(0,s,f-1),s}function R7(t,e,n,r,i,o){let s=e[i];const l=n[i]||1;(t&1<<i||o&1<<i||s==null)&&(l>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);const f=r[i];return s<0&&(s+=f),l>0?s=e1(0,s,f):s=e1(-1,s,f-1),s}function A7(t,e,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function D7(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function O7(t,e,n){let r;const i=t.shape.length;typeof e=="number"?r=[e,...new Array(i-1).fill(0)]:e.length<i?r=e.concat(new Array(i-e.length).fill(0)):r=e.slice(),r.forEach(s=>{X(s!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(i).fill(-1):typeof n=="number"?o=[n,...new Array(i-1).fill(-1)]:n.length<i?o=n.concat(new Array(i-n.length).fill(-1)):o=n,o=o.map((s,l)=>s>=0?s:(X(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${l}.`),t.shape[l]-r[l])),[r,o]}function $7(t,e,n,r,i,o,s,l,f){let p;if(r==null?(p=new Array(e.length),p.fill(1)):p=r,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let m=!1;const g={dims:p.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:p.slice(),beginMask:i,endMask:o,ellipsisMask:s,newAxisMask:l,shrinkAxisMask:f};for(let I=0;I<g.dims;I++)m&&1<<I&l&&g.numAddAxisAfterEllipsis++,1<<I&s&&(m=!0);m||(g.ellipsisMask|=1<<g.dims,g.dims++);const y={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Uye(g,y);let x=!0,S=!0,_=!0;const k=[],R=[];for(let I=0;I<t.length;++I){if(y.strides[I]===0)throw Error(`strides[${I}] must be non-zero`);const P=!!(y.shrinkAxisMask&1<<I),F=t[I];if(F===-1){k.push(P?1:-1);continue}const K=[y.beginMask&1<<I,y.endMask&1<<I],Y=[y.strides[I]>0?0:-1,y.strides[I]>0?F:F-1];if(P&&y.strides[I]<=0)throw Error("only stride 1 allowed on non-range indexing.");_=_&&y.strides[I]===1;const te=!!(y.beginMask&1<<I&&y.endMask&1<<I);if(y.beginValid&&y.endValid){if(P){const Pe=y.begin[I]<0?F+y.begin[I]:y.begin[I];if(y.begin[I]=Pe,y.end[I]=y.begin[I]+1,Pe<0||Pe>=F)throw Error(`slice index ${y.begin[I]} of dimension ${I} out of bounds.`)}else y.begin[I]=I7(y.begin[I],0,y.strides[I],F,K,Y),y.end[I]=I7(y.end[I],1,y.strides[I],F,K,Y);const de=y.strides[I]===1&&y.begin[I]===0&&y.end[I]===F;x=x&&de,S=S&&(I===0&&y.strides[I]===1||de)}else x=x&&y.strides[I]===1&&te,S=S&&(I===0&&y.strides[I]===1||te);let fe,ye=!1;if(y.beginValid&&y.endValid?(fe=y.end[I]-y.begin[I],ye=!0):P?(fe=1,ye=!0):te&&F>=0&&(y.strides[I]<0?fe=-F:fe=F,ye=!0),ye){let de;fe===0||fe<0!=y.strides[I]<0?de=0:de=Math.trunc(fe/y.strides[I])+(fe%y.strides[I]!==0?1:0),k.push(de)}else k.push(-1)}for(let I=0;I<y.finalShapeGatherIndices.length;++I){const P=y.finalShapeGatherIndices[I];P>=0?R.push(k[P]):P===aD&&R.push(1)}return{finalShapeSparse:R.filter((I,P)=>y.finalShapeGatherIndices[P]!==aD),finalShape:R,isIdentity:x,sliceDim0:S,isSimpleSlice:_,begin:y.begin,end:y.end,strides:y.strides}}function Uye(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const i=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<i;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(aD),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(jye),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function I7(t,e,n,r,i,o){if(i[e])return n>0?o[e]:o[e+1&1];{const s=t<0?r+t:t;return s<o[0]?o[0]:s>o[1]?o[1]:s}}const P7=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:w7,computeFlatOffset:D7,computeOutShape:x7,getNormalizedAxes:Bye,isSliceContinous:A7,maskToAxes:zye,parseSliceParams:O7,sliceInfo:$7,startForAxis:N7,startIndicesWithElidedDims:_7,stopForAxis:R7,stopIndicesWithElidedDims:T7,stridesForAxis:k7,stridesWithElidedDims:S7},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const Hye="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M7{static sgd(e){return new pS(e)}static momentum(e,n,r=!1){return new X4(e,n,r)}static rmsprop(e,n=.9,r=0,i=null,o=!1){return new Q4(e,n,r,i,o)}static adam(e=.001,n=.9,r=.999,i=null){return new Y4(e,n,r,i)}static adadelta(e=.001,n=.95,r=null){return new K4(e,n,r)}static adamax(e=.002,n=.9,r=.999,i=null,o=0){return new Z4(e,n,r,i,o)}static adagrad(e,n=.1){return new q4(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wye=M7;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gye=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function Kye(){return new Promise(t=>Gye(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L7(t,e){const n=t[0].length;t.forEach((i,o)=>{X(i.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),X(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((i,o)=>{for(let s=0;s<n;s++)X(s===e||i[s]===r[s],()=>`Error in concat${n}D: Shape of tensors[${o}] (${i}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`)})}function h0(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var kl;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(kl||(kl={}));function F7(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let i=1;i<n.length;++i){const o=n[i],s=r[r.length-n.length+i],l=r[s];if(o>=0)if(l>=0){if(l!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${i+t}] = ${o} but shape[${i+t}] = ${l}`)}else r[s]=o}return r}function V7(t){const e={FIRST_DIM_SIZE:kl.FIRST_DIM_SIZE,VALUE_ROWIDS:kl.VALUE_ROWIDS,ROW_LENGTHS:kl.ROW_LENGTHS,ROW_SPLITS:kl.ROW_SPLITS,ROW_LIMITS:kl.ROW_LIMITS,ROW_STARTS:kl.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function j7(t){return t.length===0?0:t[0]===kl.FIRST_DIM_SIZE?t.length-1:t.length}function z7(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let i=0;i<Math.min(n,r-1);++i){const o=t[i],s=e[i+1];if(o>=0&&s>=0&&o!==1&&o!==s)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${i-t.length}] = ${o} but ragged tensor input.flatValues.shape[${i-t.length}] = ${s}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oD=30;function qye(t){return t<=oD?t:Ax(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B7(t,e,n){const r=n*(typeof t=="number"?t:t[0]),i=e*(typeof t=="number"?t:t[1]);return[r,i]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sD(t,e,n,r=!0){let i=[];if(r)i=i.concat(e.slice(0)),i.push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);const o=e.length;for(let s=0;s<o;++s)i=i.concat([t[s+1]/e[s],e[s]]);i=i.concat(t.slice(o+1))}return i}function uD(t,e,n=!0){const r=[];if(n){r.push(e);for(let i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{const i=[],o=[];for(let s=1;s<t;++s)s>=e*2+1||s%2===1?o.push(s):i.push(s);r.push(...i),r.push(0),r.push(...o)}return r}function lD(t,e,n,r=!0){const i=[];r?i.push(t[0]/n):i.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?r?i.push(e[o-1]*t[o]):i.push(t[o]/e[o-1]):i.push(t[o]);return i}function U7(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function H7(t,e,n){const r=t.slice(0,1);for(let i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W7=1.7580993408473768,G7=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K7=.3275911,q7=.254829592,Y7=-.284496736,Z7=1.421413741,X7=-1.453152027,Q7=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cD(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Yye(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Zye(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function Xye(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}function Qye(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Jye(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function e1e(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let i=0;i<Math.ceil(t/2);i++){const o=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}function t1e(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),i=Math.cos(r),o=Math.sin(r);return{real:i,imag:o}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fD="->",n1e=/->/g,J7=",",eH="...";function tH(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(n1e,"").length)/fD.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${fD}").`);const[r,i]=t.split(fD);X(r.indexOf(eH)===-1,()=>`The ellipsis notation ("${eH}") is not supported yet.`);const o=r.split(J7),s=o.length;if(e!==s)throw new Error(`Expected ${s} input tensors, received ${e}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const l=[];for(let y=0;y<i.length;++y){const x=i[y];if(!o.some(S=>S.indexOf(x)!==-1))throw new Error(`Output subscripts contain the label ${x} not present in the input subscripts.`);l.indexOf(x)===-1&&l.push(x)}for(let y=0;y<r.length;++y){const x=r[y];l.indexOf(x)===-1&&x!==J7&&l.push(x)}const f=new Array(o.length);for(let y=0;y<s;++y){if(new Set(o[y].split("")).size!==o[y].length)throw new Error(`Found duplicate axes in input component ${o[y]}. Support for duplicate axes in input is not implemented yet.`);f[y]=[];for(let x=0;x<o[y].length;++x)f[y].push(l.indexOf(o[y][x]))}const p=l.length,m=i.length,g=[];for(let y=m;y<p;++y)g.push(y);return{allDims:l,summedDims:g,idDims:f}}function nH(t,e){let n=new Array(t);n.fill(-1);for(let i=0;i<e.length;++i)n[e[i]]=i;const r=[];for(let i=0;i<t;++i)n[i]===-1&&r.push(i);return n=n.filter(i=>i!==-1),{permutationIndices:n,expandDims:r}}function rH(t,e,n){const r=new Array(t);for(let i=0;i<n.length;++i){const o=n[i].shape;for(let s=0;s<e[i].length;++s)r[e[i][s]]===void 0?r[e[i][s]]=o[s]:X(r[e[i][s]]===o[s],()=>`Expected dimension ${r[e[i][s]]} at axis ${s} of input shaped ${JSON.stringify(o)}, but got dimension ${o[s]}`)}}function iH(t,e){const n=t,r=[];let i=0;t.length===0&&n.push(-1),i=t.length+1;for(let s=0;s<i;++s)r.push([]);const o=[];for(let s=0;s<n.length;++s){const l=n[s],f=r1e(e,l);for(const p of f)o.indexOf(p)===-1&&(r[s].push(p),o.push(p))}return{path:n,steps:r}}function aH(t){return t.every((e,n)=>e===n)}function r1e(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function oH(t,e,n=0){let r=[];if(typeof e=="number")X(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const i=e.reduce((s,l)=>(l===-1&&(s+=1),s),0);X(i<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const s=e.reduce((l,f)=>f>0?l+f:l);e[o]=t.shape[n]-s}X(t.shape[n]===e.reduce((s,l)=>s+l),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sH(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function uH(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function lH(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cH(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function fH(t,e){return`size ${t} must be non-negative, not ${e}`}function dH(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function pH(t,e){const n=lt(t),r=lt(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function hH(t,e){const n=lt(t),r=lt(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dD(){return"segment ids must be >= 0"}function mH(){return"segment ids are not increasing"}function gH(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function vH(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i1e(t,e){let n=!1,r;for(t<=oD?(r=t,n=!0):r=Ax(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=Ax(t,r+1);return r}function yH(t,e,n){const r=[],i=t.length;for(let o=0;o<i;o++)o!==e?r.push(t[o]):r.push(n);return r}function bH(t,e,n,r){const i=e.shape.length,o=t.shape.length;if(r!==0&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let g=0;g<r;++g)if(t.shape[g]!==e.shape[g])throw new Error(`x.shape[${g}]: ${t.shape[g]} should be equal to indices.shape[${g}]: ${e.shape[g]}.`);const s=t.shape[n],l=[];let f=1,p=1,m=1;for(let g=0;g<r;++g)l.push(t.shape[g]),f*=t.shape[g];for(let g=r;g<n;g++)l.push(t.shape[g]),p*=t.shape[g];for(let g=r;g<i;g++)l.push(e.shape[g]);for(let g=n+1;g<o;g++)l.push(t.shape[g]),m*=t.shape[g];return{batchSize:f,sliceSize:m,outerSize:p,dimSize:s,outputShape:l}}const a1e=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:bH,computeOutShape:yH,segOpComputeOptimalWindowSize:i1e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I1(t){try{return t.map(e=>Mh(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function wH(t){return t.map(e=>Ef(e))}const o1e=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:q7,ERF_A2:Y7,ERF_A3:Z7,ERF_A4:X7,ERF_A5:Q7,ERF_P:K7,PARALLELIZE_THRESHOLD:oD,get RowPartitionType(){return kl},SELU_SCALE:G7,SELU_SCALEALPHA:W7,applyActivation:fS,assertAndGetBroadcastShape:vr,assertAxesAreInnerMostDims:Xx,assertParamsConsistent:L7,assignToTypedArray:Jye,axesAreInnerMostDims:r4,calculateShapes:D1,checkEinsumDimSizes:rH,checkPadOnDimRoundingMode:Fu,combineLocations:RU,combineRaggedTensorToTensorShapes:F7,complexWithEvenIndex:Zye,complexWithOddIndex:Xye,computeConv2DInfo:tu,computeConv3DInfo:m1,computeDefaultPad:ZA,computeDilation2DInfo:qx,computeOptimalWindowSize:qye,computeOutAndReduceShapes:S1,computeOutShape:h0,computePool2DInfo:Bh,computePool3DInfo:h1,convertConv2DDataFormat:Hh,decodeEinsumEquation:tH,eitherStridesOrDilationsAreOne:_l,expandShapeToKeepDim:i0,exponent:t1e,exponents:e1e,fromStringArrayToUint8:wH,fromUint8ToStringArray:I1,getAxesPermutation:a0,getBroadcastDims:r0,getComplexWithIndex:Qye,getEinsumComputePath:iH,getEinsumPermutation:nH,getFusedBiasGradient:cS,getFusedDyActivation:lS,getImageCenter:B7,getInnerMostAxes:o0,getPermuted:uD,getRaggedRank:j7,getReductionAxes:t4,getReshaped:sD,getReshapedPermuted:lD,getRowPartitionTypesHelper:V7,getSliceBeginCoords:U7,getSliceSize:H7,getSparseFillEmptyRowsIndicesDenseShapeMismatch:sH,getSparseFillEmptyRowsNegativeIndexErrorMessage:uH,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:lH,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:dH,getSparseReshapeInputOutputMismatchErrorMessage:hH,getSparseReshapeInputOutputMultipleErrorMessage:pH,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:cH,getSparseReshapeNegativeOutputDimErrorMessage:fH,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:vH,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:dD,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:mH,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:gH,getUndoAxesPermutation:i4,isIdentityPermutation:aH,log:$fe,mergeRealAndImagArrays:cD,prepareAndValidate:iD,prepareSplitSize:oH,segment_util:a1e,shouldFuse:dS,slice_util:P7,splitRealAndImagArrays:Yye,stridesOrDilationsArePositive:Uh,tupleValuesAreOne:y1,upcastType:Ec,validateDefaultValueShape:z7,validateInput:sS,validateUpdateShape:j4,warn:Yd},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s1e=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:U4,nonMaxSuppressionV4Impl:J9,nonMaxSuppressionV5Impl:H4,whereImpl:B9},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */cye();const xH=Object.freeze(Object.defineProperty({__proto__:null,Abs:Uk,Acos:Hk,Acosh:Wk,AdadeltaOptimizer:K4,AdagradOptimizer:q4,AdamOptimizer:Y4,AdamaxOptimizer:Z4,Add:Ix,AddN:Gk,All:Kk,Any:qk,ArgMax:Yk,ArgMin:Zk,Asin:Xk,Asinh:Qk,Atan:Jk,Atan2:tN,Atanh:eN,AvgPool:nN,AvgPool3D:rN,AvgPool3DGrad:N5,AvgPoolGrad:k5,BatchMatMul:iN,BatchToSpaceND:aN,Bincount:oN,BitwiseAnd:R5,BroadcastArgs:sN,BroadcastTo:Tfe,Cast:Px,Ceil:uN,ClipByValue:lN,Complex:cN,ComplexAbs:fN,Concat:dN,Conv2D:pN,Conv2DBackpropFilter:hN,Conv2DBackpropInput:mN,Conv3D:gN,Conv3DBackpropFilterV2:A5,Conv3DBackpropInputV2:vN,Cos:yN,Cosh:bN,CropAndResize:SN,Cumprod:wN,Cumsum:xN,DataStorage:f5,DenseBincount:CN,DepthToSpace:EN,DepthwiseConv2dNative:_N,DepthwiseConv2dNativeBackpropFilter:TN,DepthwiseConv2dNativeBackpropInput:kN,Diag:NN,Dilation2D:RN,Dilation2DBackpropFilter:O5,Dilation2DBackpropInput:D5,Draw:Mx,get ENV(){return jk},Einsum:DN,Elu:ON,EluGrad:$5,Environment:_5,Equal:IN,Erf:$N,Exp:PN,ExpandDims:MN,Expm1:LN,FFT:FN,Fill:VN,FlipLeftRight:jN,Floor:zN,FloorDiv:BN,FromPixels:Vx,FusedBatchNorm:UN,FusedConv2D:zx,FusedDepthwiseConv2D:Bx,GatherNd:WN,GatherV2:HN,Greater:GN,GreaterEqual:KN,IFFT:qN,Identity:Lx,Imag:YN,IsFinite:ZN,IsInf:XN,IsNan:QN,KernelBackend:Lk,LRN:uR,LRNGrad:I5,LeakyRelu:JN,Less:eR,LessEqual:tR,LinSpace:nR,Log:rR,Log1p:iR,LogSoftmax:Nfe,LogicalAnd:aR,LogicalNot:oR,LogicalOr:sR,LogicalXor:kfe,LowerBound:Rfe,MatrixBandPart:Afe,Max:lR,MaxPool:fR,MaxPool3D:dR,MaxPool3DGrad:M5,MaxPoolGrad:P5,MaxPoolWithArgmax:pR,Maximum:cR,Mean:hR,Min:mR,Minimum:gR,MirrorPad:vR,Mod:yR,MomentumOptimizer:X4,Multinomial:bR,Multiply:wR,Neg:xR,NonMaxSuppressionV3:CR,NonMaxSuppressionV4:L5,NonMaxSuppressionV5:ER,NotEqual:SR,OP_SCOPE_SUFFIX:MA,OneHot:TR,OnesLike:_R,Optimizer:sp,OptimizerConstructors:M7,Pack:kR,PadV2:NR,Pool:Dfe,Pow:RR,Prelu:AR,Prod:DR,RMSPropOptimizer:Q4,RaggedGather:F5,RaggedRange:V5,RaggedTensorToTensor:j5,Range:OR,get Rank(){return NA},Real:$R,RealDiv:AN,Reciprocal:IR,get Reduction(){return lo},Relu:PR,Relu6:VR,Reshape:MR,ResizeBilinear:FR,ResizeBilinearGrad:B5,ResizeNearestNeighbor:LR,ResizeNearestNeighborGrad:z5,Reverse:jR,RotateWithOffset:wA,Round:zR,Rsqrt:BR,SGDOptimizer:pS,ScatterNd:UR,SearchSorted:WR,Select:GR,Selu:KR,Sigmoid:QR,Sign:XR,Sin:YR,Sinh:ZR,Slice:qR,Softmax:iA,Softplus:JR,SpaceToBatchND:nA,SparseFillEmptyRows:U5,SparseReshape:H5,SparseSegmentMean:aA,SparseSegmentSum:oA,SparseToDense:sA,SplitV:rA,Sqrt:eA,Square:W5,SquaredDifference:uA,StaticRegexReplace:G5,Step:bA,StridedSlice:lA,StringNGrams:cA,StringSplit:K5,StringToHashBucketFast:q5,Sub:fA,Sum:tA,Tan:dA,Tanh:pA,Tensor:rr,TensorBuffer:Lh,TensorScatterUpdate:HR,Tile:Fx,TopK:hA,Transform:mA,Transpose:n1,Unique:Y5,Unpack:gA,UnsortedSegmentSum:vA,UpperBound:Ofe,Variable:f1,ZerosLike:yA,_FusedMatMul:jx,abs:ds,acos:BB,acosh:UB,add:en,addN:HB,all:WB,any:GB,argMax:YA,argMin:KB,asin:qB,asinh:YB,atan:ZB,atan2:XB,atanh:QB,avgPool:QA,avgPool3d:JB,backend:FA,backend_util:o1e,basicLSTMCell:eU,batchNorm:b1,batchNorm2d:tU,batchNorm3d:nU,batchNorm4d:rU,batchToSpaceND:JA,bincount:e4,bitwiseAnd:iU,booleanMaskAsync:U9,broadcastArgs:aU,broadcastTo:t0,broadcast_util:yhe,browser:Fye,buffer:Nr,cast:Kn,ceil:oU,clipByValue:sU,clone:kf,complex:_f,concat:za,concat1d:uU,concat2d:lU,concat3d:cU,concat4d:fU,conv1d:dU,conv2d:w1,conv2dTranspose:hU,conv3d:mU,conv3dTranspose:gU,copyRegisteredKernels:Lfe,cos:vU,cosh:yU,cosineWindow:uS,cumprod:bU,cumsum:wU,customGrad:Nc,denseBincount:xU,deprecationWarn:vde,depthToSpace:SU,depthwiseConv2d:Zx,device_util:fde,diag:CU,dilation2d:EU,disableDeprecationWarnings:gde,dispose:so,disposeVariables:yde,div:Er,divNoNan:_U,dot:TU,dropout:q9,einsum:Wh,elu:n4,enableDebugMode:mde,enableProdMode:hde,enclosingPowerOfTwo:B4,engine:Xg,ensureShape:kU,env:$t,equal:x1,erf:NU,euclideanNorm:DU,exp:ep,expandDims:Mo,expm1:OU,eye:a4,fft:aS,fill:n0,findBackend:_de,findBackendFactory:Tde,floor:o4,floorDiv:qA,fused:Z9,gather:s4,gatherND:K9,gather_util:Vye,getBackend:LA,getGradient:xA,getKernel:i1,getKernelsForBackend:Ux,grad:tme,grads:nme,greater:l0,greaterEqual:u4,ifft:A1,imag:E1,image:Zh,inTopKAsync:Y9,io:rD,irfft:M4,isFinite:$U,isInf:IU,isNaN:PU,keep:El,kernel_impls:s1e,leakyRelu:l4,less:Jx,lessEqual:eS,linalg:i7,linspace:MU,localResponseNormalization:LU,log:c0,log1p:c4,logSigmoid:VU,logSoftmax:jU,logSumExp:d4,logicalAnd:_1,logicalNot:p4,logicalOr:h4,logicalXor:zU,losses:a7,lowerBound:BU,matMul:Qn,math:Aye,max:Gh,maxPool:m4,maxPool3d:UU,maxPoolWithArgmax:HU,maximum:g4,mean:T1,memory:bde,meshgrid:WU,min:Qx,minimum:k1,mirrorPad:v4,mod:GU,moments:KU,movingAverage:H9,mul:vt,multiRNNCell:qU,multinomial:YU,neg:Tl,nextFrame:Kye,norm:C1,notEqual:y4,oneHot:N1,ones:np,onesLike:ZU,op:ue,outerProduct:XU,pad:Kh,pad1d:QU,pad2d:JU,pad3d:b4,pad4d:e9,pool:t9,pow:s0,prelu:x4,print:KA,prod:n9,profile:wde,raggedGather:r9,raggedRange:i9,raggedTensorToTensor:a9,rand:o9,randomGamma:c9,randomNormal:$4,randomStandardNormal:f9,randomUniform:iS,randomUniformInt:d9,range:rp,ready:Cde,real:f0,reciprocal:p9,registerBackend:TB,registerGradient:Ife,registerKernel:SA,relu:R1,relu6:I4,removeBackend:Ede,reshape:ze,reverse:ip,reverse1d:h9,reverse2d:m9,reverse3d:g9,reverse4d:v9,rfft:oS,round:P4,rsqrt:y9,scalar:Tn,scatterND:W9,scatter_util:t0e,searchSorted:rS,selu:b9,separableConv2d:w9,serialization:uye,setBackend:Sde,setPlatform:kde,setdiff1dAsync:x9,sigmoid:Tc,sign:S9,signal:r7,sin:C9,sinh:E9,slice:Sr,slice1d:_9,slice2d:T9,slice3d:k9,slice4d:N9,slice_util:P7,softmax:R9,softplus:f4,spaceToBatchND:w4,sparse:o7,sparseToDense:G9,spectral:n7,split:d0,sqrt:kc,square:Vu,squaredDifference:L4,squeeze:ju,stack:Rc,step:F4,stridedSlice:A9,string:s7,sub:xn,sum:Rr,sumOutType:gB,tan:D9,tanh:Yx,tensor:Lu,tensor1d:nu,tensor2d:Yh,tensor3d:V4,tensor4d:O9,tensor5d:$9,tensor6d:I9,tensorScatterUpdate:P9,tensor_util:ade,test_util:hge,tidy:tn,tile:u0,time:xde,topk:M9,train:Wye,transpose:O1,truncatedNormal:L9,unique:F9,unregisterGradient:Mfe,unregisterKernel:Pfe,unsortedSegmentSum:V9,unstack:ap,upcastType:Ec,upperBound:j9,util:Gfe,valueAndGrad:rme,valueAndGrads:ime,variable:z9,variableGrads:FU,version_core:Hye,where:Nf,whereAsync:z4,zeros:tp,zerosLike:ps},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ru=$t();ru.registerFlag("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE",()=>15),ru.registerFlag("WEBGPU_CPU_FORWARD",()=>!0),ru.registerFlag("WEBGPU_MATMUL_PROGRAM_TYPE",()=>-1),ru.registerFlag("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE",()=>!0),ru.registerFlag("WEBGPU_USE_LOW_POWER_GPU",()=>!1),ru.registerFlag("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e3),ru.registerFlag("WEBGPU_USE_PROFILE_TOOL",()=>!1),ru.registerFlag("WEBGPU_IMPORT_EXTERNAL_TEXTURE",()=>!0),ru.registerFlag("WEBGPU_USE_NAIVE_CONV2D_DEBUG",()=>!1),ru.registerFlag("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL",()=>-1),ru.registerFlag("WEBGPU_CONV_SEPARATE_IM2COL_SHADER",()=>!1),ru.registerFlag("WEBGPU_PRINT_SHADER",()=>""),ru.registerFlag("WEBGPU_ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u1e{constructor(e){e&&(this.vendor=e.vendor,this.architecture=e.architecture,this.intelGPUGeneration=this.getIntelGPUGeneration())}getIntelGPUGeneration(){if(this.isIntel()){if(this.architecture.startsWith("gen"))return Number(this.architecture.match(/\d+/));if(this.architecture.startsWith("xe"))return 12}return 0}isIntel(){return this.vendor==="intel"}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l1e{constructor(e){this.device=e,this.numUsedBuffers=0,this.numFreeBuffers=0,this.freeBuffers=new Map,this.usedBuffers=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}acquireBuffer(e,n,r=!1,i=!0){let o;const s=SH(e,n);return i?(this.freeBuffers.has(s)||this.freeBuffers.set(s,[]),this.freeBuffers.get(s).length>0?(o=this.freeBuffers.get(s).pop(),this.numFreeBuffers--):(o=this.device.createBuffer({size:e,usage:n,mappedAtCreation:r}),this.numBytesAllocated+=e)):(o=this.device.createBuffer({size:e,usage:n,mappedAtCreation:r}),this.numBytesAllocated+=e),this.usedBuffers.has(s)||this.usedBuffers.set(s,[]),this.usedBuffers.get(s).push(o),this.numUsedBuffers++,this.numBytesUsed+=e,o}releaseBuffer(e,n=!0){if(this.freeBuffers.size===0)return;const r=e.size,i=e.usage,o=SH(r,i),s=this.usedBuffers.get(o),l=s.indexOf(e);if(l<0)throw new Error("Cannot find the buffer in buffer manager");s[l]=s[s.length-1],s.pop(),this.numUsedBuffers--,this.numBytesUsed-=r,n?(this.freeBuffers.get(o).push(e),this.numFreeBuffers++):(e.destroy(),this.numBytesAllocated-=r)}getNumUsedBuffers(){return this.numUsedBuffers}getNumFreeBuffers(){return this.numFreeBuffers}dispose(){this.freeBuffers.forEach((e,n)=>{e.forEach(r=>{r.destroy()})}),this.usedBuffers.forEach((e,n)=>{e.forEach(r=>{r.destroy()})}),this.freeBuffers=new Map,this.usedBuffers=new Map,this.numUsedBuffers=0,this.numFreeBuffers=0,this.numBytesUsed=0,this.numBytesAllocated=0}}function SH(t,e){return`${t}_${e}`}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class c1e{constructor(e){this.device=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures=new Map,this.usedTextures=new Map,this.numBytesUsed=0,this.numBytesAllocated=0}acquireTexture(e,n,r,i){const o=EH(r),s=e*n*o,l=CH(e,n,r,i);if(this.freeTextures.has(l)||this.freeTextures.set(l,[]),this.usedTextures.has(l)||this.usedTextures.set(l,[]),this.numBytesUsed+=s,this.numUsedTextures++,this.freeTextures.get(l).length>0){this.numFreeTextures--;const p=this.freeTextures.get(l).shift();return this.usedTextures.get(l).push(p),p}this.numBytesAllocated+=s;const f=this.device.createTexture({size:[e,n],format:r,usage:i});return this.usedTextures.get(l).push(f),f}releaseTexture(e){if(this.freeTextures.size===0)return;const n=e.width,r=e.height,i=e.format,o=e.usage,s=CH(n,r,i,o);this.freeTextures.has(s)||this.freeTextures.set(s,[]),this.freeTextures.get(s).push(e),this.numFreeTextures++,this.numUsedTextures--;const l=this.usedTextures.get(s),f=l.indexOf(e);if(f<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(f,1);const p=EH(i),m=n*r*p;this.numBytesUsed-=m}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){this.freeTextures.forEach((e,n)=>{e.forEach(r=>{r.destroy()})}),this.usedTextures.forEach((e,n)=>{e.forEach(r=>{r.destroy()})}),this.freeTextures=new Map,this.usedTextures=new Map,this.numUsedTextures=0,this.numFreeTextures=0,this.numBytesUsed=0,this.numBytesAllocated=0}}function CH(t,e,n,r){return`${t}_${e}_${n}_${r}`}function EH(t){if(t==="rgba8unorm")return 16;throw new Error(`${t} is not supported!`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f1e(t,e){if(Math.max(...t)>5)throw new Error("Cannot symbolically compute strides for rank > 6 tensor.");const n=t.length,r="xyzwuv",i=t.map(s=>`${e}.${r[s]}`),o=new Array(n-1);o[n-2]=i[n-1];for(let s=n-3;s>=0;--s)o[s]=`(${o[s+1]} * ${i[s+1]})`;return o}const up=(t,e,n)=>n==="int32"?`atomicAdd(${t}, bitcast<i32>(${e}));`:`
          {
            var oldValue = 0;
            loop {
              let newValueF32 = bitcast<f32>(oldValue) + (${e});
              let newValue = bitcast<i32>(newValueF32);
              let res = atomicCompareExchangeWeak(${t}, oldValue, newValue);
              if res.exchanged {
                break;
              }
              oldValue = res.old_value;
            }
          }`;/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var m0;(function(t){t[t.FROM_PIXELS=0]="FROM_PIXELS",t[t.DRAW=1]="DRAW"})(m0||(m0={}));const d1e=(t,e,n,r,i)=>{const o={dtype:r.dtype,shape:r.shape},s=h1e(n,o,e),l=t.createShaderModule({code:s,label:e.constructor.name});let f=$t().get("WEBGPU_PRINT_SHADER");if(f!==""){f=f.toLowerCase();const p=f.split(",");(f==="all"||p.some(m=>e.shaderKey.toLowerCase().includes(m)))&&(console.group(e.shaderKey),console.debug(s),console.groupEnd())}return i?t.createComputePipelineAsync({compute:{module:l,entryPoint:"_start"},label:e.constructor.name,layout:"auto"}):t.createComputePipeline({compute:{module:l,entryPoint:"_start"},label:e.constructor.name,layout:"auto"})},En=(t,e="f32")=>{switch(t){case 1:return`${e}`;case 2:return`vec2<${e}>`;case 3:return`vec3<${e}>`;case 4:return`vec4<${e}>`;default:throw new Error(`${t}-component ${e} is not supported.`)}};function Ti(t){if(t<=1)return"i32";if(t===2)return"vec2<i32>";if(t===3)return"vec3<i32>";if(t===4)return"vec4<i32>";if(t===5)return"vec5";if(t===6)return"vec6";throw Error(`GPU for rank ${t} is not yet supported`)}function Af(t){if(t===0)return"x";if(t===1)return"y";if(t===2)return"z";if(t===3)return"w";if(t===4)return"u";if(t===5)return"v";throw Error(`Index ${t} is not yet supported`)}function ft(...t){let e;switch(t.length){case 0:e=`
        fn main()
      `;break;case 1:e=`
        fn main(${t[0]} : i32)
      `;break;default:throw Error("Unreachable")}return e}function _H(t,e){let n;return n=`
     ${p1e(e)}
      fn _start(@builtin(local_invocation_id) LocalId : vec3<u32>,
                @builtin(global_invocation_id) GlobalId : vec3<u32>,
                @builtin(local_invocation_index) LocalIndex: u32,
                @builtin(workgroup_id) WorkgroupId : vec3<u32>,
                @builtin(num_workgroups) NumWorkgroups : vec3<u32>) {
        localId = LocalId;
        localIndex = LocalIndex;
        globalId = GlobalId;
        numWorkgroups = NumWorkgroups;
        workgroupId = WorkgroupId;
        ${t?"main(getGlobalIndex());":"main();"};
      }
    `,n}function p1e(t){return`
  @compute @workgroup_size(${t.workgroupSize[0]}, ${t.workgroupSize[1]}, ${t.workgroupSize[2]})
`}function h1e(t,e,n){const r=[],i=n.workgroupSize[0]*n.workgroupSize[1]*n.workgroupSize[2];if(n.outputComponent=n.outputComponent?n.outputComponent:1,r.push(`

      var<private> localId: vec3<u32>;
      var<private> localIndex: u32;
      var<private> globalId: vec3<u32>;
      var<private> numWorkgroups: vec3<u32>;
      var<private> workgroupId: vec3<u32>;

      // Only used when the y/z dimension of workgroup size is 1.
      fn getGlobalIndex() -> i32 {
        ${kH(n)?"  return i32(globalId.x);":`  return i32((workgroupId.z * numWorkgroups.x * numWorkgroups.y +
                workgroupId.y * numWorkgroups.x + workgroupId.x) * ${i}u +
                localIndex);
        `}
      }
    `),n.pixelsOpType!=null){const S=n.pixelsOpType===m0.FROM_PIXELS?`@group(0) @binding(0) var<storage, read_write> result: array<${Jh(e.dtype,n.outputComponent)}>;`:`@group(0) @binding(1) var<storage, read> inBuf : array<${Jh(t[0].dtype,n.outputComponent)}>;`,_=e.shape.length===3?"vec2<i32>":"i32";r.push(`
        struct Uniform {
          outShapeStrides : ${_},
          size            : i32,
          numChannels     : i32,
          alpha           : f32,
        };

        ${S}
        @group(0) @binding(2) var<uniform> uniforms: Uniform;
      `);const k=NH(n);return[TH,r.join(`
`),mS(e.shape),n.getUserCode(),_H(k,n)].join(`
`)}let o,s,l="struct Uniforms { NAN : f32, INFINITY : f32, ";n.variableNames.forEach((S,_)=>{const k=Ti(t[_].shape.length);l+=`${S.charAt(0).toLowerCase()+S.slice(1)}Shape : ${k}, `,o=t[_].shape.length-1,s=Ti(o),l+=`${S.charAt(0).toLowerCase()+S.slice(1)}ShapeStrides: ${s}, `});const f=Ti(e.shape.length);l+=`outShape : ${f}, `,o=e.shape.length-1,s=Ti(o),l+=`
         outShapeStrides: ${s}, `,n.size&&(l+="size : i32, "),n.uniforms&&(l+=n.uniforms),l+="};",l=C1e(l),r.push(l),n.atomic?r.push(`
      @group(0) @binding(0) var<storage, read_write> result: array<atomic<i32>>;
    `):r.push(`
      @group(0) @binding(0) var<storage, read_write> result: array<${Jh(e.dtype,n.outputComponent)}>;
    `),n.variableNames.forEach((S,_)=>{r.push(`
      @group(0) @binding(${1+_}) var<storage, read> ${S}: array<${n.variableComponents?Jh(t[_].dtype,n.variableComponents[_]):Jh(t[_].dtype,n.outputComponent)}>;
        `)}),l!==""&&r.push(`
      @group(0) @binding(${1+n.variableNames.length}) var<uniform> uniforms: Uniforms;
      `);const p=w1e(e.shape,n.dispatchLayout),m=[TH,r.join(`
`)+g1e,mS(e.shape),p,x1e(e.shape.length)];n.atomic||m.push(S1e(e.shape,e.dtype,n.outputComponent)),n.variableNames.forEach((S,_)=>{m.push(`${mS(t[_].shape,S)}`)});const g=t.map((S,_)=>b1e(S,e.shape,n.variableComponents?n.variableComponents[_]:n.outputComponent,n.dispatchLayout.x.length===e.shape.length)).join(`
`);m.push(g),m.push(n.getUserCode());const y=NH(n);return m.push(_H(y,n)),m.join(`
`)}function m1e(t,e,n){let r=t.shaderKey;if(t.pixelsOpType!=null)return r;const i=[],o=[];e.forEach(m=>{i.push(m.shape),o.push(m.dtype)}),i.push(n.shape),o.push(n.dtype);const s=e.map(m=>r0(m.shape,n.shape)),l=e.map(m=>ja(m.shape,n.shape)).join("_"),f=s.map(m=>m.join("_")).join(";"),p=kH(t)?"flatDispatch":"";return r+="_"+(t.workgroupSize?t.workgroupSize.join(","):"")+i.map(m=>m.length).join(",")+o.join(",")+t.variableNames.join(",")+f+l+p,r}const TH=`
  struct vec5 {x: i32, y: i32, z: i32, w: i32, u: i32};
  struct vec6 {x: i32, y: i32, z: i32, w: i32, u: i32, v: i32};

  // Checks whether coordinates lie within the bounds of the shape.
  fn coordsInBounds2D(coord : vec2<i32>, shape : vec2<i32>) -> bool {
    return all(coord >= vec2<i32>(0)) && all(coord < shape);
  }
  fn coordsInBounds3D(coord : vec3<i32>, shape : vec3<i32>) -> bool {
    return all(coord >= vec3<i32>(0)) && all(coord < shape);
  }
  fn coordsInBounds4D(coord : vec4<i32>, shape : vec4<i32>) -> bool {
    return all(coord >= vec4<i32>(0)) && all(coord < shape);
  }

  fn getIndexFromCoords1D(coord : i32, shape : i32) -> i32 {
    return coord;
  }
  fn getIndexFromCoords2D(coords : vec2<i32>, shape : vec2<i32>) -> i32 {
    return dot(coords, vec2<i32>(shape.y, 1));
  }
  fn getIndexFromCoords3D(coords : vec3<i32>, shape : vec3<i32>) -> i32 {
    return dot(coords, vec3<i32>(shape.y * shape.z, shape.z, 1));
  }
  fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
    return dot(coords, vec4<i32>(
        shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
  }
  fn getIndexFromCoords5D(coords : vec5, shape : vec5) -> i32 {
    let shapeStrides: vec5 = vec5(shape.y * shape.z * shape.w * shape.u, shape.z * shape.w * shape.u, shape.w * shape.u, shape.u, 1);
    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u;
  }
  fn getIndexFromCoords6D(coords : vec6, shape : vec6) -> i32 {
    let shapeStrides: vec6 = vec6(shape.y * shape.z * shape.w * shape.u * shape.v, shape.z * shape.w * shape.u * shape.v, shape.w * shape.u * shape.v, shape.u * shape.v, shape.v, 1);
    return coords.x*shapeStrides.x + coords.y*shapeStrides.y + coords.z*shapeStrides.z + coords.w*shapeStrides.w + coords.u*shapeStrides.u + coords.v*shapeStrides.v;
  }

  // NaN defination in IEEE 754-1985 is :
  //   - sign = either 0 or 1.
  //   - biased exponent = all 1 bits.
  //   - fraction = anything except all 0 bits (since all 0 bits represents infinity).
  // https://en.wikipedia.org/wiki/IEEE_754-1985#Representation_of_non-numbers
  fn isnan(val: f32) -> bool {
    let floatToUint: u32 = bitcast<u32>(val);
    return (floatToUint & 0x7fffffffu) > 0x7f800000u;
  }
  fn isnanVec4(val : vec4<f32>) -> vec4<bool> {
    let floatToUint: vec4<u32> = bitcast<vec4<u32>>(val);
    return (floatToUint & vec4<u32>(0x7fffffffu)) > vec4<u32>(0x7f800000u);
  }
`,g1e=`
  fn isinf(val: f32) -> bool {
    return abs(val) == uniforms.INFINITY;
  }
`;function mS(t,e=""){const n=t.length,r=e!==""?`get${e.charAt(0).toUpperCase()+e.slice(1)}CoordsFromIndex`:"getCoordsFromIndex",i=e!==""?`${e.charAt(0).toLowerCase()+e.slice(1)}ShapeStrides`:"outShapeStrides";if(n<=1)return`fn ${r}(index : i32) -> i32 { return index; }`;const o=Ta(t),s=Ti(n),l=[];for(let p=0;p<n;p++)l.push(`d${p}`);if(o.length===1)return`    fn ${r}(index : i32) -> vec2<i32> {
      let d0 = index / uniforms.${i}; let d1 = index - d0 * uniforms.${i};
      return vec2<i32>(d0, d1);
    }`;let f;return f="var index2 = index;"+o.map((p,m)=>{const g=`let ${l[m]} = index2 / uniforms.${i}.${Af(m)}`,y=m===o.length-1?`let ${l[m+1]} = index2 - ${l[m]} * uniforms.${i}.${Af(m)}`:`index2 = index2 - ${l[m]} * uniforms.${i}.${Af(m)}`;return`${g}; ${y};`}).join(""),`
    fn ${r}(index : i32) -> ${s} {
      ${f}
      return ${s}(${l.join(",")});
    }
  `}function v1e(t,e){const n=t.name,r=t.shape.length,i=Ti(r),o="get"+n.charAt(0).toUpperCase()+n.slice(1),s=["d0","d1","d2","d3","d4","d5"].slice(0,r),l=s.map(m=>`${m} : i32`).join(", ");if(r<1)return`
      fn ${o}() -> ${En(e)} {
        return ${En(e)}(${n}[0]);
      }
    `;const f=`uniforms.${n.charAt(0).toLowerCase()+n.slice(1)}Shape`;let p=`${r}D`;return r===0&&(p="1D"),`
    fn ${o}(${l}) -> ${En(e)} {
      return ${En(e)}(${n}[getIndexFromCoords${p}(${i}(${s.join(",")}),
        ${f})${e===1?"":` / ${e}`}]);
    }
   `}function y1e(t,e,n,r){const i=t.name,o=i.charAt(0).toUpperCase()+i.slice(1),s="get"+o+"ByOutput",l=t.shape.length,f=e.length,p=Ti(f);if(ja(t.shape,e)&&r)return`
    fn ${s}Index(globalIndex : i32) -> ${En(n)} {
      return ${En(n)}(${i}[globalIndex]);
    }

    fn ${s}Coords(coords : ${p}) -> ${En(n)} {
      return ${En(n)}(${i}[${f>1?"getOutputIndexFromCoords(coords)":"coords"}${n===1?"":` / ${n}`}]);
    }
    `;const m=r0(t.shape,e),g=f-l;let y="";if(l===0)return`
    fn ${s}Index(globalIndex : i32) -> ${En(n)}{
      return get${o}();
    }

    fn ${s}Coords(coords : ${p}) -> ${En(n)}{
      return get${o}();
    }
  `;f<2&&m.length>=1?y="coords = 0;":y=m.map(k=>`coords.${Af(k+g)} = 0;`).join(`
`);let x="";if(f<2&&l>0)x="coords";else if(f>1){const k=Ti(l),R=t.shape.map((O,I)=>`coords.${Af(I+g)}`).join(", ");x=`${k}(${R})`}else x="coords";const S=`uniforms.${i.charAt(0).toLowerCase()+i.slice(1)}Shape`,_=`${l}D`;return`
  fn ${s}Index(globalIndex : i32) -> ${En(n)} {
    var coords = getCoordsFromIndex(globalIndex);
    ${y}
    return ${En(n)}(${i}[getIndexFromCoords${_}(${x}, ${S})${n===1?"":` / ${n}`}]);
  }

  fn ${s}Coords(coordsIn : ${p}) -> ${En(n)} {
    var coords = coordsIn;
    ${y}
    return ${En(n)}(${i}[getIndexFromCoords${_}(${x}, ${S})${n===1?"":` / ${n}`}]);
  }
`}function b1e(t,e,n,r){let i=v1e(t,n);return t.shape.length<=e.length&&(i+=y1e(t,e,n,r)),i}function w1e(t,e){const{x:n,y:r=[],z:i=[]}=e,o=t.length,s=n.length+r.length+i.length;if(s!==o)return"";if(n.length===o)return`fn getOutputCoords() -> ${Ti(o)}{
    let globalIndex = getGlobalIndex();
    return getCoordsFromIndex(globalIndex);
  }
  `;let l="";const f=[n,r,i];for(let y=0;y<f.length;y++){const x=f[y];if(x.length!==0)if(x.length===1)l+=`let d${x[0]} = i32(globalId[${y}]);`;else{const S=f1e(x,"uniforms.outShape");l+=`var index${y} = i32(globalId[${y}]);`;for(let _=0;_<S.length;_++)l+=`let d${x[_]} = index${y} / ${S[_]};`,_===S.length-1?l+=`let d${x[_+1]} = index${y} - d${x[_]} * ${S[_]};`:l+=`index${y} = index${y} - d${x[_]} * ${S[_]};`}}const p=[];for(let y=0;y<s;y++)p.push(`d${y}`);const m=Ti(s);let g=`fn getOutputCoords() -> ${m} {
  ${l}
`;return p.length===0?g+=`return ${m}(0); }`:g+=`return ${m}(${p.join(",")}); }`,g}function x1e(t){let e="";switch(t){case 0:case 1:e+=`
        fn getOutputIndexFromCoords(coords : i32) -> i32 {
          return coords;
        }
        `;break;case 2:e+=`
        fn getOutputIndexFromCoords(coords : vec2<i32>) -> i32 {
          return dot(coords, vec2<i32>(uniforms.outShapeStrides, 1));
        }
        `;break;case 3:e+=`
        fn getOutputIndexFromCoords(coords : vec3<i32>) -> i32 {
          return dot(coords, vec3<i32>(uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, 1));
        }
        `;break;case 4:e+=`
        fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
          return dot(coords, vec4<i32>(
            uniforms.outShapeStrides.x, uniforms.outShapeStrides.y, uniforms.outShapeStrides.z, 1));
        }
        `;break;case 5:e+=`
        fn getOutputIndexFromCoords(coords : vec5) -> i32 {
          return coords.x * uniforms.outShapeStrides.x +
              coords.y * uniforms.outShapeStrides.y +
              coords.z * uniforms.outShapeStrides.z +
              coords.w * uniforms.outShapeStrides.w +
              coords.u;
        }
        `;break;case 6:e+=`
        fn getOutputIndexFromCoords(coords : vec6) -> i32 {
          return coords.x * uniforms.outShapeStrides.x +
              coords.y * uniforms.outShapeStrides.y +
              coords.z * uniforms.outShapeStrides.z +
              coords.w * uniforms.outShapeStrides.w +
              coords.u * uniforms.outShapeStrides.u +
              coords.v;
        }
        `;break;default:X(!1,()=>`Unsupported ${t}D shape`);break}return e}function kH(t){return t.dispatch[1]===1&&t.dispatch[2]===1}function Jh(t,e=1){if(t==="float32")return En(e,"f32");if(t==="int32"||t==="bool")return En(e,"i32");throw new Error(`type ${t} is not supported.`)}function S1e(t,e,n){const r=t.length,i=Jh(e,n);let o=`fn setOutputAtIndex(flatIndex : i32, value : ${En(n)}) {
      result[flatIndex] = ${i}(value);
    }

    fn setOutputAtIndexI32(flatIndex : i32, value : ${En(n,"i32")}) {
      result[flatIndex] = ${i}(value);
    }
    `;if(r>=2){const s=["d0","d1","d2","d3","d4","d5"].slice(0,r),l=Ti(r);o+=`
      fn setOutputAtCoords(${s.map(f=>`${f} : i32`).join(", ")}, value : ${En(n)}) {
        let flatIndex = getOutputIndexFromCoords(${l}(${s.join(", ")}));
        setOutputAtIndex(flatIndex${n===1?"":` / ${n}`}, value);
      }
      fn setOutputAtCoordsI32(${s.map(f=>`${f} : i32`).join(", ")}, value : ${En(n,"i32")}) {
        let flatIndex = getOutputIndexFromCoords(${l}(${s.join(", ")}));
        setOutputAtIndexI32(flatIndex${n===1?"":` / ${n}`}, value);
      }
    `}return o}function C1e(t){const e=/(\w+)\s*:\s*vec(5|6)/g;t=t.replace(e,r=>"@align(16) "+r);const n=/vec(5|6)\s*,\s*(\w+)/g;return t=t.replace(n,(r,i,o)=>`vec${i}, @align(16) ${o}`),t}function NH(t){return!(t.dispatchLayout.hasOwnProperty("y")&&t.dispatchLayout.y.length!==0||t.dispatchLayout.hasOwnProperty("z")&&t.dispatchLayout.z.length!==0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const em=t=>{let e=1;for(let n=0;n<t.length;n++)e*=t[n];return e};function pt(t,e,n=[1,1,1],r=[1,1,1]){const[i,o,s]=[Math.ceil(em(t.x.map(l=>e[l]))/(n[0]*r[0])),t.y?Math.ceil(em(t.y.map(l=>e[l]))/(n[1]*r[1])):1,t.z?Math.ceil(em(t.z.map(l=>e[l]))/(n[2]*r[2])):1];return[i,o,s]}function E1e(t,e,n,r=!1){const i=[8,8,1],o=[4,4,1];return r||(t<=8&&(o[1]=1),e<=16&&n<=16&&(i[0]=4)),{workgroupSize:i,elementsPerThread:o}}function RH(t,e,n=!1){if(n)return[8,8,1];const r=em(t.x.map(o=>e[o])),i=em(t.y.map(o=>e[o]));return r<=4?[4,16,1]:i<=4?[16,4,1]:[16,16,1]}function AH(t,e,n=!1){if(n)return[4,4,1];const r=em(t.x.map(o=>e[o])),i=em(t.y.map(o=>e[o]));return r<=4?[1,2,1]:i<=4?[2,1,1]:[2,2,1]}function Ct(t){return{x:t.map((e,n)=>n)}}function DH(t){if(t==="float32"||t==="int32"||t==="bool"||t==="string")return 4;if(t==="complex64")return 8;throw new Error(`Unknown dtype ${t}`)}function OH(){return!!(typeof globalThis<"u"&&globalThis.navigator&&globalThis.navigator.gpu)}function $H(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&X(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGPU backend.`)})}var Ac;(function(t){t[t.MatMulReduceProgram=0]="MatMulReduceProgram",t[t.MatMulSplitKProgram=1]="MatMulSplitKProgram",t[t.MatMulSmallOutputSizeProgram=2]="MatMulSmallOutputSizeProgram",t[t.MatMulPackedProgram=3]="MatMulPackedProgram",t[t.MatMulMax=4]="MatMulMax"})(Ac||(Ac={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _1e=$t().getNumber("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD"),T1e=(t,e)=>{const n=t.limits.maxComputeWorkgroupsPerDimension,r=e.dispatchLayout,i=e.dispatch;if(i.every(s=>s<=n))return i;X(i[0]>n&&r.y===void 0&&r.z===void 0,()=>"Dispatch size exceeds WebGPU limits in Y or Z dimension.");let o=Math.ceil(Math.sqrt(i[0]));return o>n?(o=Math.ceil(Math.cbrt(i[0])),X(o<=n,()=>"Total dispatch size exceeds WebGPU maximum."),[o,o,o]):[o,o,1]};class gS extends Lk{nextDataId(){return gS.nextDataId++}constructor(e,n){if(super(),this.commandQueueOwnedIds=new WeakSet,this.dispatchCountInPass=0,this.disposed=!1,this.downloadWaitMs=0,this.tensorDataPendingDisposal=[],this.queryResolveBuffer=null,this.querySet=null,this.querySetCount=2,this.stagingPendingDisposal=[],this.uniformPendingDisposal=[],this.uploadWaitMs=0,this.hasReadSyncWarned=!1,this.hasTimestampQueryWarned=!1,!OH())throw new Error("WebGPU is not supported on this device");this.pipelineCache={},this.device=e,this.queue=e.queue,this.commandEncoder=null,this.computePassEncoder=null,this.adapterInfo=new u1e(n),this.supportTimestampQuery=this.device.features.has("timestamp-query"),this.thresholdToIncreaseWorkgroups=this.adapterInfo.intelGPUGeneration>=12?16:8,this.bufferManager=new l1e(this.device),this.textureManager=new c1e(this.device),this.tensorMap=new f5(this,Xg()),$t().getBool("WEBGPU_USE_PROFILE_TOOL")&&(this.dummyCanvas=document.createElement("canvas"),this.dummyCanvas.width=1,this.dummyCanvas.height=1,this.dummyContext=this.dummyCanvas.getContext("webgpu"),this.dummyContext.configure({device:e,format:"bgra8unorm"}),document.body.appendChild(this.dummyCanvas))}floatPrecision(){return 32}disposeData(e,n=!1){if(!this.tensorMap.has(e))return!0;const r=this.tensorMap.get(e);return n?r.refCount=0:r.refCount--,r.refCount>0?!1:(r.complexTensorInfos!=null&&(this.disposeData(r.complexTensorInfos.real.dataId),this.disposeData(r.complexTensorInfos.imag.dataId)),this.commandQueueOwnedIds.has(e)?(this.tensorDataPendingDisposal.push(e),!0):(this.releaseResource(e),this.tensorMap.delete(e),!0))}memory(){return{numBytesInGPU:this.bufferManager.numBytesUsed,numBytesAllocatedInGPU:this.bufferManager.numBytesAllocated,unreliable:!1}}releaseResource(e){const n=this.tensorMap.get(e);if(!(!n||!n.resource)){if(n.external){n.resource=null;return}n.resource instanceof GPUBuffer?this.bufferManager.releaseBuffer(n.resource):n.resource instanceof GPUTexture&&this.textureManager.releaseTexture(n.resource),n.resource=null}}refCount(e){return this.tensorMap.has(e)?this.tensorMap.get(e).refCount:0}incRef(e){const n=this.tensorMap.get(e);n.refCount++}decRef(e){if(this.tensorMap.has(e)){const n=this.tensorMap.get(e);n.refCount--}}write(e,n,r){if(r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const i={id:this.nextDataId()};return this.tensorMap.set(i,{dtype:r,shape:n,values:e,refCount:1}),i}move(e,n,r,i,o){if(i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.tensorMap.set(e,{dtype:i,shape:r,values:n,refCount:o})}submitQueue(){this.queue.submit([this.commandEncoder.finish()]),this.commandEncoder=null,this.dispatchCountInPass=0,this.commandQueueOwnedIds=new WeakSet,this.tensorDataPendingDisposal.forEach(e=>{this.releaseResource(e),this.tensorMap.delete(e)}),this.uniformPendingDisposal.forEach(e=>this.bufferManager.releaseBuffer(e)),this.stagingPendingDisposal.forEach(e=>this.bufferManager.releaseBuffer(e,!1)),this.tensorDataPendingDisposal=[],this.uniformPendingDisposal=[],this.stagingPendingDisposal=[]}ensureCommandEncoderReady(){this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder())}endComputePassEncoder(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}async checkCompileCompletionAsync(){let e;try{e=await Promise.all(Object.values(this.pipelineCache))}catch(n){throw new Error(n.message)}Object.keys(this.pipelineCache).map((n,r)=>{this.pipelineCache[n]=e[r]})}async getBufferData(e){if($t().getBool("WEBGPU_ENGINE_COMPILE_ONLY"))return console.warn("The data may be invalid since WEBGPU_ENGINE_COMPILE_ONLY is true, this can only be called when WEBGPU_ENGINE_COMPILE_ONLY is false"),null;const n=e.size,r=this.bufferManager.acquireBuffer(n,GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ);this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(e,0,r,0,n),this.submitQueue(),await r.mapAsync(GPUMapMode.READ);const i=r.getMappedRange().slice(0);return r.unmap(),r!=null&&this.bufferManager.releaseBuffer(r),$t().getBool("WEBGPU_USE_PROFILE_TOOL")&&(X(this.dummyContext!==void 0,()=>"Fail to get context for profiling tool"),this.dummyContext.getCurrentTexture()),i}convertAndCacheOnCPU(e,n){const r=this.tensorMap.get(e);return r.values=n,r.values}readSync(e){const n=this.tensorMap.get(e),{values:r,complexTensorInfos:i}=n;if(r!=null||n.dtype==="string")return r;if(n.dtype==="complex64"){const _=this.readSync(i.real.dataId),k=this.readSync(i.imag.dataId),R=Dx(cD(_,k).buffer,"float32");return this.convertAndCacheOnCPU(e,R),R}this.hasReadSyncWarned||(this.hasReadSyncWarned=!0,console.warn("The performance of synchronously reading data from GPU to CPU is poor on the webgpu backend, please use asynchronous APIs instead."));const o=["opaque","premultiplied"],s=n.resource,l=s.size;X(l%4===0,()=>"Because there is 4 bytes for one pixel, buffer size must be multiple of 4.");const f=l/4,p=new ArrayBuffer(l),m=256,g=256,y=o.map(_=>new OffscreenCanvas(m,g)),x=new OffscreenCanvas(m,g);this.endComputePassEncoder(),y.map((_,k)=>{const R=_.getContext("webgpu");return R.configure({device:this.device,format:"bgra8unorm",usage:GPUTextureUsage.COPY_DST,alphaMode:o[k]}),R.getCurrentTexture()}).map((_,k)=>{const R=m*4,O=(te,fe,ye)=>{this.ensureCommandEncoderReady(),this.commandEncoder.copyBufferToTexture({buffer:s,bytesPerRow:R,offset:ye},{texture:_},{width:te,height:fe}),this.submitQueue();const de=x.getContext("2d",{willReadFrequently:!0});de.clearRect(0,0,te,fe),de.drawImage(y[k],0,0);const Pe=de.getImageData(0,0,te,fe).data,xe=o[k],Te=new Uint8ClampedArray(p,ye,te*fe*4);for(let je=0;je<Te.length;je+=4)if(xe==="premultiplied")Te[je+3]=Pe[je+3];else{const $e=Pe[je];Te[je]=Pe[je+2],Te[je+1]=Pe[je+1],Te[je+2]=$e}},I=Math.floor(f/(m*g));let P=m,F=g,K=0;for(let te=0;te<I;te++)O(P,F,K),K+=m*g*4;const Y=f%(m*g);F=Math.floor(Y/m),F>0&&(O(P,F,K),K+=F*(m*4)),P=Y%m,P>0&&O(P,1,K)});const S=Dx(p,n.dtype);return this.convertAndCacheOnCPU(e,S),S}async read(e){if(!this.tensorMap.has(e))throw new Error(`Tensor ${e} was not registered!`);const n=this.tensorMap.get(e),{values:r}=n;if(r!=null)return r;let i;if(n.dtype==="complex64"){const o=await Promise.all([this.read(n.complexTensorInfos.real.dataId),this.read(n.complexTensorInfos.imag.dataId)]),s=o[0],l=o[1];i=cD(s,l)}else{const o=await this.getBufferData(n.resource);i=Dx(o,n.dtype)}return this.convertAndCacheOnCPU(e,i),i}copyBuffer(e){const n=e.size,r=e.usage,i=this.bufferManager.acquireBuffer(n,r);return this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(e,0,i,0,n),this.submitQueue(),i}createTensorFromGPUData(e,n,r){let i=e.buffer;if(r==="complex64")throw new Error("Cannot write to a complex64 dtype. ");const o={id:this.nextDataId()};this.tensorMap.set(o,{dtype:r,shape:n,values:null,refCount:1,external:e.zeroCopy});const s=this.tensorMap.get(o),l=DH(s.dtype)*lt(s.shape);if(e.buffer.size<l)throw new Error(`GPUBuffer size(${e.buffer.size}) is smaller than tensor size(${l})!`);if((e.buffer.usage&(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC))!==(GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC))throw new Error("GPUBuffer.usage should include GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC!");return e.zeroCopy!==!0&&(i=this.copyBuffer(i)),s.resource=i,Xg().makeTensorFromDataId(o,n,r,this)}readToGPU(e){const n=this.tensorMap.get(e),{values:r,dtype:i,shape:o,resource:s}=n;if(i==="complex64")throw new Error("Does not support reading buffer for complex64 dtype.");if(s==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const l=s,f=l.size,p=l.usage,m=this.bufferManager.acquireBuffer(f,p);this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(s,0,m,0,f),this.submitQueue();const g=this.makeTensorInfo(o,i),y=Xg().makeTensorFromTensorInfo(g),x=this.tensorMap.get(g.dataId);return x.resource=m,{tensorRef:y,buffer:m}}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(i=>Mh(i));return Nr(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Nr(e.shape,e.dtype,n)}async time(e){!this.supportTimestampQuery&&!this.hasTimestampQueryWarned&&(console.warn("This device doesn't support timestamp-query extension. Start Chrome browser with flag --enable-dawn-features=allow_unsafe_apis to try it again. Otherwise, zero will be shown for the kernel time when profiling mode is enabled."),this.hasTimestampQueryWarned=!0);const n=this.activeTimers,r=[];let i=!1;this.programTimersStack==null?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();const o=Cc(this.activeTimers.map(p=>p.query)).filter(p=>p!=null),s=Cc(this.activeTimers.map(p=>p.name)).filter(p=>p!=null);this.activeTimers=n,i&&(this.programTimersStack=null);const l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},f=await Promise.all(o);return l.kernelMs=p5(f),l.getExtraProfileInfo=()=>f.map((p,m)=>({name:s[m],ms:p})).map(p=>`${p.name}: ${p.ms}`).join(", "),this.uploadWaitMs=0,this.downloadWaitMs=0,l}makeTensorInfo(e,n,r){return n==="string"&&r!=null&&r.length>0&&Cf(r[0])&&(r=r.map(o=>Ef(o))),{dataId:this.write(r,e,n),shape:e,dtype:n}}tensorToBinding(e){if(!e)return null;const r=this.tensorMap.get(e.dataId).resource;return r instanceof GPUBuffer?{buffer:r}:r instanceof GPUTexture?r.createView():r}uploadToGPU(e){const n=this.tensorMap.get(e);if(n.resource!=null)return;const r=DH(n.dtype)*lt(n.shape);let i;const o=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;if(n.values){if(i=this.bufferManager.acquireBuffer(r,o,!0),i.mapState==="unmapped"){const s=this.bufferManager.acquireBuffer(r,GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC,!0,!1),l=s.getMappedRange();n.dtype==="int32"||n.dtype==="bool"?new Int32Array(l).set(n.values):new Float32Array(l).set(n.values),s.unmap(),this.ensureCommandEncoderReady(),this.endComputePassEncoder(),this.commandEncoder.copyBufferToBuffer(s,0,i,0,r),this.stagingPendingDisposal.push(s)}else{const s=i.getMappedRange();n.dtype==="int32"||n.dtype==="bool"?new Int32Array(s).set(n.values):new Float32Array(s).set(n.values),i.unmap()}n.values=null}else i=this.bufferManager.acquireBuffer(r,o);n.resource=i}makeUniforms(e){let n=0,r=0;const i=[];let o=1;e.forEach(f=>{f.data.length===0&&(f.data=[1]);let p;switch(f.data.length){case 1:p=4;break;case 2:p=8;break;case 3:p=16;break;case 4:p=16;break;case 5:p=16;break;case 6:p=16;break;default:X(!1,()=>`Unsupported ${f.data.length}D shape`)}(r===5||r===6)&&(p=16),p>o&&(o=p),n=Math.ceil(n/p)*p,r=f.data.length,i.push(n),n+=f.data.length*4}),n=Math.ceil(n/o)*o;const s=new ArrayBuffer(n);e.forEach((f,p)=>{const m=i[p];f.type==="int32"?new Int32Array(s,m,f.data.length).set(f.data):f.type==="uint32"?new Uint32Array(s,m,f.data.length).set(f.data):new Float32Array(s,m,f.data.length).set(f.data)});const l=this.bufferManager.acquireBuffer(n,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);return this.queue.writeBuffer(l,0,s,0,n),this.uniformPendingDisposal.push(l),{offset:0,size:n,buffer:l}}runWebGPUProgram(e,n,r,i,o){if(o||(o=this.makeTensorInfo(e.outputShape,r)),lt(o.shape)===0)return this.tensorMap.get(o.dataId).values=Sf(o.dtype,0),o;this.uploadToGPU(o.dataId),e.dispatch=T1e(this.device,e);const s=n.map((f,p)=>{if(f.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");return this.uploadToGPU(f.dataId),{dtype:this.tensorMap.get(f.dataId).dtype,shape:f.shape,name:e.variableNames[p]}});e.shaderKey=m1e(e,s,o);const l=$t().getBool("WEBGPU_ENGINE_COMPILE_ONLY");return e.shaderKey in this.pipelineCache||(this.pipelineCache[e.shaderKey]=d1e(this.device,e,s,o,l)),e.pipeline=this.pipelineCache[e.shaderKey],l||this.recordAndSubmit(e,o,n,i),o}recordAndSubmit(e,n,r,i){if(e.pipeline instanceof Promise)throw new Error("Please call checkCompileCompletionAsync to ensure parallel compilation is done!");let o=[],s=[];const l="int32";if(e.pixelsOpType==null){o.push({type:"float32",data:[NaN]},{type:"float32",data:[1/0]}),s=r.concat(n).map(x=>x.shape);const y="int32";s.map(x=>{o.push({type:y,data:x});const S=Ta(x);o.push({type:y,data:S})})}else{const y=Ta(n.shape);o.push({type:l,data:y})}if(e.size){const y=lt(e.outputShape);o.push({type:l,data:[e.outputComponent?y/e.outputComponent:y]})}i&&(o=[...o,...i]);const f=[this.tensorToBinding(n),...r.map(y=>this.tensorToBinding(y)),this.makeUniforms(o)];r.forEach(y=>{this.commandQueueOwnedIds.add(y.dataId)}),this.commandQueueOwnedIds.add(n.dataId);const p=this.device.createBindGroup({layout:e.pipeline.getBindGroupLayout(0),entries:f.map((y,x)=>({binding:x,resource:y}))}),m=this.activeTimers!=null;this.ensureCommandEncoderReady();const g={};m&&this.supportTimestampQuery?(this.endComputePassEncoder(),this.querySet==null&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.querySetCount})),g.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:0,endOfPassWriteIndex:1},this.computePassEncoder=this.commandEncoder.beginComputePass(g)):this.computePassEncoder||(this.computePassEncoder=this.commandEncoder.beginComputePass(g)),this.computePassEncoder.setPipeline(e.pipeline),this.computePassEncoder.setBindGroup(0,p),this.computePassEncoder.dispatchWorkgroups(e.dispatch[0],e.dispatch[1],e.dispatch[2]),this.dispatchCountInPass++,(m||$t().get("WEBGPU_DEFERRED_SUBMIT_BATCH_SIZE")<=this.dispatchCountInPass||e.pixelsOpType===m0.DRAW)&&(this.endComputePassEncoder(),m?this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime()}):this.submitQueue())}async getQueryTime(){if(!this.supportTimestampQuery)return 0;this.queryResolveBuffer==null&&(this.queryResolveBuffer=this.bufferManager.acquireBuffer(this.querySetCount*8,GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST|GPUBufferUsage.QUERY_RESOLVE)),this.commandEncoder.resolveQuerySet(this.querySet,0,this.querySetCount,this.queryResolveBuffer,0);const e=this.bufferManager.acquireBuffer(this.querySetCount*8,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,this.querySetCount*8),this.submitQueue(),await e.mapAsync(GPUMapMode.READ);const n=new BigUint64Array(e.getMappedRange()),r=Number(n[1]-n[0])/1e6;return e.unmap(),this.bufferManager.releaseBuffer(e),r}shouldExecuteOnCPU(e,n=_1e){return $t().getBool("WEBGPU_CPU_FORWARD")&&e.every(r=>this.tensorMap.get(r.dataId).resource==null&&lt(r.shape)<n)}numDataIds(){return this.tensorMap.numDataIds()-this.tensorDataPendingDisposal.length}dispose(){this.disposed||(this.querySet!=null&&this.querySet.destroy(),this.bufferManager.dispose(),this.textureManager.dispose(),this.disposed=!0)}}gS.nextDataId=0;/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */OH()&&TB("webgpu",async()=>{const t={powerPreference:$t().get("WEBGPU_USE_LOW_POWER_GPU")?"low-power":"high-performance"},e=await navigator.gpu.requestAdapter(t),n={},r=[];e.features.has("timestamp-query")&&r.push("timestamp-query"),e.features.has("bgra8unorm-storage")&&r.push(["bgra8unorm-storage"]),n.requiredFeatures=r;const i=e.limits;n.requiredLimits={maxComputeWorkgroupStorageSize:i.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:i.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:i.maxStorageBufferBindingSize,maxBufferSize:i.maxBufferSize,maxComputeWorkgroupSizeX:i.maxComputeWorkgroupSizeX,maxComputeInvocationsPerWorkgroup:i.maxComputeInvocationsPerWorkgroup};const o=await e.requestDevice(n),s="info"in e?e.info:"requestAdapterInfo"in e?await e.requestAdapterInfo():void 0;return new gS(o,s)},3);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var sn;(function(t){t[t.ADD=0]="ADD",t[t.ATAN2=1]="ATAN2",t[t.COMPLEX_MULTIPLY_IMAG=2]="COMPLEX_MULTIPLY_IMAG",t[t.COMPLEX_MULTIPLY_REAL=3]="COMPLEX_MULTIPLY_REAL",t[t.DIV=4]="DIV",t[t.ELU_DER=5]="ELU_DER",t[t.EQUAL=6]="EQUAL",t[t.FLOOR_DIV=7]="FLOOR_DIV",t[t.GREATER=8]="GREATER",t[t.GREATER_EQUAL=9]="GREATER_EQUAL",t[t.LESS=10]="LESS",t[t.LESS_EQUAL=11]="LESS_EQUAL",t[t.LOGICAL_AND=12]="LOGICAL_AND",t[t.LOGICAL_OR=13]="LOGICAL_OR",t[t.MAX=14]="MAX",t[t.MIN=15]="MIN",t[t.MOD=16]="MOD",t[t.MUL=17]="MUL",t[t.NOT_EQUAL=18]="NOT_EQUAL",t[t.POW=19]="POW",t[t.PRELU=20]="PRELU",t[t.SQUARED_DIFFERENCE=21]="SQUARED_DIFFERENCE",t[t.SUB=22]="SUB"})(sn||(sn={}));const k1e="let resultTemp = a + b;",N1e="let resultTemp = atan2(a, b);",R1e="let resultTemp = areal * breal - aimag * bimag;",A1e="let resultTemp = areal * bimag + aimag * breal;",D1e="let resultTemp = a / b;",O1e="let resultTemp = select(a * (b + 1.0), a, b >= b - b);",$1e=`
  let zero = sign(a) * 0 + 0;
  let one = sign(b) * 0 + 1;
  let resultTemp = select(zero, one, a == b);
`,I1e=`
  let remainder =
      select(a % b, round(a % b), (round(a) == a) & (round(b) == b));
  let quotient = (a - remainder) / b;
  let resultTemp =
      round(select(quotient, quotient - 1, sign(remainder) == -sign(b)));
`,P1e=`
  let zero = sign(a) * 0 + 0;
  let one = sign(b) * 0 + 1;
  let resultTemp = select(zero, one, a > b);
`,M1e=`
  let zero = sign(a) * 0 + 0;
  let one = sign(b) * 0 + 1;
  let resultTemp = select(zero, one, a >= b);
`,L1e=`
  let zero = sign(a) * 0 + 0;
  let one = sign(b) * 0 + 1;
  let resultTemp = select(zero, one, a < b);
`,F1e=`
  let zero = sign(a) * 0 + 0;
  let one = sign(b) * 0 + 1;
  let resultTemp = select(zero, one, a <= b);
`,V1e="return f32(a >= 1.0 && b >= 1.0);",j1e=`return (vec4<f32>(a >= vec4<f32>(1.0)) *
  vec4<f32>(b >= vec4<f32>(1.0)));`,z1e="return f32(a >= 1.0 || b >= 1.0);",B1e=`return min(vec4<f32>(a >= vec4<f32>(1.0)) +
  vec4<f32>(b >= vec4<f32>(1.0)), vec4<f32>(1.0));`,U1e="let resultTemp = max(a, b);",H1e="let resultTemp = min(a, b);",W1e=`
  let isNaN = b == 0.;
  var resultTemp = a % b;
  resultTemp = select((resultTemp + b) % b, resultTemp,
      (a < 0. && b < 0.) || (a >= 0. && b > 0.));
`,G1e=`
  let isNaN = !vec4<bool>(b);
  var resultTemp = vec4<f32>(a % b);
  if (!((a[0] < 0. && b[0] < 0.) || (a[0] >= 0. && b[0] > 0.))) {
    resultTemp[0] = (resultTemp[0] + b[0]) % b[0];
  }
  if (!((a[1] < 0. && b[1] < 0.) || (a[1] >= 0. && b[1] > 0.))) {
    resultTemp[1] = (resultTemp[1] + b[1]) % b[1];
  }
  if (!((a[2] < 0. && b[2] < 0.) || (a[2] >= 0. && b[2] > 0.))) {
    resultTemp[2] = (resultTemp[2] + b[2]) % b[2];
  }
  if (!((a[3] < 0. && b[3] < 0.) || (a[3] >= 0. && b[3] > 0.))) {
    resultTemp[3] = (resultTemp[3] + b[3]) % b[3];
  }
`,K1e="let resultTemp = a * b;",q1e=`
  var resultTemp = f32(a != b);
  let valueForNaN = 1.0;
`,Y1e=`
  var resultTemp = vec4<f32>(a != b);
  let valueForNaN = 1.0;
`,Z1e=`
  let isNaN = a < 0.0 && floor(b) < b;
  if (b == 0.0) {
    return 1.0;
  }
  var resultTemp = select(sign(a) * pow(abs(a), b), pow(abs(a), b),
      round(abs(b) % 2.0) != 1.0);
`,X1e=`
  let isModRound1Bool = vec4<i32>(round(abs(b) % vec4<f32>(2.0))) == vec4<i32>(1);
  let isModRound1 = vec4<f32>(isModRound1Bool);
  let multiplier = sign(a) * isModRound1 + (vec4<f32>(1.0) - isModRound1);
  var resultTemp = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  let isExpZero = b == vec4<f32>(0.0);
  if (isExpZero.r) {
    resultTemp.r = 1.0;
  }
  if (isExpZero.g) {
    resultTemp.g = 1.0;
  }
  if (isExpZero.b) {
    resultTemp.b = 1.0;
  }
  if (isExpZero.a) {
    resultTemp.a = 1.0;
  }
  let isNaN = (a < vec4<f32>(0.0)) & (floor(b) < b);
`,Q1e="if (a < 0.0) { return b * a; }  return a;",J1e=`
  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));
  return (aLessThanZero * (b * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);
`,ebe="let resultTemp = (a - b) * (a - b);",tbe="let resultTemp = a - b;";function pD(t,e){let n;do{switch(t){case sn.ATAN2:n=N1e;break;case sn.MAX:n=U1e;break;case sn.MIN:n=H1e;break;case sn.MOD:n=e?G1e:W1e;break;case sn.NOT_EQUAL:n=e?Y1e:q1e;break;case sn.POW:n=e?X1e:Z1e;break;default:continue}let r,i,o;return e?(r="isnanVec4",i="vec4<f32>",o="vec4<bool>"):(r="isnan",i="f32",o="bool"),`
      let aIsNaN = ${r}(a);
      let aPostLegalization = select(a, ${i}(42), aIsNaN);
      let bIsNaN = ${r}(b);
      let bPostLegalization = select(b, ${i}(42), bIsNaN);
      let isNaN = false;
      let valueForNaN = uniforms.NAN;
      {
        let a = aPostLegalization;
        let b = bPostLegalization;
        ${n}
        return select(
            resultTemp, ${i}(valueForNaN),
            ${o}(isNaN) | aIsNaN | bIsNaN);
      }
    `}while(!1);switch(t){case sn.ADD:n=k1e;break;case sn.COMPLEX_MULTIPLY_IMAG:n=A1e;break;case sn.COMPLEX_MULTIPLY_REAL:n=R1e;break;case sn.DIV:n=D1e;break;case sn.ELU_DER:n=O1e;break;case sn.EQUAL:n=$1e;break;case sn.FLOOR_DIV:n=I1e;break;case sn.GREATER:n=P1e;break;case sn.GREATER_EQUAL:n=M1e;break;case sn.LESS:n=L1e;break;case sn.LESS_EQUAL:n=F1e;break;case sn.LOGICAL_AND:return e?j1e:V1e;case sn.LOGICAL_OR:return e?B1e:z1e;case sn.MUL:n=K1e;break;case sn.PRELU:return e?J1e:Q1e;case sn.SQUARED_DIFFERENCE:n=ebe;break;case sn.SUB:n=tbe;break}return`
    ${n}
    return resultTemp;
  `}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ct;(function(t){t[t.ABS=0]="ABS",t[t.ACOS=1]="ACOS",t[t.ACOSH=2]="ACOSH",t[t.ASIN=3]="ASIN",t[t.ASINH=4]="ASINH",t[t.ATAN=5]="ATAN",t[t.ATANH=6]="ATANH",t[t.CEIL=7]="CEIL",t[t.COS=8]="COS",t[t.COSH=9]="COSH",t[t.ELU=10]="ELU",t[t.ERF=11]="ERF",t[t.EXP=12]="EXP",t[t.EXPM1=13]="EXPM1",t[t.FLOOR=14]="FLOOR",t[t.IS_FINITE=15]="IS_FINITE",t[t.IS_INF=16]="IS_INF",t[t.IS_NAN=17]="IS_NAN",t[t.LINEAR=18]="LINEAR",t[t.LOG=19]="LOG",t[t.LOG1P=20]="LOG1P",t[t.LOGICAL_NOT=21]="LOGICAL_NOT",t[t.NEG=22]="NEG",t[t.RELU=23]="RELU",t[t.RELU6=24]="RELU6",t[t.LEAKYRELU=25]="LEAKYRELU",t[t.RECIPROCAL=26]="RECIPROCAL",t[t.ROUND=27]="ROUND",t[t.RSQRT=28]="RSQRT",t[t.SELU=29]="SELU",t[t.SIGMOID=30]="SIGMOID",t[t.SIGN=31]="SIGN",t[t.SIN=32]="SIN",t[t.SINH=33]="SINH",t[t.SOFTPLUS=34]="SOFTPLUS",t[t.SQRT=35]="SQRT",t[t.SQUARE=36]="SQUARE",t[t.STEP=37]="STEP",t[t.TAN=38]="TAN",t[t.TANH=39]="TANH",t[t.TO_INT=40]="TO_INT"})(ct||(ct={}));const nbe="return abs(a);",rbe=`
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  return acos(a);
`,ibe=`
  if (a < 1.) {
    return uniforms.NAN;
  }
  return acosh(a);
`,abe=`
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  return asin(a);
`,obe="return asinh(a);",sbe=`
  if (isnan(a)) {
    return uniforms.NAN;
  }
  return atan(a);
`,ube=`
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  if (a == 1.) {
    return uniforms.INFINITY;
  }
  if (a == -1.) {
    return -uniforms.INFINITY;
  }
  return atanh(a);
`,lbe="return ceil(a);",cbe="return cos(a);",fbe=`
  let e2x = exp(-a);
  return (e2x + 1.0 / e2x) / 2.0;
`,dbe="return exp(a) - 1.0;",pbe="if (a >= 0.0) { return a; }  return (exp(a) - 1.0);",hbe=`
  var resFloat = exp(a) - vec4<f32>(1.0);
  if (a.r >= 0.0) {
    resFloat.r = a.r;
  }
  if (a.g >= 0.0) {
    resFloat.g = a.g;
  }
  if (a.b >= 0.0) {
    resFloat.b = a.b;
  }
  if (a.a >= 0.0) {
    resFloat.a = a.a;
  }
  return resFloat;
`,mbe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  let p = ${K7};
  let a1 = ${q7};
  let a2 = ${Y7};
  let a3 = ${Z7};
  let a4 = ${X7};
  let a5 = ${Q7};

  let sign = sign(a);
  let absA = abs(a);
  let t = 1.0 / (1.0 + p * absA);
  return sign * (1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * exp(-absA * absA));
`,gbe="return exp(a);",vbe="return floor(a);",ybe="return f32(!isnan(a) && !isinf(a));",bbe="return f32(isinf(a));",wbe="return f32(isnan(a));",xbe="return a;",Sbe=`if (a < 0.0) { return uniforms.NAN; }
  return log(a);`,Cbe=`
  if (isnan(a)) { return a; }
  return log(1.0 + a);
`,Ebe="return f32(!(a >= 1.0));",_be="return -a;",Tbe="if (a < 0.0) { return uniforms.alpha * a; } return a;",kbe=`
  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));
  return (aLessThanZero * (uniforms.alpha * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);
`,Nbe="return 1.0 / a;",Rbe="return select(a, 0.0, a < 0.0);",Abe="return clamp(a, 0.0, 6.0);",Dbe="return clamp(a, vec4<f32>(0.0, 0.0, 0.0, 0.0), vec4<f32>(6.0, 6.0, 6.0, 6.0));",Obe=`
  return select(a, vec4<f32>(0.0), a < vec4<f32>(0.0));
`,$be="return round(a);",Ibe="return inverseSqrt(a);",Pbe=`
  if (a >= 0.0) {
    return ${G7} * a;
  } else {
    return ${W7} * (exp(a) - 1.0);
  }
`,Mbe="return 1.0 / (1.0 + exp(-1.0 * a));",Lbe="return sign(a);",Fbe="return sin(a);",Vbe=`
  let e2x = exp(a);
  return (e2x - 1.0 / e2x) / 2.0;
`,jbe=`
  let epsilon = 1.1920928955078125e-7;
  let threshold = log(epsilon) + 2.0;

  let too_large = a > -threshold;
  let too_small = a < threshold;
  let exp_a = exp(a);

  if (too_large) {
    return a;
  } else if (too_small) {
    return exp_a;
  } else {
    return log(exp_a + 1.0);
  }
`,zbe="return sqrt(a);",Bbe="return a * a;",Ube=`
  if (isnan(a)) {
    return a;
  }

  return select(uniforms.stepAlpha, 1.0, a > 0.0);
`,Hbe="return tan(a);",Wbe=`
  let e2x = exp(-2.0 * abs(a));
  return sign(a) * (1.0 - e2x) / (1.0 + e2x);
`,Gbe="return f32(i32((a)));";function tm(t,e){switch(t){case ct.ABS:return nbe;case ct.ACOS:return rbe;case ct.ACOSH:return ibe;case ct.ASIN:return abe;case ct.ASINH:return obe;case ct.ATAN:return sbe;case ct.ATANH:return ube;case ct.COS:return cbe;case ct.COSH:return fbe;case ct.CEIL:return lbe;case ct.ELU:return e?hbe:pbe;case ct.ERF:return mbe;case ct.EXP:return gbe;case ct.EXPM1:return dbe;case ct.FLOOR:return vbe;case ct.IS_FINITE:return ybe;case ct.IS_INF:return bbe;case ct.IS_NAN:return wbe;case ct.LINEAR:return xbe;case ct.LOG:return Sbe;case ct.LOG1P:return Cbe;case ct.LOGICAL_NOT:return Ebe;case ct.NEG:return _be;case ct.LEAKYRELU:return e?kbe:Tbe;case ct.RECIPROCAL:return Nbe;case ct.RELU:return e?Obe:Rbe;case ct.RELU6:return e?Dbe:Abe;case ct.ROUND:return $be;case ct.RSQRT:return Ibe;case ct.SELU:return Pbe;case ct.SIGMOID:return Mbe;case ct.SIGN:return Lbe;case ct.SIN:return Fbe;case ct.SINH:return Vbe;case ct.SOFTPLUS:return jbe;case ct.SQRT:return zbe;case ct.SQUARE:return Bbe;case ct.STEP:return Ube;case ct.TAN:return Hbe;case ct.TANH:return Wbe;case ct.TO_INT:return Gbe;default:throw new Error(`BinaryType ${t} is not implemented!`)}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Df(t,e=!1,n=!1,r=3){if(t===null)return"";let i="";if(t==="linear")i=tm(ct.LINEAR);else if(t==="relu")i=tm(ct.RELU,n);else if(t==="elu")i=tm(ct.ELU,n);else if(t==="relu6")i=tm(ct.RELU6,n);else if(t==="prelu")i=pD(sn.PRELU,n);else if(t==="sigmoid")i=tm(ct.SIGMOID,n);else if(t==="leakyrelu")i=tm(ct.LEAKYRELU,n);else throw new Error(`Activation ${t} has not been implemented for the WebGPU backend.`);const s=En(n?4:1);let l="";return e?l=`
      fn activation(a : ${s}, coords : vec${r}<i32>) -> ${s} {
        let b = getPreluActivationWeightsByOutputCoords(coords);
        ${i}
      }`:l=`
      fn activation(a : ${s}, coords : vec${r}<i32>) -> ${s} {
        ${i}
      }`,l}function nm(t,e){return`
      ${t?"value = value + getBiasByOutputCoords(coords);":""}
      ${e?"value = activation(value, coords);":""}
      `}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IH(t,e,n=!1,r=!1,i=!1,o=1){X(t&&o===1||!t,()=>`transposeA ${t} is not compatible with component size ${o}`);const s=`
      ${t?"value = getA(batch, col, row);":"value = getA(batch, row, col);"}

    `,l=e?"value = getB(batch, col, row);":"value = getB(batch, row, col);";return`
  fn mm_readA(batch: i32, row: i32, col: i32) -> ${En(o)} {
    var value = ${En(o)}(0.0);
    ${n&&i?s:`
    ${t?"if(row < uniforms.dimAOuter && col < uniforms.dimInner)":"if(row < uniforms.aShape[1] && col < uniforms.aShape[2])"}
    {
      ${s}
    }
    `}
    return value;
  }

  fn mm_readB(batch: i32, row: i32, col: i32) -> ${En(o)} {
    var value = ${En(o)}(0.0);
    ${l}
    return value;
  }
  `}function hD(t,e,n,r,i=!1,o=!1,s=!1,l=1){return`
  ${IH(n,r,i,o,s,l)}
  fn mm_write(batch: i32, row: i32, col: i32, valueIn: ${En(l)}) {
    ${i&&o?"":"if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)"}
    {
      var value = valueIn;
      let coords = vec3<i32>(batch, row, col);
      ${nm(t,e)}
      setOutputAtCoords(coords[0], coords[1], coords[2], value);
    }
  }
  `}const Kbe=(t,e)=>t?`
        mm_Asub[inputRow][inputCol] = mm_readA(batchA,
          kStart + inputRow,
          globalRowStart + inputCol * ${e});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batchA,
          globalRow + innerRow,
          kStart + inputCol * ${e});
        `,qbe=(t,e,n,r)=>{if(t)return`
      for (var k = 0; k < ${r}; k++) {
        let BCached0 = mm_Bsub[k][tileCol];
        let ACached0 = mm_Asub[k][localRow];
        for (var i = 0; i < ${n}; i++) {
          acc[i] = fma(BCached0, vec4<f32>(ACached0[i]), acc[i]);
        }
      }`;{let i="",o="";for(let s=0;s<e;s++)i+=`let BCached${s} = mm_Bsub[k * ${e} + ${s}][tileCol];`,o+=`acc[i] = fma(BCached${s}, vec4<f32>(ACached[${s}]), acc[i]);`;return`
      for (var k = 0; k < ${r/e}; k++) {
        ${i}
        for (var i = 0; i < ${n}; i++) {
          let ACached = mm_Asub[tileRow + i][k];
          ${o}
        }
      }`}};function vS(t,e,n=!1,r=32,i=!1,o=32,s=!1){const l=e[1]*t[1],f=e[0]*t[0],p=n?l:r,m=n?r:l,g=p/e[0],y=r/e[1],x=t[1],S=t[0];return X((n&&g===4&&t[1]===4||!n&&(g===3||g===4))&&p%e[0]===0&&r%e[1]===0&&t[0]===4,()=>`If transposeA ${n} is true, innerElementSize ${g} and workPerThread[1] ${t[1]} must be 4.
          Otherwise, innerElementSize ${g} must be 3 or 4.
      tileAWidth ${p} must be divisible by workgroupSize[0]${e[0]}. tileInner ${r} must be divisible by workgroupSize[1] ${e[1]}. colPerThread ${t[0]} must be 4.`),`
  var<workgroup> mm_Asub : array<array<vec${g}<f32>, ${p/g}>, ${m}>;
  var<workgroup> mm_Bsub : array<array<vec4<f32>, ${f/t[0]}>, ${r}>;

  ${ft()} {
    let localRow = i32(localId.y);
    let tileRow = localRow * ${x};
    let tileCol = i32(localId.x);

    let globalRow = i32(globalId.y) * ${x};
    let globalCol = i32(globalId.x) * ${S};
    let batch = ${i?"0":"i32(globalId.z)"};
    let batchA = ${i||!s?"batch":"batch % uniforms.aShape[0]"};
    let batchB = ${i||!s?"batch":"batch % uniforms.bShape[0]"};
    let globalRowStart = i32(workgroupId.y) * ${l};

    let numTiles = ${i?`${Math.ceil(o/r)}`:`(uniforms.dimInner - 1) / ${r} + 1`};
    var kStart = ${i?`i32(globalId.z) * ${o}`:"0"};

    var acc: array<vec4<f32>, ${x}>;

    // Loop over shared dimension.
    let tileRowB = localRow * ${y};
    for (var t = 0; t < numTiles; t++) {
        // Load one tile of A into local memory.
        for (var innerRow = 0; innerRow < ${x}; innerRow++) {
            let inputRow = tileRow + innerRow;
            let inputCol = tileCol;
            ${Kbe(n,g)}
        }

        // Load one tile of B into local memory.
        for (var innerRow = 0; innerRow < ${y}; innerRow++) {
            let inputRow = tileRowB + innerRow;
            let inputCol = tileCol;
            mm_Bsub[inputRow][inputCol] = mm_readB(batchB, kStart + inputRow, globalCol);
        }
        kStart = kStart + ${r};
        workgroupBarrier();

        // Compute acc values for a single thread.
        ${qbe(n,g,x,r)}
        workgroupBarrier();
    }

    for (var innerRow = 0; innerRow < ${x}; innerRow++) {
        mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
    }
  }`}const PH=t=>t?`
        mm_Asub[inputRow][inputCol] = mm_readA(batchA,
          kStart + inputRow,
          globalRowStart + inputCol);
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batchA,
          globalRowStart + inputRow,
          kStart + inputCol);
        `,Ybe=t=>t?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];";function yS(t,e,n=!1,r=32,i=!1,o=32,s=!1,l=!1){const f=t[1]*e[1],p=t[0]*e[0],m=n?f:r,g=n?r:f;X(g%e[1]===0&&m%e[0]===0&&r%e[1]===0,()=>`tileAHight ${g} must be divisible by workgroupSize[1]${e[1]}, tileAWidth ${m} must be divisible by workgroupSize[0]${e[0]}, tileInner ${r} must be divisible by workgroupSize[1]${e[1]}`);const y=g/e[1],x=m/e[0],S=r/e[1],_=t[1],k=t[0],R=s?`
      let localRow = i32(localId.y);
      let localCol = i32(localId.x);
      let globalRowStart = i32(workgroupId.y) * ${f};
      let globalColStart = i32(workgroupId.x) * ${p};

      // Loop over shared dimension.
      for (var t = 0; t < numTiles; t++) {
        // Load one tile of A into local memory.
        for (var inputRow = localRow; inputRow < ${g}; inputRow = inputRow + ${e[1]}) {
          for (var inputCol = localCol; inputCol < ${m}; inputCol = inputCol + ${e[0]}) {
            ${PH(n)}
          }
        }
        // Load one tile of B into local memory.
        for (var inputRow = localRow; inputRow < ${r}; inputRow = inputRow + ${e[1]}) {
              for (var inputCol = localCol; inputCol < ${p}; inputCol = inputCol + ${e[0]}) {
            mm_Bsub[inputRow][inputCol] = mm_readB(batchB,
              kStart + inputRow,
              globalColStart + inputCol);
          }
        }
        kStart = kStart + ${r};
        workgroupBarrier();

        // Compute acc values for a single thread.
        var BCached : array<f32, ${k}>;
        for (var k = 0; k < ${r}; k++) {
          for (var inner = 0; inner < ${k}; inner++) {
            BCached[inner] = mm_Bsub[k][localCol + inner * ${e[0]}];
          }
          for (var innerRow = 0; innerRow < ${_}; innerRow++) {
            let ACached = ${n?`mm_Asub[k][localRow + innerRow * ${e[1]}];`:`mm_Asub[localRow + innerRow * ${e[1]}][k];`}
            for (var innerCol = 0; innerCol < ${k}; innerCol++) {
              acc[innerRow][innerCol] =
                  fma(ACached, BCached[innerCol], acc[innerRow][innerCol]);
            }
          }
        }
        workgroupBarrier();
      }
      for (var innerRow = 0; innerRow < ${_}; innerRow++) {
        let gRow = globalRowStart + localRow + innerRow * ${e[1]};
        for (var innerCol = 0; innerCol < ${k}; innerCol++) {
          let gCol = globalColStart + localCol + innerCol * ${e[0]};
          mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
        }
      }
      `:`
  let tileRow = i32(localId.y) * ${_};
  let tileCol = i32(localId.x) * ${k};

  let globalRow = i32(globalId.y) * ${_};
  let globalCol = i32(globalId.x) * ${k};
  let globalRowStart = i32(workgroupId.y) * ${f};

  let tileRowA = i32(localId.y) * ${y};
  let tileColA = i32(localId.x) * ${x};
  let tileRowB = i32(localId.y) * ${S};
  // Loop over shared dimension.
  for (var t = 0; t < numTiles; t++) {
    // Load one tile of A into local memory.
    for (var innerRow = 0; innerRow < ${y}; innerRow++) {
      for (var innerCol = 0; innerCol < ${x}; innerCol++) {
        let inputRow = tileRowA + innerRow;
        let inputCol = tileColA + innerCol;
        ${PH(n)}
      }
    }

    // Load one tile of B into local memory.
    for (var innerRow = 0; innerRow < ${S}; innerRow++) {
      for (var innerCol = 0; innerCol < ${k}; innerCol++) {
        let inputRow = tileRowB + innerRow;
        let inputCol = tileCol + innerCol;
        mm_Bsub[inputRow][inputCol] = mm_readB(batchB,
          kStart + inputRow,
          globalCol + innerCol);
      }
    }
    kStart = kStart + ${r};
    workgroupBarrier();

    // Compute acc values for a single thread.
    var BCached : array<f32, ${k}>;
    for (var k = 0; k < ${r}; k++) {
      for (var inner = 0; inner < ${k}; inner++) {
        BCached[inner] = mm_Bsub[k][tileCol + inner];
      }

      for (var innerRow = 0; innerRow < ${_}; innerRow++) {
        ${Ybe(n)}
        for (var innerCol = 0; innerCol < ${k}; innerCol++) {
          acc[innerRow][innerCol] =
              fma(ACached, BCached[innerCol], acc[innerRow][innerCol]);
        }
      }
    }

    workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < ${_}; innerRow++) {
    for (var innerCol = 0; innerCol < ${k}; innerCol++) {
      mm_write(batch, globalRow + innerRow, globalCol + innerCol,
          acc[innerRow][innerCol]);
    }
  }
  `;return`
    var<workgroup> mm_Asub : array<array<f32, ${m}>, ${g}>;
    var<workgroup> mm_Bsub : array<array<f32, ${p}>, ${r}>;

    ${ft()} {
      let batch = ${i?"0":"i32(globalId.z)"};
      let batchA = ${i||!l?"batch":"batch % uniforms.aShape[0]"};
      let batchB = ${i||!l?"batch":"batch % uniforms.bShape[0]"};
      let numTiles = ${i?`${Math.ceil(o/r)}`:`(uniforms.dimInner - 1) / ${r} + 1`};
      var kStart = ${i?`i32(globalId.z) * ${o}`:"0"};

      var acc : array<array<f32, ${k}>, ${_}>;

      // Without this initialization strange values show up in acc.
      for (var innerRow = 0; innerRow < ${_}; innerRow++) {
        for (var innerCol = 0; innerCol < ${k}; innerCol++) {
          acc[innerRow][innerCol] = 0.0;
        }
      }
      ${R}
    }
  `}const Zbe=t=>t?`
      mm_readA(batchA, colA, globalRow),
      mm_readA(batchA, colA + 1, globalRow),
      mm_readA(batchA, colA + 2, globalRow),
      mm_readA(batchA, colA + 3, globalRow)
  `:`
      mm_readA(batchA, globalRow, colA),
      mm_readA(batchA, globalRow, colA + 1),
      mm_readA(batchA, globalRow, colA + 2),
      mm_readA(batchA, globalRow, colA + 3)
  `;function Xbe(t,e=!1){X(t[1]===1&&t[2]===1,()=>`A linear work group size is required. But got ${t}.`);const n=t[0]*4;return`
    var<workgroup> mm_Asub : array<vec4<f32>, ${t[0]}>;

    ${ft()} {
      let tileCol = i32(localId.x);
      let globalCol = i32(globalId.x);
      let globalRow = i32(globalId.y);

      let numTiles = (uniforms.dimInner - 1) / ${n} + 1;
      let batch = i32(globalId.z);
      let batchA = batch % uniforms.aShape[0];
      let batchB = batch % uniforms.bShape[0];
      // Without this initialization strange values show up in acc.
      var acc = 0.0;

      // Loop over shared dimension.
      for (var t = 0; t < numTiles; t++) {
        // Load one tile of A into local memory.
        let colA = t * ${n} + tileCol * 4;
        mm_Asub[tileCol] = vec4<f32>(${Zbe(e)});
        workgroupBarrier();

        // Compute acc values for a single thread.
        for (var k = 0; k < ${n/4}; k++) {
          let rowB = t * ${n} + k * 4;
          let BCached = vec4<f32>(mm_readB(batchB, rowB, globalCol),
                              mm_readB(batchB, rowB + 1, globalCol),
                              mm_readB(batchB, rowB + 2, globalCol),
                              mm_readB(batchB, rowB + 3, globalCol));

          let ACached = mm_Asub[k];
          acc = acc + dot(ACached, BCached);
        }

        workgroupBarrier();
      }

      mm_write(batch, globalRow, globalCol, acc);
    }
  `}class Qbe{constructor(e,n,r=!1,i=!1,o=null,s=null,l=null,f=!1){this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=n,this.dispatchLayout={x:[2],y:[1],z:[0]};const p=r?e[1]:e[2];if(this.isVec4=(p%4===0&&!r||n[1]%4===0&&r)&&n[2]%4===0&&!i,this.outputComponent=this.isVec4?4:1,this.isVectorA=n[1]===1&&!r,!this.isVec4&&this.isVectorA)this.elementsPerThread=[1,1,1],this.workgroupSize=[32,1,1];else{const y=E1e(n[1],p,n[2],r);this.workgroupSize=y.workgroupSize,this.elementsPerThread=y.elementsPerThread}this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread);const m=o!=null,g=l!=null;m&&this.variableNames.push("bias"),g&&this.variableNames.push("preluActivationWeights"),this.sequentialAccessByThreads=f,this.transposeA=r,this.transposeB=i,this.addBias=m,this.activation=s,this.hasPreluActivationWeights=g,[this.fitAOuter,this.fitBOuter,this.fitInner]=this.getShapeFit(n[1],n[2],p),this.shaderKey=`matMulPacked_${this.elementsPerThread}_${r}_${i}_${this.activation}_${this.fitAOuter}_${this.fitBOuter}_${this.fitInner}_${this.isVec4}_${this.isVectorA}_${this.sequentialAccessByThreads}`}getShapeFit(e,n,r){const i=this.workgroupSize[1]*this.elementsPerThread[1],o=this.workgroupSize[0]*this.elementsPerThread[0];!this.isVec4&&this.isVectorA?this.tileInner=this.workgroupSize[0]*4:this.tileInner=o;const s=e%i===0,l=n%o===0,f=r%this.tileInner===0;return[s,l,f]}getUserCode(){return`
      ${Df(this.activation,this.hasPreluActivationWeights,this.isVec4)}
      ${hD(this.addBias,this.activation,!1,this.transposeB,this.fitAOuter,this.fitBOuter,this.fitInner,this.isVec4?4:1)}
      ${this.isVec4?vS(this.elementsPerThread,this.workgroupSize,this.transposeA,this.tileInner,!1,null,!0):this.isVectorA?Xbe(this.workgroupSize,this.transposeA):yS(this.elementsPerThread,this.workgroupSize,this.transposeA,this.tileInner,!1,null,this.sequentialAccessByThreads,!0)}
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jbe(t){return`
    var<workgroup> sumValues : array<f32, ${t}>;
    ${ft()} {
      let coords = getOutputCoords();
      let batch = coords[0];
      let batchA = batch % uniforms.aShape[0];
      let batchB = batch % uniforms.bShape[0];
      let row = coords[1];
      let col = coords[2];
      var sum = 0.0;
      let Length = uniforms.dimInner;
      for (var k = i32(localId.x); k < Length; k = k + ${t}) {
        let dataA = mm_readA(batchA, row, k);
        let dataB = mm_readB(batchB, k, col);
        sum = sum + dataA * dataB;
      }
      sumValues[localId.x] = sum;
      workgroupBarrier();

      for(var currentSize = ${t/2}u; currentSize > 1u;
          currentSize = currentSize / 2u) {
        if (localId.x < currentSize)
        {
          sumValues[localId.x] = sumValues[localId.x] + sumValues[localId.x + currentSize];
        }
        workgroupBarrier();
      }

      if (localId.x == 0u) {
        sum = sumValues[0] + sumValues[1];
        mm_write(batch, row, col, sum);
      }
    }
  `}class ewe{constructor(e,n=!1,r=!1,i=null,o=null,s=null){this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[256,1,1],this.outputShape=e,this.dispatchLayout={x:[],y:[1,2],z:[0]},this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize);const l=i!=null,f=s!=null;l&&this.variableNames.push("bias"),f&&this.variableNames.push("preluActivationWeights"),this.transposeA=n,this.transposeB=r,this.addBias=l,this.activation=o,this.hasPreluActivationWeights=f,this.shaderKey=`matMulReduce_${this.activation}_${n}_${r}`}getUserCode(){return`
      ${Df(this.activation,this.hasPreluActivationWeights)}
      ${hD(this.addBias,this.activation,this.transposeA,this.transposeB)}
      ${Jbe(this.workgroupSize[0])}
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function twe(t){const e=t[1],n=t[0],r=e>n?e:n;return`
  var<workgroup> mm_Asub : array<array<f32, ${r}>, ${e}>;
  var<workgroup> mm_Bsub : array<array<f32, ${n}>, ${r}>;

  // If the output size is small for matrix multiplication, avoid to use vec4
  // and handle some elements per thread to optimally utilize the ALU.
  // Read data from global memory to registers firstly, then store them into
  // shared memory, so it is instruction-Level parallelism for arithmetic
  // operations and others handle IO operations between barrier api, makes ALU
  // and load/store units work simultaneously, could improves the performance.
  ${ft()} {
    let tileRow = i32(localId.y);
    let tileCol = i32(localId.x);
    let globalRow = i32(globalId.y);
    let globalCol = i32(globalId.x);
    let batch = i32(globalId.z);
    let batchA = batch % uniforms.aShape[0];
    let batchB = batch % uniforms.bShape[0];

    // uniforms.dimInner should be greater than 0.
    let numTiles = (uniforms.dimInner - 1) / ${r} + 1;
    var acc = 0.0;

    var globalColA = tileCol;
    var globalRowB = 0;
    var regA = mm_readA(batchA, globalRow, globalColA);
    var regB0 = mm_readB(batchB, globalRowB + 2 * tileRow, globalCol);
    var regB1 = mm_readB(batchB, globalRowB + 2 * tileRow + 1, globalCol);
    globalColA = globalColA + ${r};
    globalRowB = globalRowB + ${r};

    for (var t = 0; t < numTiles; t = t + 1) {
      mm_Asub[tileRow][tileCol] = regA;
      mm_Bsub[2 * tileRow][tileCol] = regB0;
      mm_Bsub[2 * tileRow + 1][tileCol] = regB1;

      workgroupBarrier();

      regA = mm_readA(batchA, globalRow, globalColA);
      regB0 = mm_readB(batchB, globalRowB + 2 * tileRow, globalCol);
      regB1 = mm_readB(batchB, globalRowB + 2 * tileRow + 1, globalCol);
      globalColA = globalColA + ${r};
      globalRowB = globalRowB + ${r};

      for (var k = 0; k < ${r}; k = k + 1) {
        acc = acc + mm_Asub[tileRow][k] * mm_Bsub[k][tileCol];
      }
      workgroupBarrier();
    }

    mm_write(batch, globalRow, globalCol, acc);
  }
  `}class nwe{constructor(e,n,r,i=!1,o=!1,s=null,l=null,f=null){this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[16,8,1],this.outputShape=r,this.dispatchLayout={x:[2],y:[1],z:[0]},this.dispatch=[Math.ceil(r[2]/this.workgroupSize[0]),Math.ceil(r[1]/this.workgroupSize[1]),r[0]];const p=s!=null;p&&this.variableNames.push("bias");const m=f!=null;m&&this.variableNames.push("preluActivationWeights"),this.transposeA=i,this.transposeB=o,this.addBias=p,this.activation=l,this.hasPreluActivationWeights=m,this.shaderKey=`matMulSmallOutputSize_${this.activation}_${i}_${o}`}getUserCode(){return`
      ${Df(this.activation,this.hasPreluActivationWeights)}
      ${hD(this.addBias,this.activation,this.transposeA,this.transposeB)}
      ${twe(this.workgroupSize)}
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rwe{constructor(e,n,r=!1,i=!1){this.variableNames=["A","B"],this.uniforms="dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.workgroupSize=[8,8,1],this.atomic=!0,this.splitedDimInner=128,X(e[0]===1,()=>"MatMulSplitKProgram only supports batch = 1."),this.outputShape=e,this.dispatchLayout={x:[2],y:[1],z:[0,3]};const o=(r&&this.outputShape[1]%4===0||!r&&n%4===0)&&this.outputShape[2]%4===0;this.elementsPerThread=[4,4,this.splitedDimInner],this.outputComponent=o?4:1,o||(this.outputShape[1]<16&&(this.elementsPerThread[1]=1),this.outputShape[2]<16&&(this.elementsPerThread[0]=1)),this.dispatch=pt(this.dispatchLayout,[this.outputShape[0],this.outputShape[1],this.outputShape[2],n],this.workgroupSize,this.elementsPerThread),this.transposeA=r,this.transposeB=i,this.shaderKey=`matMulSplitK_${r}_${i}_${this.elementsPerThread}_${this.outputComponent}`}getUserCode(){const e=this.outputComponent;return`
      ${IH(!1,this.transposeB,!1,!1,!1,e)}
      fn mm_write(batch: i32, row : i32, col : i32, value : ${En(e)}) {
        if (row < uniforms.dimAOuter && col < uniforms.dimBOuter) {
          let coords = vec3<i32>(batch, row, col);
          let flatIndex = getOutputIndexFromCoords(coords);
          // The problem is that we should initialize output to zero before using.
          // Otherwise, the original value will be added to the result.
          for (var i = 0; i < ${e}; i = i + 1) {
            ${up("&result[flatIndex + i]",`${e>1?"value[i]":"value"}`,"float32")}
          }
        }
      }
      ${e===4?vS(this.elementsPerThread,this.workgroupSize,this.transposeA,32,!0,this.splitedDimInner):yS(this.elementsPerThread,this.workgroupSize,this.transposeA,32,!0,this.splitedDimInner)}
    `}}class iwe{constructor(e,n=null,r=null,i=null){this.uniforms="",this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.addBias=n!=null,this.hasPreluActivationWeights=i!=null,this.activation=r,this.addBias&&this.variableNames.push("bias"),this.hasPreluActivationWeights&&this.variableNames.push("preluActivationWeights"),this.shaderKey=`biasActivation_${r}`}getUserCode(){return`
    ${Df(this.activation,this.hasPreluActivationWeights)}
    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        var value = getXByOutputIndex(index);
        ${nm(this.addBias,this.activation)}
        setOutputAtIndex(index, value);
      }
    }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class awe{constructor(e){this.variableNames=[],this.outputShape=[],this.uniforms="value : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="fill"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        setOutputAtIndex(index, uniforms.value);
      }
    }
  `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lo(t){const{backend:e,attrs:n}=t,{shape:r,value:i}=n;let{dtype:o}=n;if(o=o||Wg(i),o==="string"){const s=Hi(o,lt(r));return s.fill(i),e.makeTensorInfo(r,o,s)}else{const s=new awe(r),l=[{type:"float32",data:[i]}];return e.runWebGPUProgram(s,[],o,l)}}const owe={kernelName:VN,backendName:"webgpu",kernelFunc:Lo};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mt(t){const{inputs:e,attrs:n}=t,{x:r}=e,{shape:i}=n,o=lt(r.shape),s=m5(i,o),l=lt(s);return X(o===l,()=>`The new shape (${s}) has ${l} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),t.backend.incRef(r.dataId),{dataId:r.dataId,shape:s,dtype:r.dtype}}const swe={kernelName:MR,backendName:"webgpu",kernelFunc:Mt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bS({a:t,b:e,transposeA:n,transposeB:r,backend:i,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:f=null}){const p=t.shape.length,m=e.shape.length,g=n?t.shape[p-2]:t.shape[p-1],y=r?e.shape[m-1]:e.shape[m-2],x=n?t.shape[p-1]:t.shape[p-2],S=r?e.shape[m-2]:e.shape[m-1],_=t.shape.slice(0,-2),k=e.shape.slice(0,-2),R=lt(_),O=lt(k),P=vr(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([x,S]);X(g===y,()=>`Error in matMul: inner shapes (${g}) and (${y}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const F=n?[R,g,x]:[R,x,g],K=r?[O,S,y]:[O,y,S],Y=Mt({inputs:{x:t},backend:i,attrs:{shape:F}}),te=Mt({inputs:{x:e},backend:i,attrs:{shape:K}}),fe=[Y,te],ye=Math.max(R,O),de=[Y,te],Pe=[{type:"int32",data:[x]},{type:"int32",data:[S]},{type:"int32",data:[g]}];let xe,Te;const je=[ye,x,S];let $e=$t().get("WEBGPU_MATMUL_PROGRAM_TYPE");if($e<0){const be=$t().getNumber("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL"),Ve=be>0?be:i.thresholdToIncreaseWorkgroups,he=ye*Math.ceil(x/32)*Math.ceil(S/32);he<=Ve||x<=8&&he<=Ve*2?ye*x*S<=128?$e=Ac.MatMulReduceProgram:ye===1&&y>=2e3?$e=Ac.MatMulSplitKProgram:$e=Ac.MatMulSmallOutputSizeProgram:$e=Ac.MatMulPackedProgram}switch($e){case Ac.MatMulReduceProgram:xe=new ewe(je,n,r,o,f,s);break;case Ac.MatMulSplitKProgram:{if(Te=Lo({backend:i,attrs:{shape:je,value:0,dtype:t.dtype}}),xe=new rwe(je,y,n,r),o||f){Te=i.runWebGPUProgram(xe,de,t.dtype,Pe,Te);const Ve=new iwe(Te.shape,o,f,s);let he=null;const ne=[Te];o&&ne.push(o),s&&ne.push(s),f==="leakyrelu"&&(he=[{type:"float32",data:[l]}],Ve.uniforms+=" alpha : f32,");const we=i.runWebGPUProgram(Ve,ne,Te.dtype,he);fe.push(Te);const We=Mt({inputs:{x:we},backend:i,attrs:{shape:P}});fe.push(we);for(const Ue of fe)i.disposeData(Ue.dataId);return We}break}case Ac.MatMulSmallOutputSizeProgram:xe=new nwe(F,K,je,n,r,o,f,s);break;case Ac.MatMulPackedProgram:const be=i.adapterInfo.isIntel();xe=new Qbe(F,je,n,r,o,f,s,be);break;default:throw new Error(`Unsupported MatMulProgramType ${$e}.`)}o&&de.push(o),s&&de.push(s),f==="leakyrelu"&&(Pe.push({type:"float32",data:[l]}),xe.uniforms+=" alpha : f32,"),Te=i.runWebGPUProgram(xe,de,t.dtype,Pe,Te);const Re=Mt({inputs:{x:Te},backend:i,attrs:{shape:P}});fe.push(Te);for(const be of fe)i.disposeData(be.dataId);return Re}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uwe(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:o,bias:s,preluActivationWeights:l}=e,{transposeA:f,transposeB:p,activation:m,leakyreluAlpha:g}=r;return bS({a:i,b:o,transposeA:f,transposeB:p,backend:n,bias:s,preluActivationWeights:l,leakyreluAlpha:g,activation:m})}const lwe={kernelName:jx,backendName:"webgpu",kernelFunc:uwe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MH{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.workgroupSize=[128,1,1],this.size=!0,this.outputShape=vr(n,r),this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`binaryOpComplex_${e}`,this.op=e}getUserCode(){return`
      fn binaryOpComplex(
          areal : f32, aimag : f32, breal : f32, bimag : f32) -> f32 {
        ${pD(this.op,!1)}
      }

      ${ft("index")} {
        if(index < uniforms.size) {
          let areal = getARealByOutputIndex(index);
          let aimag = getAImagByOutputIndex(index);
          let breal = getBRealByOutputIndex(index);
          let bimag = getBImagByOutputIndex(index);
          setOutputAtIndex(index, binaryOpComplex(areal, aimag, breal, bimag));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wS{constructor(e,n,r){if(this.size=!0,this.variableNames=["A","B"],this.outputShape=vr(n,r),this.dispatchLayout=Ct(this.outputShape),this.op=e,this.useSharedMemoryWithA=n.length<=1&&r.length>1&&n[0]<128,this.useSharedMemoryWithB=r.length<=1&&n.length>1&&r[0]<128,this.useSharedMemoryWithA||this.useSharedMemoryWithB)this.outputComponent=1,this.variableComponents=[1,1],this.lastDimensionSize=this.useSharedMemoryWithB?r[0]:n[0],this.shaderKey=`binary_${e}_${this.lastDimensionSize}`,this.type="shared",this.workgroupSize=[256,1,1];else{const i=n.length>0&&n[n.length-1]%4===0,o=r.length>0&&r[r.length-1]%4===0;i&&o?(this.outputComponent=4,this.variableComponents=[4,4]):i&&(Fk(r)||r[r.length-1]===1)||o&&(Fk(n)||n[n.length-1]===1)?(this.outputComponent=4,this.variableComponents=i?[4,1]:[1,4]):(this.outputComponent=1,this.variableComponents=[1,1]),this.type="nonshared",this.shaderKey=`binary_${e}_${this.variableComponents}`,this.workgroupSize=[128,1,1]}this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.outputComponent,1,1])}getUserCode(){let e;const n=this.outputComponent===4?"vec4<f32>":"f32",r=`
    fn binaryOperation(a : ${n}, b : ${n}) -> ${n} {
      ${pD(this.op,this.outputComponent===4)}
    };
    `;if(this.type==="shared"){const i=this.lastDimensionSize>1?`coords[${this.outputShape.length-1}]`:"0",o=this.useSharedMemoryWithB?`let a = getAByOutputIndex(index);
          let b = sharedBuf[${i}];`:`let a = sharedBuf[${i}];
          let b = getBByOutputIndex(index);`;e=`
        ${r}
        var<workgroup> sharedBuf : array<f32, ${this.lastDimensionSize}>;
        ${ft("index")} {
          // Fill in the shared memory buffer.
          let localIndex = i32(localId.x);
          if(localIndex < ${this.lastDimensionSize}) {
            sharedBuf[localIndex] = f32(${this.useSharedMemoryWithB?"B":"A"}[localIndex]);
          }
          workgroupBarrier();

          if(index < uniforms.size) {
            let coords = getCoordsFromIndex(index);
            ${o}
            setOutputAtIndex(index, binaryOperation(a, b));
          }
        }
        `}else e=`
       ${r}
       ${ft("index")} {
         if (index < uniforms.size) {
           let coords = getCoordsFromIndex(index * ${this.outputComponent});
           let a = ${n}(getAByOutputCoords(coords));
           let b = ${n}(getBByOutputCoords(coords));
           setOutputAtIndex(index, binaryOperation(a, b));
         }
       }
       `;return e}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hs(t){const{inputs:e}=t,{x:n}=e;return t.backend.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}const cwe={kernelName:Lx,backendName:"webgpu",kernelFunc:hs};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rm(t){const{inputs:e,backend:n}=t,{real:r,imag:i}=e,o=n.makeTensorInfo(r.shape,"complex64"),s=n.tensorMap.get(o.dataId),l=hs({inputs:{x:r},backend:n}),f=hs({inputs:{x:i},backend:n});return s.complexTensorInfos={real:l,imag:f},o}const fwe={kernelName:cN,backendName:"webgpu",kernelFunc:rm};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class g0{constructor(e,n,r=""){this.variableNames=["A"],this.size=!0;const i=128;this.workgroupSize=[i,1,1],this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.op=n,r!==""&&(this.uniforms=r),this.shaderKey=`unary_${n}`}getUserCode(){return`
      fn unaryOperation(a : f32) -> f32 {
        ${tm(this.op,!1)}
      }
      ${ft("index")} {
        if (index < uniforms.size) {
          let a = getAByOutputIndex(index);
          setOutputAtIndex(index, unaryOperation(a));
        }
      }
      `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bn({opType:t,cpuKernelImpl:e,dtype:n}){return({inputs:r,backend:i})=>{const{x:o}=r,s=i,l=n||o.dtype;if(s.shouldExecuteOnCPU([o])&&e!=null){const p=s.tensorMap.get(o.dataId),m=e(p.values,l);return s.makeTensorInfo(o.shape,l,m)}const f=new g0(o.shape,t);return s.runWebGPUProgram(f,[o],l)}}function ua({opType:t,cpuKernelImpl:e,supportsComplex:n=!1,dtype:r}){return({inputs:i,backend:o})=>{const{a:s,b:l}=i,f=o;if(n&&s.dtype==="complex64"){const g=f.tensorMap.get(s.dataId),y=f.tensorMap.get(l.dataId);let x,S;if(t!==sn.MUL)[x,S]=[[g.complexTensorInfos.real,y.complexTensorInfos.real],[g.complexTensorInfos.imag,y.complexTensorInfos.imag]].map(k=>{const[R,O]=k,I={dataId:R.dataId,dtype:R.dtype,shape:s.shape},P={dataId:O.dataId,dtype:O.dtype,shape:l.shape},F=new wS(t,s.shape,l.shape);return f.runWebGPUProgram(F,[I,P],Ec(R.dtype,O.dtype))});else{const k=new MH(sn.COMPLEX_MULTIPLY_REAL,s.shape,l.shape),R=new MH(sn.COMPLEX_MULTIPLY_IMAG,s.shape,l.shape),O=[{dataId:g.complexTensorInfos.real.dataId,dtype:g.complexTensorInfos.real.dtype,shape:s.shape},{dataId:g.complexTensorInfos.imag.dataId,dtype:g.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:y.complexTensorInfos.real.dataId,dtype:y.complexTensorInfos.real.dtype,shape:l.shape},{dataId:y.complexTensorInfos.imag.dataId,dtype:y.complexTensorInfos.imag.dtype,shape:l.shape}];x=f.runWebGPUProgram(k,O,"float32"),S=f.runWebGPUProgram(R,O,"float32")}const _=rm({inputs:{real:x,imag:S},backend:f});return f.disposeData(x.dataId),f.disposeData(S.dataId),_}const p=r||Ec(s.dtype,l.dtype);if((s.dtype==="string"||l.dtype==="string"||f.shouldExecuteOnCPU([s,l]))&&e!=null){const g=f.tensorMap.get(s.dataId).values,y=f.tensorMap.get(l.dataId).values,x=s.dtype==="string"?I1(g):g,S=s.dtype==="string"?I1(y):y,[_,k]=e(s.shape,l.shape,x,S,p);return f.makeTensorInfo(k,p,_)}const m=new wS(t,s.shape,l.shape);return f.runWebGPUProgram(m,[s,l],p)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dwe(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fo(t){return(e,n,r,i,o)=>{const s=vr(e,n),l=s.length,f=Ta(s),p=lt(s),m=Sf(o,p),g=e.length,y=n.length,x=Ta(e),S=Ta(n),_=r0(e,s),k=r0(n,s);if(_.length+k.length===0)for(let R=0;R<m.length;++R)m[R]=t(r[R%r.length],i[R%i.length]);else for(let R=0;R<m.length;++R){const O=$x(R,l,f),I=O.slice(-g);_.forEach(Y=>I[Y]=0);const P=Ox(I,g,x),F=O.slice(-y);k.forEach(Y=>F[Y]=0);const K=Ox(F,y,S);m[R]=t(r[P],i[K])}return[m,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pwe(t,e,n,r){if(r==="int32"){const i=Int32Array.from(t);return[e,"int32",i]}if(r==="bool"){const i=o1([0],n),[o,s]=Fo((l,f)=>l!==f?1:0)(e,[],t,i,"bool");return[s,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hwe=Fo((t,e)=>t+e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mwe(t,e,n,r,i){const o=lt(r),s=Sc(i,n);for(let l=0;l<t.length;l++){const f=t[l];if(f<0)throw new Error("Input x must be non-negative!");f>=i||(o>0?s[f]+=e[l]:s[f]+=1)}return s}function gwe(t,e,n,r=!1){const i=t.shape[0],o=t.shape[1],s=Nr([i,n],e.dtype);for(let l=0;l<i;l++)for(let f=0;f<o;f++){const p=t.get(l,f);if(p<0)throw new Error("Input x must be non-negative!");p>=n||(r?s.set(1,l,p):e.size>0?s.set(s.get(l,p)+e.get(l,f),l,p):s.set(s.get(l,p)+1,l,p))}return s}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vwe=Fo((t,e)=>t&e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Of(t){return(e,n,r)=>{const i=Hi(n,e.length);for(let o=0;o<e.length;++o)i[o]=t(e[o],r);return i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ywe=Of(t=>Math.ceil(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bwe(t,e,n,r){const i=Hi(n,lt(e));if(r&&n!=="string"){let o=0;t.forEach(s=>{const l=lt(s.shape);i.set(s.vals,o),o+=l})}else{let o=0;t.forEach(s=>{const l=n==="string"?I1(s.vals):s.vals;let f=0;for(let p=0;p<s.shape[0];++p){const m=p*e[1]+o;for(let g=0;g<s.shape[1];++g)i[m+g]=l[f++]}o+=s.shape[1]})}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wwe=Fo((t,e)=>t===e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xwe=Of(t=>Math.exp(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Swe=Of(t=>Math.expm1(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cwe=Of(t=>Math.floor(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ewe=Fo((t,e)=>Math.floor(t/e));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _we(t,e,n,r,i,o,s,l,f){const p=Nr([r,o],n);for(let m=0;m<r;m++){const g=[];let y=0;for(let x=0;x<i;x++){const S=t[m*i+x];y+=S*s[x],g.push(S)}if(y<0||y>=f/o)throw new Error(`Invalid indices: ${g} does not index into ${l}`);for(let x=0;x<o;x++)p.values[m*o+x]=e.get(...e.indexToLoc(y*o+x))}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Twe(t,e,n){const r=Nr(n,t.dtype);for(let i=0;i<r.size;++i){const s=r.indexToLoc(i).slice(),l=s[0],f=s[2],p=e.locToIndex([l,f]);s[2]=e.values[p];const m=t.locToIndex(s);0<=m&&m<t.values.length&&(r.values[i]=t.values[m])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kwe=Fo((t,e)=>t>e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nwe=Fo((t,e)=>t>=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rwe=Fo((t,e)=>t<e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Awe=Fo((t,e)=>t<=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dwe(t,e,n){const r=(e-t)/(n-1),i=Sc(n,"float32");i[0]=t;for(let o=1;o<i.length;o++)i[o]=i[o-1]+r;return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Owe=Of(t=>Math.log(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $we(t,e,n,r){const i=Sf(r,lt(n));for(let o=0;o<i.length;++o){const s=o*e;let l=t[s];for(let f=0;f<e;++f){const p=t[s+f];(Number.isNaN(p)||p>l)&&(l=p)}i[o]=l}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iwe=Fo((t,e)=>Math.max(t,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pwe=Fo((t,e)=>Math.min(t,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LH=Fo((t,e)=>t*e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mwe(t,e,n){const r=dB(-1,n);return LH([],e,r,t,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lwe=Fo((t,e)=>t!==e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fwe(t,e,n,r,i){const o=e.length,s=lt(e),l=Ta(e),f=Ta(i),p=Sf(n,lt(i));for(let m=0;m<s;++m){const g=$x(m,o,l),y=new Array(g.length);for(let S=0;S<y.length;S++)y[S]=g[r[S]];const x=Ox(y,o,f);p[x]=t[m]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vwe(t,e,n,r){const[i,o]=S1(t,r),s=Ec(e,"int32"),l=Sc(lt(i),s),f=lt(o);for(let p=0;p<l.length;++p){const m=p*f;let g=1;for(let y=0;y<f;++y)g*=n[m+y];l[p]=g}return{outVals:l,outShape:i,outDtype:s}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jwe(t,e,n){t.forEach((r,i)=>{if(r<0||r>=n){const o=$x(i,e.length,Ta(e)).join(",");throw new Error(`indices[${o}] = ${r} is not in [0, ${n})`)}})}function zwe(t,e){for(let n=0;n<t.length;++n){const r=t[n],i=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>i)throw new Error("Ragged splits must not point past values");for(let o=1;o<r.length;++o)if(r[o-1]>r[o])throw new Error("Ragged splits must be sorted in ascending order")}}function Bwe(t,e,n,r){const i=[];let o=0;const s=e.length-1+n.length,l=new Array(s).fill(null).map(()=>[0]);zwe(n,r);let f=1;for(let p=0;p<e.length-1;++p){f*=e[p];const m=e[p+1];for(let g=1;g<f+1;++g)l[p].push(g*m)}for(let p=0;p<t.length;++p){let m=t[p],g=t[p]+1;for(let y=0;y<n.length;++y){const x=n[y],S=y+e.length-1;if(S>=0){const _=l[S],k=_[_.length-1]-x[m];for(let R=m;R<g;++R)l[S].push(x[R+1]+k)}m=x[m],g=x[g]}g!==m&&(i.push([m,g]),o+=g-m)}return{outSplits:l,valueSlices:i,numValues:o}}function Uwe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,i=Hi("int32",r);e.push(i),t[n].forEach((o,s)=>i[s]=o)}return e}function FH(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function Hwe(t,e,n,r,i,o){const s=FH(e,2)[1],l=FH(o,2)[1];let f=0;for(const p of n)for(let m=p[0];m<p[1];++m){for(let g=0;g<r;++g)i[f*l+g]=t[m*s+g];++f}}function Wwe(t,e,n,r,i){const o=e.slice();o[0]=i;const s=Hi(n,lt(o)),l=t.length,f=l===0?0:l/e[0];return Hwe(t,e,r,f,s,o),[s,o]}function Gwe(t,e,n,r,i,o,s,l){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const f=e[0][0]-1;if(jwe(o,s,f),r.length===0)throw new Error("params.rank must be nonzero");const p=r[0],{outSplits:m,valueSlices:g,numValues:y}=Bwe(o,s,t,p),x=Uwe(m),S=Wwe(n,r,i,g,y);return[x,S[0],S[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VH=2147483647;function Kwe(t,e,n,r,i,o,s){if(e.length>1)throw new Error("starts must be a scalar or vector");if(i.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const l=e.length===0,f=i.length===0,p=s.length===0,m=[];l||m.push(e[0]),f||m.push(i[0]),p||m.push(s[0]);for(let k=1;k<m.length;++k)if(m[k]!==m[k-1])throw new Error("starts, limits, and deltas must have the same shape");const g=m.length===0?1:m[0],y=Hi("int32",g+1);y[0]=0;for(let k=0;k<g;++k){const R=l?t[0]:t[k],O=f?r[0]:r[k],I=p?o[0]:o[k];if(I===0)throw new Error("Requires delta != 0");let P;if(I>0&&O<R||I<0&&O>R)P=0;else if(P=Math.ceil(Math.abs((O-R)/I)),P>VH)throw new Error(`Requires ((limit - start) / delta) <= ${VH}`);y[k+1]=y[k]+P}const x=y[g],S=Hi(n,x);let _=0;for(let k=0;k<g;++k){const R=y[k+1]-y[k];let O=l?t[0]:t[k];const I=p?o[0]:o[k];for(let P=0;P<R;++P)S[_++]=O,O+=I}return[y,S]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var zu=kl;class xS{constructor(e,n,r,i,o,s,l,f,p,m){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=i,this.valuesDType=o,this.defaultValue=s,this.defaultValueShape=l,this.rowPartitionValues=f,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=V7(m),this.raggedRank=j7(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===zu.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===zu.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case zu.VALUE_ROWIDS:return xS.getMaxWidthValueRowID(n);case zu.ROW_SPLITS:return xS.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${zu[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let i=0;i<n-1;++i){const o=e[i+1]-e[i];o>r&&(r=o)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,i=e[0],o=0;for(let s=1;s<n;++s){const l=e[s];l!==i&&(i=l,o=Math.max(s-r,o),r=s)}return Math.max(n-r,o)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return zH(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;z7(r,n);const i=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=F7(this.raggedRank,i,n);s[0]<0&&(s[0]=e);for(let l=1;l<=this.raggedRank;++l)s[l]<0&&(s[l]=this.getMaxWidth(l));return s}calculateFirstParentOutputIndex(e,n,r){const i=Math.min(e,r),o=[];let s=0;for(let l=0;l<i;++l,s+=n)o.push(s);for(let l=i;l<e;++l)o.push(-1);return X(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,r,i){const o=e.length,s=[];for(let l=0;l<o-1;++l){const f=e[l+1]-e[l];let p=Math.min(i,f),m=n[l];m===-1&&(p=0);for(let g=0;g<p;++g)s.push(m),m+=r;for(let g=0;g<f-p;++g)s.push(-1)}if(o>0&&s.length!==e[o-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(e,n,r,i){const o=e.length,s=[];if(o===0)return[];let l=0,f=e[0];if(f>=n.length)throw new Error(`Got currentValueRowId=${f}, which is not less than ${n.length}`);let p=n[f];s.push(p);for(let m=1;m<o;++m){const g=e[m];if(g===f)p>=0&&(++l,l<i?p+=r:p=-1);else{if(l=0,f=g,g>=n.length)throw new Error(`Got nextValueRowId=${g} which is not less than ${n.length}`);p=n[g]}s.push(p)}if(s.length!==e.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(e,n,r,i){const o=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case zu.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,r,i);case zu.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,r,i);default:throw new Error(`Unsupported partition type: ${zu[s]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case zu.FIRST_DIM_SIZE:return e[0];case zu.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case zu.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${zu[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),i=new Array(this.raggedRank+1);i[i.length-1]=1;for(let f=i.length-2;f>=0;--f)i[f]=i[f+1]*r[f+1];const o=zH(r,!1),s=Hi(this.valuesDType,lt(o));if(i[0]*r[0]>0){let f=this.calculateFirstParentOutputIndex(n,i[0],r[0]);for(let p=1;p<=this.raggedRank;++p)f=this.calculateOutputIndex(p-1,f,i[p],r[p]);this.setOutput(this.raggedRank,f,s,o)}return[o,s]}setOutput(e,n,r,i){if(r.length===0)return;const o=this.values,s=r;let l=i.slice();l=l.slice(e+1);const f=lt(l),p=n.length;let m=this.defaultValue;if(m.length!==f&&m.length!==1){const S=this.defaultValueShape;tn(()=>{const _=ze(m,S);m=t0(_,l).dataSync()})}let g=0,y=0,x=0;for(let S=0;S<=p;++S){let _=S<p?n[S]:-1;if(_===x){++x;continue}if(y<x){const k=o.subarray(g*f),R=s.subarray(y*f),O=(x-y)*f;jH(R,k,O)}if(S>=p){const k=r.length;_=Math.floor(k/f)}if(_>x)if(this.defaultValue.length===1)s.subarray(x*f,_*f).fill(this.defaultValue[0]),x=_;else for(;_>x;){const k=s.slice(x*f);jH(k,m,f),++x}_<0?(g=S+1,y=x):(g=S,y=x,x=y+1)}}}function jH(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function zH(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function qwe(t,e,n,r,i,o,s,l,f,p){return new xS(t,e,n,r,i,o,s,l,f,p).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ywe(t,e,n,r){const i=t===e,o=t<e&&n<0,s=e<t&&n>1;if(i||o||s)return Sc(0,r);const l=Math.abs(Math.ceil((e-t)/n)),f=Sc(l,r);e<t&&n===1&&(n=-1),f[0]=t;for(let p=1;p<f.length;p++)f[p]=f[p-1]+n;return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zwe=Of(t=>1/Math.sqrt(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xwe(t,e,n,r,i,o,s,l,f,p){const m=[r/i,i],g=t.values,y=e.values;if(r===0)return Nr(n,e.dtype);const x=f instanceof Lh?f:Nr(m,e.dtype);typeof f=="string"||typeof f=="number"?x.values.fill(f):typeof f=="boolean"&&x.values.fill(+f);for(let S=0;S<o;S++){const _=[];let k=0;for(let R=0;R<s;R++){const O=g[S*s+R];_.push(O),k+=O*l[R]}if(k<0||k>=r/i)throw new Error(`Invalid indices: ${_} does not index into ${n}`);for(let R=0;R<i;R++)p?x.values[k*i+R]+=y[S*i+R]:x.values[k*i+R]=e.rank===0?y[0]:y[S*i+R]}return x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qwe=Of(t=>1/(1+Math.exp(-t)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jwe(t,e,n,r,i){const o=A7(r,e,n),s=lt(n),l=Ta(r);if(o){const g=D7(e,l);return i==="string"?t.slice(g,g+s):t.subarray(g,g+s)}const f=i==="string"?I1(t):t,p=Nr(r,i,f),m=Nr(n,i);for(let g=0;g<m.size;++g){const y=m.indexToLoc(g),x=y.map((S,_)=>S+e[_]);m.set(p.get(...x),...y)}return i==="string"?wH(m.values):m.values}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e2e(t,e,n,r,i,o,s){const l=e[0],f=o[0],p=new Array(f),m=new Array(l),g=e[1];if(f===0){if(l!==0)throw new Error(sH(l));const k=Hi(n,0),R=Hi(i,0);return[k,[0,g],R,p,m]}let y=!0,x=0;const S=new Array(f).fill(0);for(let k=0;k<l;++k){const R=t[k*g];if(R<0)throw new Error(uH(k,R));if(R>=f)throw new Error(lH(k,R,f));++S[R],y=y&&R>=x,x=R}let _=!0;for(let k=0;k<f;++k){const R=S[k]===0;p[k]=R,_=_&&!R,S[k]=Math.max(S[k],1),k>0&&(S[k]+=S[k-1])}if(_&&y){const k=t,R=r;for(let O=0;O<l;++O)m[O]=O;return[k,[l,g],R,p,m]}else{const k=S[f-1],R=Hi(n,k*g),O=Hi(i,k),I=new Array(f).fill(0);for(let P=0;P<l;++P){const F=t[P*g],K=I[F],Y=(F===0?0:S[F-1])+K;I[F]++;for(let te=0;te<g;++te)R[Y*g+te]=t[P*g+te];O[Y]=r[P],m[P]=Y}for(let P=0;P<f;++P)if(I[P]===0){const K=P===0?0:S[P-1];R[K*g+0]=P;for(let Y=1;Y<g;++Y)R[K*g+Y]=0;O[K]=s}return[R,[k,g],O,p,m]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t2e(t,e,n,r,i){const o=lt(r),s=e[0],l=i.length,f=[];let p=1,m=-1;for(let k=0;k<l;++k){const R=i[k];if(R===-1){if(m!==-1)throw new Error(cH(m,k));m=k,f.push(1)}else{if(R<0)throw new Error(fH(k,R));p*=R,f.push(R)}}if(m!==-1){if(p<=0)throw new Error(dH());const k=Math.trunc(o/p);if(p*k!==o)throw new Error(pH(r,f));f[m]=k}if(lt(f)!==o)throw new Error(hH(r,f));const y=r.length,x=[];if(y>0){x[y-1]=1;for(let k=y-2;k>=0;--k)x[k]=x[k+1]*r[k+1]}const S=[];if(l>0){S[l-1]=1;for(let k=l-2;k>=0;--k)S[k]=S[k+1]*f[k+1]}const _=Hi(n,s*l);for(let k=0;k<s;++k){let R=0;for(let O=0;O<y;++O)R+=t[k*y+O]*x[O];for(let O=0;O<l;++O)_[k*l+O]=Math.trunc(R/S[O]),R%=S[O]}return[_,[s,l],f]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2e(t,e,n,r,i,o=!1,s=0){const l=r.length,f=[e[0],t.length/e[0]],p=f[1],g=l>0?i[l-1]+1:0;if(g<0)throw new Error(dD());const y=e.slice();y[0]=g;const x=y.reduce((I,P)=>I*P,1),S=Hi(n,x);if(l===0)return g>0&&S.fill(s),[S,y];if(g<=0)throw new Error(dD());let _=0,k=1,R=0,O=i[_];for(;;){let I=0;if(k<l){if(I=i[k],O===I){++k;continue}if(O>=I)throw new Error(mH())}if(O<0||O>=g)throw new Error(gH(O,g));O>R&&S.fill(s,R*p,O*p);for(let P=_;P<k;++P){const F=r[P];if(F<0||F>=f[0])throw new Error(vH(P,r[P],f[0]));for(let K=0;K<p;K++)S[O*p+K]+=t[F*p+K]}if(o)for(let P=0;P<p;P++)S[O*p+P]/=k-_;if(_=k,++k,R=O+1,O=I,k>l)break}return R<g&&S.fill(s,R*p,g*p),[S,y]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r2e=Of(t=>Math.sqrt(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i2e=Fo((t,e)=>{const n=t-e;return n*n});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a2e=Of((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:i}=e;return t.replace(new RegExp(n,r?"g":""),i)});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o2e(t,e,n,r){const i=Nr(t,e.dtype);for(let o=0;o<i.size;o++){const s=i.indexToLoc(o),l=new Array(s.length);for(let f=0;f<l.length;f++)l[f]=s[f]*n[f]+r[f];i.set(e.get(...l),...s)}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s2e{constructor(e,n,r,i,o,s){this.separator=Ef(e),this.nGramWidths=n,this.leftPad=Ef(r),this.rightPad=Ef(i),this.padWidth=o,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,i,o,s){for(let l=0;l<o;++l){const f=this.getPadWidth(s),p=Math.max(0,f-l),m=Math.max(0,f-(o-(l+1))),g=s-(p+m),y=n+(p>0?0:l-f);let x=0;x+=p*this.leftPad.length;for(let O=0;O<g;++O)x+=e[y+O].length;x+=m*this.rightPad.length;const S=p+m+g-1;x+=S*this.separator.length,r[i+l]=new Uint8Array(x);const _=r[i+l];let k=0;const R=O=>O.forEach(I=>_[k++]=I);for(let O=0;O<p;++O)R(this.leftPad),R(this.separator);for(let O=0;O<g-1;++O)R(e[y+O]),R(this.separator);if(g>0){R(e[y+g-1]);for(let O=0;O<m;++O)R(this.separator),R(this.rightPad)}else{for(let O=0;O<m-1;++O)R(this.rightPad),R(this.separator);R(this.rightPad)}}}compute(e,n){const r=e.length,i=n.length;if(i>0){let f=n[0];if(f!==0)throw new Error(`First split value must be 0, got ${f}`);for(let p=1;p<i;++p){let m=n[p]>=f;if(m=m&&n[p]<=r,!m)throw new Error(`Invalid split value ${n[p]}, must be in [${f}, ${r}]`);f=n[p]}if(f!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${f}`)}const o=i-1,s=Hi("int32",i);if(r===0||i===0){const f=new Array(r);for(let p=0;p<=o;++p)s[p]=0;return[f,s]}s[0]=0;for(let f=1;f<=o;++f){const p=n[f]-n[f-1];let m=0;this.nGramWidths.forEach(g=>{m+=this.getNumNGrams(p,g)}),this.preserveShort&&p>0&&m===0&&(m=1),s[f]=s[f-1]+m}const l=new Array(s[o]);for(let f=0;f<o;++f){const p=n[f];let m=s[f];if(this.nGramWidths.forEach(g=>{const y=n[f+1]-n[f],x=this.getNumNGrams(y,g);this.createNGrams(e,p,l,m,x,g),m+=x}),this.preserveShort&&m===s[f]){const g=n[f+1]-n[f];if(g===0)continue;const y=g+2*this.padWidth;this.createNGrams(e,p,l,m,1,y)}}return[l,s]}}function u2e(t,e,n,r,i,o,s,l){return new s2e(n,r,i,o,s,l).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l2e(t,e,n,r){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)r.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let s=t.indexOf(o);for(;s!==-1;){const l=t.subarray(0,s);(!n||l.length!==0)&&r.push(l),t=t.subarray(s+1),s=t.indexOf(o)}(!n||t.length!==0)&&r.push(t);return}let i=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const s=t.subarray(i,o);(!n||s.length!==0)&&r.push(s),i=o+1}}function c2e(t,e,n){const r=t.length,i=[];let o=0,s=0;const l=new Array(r);for(let y=0;y<r;++y){const x=i.length;l2e(t[y],e,n,i);const S=i.length-x;l[y]=S,o+=S,s=Math.max(s,S)}const f=Hi("int32",o*2),p=new Array(o),m=[r,s];let g=0;for(let y=0;y<r;++y)for(let x=0;x<l[y];++x)f[g*2]=y,f[g*2+1]=x,p[g]=i[g],++g;return[f,p,m]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f2e(t,e){const n=Hi("int32",t.length);for(let r=0;r<t.length;++r)n[r]=fB(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d2e=Fo((t,e)=>t-e);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p2e(t,e){const n=new Array(t.rank);for(let i=0;i<n.length;i++)n[i]=t.shape[i]*e[i];const r=Nr(n,t.dtype);for(let i=0;i<r.values.length;++i){const o=r.indexToLoc(i),s=new Array(t.rank);for(let f=0;f<s.length;f++)s[f]=o[f]%t.shape[f];const l=t.locToIndex(s);r.values[i]=t.values[l]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P1=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function BH(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const l=r-n+1,f=e-n+1,p=Math.log(l),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(l-m)/l)*Math.sign(f-l/2),y=Math.max(n,Math.floor(e-f*m/l+g)),x=Math.min(r,Math.floor(e+(l-f)*m/l+g));BH(t,e,y,x)}const i=t[e];let o=n,s=r;for(xf(t,n,e),P1(t[r],i)>0&&xf(t,n,r);o<s;){for(xf(t,o,s),o++,s--;P1(t[o],i)<0;)o=o+1;for(;P1(t[s],i)>0;)s=s-1}P1(t[n],i)===0?xf(t,n,s):(s=s+1,xf(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}}function h2e(t,e,n,r,i){const o=e[e.length-1],[s,l]=[t.length/o,o],f=Sf(n,s*r),p=Sf("int32",s*r);for(let g=0;g<s;g++){const y=g*l,x=t.subarray(y,y+l);let S=new Array(x.length);x.forEach((O,I)=>S[I]={value:O,index:I}),r<S.length&&(BH(S,r),S=S.slice(0,r)),i&&S.sort(P1);const _=g*r,k=f.subarray(_,_+r),R=p.subarray(_,_+r);for(let O=0;O<r;O++)k[O]=S[O].value,R[O]=S[O].index}const m=e.slice();return m[m.length-1]=r,[Nr(m,n,f),Nr(m,"int32",p)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2e(t,e,n,r){const i=eu(e,n)[0],o=[1,n[0],1];for(let S=0;S<i;S++)o[0]*=n[S];o[1]=n[i];for(let S=i+1;S<n.length;S++)o[2]*=n[S];const s=new Map,l=new Int32Array(n[i]),f=new Lh(o,r,t),p=[],m=o[0]===1&&o[2]===1;for(let S=0;S<n[i];S++){let _;if(m)_=t[S].toString();else{const R=[];for(let O=0;O<o[0];O++)for(let I=0;I<o[2];I++)R.push(f.get(O,S,I));_=R.join(",")}const k=s.get(_);if(k!=null)l[S]=k;else{const R=s.size;s.set(_,R),l[S]=R,p.push(S)}}const g=o.slice();g[1]=s.size;const y=new Lh(g,r);p.forEach((S,_)=>{for(let k=0;k<o[0];k++)for(let R=0;R<o[2];R++)y.set(f.get(k,S,R),k,_,R)});const x=n.slice();return x[i]=g[1],{outputValues:y.values,outputShape:x,indices:l}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g2e=Object.freeze(Object.defineProperty({__proto__:null,addImpl:hwe,bincountImpl:mwe,bincountReduceImpl:gwe,bitwiseAndImpl:vwe,castImpl:pwe,ceilImpl:ywe,concatImpl:bwe,equalImpl:wwe,expImpl:xwe,expm1Impl:Swe,floorDivImpl:Ewe,floorImpl:Cwe,gatherNdImpl:_we,gatherV2Impl:Twe,greaterEqualImpl:Nwe,greaterImpl:kwe,lessEqualImpl:Awe,lessImpl:Rwe,linSpaceImpl:Dwe,logImpl:Owe,maxImpl:$we,maximumImpl:Iwe,minimumImpl:Pwe,multiplyImpl:LH,negImpl:Mwe,notEqualImpl:Lwe,prodImpl:Vwe,raggedGatherImpl:Gwe,raggedRangeImpl:Kwe,raggedTensorToTensorImpl:qwe,rangeImpl:Ywe,rsqrtImpl:Zwe,scatterImpl:Xwe,sigmoidImpl:Qwe,simpleAbsImpl:dwe,sliceImpl:Jwe,sparseFillEmptyRowsImpl:e2e,sparseReshapeImpl:t2e,sparseSegmentReductionImpl:n2e,sqrtImpl:r2e,squaredDifferenceImpl:i2e,staticRegexReplaceImpl:a2e,stridedSliceImpl:o2e,stringNGramsImpl:u2e,stringSplitImpl:c2e,stringToHashBucketFastImpl:f2e,subImpl:d2e,tileImpl:p2e,topKImpl:h2e,transposeImpl:Fwe,uniqueImpl:m2e},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:v2e,castImpl:y2e,ceilImpl:b2e,concatImpl:w2e,equalImpl:x2e,expImpl:S2e,expm1Impl:C2e,floorImpl:E2e,floorDivImpl:_2e,gatherNdImpl:T2e,gatherV2Impl:k2e,greaterEqualImpl:N2e,greaterImpl:R2e,lessEqualImpl:A2e,lessImpl:D2e,logImpl:O2e,maxImpl:$2e,maximumImpl:I2e,minimumImpl:P2e,multiplyImpl:M2e,negImpl:L2e,notEqualImpl:F2e,prodImpl:V2e,rangeImpl:j2e,rsqrtImpl:z2e,scatterImpl:B2e,simpleAbsImpl:U2e,sliceImpl:H2e,stridedSliceImpl:W2e,stringNGramsImpl:G2e,subImpl:K2e,tileImpl:q2e,topKImpl:Y2e,transposeImpl:Z2e,uniqueImpl:C$e}=g2e;/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X2e=Bn({opType:ct.ABS,cpuKernelImpl:U2e}),Q2e={kernelName:Uk,backendName:"webgpu",kernelFunc:X2e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J2e=Bn({opType:ct.ACOS}),exe={kernelName:Hk,backendName:"webgpu",kernelFunc:J2e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const txe=Bn({opType:ct.ACOSH}),nxe={kernelName:Wk,backendName:"webgpu",kernelFunc:txe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rxe=ua({opType:sn.ADD,cpuKernelImpl:v2e,supportsComplex:!0}),ixe={kernelName:Ix,backendName:"webgpu",kernelFunc:rxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class axe{constructor(e){this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e[0],this.variableNames=e.map((n,r)=>`T${r}`),this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.shaderKey="addN"}getUserCode(){const e=[];this.variableNames.forEach(i=>{e.push(`let v${i} = get${i}ByOutputCoords(coords);`)});const n=this.variableNames.map(i=>`v${i}`).join(" + ");return`
      ${ft("index")} {
        for (var i = 0; i < ${this.workPerThread}; i = i + 1) {
          let flatIndex = index * ${this.workPerThread} + i;
          if (flatIndex < uniforms.size) {
            let coords = getCoordsFromIndex(flatIndex);
            ${e.join(`
        `)}
            setOutputAtIndex(flatIndex, ${n});
          }
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oxe(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return hs({inputs:{x:r[0]},backend:n});const i=r.map(l=>l.dtype).reduce((l,f)=>Ec(l,f)),o=r.map(l=>l.shape),s=new axe(o);return n.runWebGPUProgram(s,r,i)}const sxe={kernelName:Gk,backendName:"webgpu",kernelFunc:oxe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uxe{constructor(e,n){this.variableNames=["A"],this.workgroupSize=[16,16,1];const r=new Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[n[i]];this.outputShape=r,this.dispatchLayout={x:[0],y:[1]},this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[1,1,1]),this.shaderKey="transposeShared"}getUserCode(){X(this.workgroupSize[0]===this.workgroupSize[1],()=>`Must be a square tile, current tile shape is ${this.workgroupSize[0]} x ${this.workgroupSize[1]}`);const e=this.workgroupSize[0];return`
      var<workgroup> tile : array<array<f32, ${this.workgroupSize[0]+1}>, ${this.workgroupSize[0]}>;
      ${ft()} {
        var x = i32(workgroupId.x) * ${e} + i32(localId.x);
        var y = i32(workgroupId.y) * ${e} + i32(localId.y);
        let width = uniforms.outShape[0];
        let height = uniforms.outShape[1];
        if (x < width && y < height) {
          tile[localId.y][localId.x] = f32(A[y * width + x]);
        }
        workgroupBarrier();

        x = i32(workgroupId.y) * ${e} + i32(localId.x);
        y = i32(workgroupId.x) * ${e} + i32(localId.y);
        if (x < height && y < width) {
          setOutputAtIndex((y * height + x), tile[localId.x]
            [localId.y]);
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lxe{constructor(e,n){this.variableNames=["A"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0;const r=new Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[n[i]];this.outputShape=r,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.newDim=n,this.shaderKey=`transpose_${n}`}getUserCode(){const e=Ti(this.outputShape.length),n=UH(this.newDim);return`
      ${ft("index")} {
        for(var i = 0; i < ${this.workPerThread}; i = i + 1) {
          let flatIndex = index * ${this.workPerThread} + i;
          if(flatIndex < uniforms.size) {
            let coords = getCoordsFromIndex(flatIndex);
            setOutputAtIndex(flatIndex, A[getIndexFromCoords${this.outputShape.length}D(
              ${e}(${n}), uniforms.aShape)]);
          }
        }
      }
    `}}function UH(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=new Array(e);for(let r=0;r<t.length;r++)n[t[r]]=`coords.${Af(r)}`;return n.join()}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dc(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{perm:o}=r,s=n,l=i.shape.length,f=new Array(l);for(let m=0;m<f.length;m++)f[m]=i.shape[o[m]];if(n.shouldExecuteOnCPU([i])){const g=s.tensorMap.get(i.dataId).values,y=Z2e(g,i.shape,i.dtype,o,f);return n.makeTensorInfo(f,i.dtype,y)}if(i.shape.length===2&&ja(o,[1,0])){const m=new uxe(i.shape,o);return s.runWebGPUProgram(m,[i],i.dtype)}const p=new lxe(i.shape,o);return s.runWebGPUProgram(p,[i],i.dtype)}const cxe={kernelName:n1,backendName:"webgpu",kernelFunc:Dc};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fxe{constructor(e,n,r){this.variableNames=["x"],this.uniforms="reduceSize : i32,",this.size=!0,this.inputShape=[e.batchSize,e.inSize];const[i]=S1(this.inputShape,[1]);this.outputShape=i.length===0?[1]:i,e.inSize>=32768&&r>=512?this.workgroupSize=[512,1,1]:e.inSize>=4096?this.workgroupSize=[256,1,1]:this.workgroupSize=[64,1,1],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,[1,1,1]),this.reduceType=n,this.shaderKey=`reduce_${n}`}getUserCode(){let e="",n="0.0";const r=this.workgroupSize[0];this.reduceType==="min"||this.reduceType==="max"?(e=`
         if (isnan(candidate)) {
          bestValue = uniforms.NAN;
         } else if (!isnan(bestValue) && candidate ${this.reduceType==="min"?"<":">"} bestValue)
           {  bestValue = candidate; }`,n="f32(x[offset])"):this.reduceType==="sum"||this.reduceType==="mean"?e=" bestValue = bestValue + candidate; ":this.reduceType==="prod"?(e=" bestValue = bestValue * candidate; ",n="1.0"):this.reduceType==="all"?(e=" bestValue = f32(bestValue >= 1.0 && candidate >= 1.0); ",n="1.0"):this.reduceType==="any"&&(e=" bestValue = f32(bestValue >= 1.0 || candidate >= 1.0); ",n="0.0");const i=this.reduceType==="mean"?"setOutputAtIndex(outputIndex, bestValue / f32(uniforms.reduceSize));":"setOutputAtIndex(outputIndex, bestValue);";return`
       fn DIV_CEIL(a : u32, b : u32) -> u32 {
        return ((a - 1u) / b + 1u);
       }

       ${`
         var<workgroup> xBestValues : array<f32, ${r}>;
       `}
       fn getOffset(outputIndex : i32) -> i32 {
         let outputCoords = getCoordsFromIndex(outputIndex);
         let offset = ${this.outputShape.length===1?"outputCoords":"outputCoords[0]"} * uniforms.reduceSize;
          return offset;
       }
       ${ft("index")} {
         let outputIndex = index / ${r};
         let offset = getOffset(outputIndex);
         var bestValue = ${n};
         let Length = uniforms.reduceSize;
         let WorkPerThread = DIV_CEIL(u32(Length), ${r}u);
         for (var k = i32(localId.x); k < Length && outputIndex < uniforms.size;
             k = k + ${r}) {
           let candidate = f32(x[offset + k]);
           ${e}
         }
         xBestValues[localId.x] = bestValue;
         workgroupBarrier();

         var reduceSize = min(u32(Length), ${r}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (localId.x < currentSize) {
            let candidate = xBestValues[localId.x + interval];
            ${e}
            xBestValues[localId.x] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (localId.x == 0u && outputIndex < uniforms.size) {
          ${i}
        }
       }
     `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxe={mean:"float32",all:"bool",any:"bool"};function im(t,e,n,r,i){const o=t.shape.length,s=[],l=eu(e,t.shape);let f=l;const p=a0(f,o);let m=t;p!=null&&(m=Dc({inputs:{x:t},attrs:{perm:p},backend:i}),f=o0(f.length,o),s.push(m)),Xx(r,f,o);const[g,y]=S1(m.shape,f);let x=g;n&&(x=i0(g,l));let S;if((r==="max"||r==="prod")&&i.shouldExecuteOnCPU([m])){const _=i.tensorMap.get(m.dataId).values;switch(r){case"max":const k=$2e(_,lt(y),x,t.dtype);S=i.makeTensorInfo(x,t.dtype,k);break;case"prod":const{outVals:R,outShape:O,outDtype:I}=V2e(m.shape,m.dtype,_,f);S=i.makeTensorInfo(O,I,R);break;default:throw new Error(`${r} CPU implementation is not yet supported.`)}}else{const _=lt(y),R=lt(m.shape)/_,O={windowSize:_,inSize:_,batchSize:R,outSize:1},I=dxe[r]||gB(t.dtype),P=[{type:"int32",data:[_]}],F=new fxe(O,r,i.device.limits.maxComputeWorkgroupSizeX),K=i.runWebGPUProgram(F,[m],I,P);s.push(K),S=Mt({inputs:{x:K},attrs:{shape:x},backend:i})}return s.forEach(_=>i.disposeData(_.dataId)),S}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{keepDims:o,axis:s}=r;return im(i,s,o,"all",n)}const hxe={kernelName:Kk,backendName:"webgpu",kernelFunc:pxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{keepDims:o,axis:s}=r;return im(i,s,o,"any",n)}const gxe={kernelName:qk,backendName:"webgpu",kernelFunc:mxe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HH{constructor(e,n,r){this.workgroupSize=[64,1,1],this.variableNames=["x"],this.uniforms="infinityValue : f32,",this.size=!0;const i=[n];this.op=r==="min"?"<":">";const[o,s]=S1(e,i);this.outputShape=o.length===0?[1]:o,this.dispatchLayout=Ct(this.outputShape),lt(s)<32?(this.type="plain",this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize)):(this.type="shared",this.dispatch=pt(this.dispatchLayout,this.outputShape,[1,1,1])),this.inputShape=e,this.shaderKey=`argMinMax_${this.op}_${this.type}`}getUserCode(){const e=this.workgroupSize[0],n=()=>this.inputShape.length===1?"uniforms.xShape":`uniforms.xShape.${Af(this.inputShape.length-1)}`,r=()=>{let i="";if(this.outputShape.length===1)this.inputShape.length!==1&&(i+="outputCoords,");else for(let o=0;o<this.outputShape.length;o++)i+=`outputCoords.${Af(o)},`;return i};return this.type==="shared"?`
      fn DIV_CEIL(a : u32, b : u32) -> u32 {
        return ((a - 1u) / b + 1u);
      }

      ${`
      var<workgroup> xBestIndices : array<i32, ${e}>;
      var<workgroup> xBestValues : array<f32, ${e}>;
    `}

      ${ft("index")} {
        let outputIndex = index / ${e};
        let reduceLength = ${n()};

        var bestIndex = i32(localId.x);
        var bestValue = uniforms.infinityValue;
        let outputCoords = getCoordsFromIndex(outputIndex);
        for (var k = i32(localId.x); k < reduceLength && outputIndex < uniforms.size;
            k = k + ${e}) {
          let candidate = getX(${r()} k);
          if (!isnan(candidate) && candidate ${this.op} bestValue) {
            bestValue = candidate;
            bestIndex = k;
          }
        }
        xBestValues[localId.x] = bestValue;
        xBestIndices[localId.x] = bestIndex;
        workgroupBarrier();

        var reduceSize = min(u32(reduceLength), ${e}u);
        for (var currentSize = reduceSize / 2u; reduceSize > 1u;
            currentSize = reduceSize / 2u) {
          let interval = DIV_CEIL(reduceSize, 2u);
          if (localId.x < currentSize) {
            let candidate = xBestValues[localId.x + interval];
            if (candidate ${this.op} bestValue) {
              bestValue = candidate;
              xBestValues[localId.x] = bestValue;
              xBestIndices[localId.x] = xBestIndices[localId.x + interval];
            }
          }
          reduceSize = interval;
          workgroupBarrier();
        }

        if (localId.x == 0u && outputIndex < uniforms.size) {
          setOutputAtIndexI32(outputIndex, xBestIndices[localId.x]);
        }
      }
    `:`
      ${ft("index")} {
        if (index < uniforms.size) {
          let outputCoords = getCoordsFromIndex(index);
          var bestIndex = 0;
          var bestValue = getX(${r()} 0);
          let reduceLength = ${n()};
          for (var i = 1; i < reduceLength; i++) {
            let candidate = getX(${r()} i);
            if (candidate ${this.op} bestValue) {
              bestValue = candidate;
              bestIndex = i;
            }
          }
          setOutputAtIndexI32(index, bestIndex);
        }
      }
      `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o}=r;let s=eu(o,i.shape);const l=a0(s,i.shape.length);let f=i;const p=[];l!=null&&(f=Dc({inputs:{x:i},backend:n,attrs:{perm:l}}),p.push(f),s=o0(s.length,f.shape.length)),Xx("argMax",[s[0]],f.shape.length);const m=new HH(f.shape,s[0],"max"),g=[{type:"float32",data:[Number.NEGATIVE_INFINITY]}],y=n.runWebGPUProgram(m,[f],"int32",g);return p.forEach(x=>n.disposeData(x.dataId)),y}const yxe={kernelName:Yk,backendName:"webgpu",kernelFunc:vxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o}=r;let s=eu(o,i.shape);const l=a0(s,i.shape.length);let f=i;const p=[];l!=null&&(f=Dc({inputs:{x:i},backend:n,attrs:{perm:l}}),p.push(f),s=o0(s.length,f.shape.length)),Xx("argMin",[s[0]],f.shape.length);const m=new HH(f.shape,s[0],"min"),g=[{type:"float32",data:[Number.POSITIVE_INFINITY]}],y=n.runWebGPUProgram(m,[f],"int32",g);return p.forEach(x=>n.disposeData(x.dataId)),y}const wxe={kernelName:Zk,backendName:"webgpu",kernelFunc:bxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xxe=Bn({opType:ct.ASIN}),Sxe={kernelName:Xk,backendName:"webgpu",kernelFunc:xxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cxe=Bn({opType:ct.ASINH}),Exe={kernelName:Qk,backendName:"webgpu",kernelFunc:Cxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _xe=Bn({opType:ct.ATAN}),Txe={kernelName:Jk,backendName:"webgpu",kernelFunc:_xe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kxe=ua({opType:sn.ATAN2}),Nxe={kernelName:tN,backendName:"webgpu",kernelFunc:kxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rxe=Bn({opType:ct.ATANH}),Axe={kernelName:eN,backendName:"webgpu",kernelFunc:Rxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dxe{constructor(e){this.variableNames=["x"],this.uniforms="strides : vec2<i32>,",this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="poolWithFilterSizeEqualsOne"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let batch = coords[0];
          let d = coords[3];

          let xRCCorner = coords.yz * uniforms.strides;
          let xRCorner = xRCCorner.x;
          let xCCorner = xRCCorner.y;

          let value = getX(batch, xRCorner, xCCorner, d);
          setOutputAtIndex(index, value);
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M1{constructor(e,n,r=!1,i=!1,o=!1){if(this.variableNames=["x"],this.uniforms="strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, convDims : vec2<i32>, filterDims : vec2<i32>,",this.workgroupSize=[128,1,1],this.size=!0,n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.poolType=n,this.computePositions=r,this.flattenPositions=i,this.includeBatchIndex=o,this.shaderKey=`pool2D_${n}_${r}_${i}_${o}`}getUserCode(){let e;this.poolType==="avg"?e="resultValue = resultValue + value; count = count + 1.0;":this.computePositions?e=`let currMaxValue = mix(value, maxValue, maxValueFound);
      if (value >= currMaxValue) {
        maxValue = value;
        maxValueFound = 1.0;
        maxPosition = ${this.flattenPositions?this.includeBatchIndex?"((batch * uniforms.xShape[1] + xR) * uniforms.xShape[2] + xC) * uniforms.xShape[3] + d":"(xR * uniforms.xShape[2] + xC) * uniforms.xShape[3] + d":"wR * uniforms.filterDims.y + wC"};
      }`:e="resultValue = max(value, resultValue);";let n="resultValue";return this.poolType==="avg"&&(n="resultValue / max(count, 1.0)"),`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
          let batch = coords[0];
          let d = coords[3];
          let xRCCorner = vec2<i32>(coords.yz) * uniforms.strides - uniforms.pads;
          let xRCorner = xRCCorner.x;
          let xCCorner = xRCCorner.y;

          ${this.computePositions?`var maxValue = 0.0;
            var maxValueFound = 0.0;
            var maxPosition = 0;`:`var resultValue = ${this.poolType==="avg"?"0.0":"-1.0 / pow(10.0, -20.0)"};`}

          var count = 0.0;
          for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + uniforms.dilations.x) {
            let xR = xRCorner + wR;

            if (xR < 0 || xR >= uniforms.convDims.x) {
              continue;
            }

            for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + uniforms.dilations.y) {
              let xC = xCCorner + wC;
              if (xC < 0 || xC >= uniforms.convDims.y) {
                continue;
              }

              let value = getX(batch, xR, xC, d);
              ${e}
            }
          }

          ${this.computePositions?"setOutputAtIndexI32(index, maxPosition);":`setOutputAtIndex(index, ${n});`}
        }
      }
    `}}class mD{constructor(e,n,r=!1,i=!1,o=!1){if(this.variableNames=["x"],this.uniforms="strides : vec3<i32>, pads : vec3<i32>, convDims : vec3<i32>, filterDims : vec3<i32>,",this.workgroupSize=[128,1,1],this.size=!0,n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.poolType=n,this.computePositions=r,this.flattenPositions=i,this.includeBatchIndex=o,this.shaderKey=`pool3D_${n}_${r}_${i}_${o}`}getUserCode(){let e;this.poolType==="avg"?e="resultValue += value; count += 1.0;":this.computePositions?e=`let currMaxValue = mix(value, maxValue, maxValueFound);
      if (value >= currMaxValue) {
        maxValue = value;
        maxValueFound = 1.0;
        maxPosition = ${this.flattenPositions?this.includeBatchIndex?"(((batch * uniforms.xShape.y + xD) * uniforms.xShape.z + xR) * uniforms.xShape.w + xC) * uniforms.xShape.u + ch":"((xD * uniforms.xShape.z + xR) * uniforms.xShape.w + xC) * uniforms.xShape.u + ch":"wD * uniforms.filterDims.y * uniforms.filterDims.y + wR * uniforms.filterDims.z + wC"};
      }`:e="resultValue = max(value, resultValue);";let n="resultValue";return this.poolType==="avg"&&(n="resultValue / max(count, 1.0)"),`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let batch = coords.x;
          let ch = coords.u;

          let xCorner = vec3<i32>(coords.y, coords.z, coords.w) * uniforms.strides - uniforms.pads;
          let xDCorner = xCorner.x;
          let xRCorner = xCorner.y;
          let xCCorner = xCorner.z;

          ${this.computePositions?`var maxValue = 0.0;
            var maxValueFound = 0.0;
            var maxPosition = 0;`:`var resultValue = ${this.poolType==="avg"?"0.0":"-1.0 / pow(10.0, -20.0)"};`}

          var count = 0.0;
          for (var wD = 0; wD < uniforms.filterDims.x; wD++) {
            let xD = xDCorner + wD;
            if (xD < 0 || xD >= uniforms.convDims.x) {
              continue;
            }

            for (var wR = 0; wR < uniforms.filterDims.y; wR++) {
              let xR = xRCorner + wR;
              if (xR < 0 || xR >= uniforms.convDims.y) {
                continue;
              }

              for (var wC = 0; wC < uniforms.filterDims.z; wC++) {
                let xC = xCCorner + wC;
                if (xC < 0 || xC >= uniforms.convDims.z) {
                  continue;
                }

                let value = getX(batch, xD, xR, xC, ch);
                ${e}
              }
            }
          }

          ${this.computePositions?"setOutputAtIndexI32(index, maxPosition);":`setOutputAtIndex(index, ${n});`}
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WH(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reductionIndices:o,keepDims:s}=r;return im(i,o,s,"max",n)}const Oxe={kernelName:lR,backendName:"webgpu",kernelFunc:WH};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GH(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{keepDims:o,axis:s}=r;return im(i,s,o,"mean",n)}const $xe={kernelName:hR,backendName:"webgpu",kernelFunc:GH};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KH(t,e,n,r){if(e.filterWidth===1&&e.filterHeight===1&&ja(e.inShape,e.outShape))return hs({inputs:{x:t},backend:r});if(e.filterWidth===e.inWidth&&e.filterHeight===e.inHeight&&e.batchSize===1&&e.padInfo.type==="VALID"){const s=t.shape.length,l=Mt({inputs:{x:t},backend:r,attrs:{shape:[t.shape[s-3]*t.shape[s-2],t.shape[s-1]]}});let f;n==="avg"?f=GH({inputs:{x:l},backend:r,attrs:{axis:0,keepDims:!1}}):(X(n==="max",()=>`Invalid pool type ${n}`),f=WH({inputs:{x:l},backend:r,attrs:{reductionIndices:0,keepDims:!1}}));const p=Mt({inputs:{x:f},backend:r,attrs:{shape:e.outShape}});return r.disposeData(l.dataId),r.disposeData(f.dataId),p}let i;const o=[{type:"int32",data:[e.strideHeight,e.strideWidth]}];return e.filterHeight===1&&e.filterWidth===1?i=new Dxe(e):(n==="avg"?i=new M1(e,"avg"):(X(n==="max",()=>`Invalid pool type ${n}`),i=new M1(e,"max")),o.push({type:"int32",data:[e.padInfo.top,e.padInfo.left]},{type:"int32",data:[e.dilationHeight,e.dilationWidth]},{type:"int32",data:[e.inHeight,e.inWidth]},{type:"int32",data:[e.effectiveFilterHeight,e.effectiveFilterWidth]})),r.runWebGPUProgram(i,[t],t.dtype,o)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ixe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:o,strides:s,pad:l,dimRoundingMode:f}=r,m=Bh(i.shape,o,s,1,l,f);return KH(i,m,"avg",n)}const Pxe={kernelName:nN,backendName:"webgpu",kernelFunc:Ixe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:o,strides:s,pad:l,dataFormat:f,dimRoundingMode:p}=r,m=[1,1,1],g=h1(i.shape,o,s,m,l,p,f),y=new mD(g,"avg"),x=[{type:"int32",data:[g.strideDepth,g.strideHeight,g.strideWidth]},{type:"int32",data:[g.padInfo.front,g.padInfo.top,g.padInfo.left]},{type:"int32",data:[g.inDepth,g.inHeight,g.inWidth]},{type:"int32",data:[g.effectiveFilterDepth,g.effectiveFilterHeight,g.effectiveFilterWidth]}];return n.runWebGPUProgram(y,[i],i.dtype,x)}const Lxe={kernelName:rN,backendName:"webgpu",kernelFunc:Mxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fxe{constructor(e){this.variableNames=["dy"],this.uniforms=`strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, filterDims : vec2<i32>,
       outHeight : i32, outWidth : i32, avgMultiplier : f32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="avgPool2DBackprop"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords[0];
        let d = coords[3];

        let dyRCCorner = vec2<i32>(coords.yz) - uniforms.pads;
        let dyRCorner = dyRCCorner.x;
        let dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        for (var wR = 0; wR < uniforms.filterDims[0]; wR = wR + uniforms.dilations[0]) {
          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);

          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
            continue;
          }
          let idyR = i32(dyR);

          for (var wC = 0; wC < uniforms.filterDims[1]; wC = wC + uniforms.dilations[1]) {
            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);

            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
              continue;
            }
            let idyC = i32(dyC);

            let dyValue = getDy(batch, idyR, idyC, d);

            dotProd = dotProd + dyValue * uniforms.avgMultiplier;
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
    `}}class Vxe{constructor(e){this.variableNames=["dy"],this.uniforms=`strides : vec3<i32>, pads : vec3<i32>, filterDims : vec3<i32>,
       outDepth : i32, outHeight : i32, outWidth : i32, avgMultiplier : f32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="avgPool3DBackprop"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords.x;
        let ch = coords.u;

        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;
        let dyDCorner = dyCorner.x;
        let dyRCorner = dyCorner.y;
        let dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        for (var wD = 0; wD < uniforms.filterDims[0]; wD++) {
          let dyD = f32(dyDCorner + wD) / f32(uniforms.strides[0]);

          if (dyD < 0.0 || dyD >= f32(uniforms.outDepth) || fract(dyD) > 0.0) {
            continue;
          }
          let idyD = i32(dyD);

          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {
            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);

            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
              continue;
            }
            let idyR = i32(dyR);

            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {
              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);

              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
                continue;
              }
              let idyC = i32(dyC);

              let dyValue = getDy(batch, idyD, idyR, idyC, ch);
              dotProd += dyValue * uniforms.avgMultiplier;
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jxe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:o}=e,s=o,{filterSize:l,strides:f,pad:p,dimRoundingMode:m}=r,g=h1(s.shape,l,f,1,p,m),y=new Vxe(g),x=1/(g.filterDepth*g.filterHeight*g.filterWidth),S=[{type:"int32",data:[g.strideDepth,g.strideHeight,g.strideWidth]},{type:"int32",data:[g.effectiveFilterDepth-1-g.padInfo.front,g.effectiveFilterHeight-1-g.padInfo.top,g.effectiveFilterWidth-1-g.padInfo.left]},{type:"int32",data:[g.effectiveFilterDepth,g.effectiveFilterHeight,g.effectiveFilterWidth]},{type:"int32",data:[g.outDepth]},{type:"int32",data:[g.outHeight]},{type:"int32",data:[g.outWidth]},{type:"float32",data:[x]}];return n.runWebGPUProgram(y,[i],s.dtype,S)}const zxe={kernelName:N5,backendName:"webgpu",kernelFunc:jxe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bxe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:o}=e,s=o;$H([i,o],"avgPoolGrad");const{filterSize:l,strides:f,pad:p}=r,m=Bh(s.shape,l,f,1,p),g=new Fxe(m),y=1/(m.filterHeight*m.filterWidth),x=[{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.effectiveFilterHeight-1-m.padInfo.top,m.effectiveFilterWidth-1-m.padInfo.left]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]},{type:"int32",data:[m.effectiveFilterHeight,m.effectiveFilterWidth]},{type:"int32",data:[m.outHeight]},{type:"int32",data:[m.outWidth]},{type:"float32",data:[y]}];return n.runWebGPUProgram(g,[i],s.dtype,x)}const Uxe={kernelName:k5,backendName:"webgpu",kernelFunc:Bxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hxe(t){const{inputs:e,backend:n,attrs:r}=t,{a:i,b:o}=e,{transposeA:s,transposeB:l}=r;return bS({a:i,b:o,transposeA:s,transposeB:l,backend:n})}const Wxe={kernelName:iN,backendName:"webgpu",kernelFunc:Hxe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gxe{constructor(e,n){this.variableNames=["source"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.rank=n.length,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.start=e,this.uniforms=`start : ${Ti(e.length)}, `,this.shaderKey="slice"}getUserCode(){const e=Ti(this.rank),n=Kxe(this.rank);let r;return this.start.length===1?r=this.outputShape.map((o,s)=>"sourceLoc = uniforms.start + coords;"):r=this.outputShape.map((o,s)=>`sourceLoc.${gD[s]} = uniforms.start.${Af(s)} + coords.${gD[s]};`),`
      ${ft("index")} {
        if (index < uniforms.size) {
          var sourceLoc : ${e};
          let coords = getCoordsFromIndex(index);
          ${r.join(`
`)}
          setOutputAtIndex(index, getSource(${n}));
        }
      }
    `}}const gD=["x","y","z","w","u","v"];function Kxe(t){if(t===1)return"sourceLoc";if(t<=6)return gD.slice(0,t).map(e=>`sourceLoc.${e}`).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v0(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:o,size:s}=r,[l,f]=O7(i,o,s);if(w7(i,l,f),n.shouldExecuteOnCPU([i])||i.dtype==="string"){const g=n.tensorMap.get(i.dataId),y=H2e(g.values,l,f,i.shape,i.dtype);return n.makeTensorInfo(f,i.dtype,y)}if(lt(f)===0)return n.makeTensorInfo(f,i.dtype,[]);const p=new Gxe(l,f),m=[{type:"int32",data:l}];return n.runWebGPUProgram(p,[i],i.dtype,m)}const qxe={kernelName:qR,backendName:"webgpu",kernelFunc:v0};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yxe={kernelName:aN,backendName:"webgpu",kernelFunc:t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:o,crops:s}=r;X(i.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGPU backend not implemented yet");const l=o.reduce((O,I)=>O*I),f=sD(i.shape,o,l),p=uD(f.length,o.length),m=lD(i.shape,o,l),g=U7(s,o.length),y=H7(m,s,o.length),x=[],S=Mt({inputs:{x:i},backend:n,attrs:{shape:f}}),_=Dc({inputs:{x:S},backend:n,attrs:{perm:p}}),k=Mt({inputs:{x:_},backend:n,attrs:{shape:m}}),R=v0({inputs:{x:k},backend:n,attrs:{begin:g,size:y}});return x.push(S),x.push(_),x.push(k),x.forEach(O=>n.disposeData(O.dataId)),R}};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zxe=`
  fn bincount_write(index: i32, value: f32) {
    ${up("&result[index]","value","float32")}
  }
`,Xxe=`
  fn bincount_write(index: i32, value: f32) {
    atomicStore(&result[index], bitcast<i32>(value));
  }
`;class qH{constructor(e,n,r=!1){this.outputShape=[],this.variableNames=["x"],this.uniforms="binCountSize : i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.hasWeights=!0,this.binaryOutput=!1,this.outputShape=e,this.rank=e.length,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.binaryOutput=r,r&&(this.atomic=!1),this.hasWeights=n,this.hasWeights&&this.variableNames.push("w"),this.shaderKey=`bincount_${this.hasWeights}_${this.binaryOutput}_${this.rank}`}getUserCode(){return`
    ${this.binaryOutput?Xxe:Zxe}
  ${ft("index")} {
    ${this.rank===1?`if (index < uniforms.xShape) {
      let indexVal = i32(getX(index));
      if (indexVal < uniforms.binCountSize) {
        let value = ${this.binaryOutput?1:this.hasWeights?"getW(index)":"1."};
        bincount_write(indexVal, value);
      }
    }`:`let coord = getCoordsFromIndex(index);
    if (coordsInBounds2D(coord, uniforms.xShape)) {
      let indexVal = i32(getX(coord[0], coord[1]));
      if (indexVal < uniforms.binCountSize) {
        let value = ${this.binaryOutput?1:this.hasWeights?"getW(coord[0], coord[1])":"1."};
        bincount_write(coord.x * uniforms.binCountSize + indexVal, value);
      }
    }`}
  }
  `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qxe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:o}=e,{size:s}=r,l=lt(i.shape),p=lt(o.shape)>0,m=[s],g=o.dtype,y=Lo({backend:n,attrs:{shape:m,value:0,dtype:g}}),x=new qH([l],p),S=[{type:"int32",data:[s]}],_=p?[i,o]:[i];return n.runWebGPUProgram(x,_,g,S,y)}const Jxe={kernelName:oN,backendName:"webgpu",kernelFunc:Qxe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eSe{constructor(e){this.outputShape=[],this.variableNames=["s0","s1"],this.uniforms="s0Size : i32, s1Size : i32, ",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="broadcastArgs"}getUserCode(){return`
  ${ft("index")} {
    if (index < uniforms.size) {
      var s0 = 1.0;
      var s1 = 1.0;
      let indexS0 = index - uniforms.size + uniforms.s0Size;
      let indexS1 = index - uniforms.size + uniforms.s1Size;
      if (indexS0 >= 0) {
        s0 = getS0(indexS0);
      }
      if (indexS1 >= 0) {
        s1 = getS1(indexS1);
      }

      if (s0 == 1.0) {
        setOutputAtIndex(index, s1);
      } else if (s1 == 1.0) {
        setOutputAtIndex(index, s0);
      } else if (s0 != s1) {
        setOutputAtIndex(index, uniforms.NAN);
      } else {
        setOutputAtIndex(index, s0);
      }
    }
  }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tSe(t){const{inputs:e,backend:n}=t,{s0:r,s1:i}=e;if(n.shouldExecuteOnCPU([r,i])){const m=n.tensorMap.get(r.dataId),g=n.tensorMap.get(i.dataId),y=m.values,x=g.values,S=vr(Array.from(y),Array.from(x));return n.makeTensorInfo([S.length],"int32",Int32Array.from(S))}const o=lt(r.shape),s=lt(i.shape),l=Math.max(o,s),f=new eSe(l),p=[{type:"int32",data:[o]},{type:"int32",data:[s]}];return n.runWebGPUProgram(f,[r,i],"int32",p)}const nSe={kernelName:sN,backendName:"webgpu",kernelFunc:tSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YH=ua({opType:sn.NOT_EQUAL,dtype:"bool",cpuKernelImpl:F2e}),rSe={kernelName:SR,backendName:"webgpu",kernelFunc:YH};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L1(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.tensorMap.get(r.dataId);return hs({inputs:{x:i.complexTensorInfos.real},backend:n})}const iSe={kernelName:$R,backendName:"webgpu",kernelFunc:L1};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aSe(t,e){const n=new g0(t.shape,ct.TO_INT),r=e.runWebGPUProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vD(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dtype:o}=r;if(o==="complex64"){if(i.dtype==="complex64")return hs({inputs:{x:i},backend:n});const s=tp(i.shape),l=vD({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),f=rm({inputs:{real:l,imag:s},backend:n});return s.dispose(),n.disposeData(l.dataId),f}if(i.dtype==="complex64"){const s=L1({inputs:{input:i},backend:n}),l=vD({inputs:{x:s},backend:n,attrs:{dtype:o}});return n.disposeData(s.dataId),l}if(!b5(i.dtype,o)){const s=hs({inputs:{x:i},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:o}}if(n.shouldExecuteOnCPU([i])){const s=n.tensorMap.get(i.dataId).values,[l,f,p]=y2e(s,i.shape,i.dtype,o);return n.makeTensorInfo(l,f,p)}if(o==="int32")return aSe(i,n);if(o==="bool"){const s=n.makeTensorInfo([],"bool",Sf("bool",1)),f=YH({inputs:{a:i,b:s},backend:n});return n.disposeData(s.dataId),f}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${o}`)}const oSe={kernelName:Px,backendName:"webgpu",kernelFunc:vD};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sSe=Bn({opType:ct.CEIL,cpuKernelImpl:b2e}),uSe={kernelName:uN,backendName:"webgpu",kernelFunc:sSe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lSe{constructor(e){this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workPerThread=4,this.workgroupSize=[64,1,1],this.outputComponent=4,this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.shaderKey="clipVec4"}getUserCode(){return`
      ${ft("index")} {
        if(index < uniforms.size) {
          let value = getAByOutputIndex(index);
          var clampedValue = clamp(
              value, vec4<f32>(uniforms.minVal), vec4<f32>(uniforms.maxVal));
          clampedValue = select(clampedValue, value, isnanVec4(value));
          setOutputAtIndex(index, clampedValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cSe{constructor(e){this.variableNames=["A"],this.uniforms="minVal : f32, maxVal : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="clip"}getUserCode(){return`
      ${ft("index")} {
        if(index < uniforms.size) {
          let value = getAByOutputIndex(index);
          if (isnan(value)) {
            setOutputAtIndex(index, value);
            return;
          }
          setOutputAtIndex(index, clamp(value, uniforms.minVal, uniforms.maxVal));
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{clipValueMin:o,clipValueMax:s}=r;let l;const f=[{type:"float32",data:[o]},{type:"float32",data:[s]}];return lt(i.shape)%4===0?l=new lSe(i.shape):l=new cSe(i.shape),n.runWebGPUProgram(l,[i],i.dtype,f)}const dSe={kernelName:lN,backendName:"webgpu",kernelFunc:fSe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pSe{constructor(e){this.outputShape=[],this.variableNames=["real","imag"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="complexAbs"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let re = abs(getRealByOutputIndex(index));
        let im = abs(getImagByOutputIndex(index));
        let mx = max(re, im);

        // The length function in wgsl may be not underflow-safe on some GPUs.
        // So the safe solution is to ensure underflow-safety in all cases.
        setOutputAtIndex(index, select(mx * length(vec2<f32>(1, min(re, im)/mx)), 0.0, mx == 0.0));
      }
    }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZH(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function hSe(t){const{inputs:e,backend:n}=t,{x:r}=e,i=n.tensorMap.get(r.dataId),o=new pSe(r.shape),s=[ZH(r,i.complexTensorInfos.real),ZH(r,i.complexTensorInfos.imag)];return n.runWebGPUProgram(o,s,s[0].dtype)}const mSe={kernelName:fN,backendName:"webgpu",kernelFunc:hSe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gSe{constructor(e){this.uniforms="",this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=h0(e,1),this.variableNames=e.map((n,r)=>`T${r}`),this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]),this.offsetLength=e.length-1;for(let n=0;n<this.offsetLength;n++)this.uniforms+=`offset${n} : i32,`;this.shaderKey="concat"}getUserCode(){const e=[];if(this.offsetLength>0){e.push("if (yC < uniforms.offset0){ setOutputAtCoords(coords.x, coords.y, getT0(yR, yC)); }");for(let o=1;o<this.offsetLength;o++)e.push(`else if (yC < uniforms.offset${[o]}){ setOutputAtCoords(coords.x, coords.y, getT${o}(yR, yC - uniforms.offset${o-1})); }`);const r=this.offsetLength,i=this.offsetLength-1;e.push(`else { setOutputAtCoords(coords.x, coords.y, getT${r}(yR, yC - uniforms.offset${i})); }`)}else e.push("setOutputAtCoords(coords.x, coords.y, getT0(yR, yC));");return`
      ${ft("index")} {
        for(var i = 0; i < ${this.workPerThread}; i = i + 1) {
          let flatIndex = index * ${this.workPerThread} + i;
          if(flatIndex < uniforms.size) {
            let coords = getCoordsFromIndex(flatIndex);
            let yR = coords.x;
            let yC = coords.y;

            ${e.join(`
        `)}
          }
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SS(t){const{inputs:e,backend:n}=t,{input:r}=e,i=n.tensorMap.get(r.dataId);return hs({inputs:{x:i.complexTensorInfos.imag},backend:n})}const vSe={kernelName:YN,backendName:"webgpu",kernelFunc:SS};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F1(t,e,n){const r=t[0].dtype;if(r==="complex64"){const S=t.map(I=>L1({inputs:{input:I},backend:n})),_=t.map(I=>SS({inputs:{input:I},backend:n})),k=F1(S,e,n),R=F1(_,e,n),O=rm({inputs:{real:k,imag:R},backend:n});return S.forEach(I=>n.disposeData(I.dataId)),_.forEach(I=>n.disposeData(I.dataId)),n.disposeData(k.dataId),n.disposeData(R.dataId),O}let i=n.shouldExecuteOnCPU(t);if(r==="string"&&(i=!0),i){const S=t.map(F=>{const Y=[-1,lt(F.shape.slice(e))];return Mt({inputs:{x:F},backend:n,attrs:{shape:Y}})}),_=S.map(F=>({vals:n.readSync(F.dataId),shape:F.shape})),k=h0(S.map(F=>F.shape),1),R=S[0].shape[0]===1,O=w2e(_,k,r,R),I=h0(t.map(F=>F.shape),e),P=n.makeTensorInfo(I,r,O);return S.forEach(F=>n.disposeData(F.dataId)),P}const o=n.device.limits.maxStorageBuffersPerShaderStage-1;if(t.length>o){const S=[];for(let k=0;k<t.length;k+=o){const R=t.slice(k,k+o);S.push(F1(R,e,n))}const _=F1(S,e,n);for(const k of S)n.disposeData(k.dataId);return _}const{tensors2D:s,outShape:l}=ySe(t,e,n),f=s.map(S=>S.shape),p=new gSe(f),m=[],g=new Array(f.length-1);if(g.length>0){g[0]=f[0][1],m.push({type:"int32",data:[g[0]]});for(let S=1;S<g.length;S++)g[S]=g[S-1]+f[S][1],m.push({type:"int32",data:[g[S]]})}const y=n.runWebGPUProgram(p,s,s[0].dtype,m);s.forEach(S=>n.disposeData(S.dataId));const x=Mt({inputs:{x:y},backend:n,attrs:{shape:l}});return n.disposeData(y.dataId),x}function ySe(t,e,n){const r=h0(t.map(o=>o.shape),e);return{tensors2D:t.map(o=>Mt({inputs:{x:o},backend:n,attrs:{shape:[lt(o.shape.slice(0,e)),lt(o.shape.slice(e))]}})),outShape:r}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XH(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r,o=eu(i,e[0].shape)[0],s=e.map(p=>p.shape);L7(s,o);const l=h0(e.map(p=>p.shape),o);if(lt(l)===0)return n.makeTensorInfo(l,e[0].dtype,[]);const f=e.filter(p=>lt(p.shape)>0);return f.length===1?hs({inputs:{x:f[0]},backend:n}):F1(f,o,n)}const bSe={kernelName:dN,backendName:"webgpu",kernelFunc:XH};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wSe(t,e,n,r,i=!1,o=null,s=!1,l=4,f=4,p=4){const m=fe=>{switch(fe){case 1:return"resData = f32(x[xIndex]);";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = vec4<f32>(x[xIndex / 4]);";default:throw new Error(`innerElementSize ${fe} is not supported.`)}},g=fe=>{switch(fe){case 1:return"return f32(W[row * uniforms.wShape[3] + col]);";case 4:return"return vec4<f32>(W[(row * uniforms.wShape[3] + col) / 4]);";default:throw new Error(`innerElementSize ${fe} is not supported.`)}},y=t?`
      let coord = vec4<i32>(batch, xRow, xCol, xCh);
      `:`
      let coord = vec4<i32>(batch, xCh, xRow, xCol);
      `,x=t?`
      let coords = vec4<i32>(
        batch,
        row / outWidth,
        row % outWidth,
        col);
      `:`
      let coords = vec4<i32>(
        batch,
        row,
        col / outWidth,
        col % outWidth);
      `,S=t?"uniforms.xShape[1]":"uniforms.xShape[2]",_=t?"uniforms.xShape[2]":"uniforms.xShape[3]",k=t?"row":"col",R=t?"col":"row",O=`
      let inChannels = uniforms.wShape[2];
      let outWidth = ${t?"uniforms.outShape[2]":"uniforms.outShape[3]"};
      let outRow = ${k} / outWidth;
      let outCol = ${k} % outWidth;

      let WRow = ${R} / (uniforms.filterDims[1] * inChannels);
      let WCol = ${R} / inChannels % uniforms.filterDims[1];
      let xRow = outRow * uniforms.strides[0] + uniforms.dilations[0] * WRow - uniforms.pads[0];
      let xCol = outCol * uniforms.strides[1] + uniforms.dilations[1] * WCol - uniforms.pads[1];
      let xCh = ${R} % inChannels;
      var resData = ${En(l)}(0.0);
      // The bounds checking is always needed since we use it to pad zero for
      // the 'same' padding type.
      if (xRow >= 0 && xRow < ${S} && xCol >= 0 && xCol < ${_}) {
        ${y}
        let xIndex = getIndexFromCoords4D(coord, uniforms.xShape);
        ${m(l)}
      }
      return resData;`,I=t?e&&r?`
      ${O}`:`
      if (row < uniforms.dimAOuter && col < uniforms.dimInner) {
        ${O}
      }
      return ${En(l)}(0.0);`:r&&n?`
      ${O}`:`
      if (row < uniforms.dimInner && col < uniforms.dimBOuter) {
        ${O}
      }
      return ${En(l)}(0.0);`,P=`${g(f)}`,F=En(p),K=En(t?l:f),Y=En(t?f:l);return`
      ${Df(o,s,p===4,4)}
      fn mm_readA(batch: i32, row : i32, col : i32) -> ${K} {
        ${t?I:P}
      }

      fn mm_readB(batch: i32, row : i32, col : i32) -> ${Y} {
        ${t?P:I}
      }

      fn mm_write(batch: i32, row : i32, col : i32, valueIn : ${F}) {
        if (row < uniforms.dimAOuter && col < uniforms.dimBOuter)
        {
        var value = valueIn;
        let outWidth = ${t?"uniforms.outShape[2]":"uniforms.outShape[3]"};
        ${x}
        ${nm(i,o)}
        setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
        }
      }`}class xSe{constructor(e,n,r,i,o=!1,s=null,l=!1,f=!1){this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, dilations : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=e.outShape,this.isChannelsLast=e.dataFormat==="channelsLast",this.isVec4=((e.inChannels%4===0||e.inChannels%3===0)&&this.isChannelsLast||e.outWidth%4===0&&!this.isChannelsLast)&&e.outChannels%4===0,this.dispatchLayout=this.isChannelsLast?{x:[3],y:[1,2],z:[0]}:{x:[2,3],y:[1],z:[0]},this.workgroupSize=RH(this.dispatchLayout,this.outputShape,this.isVec4),this.elementsPerThread=AH(this.dispatchLayout,this.outputShape,this.isVec4),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread),this.isVec4?(this.outputComponent=4,this.isChannelsLast&&e.inChannels%4!==0?(this.innerElementSize=3,this.variableComponents=[1,4]):(this.innerElementSize=4,this.variableComponents=[4,4]),o&&(this.variableNames.push("bias"),this.variableComponents.push(4)),l&&(this.variableNames.push("preluActivationWeights"),this.variableComponents.push(4))):(this.innerElementSize=this.elementsPerThread[0],o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights")),this.sequentialAccessByThreads=f,this.addBias=o,this.activation=s,this.hasPreluActivationWeights=l,this.tileAOuter=this.workgroupSize[1]*this.elementsPerThread[1],this.tileBOuter=this.workgroupSize[0]*this.elementsPerThread[0],this.tileInner=Math.max(this.workgroupSize[0]*this.innerElementSize,this.workgroupSize[1]),this.fitAOuter=n%this.tileAOuter===0,this.fitBOuter=r%this.tileBOuter===0,this.fitInner=i%this.tileInner===0,this.shaderKey=`conv2DMM_${this.elementsPerThread}_${this.activation}}_${this.fitAOuter}_${this.fitBOuter}_${this.fitInner}_${this.isVec4}_${this.innerElementSize}_${this.isChannelsLast}_${this.sequentialAccessByThreads}`}getUserCode(){const e=this.isVec4?vS(this.elementsPerThread,this.workgroupSize,!this.isChannelsLast,this.tileInner):yS(this.elementsPerThread,this.workgroupSize,!this.isChannelsLast,this.tileInner,!1,null,this.sequentialAccessByThreads),n=this.isVec4?[this.innerElementSize,4,4]:[1,1,1];return`
    ${wSe(this.isChannelsLast,this.fitAOuter,this.fitBOuter,this.fitInner,this.addBias,this.activation,this.hasPreluActivationWeights,n[0],n[1],n[2])}
    ${e}
  `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SSe{constructor(e,n=!1,r=null,i=!1){this.variableNames=["x","W"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>,",this.workgroupSize=[4,4,8],this.outputShape=e.outShape,this.isChannelsLast=e.dataFormat==="channelsLast",this.dispatchLayout=this.isChannelsLast?{x:[2],y:[1],z:[0,3]}:{x:[3],y:[2],z:[0,1]},this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.addBias=n,this.activation=r,this.hasPreluActivationWeights=i,n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.shaderKey=`conv2dnaive_${this.activation}_${this.isChannelsLast}`}getUserCode(){return`
       ${Df(this.activation,this.hasPreluActivationWeights,!1,4)}
       fn readInp(batch : i32, row : i32, col : i32, chan : i32) -> f32{
         let coords = vec4<i32>(batch, row, col, chan);
         if (coordsInBounds4D(coords, uniforms.xShape)) {
           return  getX(batch, row, col, chan);
         } else {
          return 0.0;
         }
       }
       fn readFilt(row : i32, col : i32, xChannel : i32, outChannel : i32) -> f32{
         let coords = vec4<i32>(row, col, xChannel, outChannel);
         if(coordsInBounds4D(coords, uniforms.wShape)) {
           return getW(row, col, xChannel, outChannel);
          } else {
            return 0.0;
          }
       }
       fn writeResult(batch : i32, row : i32, col : i32, chan : i32, valueIn : f32) {
         let coords = ${this.isChannelsLast?"vec4<i32>(batch, row, col, chan);":"vec4<i32>(batch, chan, row, col);"}
         if (coordsInBounds4D(coords, uniforms.outShape)) {
           var value = valueIn;
           ${nm(this.addBias,this.activation)}
           setOutputAtCoords(coords.x, coords.y, coords.z, coords.w, value);
         }
       }
       ${ft("index")} {
         let coords = getOutputCoords();
         let batch = coords[0];
         let outChannel = ${this.isChannelsLast?"coords[3];":"coords[1];"}
         let outRow = ${this.isChannelsLast?"coords[1];":"coords[2];"}
         let outCol = ${this.isChannelsLast?"coords[2];":"coords[3];"}
         var acc : f32 = 0.0;
         for (var row = 0; row < uniforms.filterDims[0]; row = row + 1) {
           for (var col = 0; col < uniforms.filterDims[1]; col = col + 1) {
             let xRow = outRow * uniforms.strides[0] + uniforms.dilations[0] * row - uniforms.pads[0];
             let xCol = outCol * uniforms.strides[1] + uniforms.dilations[1] * col - uniforms.pads[1];
             for (var xChannel = 0; xChannel < ${this.isChannelsLast?"uniforms.xShape[3];":"uniforms.xShape[1];"} xChannel = xChannel + 1) {
               ${this.isChannelsLast?"let v = readInp(batch, xRow, xCol, xChannel);":"let v = readInp(batch, xChannel, xRow, xCol);"}
               let f = readFilt(row, col, xChannel, outChannel);
               acc = acc + v * f;
             }
           }
         }
         writeResult(batch, outRow, outCol, outChannel, acc);
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CSe{constructor(e,n){this.variableNames=["x"],this.uniforms=`pads : vec2<i32>, strides : vec2<i32>, dilations : vec2<i32>, outWidth : i32, itemsPerBlockRow : i32,
       inChannels : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast=n,this.shaderKey=`im2col_${this.isChannelsLast}`}getUserCode(){const e=this.isChannelsLast?1:2,n=this.isChannelsLast?2:3,r=this.isChannelsLast?"coords[1]":"coords[2]",i=this.isChannelsLast?"coords[2]":"coords[1]",o=this.isChannelsLast?"getX(batch, xRow, xCol, ch)":"getX(batch, ch, xRow, xCol)";return`
    ${ft("index")} {
      let coords = getCoordsFromIndex(index);
      if(index < uniforms.size) {
        let batch = coords[0];
        let row = ${r};
        let col = ${i};
        let offsetY = (row / uniforms.outWidth) * uniforms.strides[0] - uniforms.pads[0];
        let xRow = offsetY + uniforms.dilations[0] * (col / uniforms.itemsPerBlockRow);
        var value = 0.0;
        if(xRow < uniforms.xShape[${e}] && xRow >= 0) {
          let offsetX = (row % uniforms.outWidth) * uniforms.strides[1] -
              uniforms.pads[1];
          let xCol = offsetX + uniforms.dilations[1] * ((col %
              uniforms.itemsPerBlockRow) / uniforms.inChannels);
          let ch = col % uniforms.inChannels;
          if(xCol < uniforms.xShape[${n}] && xCol >= 0) {
            value = ${o};
          }
        }
        setOutputAtIndex(index, value);
      }
    }
   `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CS(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function ESe({x:t,filter:e,convInfo:n,backend:r,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){const f=n.dataFormat==="channelsLast",p=!f,m=!1,g=f&&n.filterHeight===n.inHeight&&n.filterWidth===n.inWidth&&n.padInfo.type==="VALID",y=[];let x,S;if(g){const R=n.inHeight*n.inWidth*n.inChannels;x=Mt({inputs:{x:t},backend:r,attrs:{shape:[1,n.batchSize,R]}}),S=Mt({inputs:{x:e},backend:r,attrs:{shape:[1,R,n.outChannels]}})}else x=Mt({inputs:{x:t},backend:r,attrs:{shape:f?[n.batchSize,n.inHeight*n.inWidth,n.inChannels]:[n.batchSize,n.inChannels,n.inHeight*n.inWidth]}}),S=Mt({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});if(y.push(x),y.push(S),o!=null){const R=CS(o.shape,f);R!=null&&(o=Mt({inputs:{x:o},backend:r,attrs:{shape:R}}),y.push(o))}if(i!=null){const R=CS(i.shape,f);R!=null&&(i=Mt({inputs:{x:i},backend:r,attrs:{shape:R}}),y.push(i))}const _=bS({a:f?x:S,b:f?S:x,transposeA:p,transposeB:m,backend:r,bias:i,activation:l,preluActivationWeights:o,leakyreluAlpha:s}),k=Mt({inputs:{x:_},backend:r,attrs:{shape:n.outShape}});y.push(_);for(const R of y)r.disposeData(R.dataId);return k}function _Se({x:t,filter:e,convInfo:n,backend:r,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){const{filterWidth:f,filterHeight:p,inChannels:m,strideWidth:g,strideHeight:y,padInfo:x,outWidth:S,outHeight:_,dilationWidth:k,dilationHeight:R,dataFormat:O}=n,I=O==="channelsLast",P=f*p*m,F=_*S,K=I?[n.batchSize,F,P]:[n.batchSize,P,F],Y=new CSe(K,I),te=[{type:"int32",data:[x.top,x.left]},{type:"int32",data:[y,g]},{type:"int32",data:[R,k]},{type:"int32",data:[S]},{type:"int32",data:[m*f]},{type:"int32",data:[m]}],fe=r.runWebGPUProgram(Y,[t],t.dtype,te),ye=[];ye.push(fe);const de=Mt({inputs:{x:e},backend:r,attrs:{shape:[1,P,-1]}});if(ye.push(de),o!=null){const $e=CS(o.shape,I);$e!=null&&(o=Mt({inputs:{x:o},backend:r,attrs:{shape:$e}}),ye.push(o))}if(i!=null){const $e=CS(i.shape,I);$e!=null&&(i=Mt({inputs:{x:i},backend:r,attrs:{shape:$e}}),ye.push(i))}const Te=bS({a:I?fe:de,b:I?de:fe,transposeA:!I,transposeB:!1,backend:r,bias:i,activation:l,preluActivationWeights:o,leakyreluAlpha:s}),je=Mt({inputs:{x:Te},backend:r,attrs:{shape:n.outShape}});ye.push(Te);for(const $e of ye)r.disposeData($e.dataId);return je}function QH({x:t,filter:e,convInfo:n,backend:r,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){const f=i!=null,p=o!=null,m=n.dataFormat==="channelsLast",g=m&&n.filterHeight===n.inHeight&&n.filterWidth===n.inWidth&&n.padInfo.type==="VALID",y=$t().getBool("WEBGPU_USE_NAIVE_CONV2D_DEBUG");if(!y&&(g||n.filterHeight===1&&n.filterWidth===1&&n.dilationHeight===1&&n.dilationWidth===1&&n.strideHeight===1&&n.strideWidth===1&&(n.padInfo.type==="SAME"||n.padInfo.type==="VALID")))return ESe({x:t,filter:e,convInfo:n,backend:r,bias:i,activation:l,preluActivationWeights:o,leakyreluAlpha:s});const x=$t().getNumber("WEBGPU_THRESHOLD_TO_INCREASE_WORKGROUPS_FOR_MATMUL"),S=x>-1?x:r.thresholdToIncreaseWorkgroups,_=n.batchSize*Math.ceil(n.outHeight*n.outWidth/32)*Math.ceil(n.outChannels/32);if($t().getBool("WEBGPU_CONV_SEPARATE_IM2COL_SHADER")||_<=S)return _Se({x:t,filter:e,convInfo:n,backend:r,bias:i,preluActivationWeights:o,leakyreluAlpha:s,activation:l});let k;const R=[n.padInfo.top,n.padInfo.left],O=[{type:"int32",data:[n.filterHeight,n.filterWidth]},{type:"int32",data:[...R]},{type:"int32",data:[n.strideHeight,n.strideWidth]},{type:"int32",data:[n.dilationHeight,n.dilationWidth]}];if(y)k=new SSe(n,f,l,p);else{const K=m?n.outHeight*n.outWidth:n.outChannels,Y=m?n.outChannels:n.outHeight*n.outWidth,te=n.filterHeight*n.filterWidth*n.inChannels;O.push({type:"int32",data:[K]},{type:"int32",data:[Y]},{type:"int32",data:[te]});const fe=r.adapterInfo.isIntel();k=new xSe(n,K,Y,te,f,l,p,fe)}const I=[],P=[t,e];f&&(!m&&i.shape.length===1&&(i=Mt({inputs:{x:i},backend:r,attrs:{shape:[i.shape[0],1,1]}}),I.push(i)),P.push(i)),p&&(!m&&o.shape.length===1&&(o=Mt({inputs:{x:o},backend:r,attrs:{shape:[o.shape[0],1,1]}}),I.push(o)),P.push(o)),l==="leakyrelu"&&(O.push({type:"float32",data:[s]}),k.uniforms+=" alpha : f32,");const F=r.runWebGPUProgram(k,P,t.dtype,O);for(const K of I)r.disposeData(K.dataId);return F}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TSe(t){const{inputs:e,attrs:n,backend:r}=t,{x:i,filter:o}=e,{strides:s,pad:l,dataFormat:f,dilations:p,dimRoundingMode:m}=n,g=Hh(f),y=tu(i.shape,o.shape,s,p,l,m,!1,g);return QH({x:i,filter:o,convInfo:y,backend:r})}const kSe={kernelName:pN,backendName:"webgpu",kernelFunc:TSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NSe{constructor(e){this.variableNames=["dy","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, outBackprop : vec4<i32>,",this.workgroupSize=[64,1,1],this.size=!1,this.isVec4=!1,this.workPerThread=1,this.outputShape=e.inShape,this.isChannelsLast=e.dataFormat==="channelsLast",this.isVec4=this.isChannelsLast&&e.outChannels%4===0&&e.inChannels%4===0,this.isVec4?(this.workPerThread=2,this.outputComponent=4,this.workgroupSize=[4,4,4],this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[4,this.workPerThread,1])):(this.size=!0,this.workPerThread=1,this.workgroupSize=[64,1,1],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize)),this.shaderKey=`conv2DDerInput_${this.isChannelsLast}_${this.isVec4}_${this.workPerThread}`}getUserCode(){const e=this.isChannelsLast?1:2,n=this.isChannelsLast?2:3,r=this.isChannelsLast?3:1,i=`
    ${ft()} {
      let batch = i32(globalId.z) / uniforms.outShape[1];
      let r = i32(globalId.z) % uniforms.outShape[1];
      let c = i32(globalId.y) * ${this.workPerThread};
      let d1 = i32(globalId.x) * 4;

      let dyCorner = vec2<i32>(r, c) - uniforms.pads;

      // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
      // ? = to be determined. : = across all values in that axis.
      var dotProd: array<vec4<f32>, ${this.workPerThread}>;
      for (var i = 0; i < ${this.workPerThread}; i++) {
        dotProd[i] = vec4<f32>(0.0);
      }
      for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + 1) {
        let dyR = f32(dyCorner.x + wR) / f32(uniforms.strides.x);
        let wRPerm = uniforms.filterDims.x - 1 - wR;
        if (dyR < 0.0 || dyR >= f32(uniforms.outBackprop[1]) ||
            fract(dyR) > 0.0) {
          continue;
        }
        let idyR = i32(dyR);

        for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + 1) {
          let dyC = f32(dyCorner.y + wC) / f32(uniforms.strides.y);
          let dyC2 = f32(dyCorner.y + 1 + wC) / f32(uniforms.strides.y);
          let wCPerm = uniforms.filterDims.y - 1 - wC;
          var bDyCVal = true;
          var bDyCVal2 = true;
          if (dyC < 0.0 || dyC >= f32(uniforms.outBackprop[2]) ||
              fract(dyC) > 0.0) {
            bDyCVal = false;
          }
          if (dyC2 < 0.0 || dyC2 >= f32(uniforms.outBackprop[2]) ||
              fract(dyC2) > 0.0) {
            bDyCVal2 = false;
          }

          let idyC = i32(dyC);
          let idyC2 = i32(dyC2);
          if (bDyCVal && bDyCVal2) {
            let d2Length = uniforms.outBackprop[3];
            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {
              let wValue0 = getW(wRPerm, wCPerm, d1, d2);
              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);
              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);
              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);
              var xValue =  getDy(batch, idyR, idyC, d2);
              let tmpval = vec4<f32>(dot(xValue, wValue0),
                                     dot(xValue, wValue1),
                                     dot(xValue, wValue2),
                                     dot(xValue, wValue3));
              dotProd[0] = dotProd[0] + tmpval;
              xValue = getDy(batch, idyR, idyC2, d2);
              dotProd[1] = dotProd[1] + vec4<f32>(dot(xValue, wValue0),
                                                  dot(xValue, wValue1),
                                                  dot(xValue, wValue2),
                                                  dot(xValue, wValue3));
            }
          } else if (bDyCVal) {
            let d2Length = uniforms.outBackprop[3];
            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {
              let wValue0 = getW(wRPerm, wCPerm, d1, d2);
              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);
              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);
              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);
              var xValue =  getDy(batch, idyR, idyC, d2);
              let tmpval = vec4<f32>(dot(xValue, wValue0),
                                     dot(xValue, wValue1),
                                     dot(xValue, wValue2),
                                     dot(xValue, wValue3));
              dotProd[0] = dotProd[0] + tmpval;
            }
          } else if (bDyCVal2) {
            let d2Length = uniforms.outBackprop[3];
            for (var d2 = 0; d2 < d2Length; d2 = d2 + 4) {
              let wValue0 = getW(wRPerm, wCPerm, d1, d2);
              let wValue1 = getW(wRPerm, wCPerm, d1 + 1, d2);
              let wValue2 = getW(wRPerm, wCPerm, d1 + 2, d2);
              let wValue3 = getW(wRPerm, wCPerm, d1 + 3, d2);
              var xValue =  getDy(batch, idyR, idyC2, d2);
              let tmpval = vec4<f32>(dot(xValue, wValue0),
                                     dot(xValue, wValue1),
                                     dot(xValue, wValue2),
                                     dot(xValue, wValue3));
              dotProd[1] = dotProd[1] + tmpval;
            }
          }
        }
      }

      for (var i = 0; i < ${this.workPerThread}; i = i + 1) {
        let coords = vec4<i32>(batch, r, c + i, d1);
        if (coordsInBounds4D(coords, uniforms.outShape)) {
          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], dotProd[i]);
        }
      }
    }
    `;return this.isVec4?`
    ${i}
    `:`
    ${ft("index")} {
      if(index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords[0];
        let d1 = coords[${r}];

        let dyCorner = vec2<i32>(coords[${e}], coords[${n}]) - uniforms.pads;
        let dyRCorner = dyCorner.x;
        let dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        for (var wR = 0; wR < uniforms.filterDims.x; wR = wR + 1) {
          let dyR = (f32(dyRCorner) + f32(wR)) / f32(uniforms.strides.x);
          let wRPerm = uniforms.filterDims.x - 1 - wR;
          if (dyR < 0.0 || dyR >= f32(uniforms.outBackprop[1]) || fract(dyR) > 0.0 ||
              wRPerm < 0) {
            continue;
          }
          let idyR = i32(dyR);

          for (var wC = 0; wC < uniforms.filterDims.y; wC = wC + 1) {
            let dyC = (f32(dyCCorner) + f32(wC)) / f32(uniforms.strides.y);
            let wCPerm = uniforms.filterDims.y - 1 - wC;
            if (dyC < 0.0 || dyC >= f32(uniforms.outBackprop[2]) ||
                fract(dyC) > 0.0 || wCPerm < 0) {
              continue;
            }
            let idyC = i32(dyC);

            for (var d2 = 0; d2 < uniforms.outBackprop[3]; d2 = d2 + 1) {
              let xValue = ${this.isChannelsLast?"getDy(batch, idyR, idyC, d2)":"getDy(batch, d2, idyR, idyC)"};
              let wValue = getW(wRPerm, wCPerm, d1, d2);
              dotProd = dotProd + xValue * wValue;
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
  `}}class RSe{constructor(e){this.variableNames=["x","dy"],this.uniforms="pads : vec2<i32>, strides : vec2<i32>, batchSize : i32, outHeight : i32, outWidth : i32, inHeight : i32, inWidth : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast=e.dataFormat==="channelsLast",this.shaderKey=`conv2DDerFilter_${this.isChannelsLast}`}getUserCode(){return`
    ${ft("index")} {
      if(index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let wR = coords[0];
        let wC = coords[1];
        let d1 = coords[2];
        let d2 = coords[3];

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        for (var b = 0; b < uniforms.batchSize; b = b + 1) {
          for (var yR = 0; yR < uniforms.outHeight; yR = yR + 1) {
            let xR = wR + yR * uniforms.strides[0] - uniforms.pads[0];
            if (xR < 0 || xR >= uniforms.inHeight) {
              continue;
            }

            for (var yC = 0; yC < uniforms.outWidth; yC = yC + 1) {
              let xC = wC + yC * uniforms.strides[1] - uniforms.pads[1];

              if (xC < 0 || xC >= uniforms.inWidth) {
                continue;
              }

              if (${this.isChannelsLast}) {
                let dyValue = getDy(b, yR, yC, d2);
                let xValue = getX(b, xR, xC, d1);
                dotProd = dotProd + xValue * dyValue;
              } else {
                let dyValue = getDy(b, d2, yR, yC);
                let xValue = getX(b, d1, xR, xC);
                dotProd = dotProd + xValue * dyValue;
              }
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
  `}}class ASe{constructor(e){this.variableNames=["x","dy"],this.uniforms=`pads : vec3<i32>, strides : vec3<i32>, batchSize : i32, outDepth : i32,
       outHeight : i32, outWidth : i32, inDepth : i32, inHeight : i32, inWidth : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3DDerFilter"}getUserCode(){return`
    ${ft("index")} {
      if(index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let wF = coords.x;
        let wR = coords.y;
        let wC = coords.z;
        let d1 = coords.w;
        let d2 = coords.u;

        var dotProd = 0.0;
        for (var b = 0; b < uniforms.batchSize; b++) {
          for (var yF = 0; yF < uniforms.outDepth; yF++) {
            let xF = wF + yF * uniforms.strides[0] - uniforms.pads[0];
            if (xF < 0 || xF >= uniforms.inDepth) {
              continue;
            }

            for (var yR = 0; yR < uniforms.outHeight; yR++) {
              let xR = wR + yR * uniforms.strides[1] - uniforms.pads[1];
              if (xR < 0 || xR >= uniforms.inHeight) {
                continue;
              }

              for (var yC = 0; yC < uniforms.outWidth; yC++) {
                let xC = wC + yC * uniforms.strides[2] - uniforms.pads[2];
                if (xC < 0 || xC >= uniforms.inWidth) {
                  continue;
                }

                let dyValue = getDy(b, yF, yR, yC, d2);
                let xValue = getX(b, xF, xR, xC, d1);
                dotProd += xValue * dyValue;
              }
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
  `}}class DSe{constructor(e){this.variableNames=["dy","W"],this.uniforms=`filterDims : vec3<i32>, pads : vec3<i32>, strides : vec3<i32>,
      outDepth : i32, outHeight : i32, outWidth : i32, outChannels : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3DDerInput"}getUserCode(){return`
    ${ft("index")} {
      if(index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords.x;
        let d1 = coords.u;

        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;
        let dyFCorner = dyCorner.x;
        let dyRCorner = dyCorner.y;
        let dyCCorner = dyCorner.z;

        var dotProd = 0.0;
        for (var wF = 0; wF < uniforms.filterDims[0]; wF++) {
          let dyF = f32(dyFCorner + wF) / f32(uniforms.strides[0]);
          if (dyF < 0.0 || dyF >= f32(uniforms.outDepth) || fract(dyF) > 0.0) {
            continue;
          }
          let idyF = i32(dyF);

          let wFPerm = uniforms.filterDims[0] - 1 - wF;

          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {
            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);

            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
              continue;
            }
            let idyR = i32(dyR);

            let wRPerm = uniforms.filterDims[1] - 1 - wR;

            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {
              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);

              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
                continue;
              }
              let idyC = i32(dyC);

              let wCPerm = uniforms.filterDims[2] - 1 - wC;

              for (var d2 = 0; d2 < uniforms.outChannels; d2++) {
                let xValue = getDy(batch, idyF, idyR, idyC, d2);
                let wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
  `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:o}=e,{strides:s,pad:l,dataFormat:f,dimRoundingMode:p,filterShape:m}=r,g=Hh(f),y=tu(i.shape,m,s,1,l,p,!1,g),x=new RSe(y),S=[{type:"int32",data:[y.padInfo.top,y.padInfo.left]},{type:"int32",data:[y.strideHeight,y.strideWidth]},{type:"int32",data:[y.batchSize]},{type:"int32",data:[y.outHeight]},{type:"int32",data:[y.outWidth]},{type:"int32",data:[y.inHeight]},{type:"int32",data:[y.inWidth]}];return n.runWebGPUProgram(x,[i,o],i.dtype,S)}const $Se={kernelName:hN,backendName:"webgpu",kernelFunc:OSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ISe(t=4){const e=o=>{switch(o){case 1:return"return W[getIndexFromCoords4D(coord, uniforms.wShape)];";case 4:return`
            let coord1 = vec4<i32>(coordX, coordY, col + 1, rowInner);
            let coord2 = vec4<i32>(coordX, coordY, col + 2, rowInner);
            let coord3 = vec4<i32>(coordX, coordY, col + 3, rowInner);
            let v0 = W[getIndexFromCoords4D(coord, uniforms.wShape)];
            let v1 = W[getIndexFromCoords4D(coord1, uniforms.wShape)];
            let v2 = W[getIndexFromCoords4D(coord2, uniforms.wShape)];
            let v3 = W[getIndexFromCoords4D(coord3, uniforms.wShape)];
            return vec4<f32>(v0, v1, v2, v3);
            `;default:throw new Error(`innerElementSize ${o} is not supported.`)}},r=`if (row < uniforms.dimAOuter && col < uniforms.dimInner) {
        ${`
      let outRow = row / uniforms.outShape[2];
      let outCol = row % uniforms.outShape[2];

      let WRow = col / (uniforms.filterDims[1] * uniforms.outBackprop[3]);
      let WCol = col / uniforms.outBackprop[3] % uniforms.filterDims[1];
      let xR = f32(outRow - uniforms.pads[0] + WRow) / f32(uniforms.strides[0]);
      let xC = f32(outCol - uniforms.pads[1] + WCol) / f32(uniforms.strides[1]);
      if (xR < 0.0 || xR >= f32(uniforms.outBackprop[1]) || fract(xR) > 0.0) {
        return ${En(t)}(0.0);
      }
      if (xC < 0.0 || xC >= f32(uniforms.outBackprop[2]) || fract(xC) > 0.0) {
        return ${En(t)}(0.0);
      }
      let coord = vec4<i32>(
          batch,
          i32(xR),
          i32(xC),
          col % uniforms.outBackprop[3]);
      return x[getIndexFromCoords4D(coord, uniforms.xShape)/${t}];`}
      }
      return ${En(t)}(0.0);`;return`
  fn mm_readA(batch: i32, row : i32, col : i32) -> ${En(t)} {
    ${r}
  }

  fn mm_readB(batch: i32, row : i32, col : i32) -> ${En(t)} {
    let coordX = uniforms.filterDims.x - 1 -
        row / (uniforms.filterDims[1] * uniforms.outBackprop[3]);
    let coordY = uniforms.filterDims.y - 1 -
        (row / uniforms.outBackprop[3]) % uniforms.filterDims[1];
    if (row < uniforms.dimInner && col < uniforms.dimBOuter &&
        coordX >= 0 && coordY >= 0) {
      let rowInner = row % uniforms.outBackprop[3];
      let coord = vec4<i32>(coordX, coordY, col, rowInner);
      ${e(t)}
    }
    return ${En(t)}(0.0);
  }

  fn mm_write(batch: i32, row : i32, col : i32, valueInput : ${En(t)}) {
    if (row < uniforms.dimAOuter && col < uniforms.dimBOuter) {
      var value = valueInput;
      let outCoord = vec4<i32>(
          batch,
          row / uniforms.outShape[2],
          row % uniforms.outShape[2],
          col);
      result[getIndexFromCoords4D(outCoord, uniforms.outShape)/${t}] = value;
    }
  }`}class PSe{constructor(e){this.variableNames=["x","W"],this.uniforms="filterDims : vec2<i32>, pads : vec2<i32>, strides : vec2<i32>, outBackprop : vec4<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32,",this.outputShape=e.inShape,X(e.dataFormat==="channelsLast",()=>"TODO: NCHW is unimplemented"),this.isVec4=e.inChannels%4===0&&e.outChannels%4===0,this.dispatchLayout={x:[3],y:[1,2],z:[0]},this.workgroupSize=RH(this.dispatchLayout,this.outputShape,this.isVec4),this.elementsPerThread=AH(this.dispatchLayout,this.outputShape,this.isVec4),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,this.elementsPerThread),this.isVec4&&(this.outputComponent=4,this.variableComponents=[4,1]),this.shaderKey=`conv2DDerInputMM_${this.isVec4}_${this.elementsPerThread}`}getUserCode(){const e=this.isVec4?vS(this.elementsPerThread,this.workgroupSize):yS(this.elementsPerThread,this.workgroupSize);return`
    ${ISe(this.isVec4?4:1)}
    ${e}
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MSe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:o}=e,{inputShape:s,strides:l,pad:f,dataFormat:p,dimRoundingMode:m}=r,g=Hh(p),y=tu(s,o.shape,l,1,f,m,!1,g),x=[{type:"int32",data:[y.filterHeight,y.filterWidth]},{type:"int32",data:[y.filterHeight-1-y.padInfo.top,y.filterWidth-1-y.padInfo.left]},{type:"int32",data:[y.strideHeight,y.strideWidth]},{type:"int32",data:[y.batchSize,y.outHeight,y.outWidth,y.outChannels]}];let S;if($t().getBool("WEBGPU_USE_NAIVE_CONV2D_TRANSPOSE")||y.dataFormat!=="channelsLast")S=new NSe(y);else{S=new PSe(y);const _=y.inHeight*y.inWidth,k=y.inChannels,R=y.filterHeight*y.filterWidth*y.outChannels;x.push({type:"uint32",data:[_]},{type:"uint32",data:[k]},{type:"uint32",data:[R]})}return n.runWebGPUProgram(S,[i,o],"float32",x)}const LSe={kernelName:mN,backendName:"webgpu",kernelFunc:MSe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FSe{constructor(e){this.variableNames=["x","W"],this.uniforms="filterDims: vec3<i32>, pads: vec3<i32>, strides: vec3<i32>, dilations: vec3<i32>,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="conv3dnaive"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getOutputCoords();
        let batch = coords.x;
        let d2 = coords.u;

        let xFRCCorner = vec3<i32>(coords.y, coords.z, coords.w) * uniforms.strides - uniforms.pads;
        let xFCorner = xFRCCorner.x;
        let xRCorner = xFRCCorner.y;
        let xCCorner = xFRCCorner.z;

        let inputDepthNearestVec4 = (uniforms.xShape.u / 4) * 4;
        let inputDepthVec4Remainder = uniforms.xShape.u % 4;

        var dotProd = 0.0;
        for (var wF = 0; wF < uniforms.filterDims[0]; wF++) {
          let xF = xFCorner + wF * uniforms.dilations[0];
          if (xF < 0 || xF >= uniforms.xShape.y) {
            continue;
          }

          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {
            let xR = xRCorner + wR * uniforms.dilations[1];
            if (xR < 0 || xR >= uniforms.xShape.z) {
              continue;
            }

            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {
              let xC = xCCorner + wC * uniforms.dilations[2];
              if (xC < 0 || xC >= uniforms.xShape.w) {
                continue;
              }

              for (var d1 = 0; d1 < inputDepthNearestVec4; d1 += 4) {
                let xValues = vec4<f32>(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                let wValues = vec4<f32>(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (inputDepthVec4Remainder == 1) {
                dotProd += getX(batch, xF, xR, xC, inputDepthNearestVec4) *
                  getW(wF, wR, wC, inputDepthNearestVec4, d2);
              } else if (inputDepthVec4Remainder == 2) {
                let xValues = vec2<f32>(
                  getX(batch, xF, xR, xC, inputDepthNearestVec4),
                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1)
                );
                let wValues = vec2<f32>(
                  getW(wF, wR, wC, inputDepthNearestVec4, d2),
                  getW(wF, wR, wC, inputDepthNearestVec4 + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (inputDepthVec4Remainder == 3) {
                let xValues = vec3<f32>(
                  getX(batch, xF, xR, xC, inputDepthNearestVec4),
                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),
                  getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2)
                );
                let wValues = vec3<f32>(
                  getW(wF, wR, wC, inputDepthNearestVec4, d2),
                  getW(wF, wR, wC, inputDepthNearestVec4 + 1, d2),
                  getW(wF, wR, wC, inputDepthNearestVec4 + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }`}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o}=e,{strides:s,pad:l,dilations:f}=r,p=m1(i.shape,o.shape,s,f,l),m=[p.padInfo.front,p.padInfo.top,p.padInfo.left],g=[{type:"int32",data:[p.filterDepth,p.filterHeight,p.filterWidth]},{type:"int32",data:[...m]},{type:"int32",data:[p.strideDepth,p.strideHeight,p.strideWidth]},{type:"int32",data:[p.dilationDepth,p.dilationHeight,p.dilationWidth]}],y=new FSe(p),x=Ec(i.dtype,o.dtype);return n.runWebGPUProgram(y,[i,o],x,g)}const jSe={kernelName:gN,backendName:"webgpu",kernelFunc:VSe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:o}=e,{strides:s,pad:l,filterShape:f}=r,p=m1(i.shape,f,s,1,l),m=new ASe(p),g=[{type:"int32",data:[p.padInfo.front,p.padInfo.top,p.padInfo.left]},{type:"int32",data:[p.strideDepth,p.strideHeight,p.strideWidth]},{type:"int32",data:[p.batchSize]},{type:"int32",data:[p.outDepth]},{type:"int32",data:[p.outHeight]},{type:"int32",data:[p.outWidth]},{type:"int32",data:[p.inDepth]},{type:"int32",data:[p.inHeight]},{type:"int32",data:[p.inWidth]}];return n.runWebGPUProgram(m,[i,o],o.dtype,g)}const BSe={kernelName:A5,backendName:"webgpu",kernelFunc:zSe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function USe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:o}=e,{strides:s,pad:l,inputShape:f}=r,p=m1(f,o.shape,s,1,l),m=new DSe(p),g=[{type:"int32",data:[p.filterDepth,p.filterHeight,p.filterWidth]},{type:"int32",data:[p.filterDepth-1-p.padInfo.front,p.filterHeight-1-p.padInfo.top,p.filterWidth-1-p.padInfo.left]},{type:"int32",data:[p.strideDepth,p.strideHeight,p.strideWidth]},{type:"int32",data:[p.outDepth]},{type:"int32",data:[p.outHeight]},{type:"int32",data:[p.outWidth]},{type:"int32",data:[p.outChannels]}];return n.runWebGPUProgram(m,[i,o],i.dtype,g)}const HSe={kernelName:vN,backendName:"webgpu",kernelFunc:USe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WSe=Bn({opType:ct.COS}),GSe={kernelName:yN,backendName:"webgpu",kernelFunc:WSe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KSe=Bn({opType:ct.COSH}),qSe={kernelName:bN,backendName:"webgpu",kernelFunc:KSe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YSe{constructor(e,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.uniforms="extrapolationValue : f32,",this.workgroupSize=[64,1,1],this.size=!0;const[o]=n;this.outputShape=[o,r[0],r[1],e],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.methodId=i==="bilinear"?1:0,this.cropHeightBiggerThan1=this.outputShape[1]>1,this.cropWidthBiggerThan1=this.outputShape[2]>1,this.shaderKey=`cropAndResize_${this.methodId}_${this.cropHeightBiggerThan1}_${this.cropWidthBiggerThan1}`}getUserCode(){const[e,n]=["f32(uniforms.imageShape[1] - 1)","f32(uniforms.imageShape[2] - 1)"],[r,i,o]=this.cropHeightBiggerThan1?[`(${e} / f32(uniforms.outShape[1] - 1))`,"(y2-y1) * height_ratio",`y1*${e} + f32(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${e}`],[s,l,f]=this.cropWidthBiggerThan1?[`(${n} / f32(uniforms.outShape[2] - 1))`,"(x2-x1) * width_ratio",`x1*${n} + f32(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${n}`];return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let height_ratio = f32(${r});
        let width_ratio = f32(${s});
        let b = coords[0];
        let y = coords[1];
        let x = coords[2];
        let d = coords[3];
        // get box vals
        let y1 = getBoxes(b, 0);
        let x1 = getBoxes(b, 1);
        let y2 = getBoxes(b, 2);
        let x2 = getBoxes(b, 3);
        // get image in batch index
        let bInd = i32(round(getBoxInd(b)));
        if(bInd < 0 || bInd >= uniforms.outShape[0]) {
          return;
        }
        let height_scale = ${i};
        let width_scale = ${l};
        let in_y = ${o};
        if( in_y < 0.0 || in_y > ${e} ) {
          setOutputAtIndex(index, uniforms.extrapolationValue);
          return;
        }
        let in_x = ${f};
        if( in_x < 0.0 || in_x > ${n} ) {
          setOutputAtIndex(index, uniforms.extrapolationValue);
          return;
        }
        let sourceFracIndexCR = vec2<f32>(in_x,in_y);
        if(${this.methodId} == 1) {
          // Compute the four integer indices.
          let sourceFloorCR = vec2<i32>(sourceFracIndexCR);
          let sourceCeilCR = vec2<i32>(ceil(sourceFracIndexCR));
          let topLeft = getImage(bInd, sourceFloorCR.y, sourceFloorCR.x, d);
          let bottomLeft = getImage(bInd, sourceCeilCR.y, sourceFloorCR.x, d);
          let topRight = getImage(bInd, sourceFloorCR.y, sourceCeilCR.x, d);
          let bottomRight = getImage(bInd, sourceCeilCR.y, sourceCeilCR.x, d);
          let fracCR = sourceFracIndexCR - vec2<f32>(sourceFloorCR);
          let top = topLeft + (topRight - topLeft) * fracCR.x;
          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          let newValue = top + (bottom - top) * fracCR.y;
          setOutputAtIndex(index, newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          let sourceNearestCR = vec2<i32>(floor(
            sourceFracIndexCR + vec2<f32>(0.5,0.5)));
          let newValue = getImage(
            bInd, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutputAtIndex(index, newValue);
        }
      }
    }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZSe={kernelName:SN,backendName:"webgpu",kernelFunc:t=>{const{inputs:e,backend:n,attrs:r}=t,{image:i,boxes:o,boxInd:s}=e,{cropSize:l,method:f,extrapolationValue:p}=r,m=new YSe(i.shape[3],o.shape,l,f),g=[{type:"float32",data:[p]}];return n.runWebGPUProgram(m,[i,o,s],"float32",g)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var V1;(function(t){t.Prod="*",t.Sum="+"})(V1||(V1={}));class JH{constructor(e,n,r,i){this.variableNames=["x"],this.uniforms="index : f32,",this.size=!0,this.workgroupSize=[128,1,1],this.outputShape=n,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.exclusive=r,this.reverse=i,this.op=e,this.shaderKey=`cum_${this.op}_${this.exclusive}_${this.reverse}`}getUserCode(){const e=this.outputShape.length,n=this.op===V1.Prod?"1.0":"0.0",r=this.exclusive?n:`getX(${eW(e,"coords",this.op)})`,i=this.outputShape[this.outputShape.length-1];let o="",s="";return this.exclusive?(o=this.reverse?`end != ${i-1}`:"end != 0",s=this.reverse?"end + 1":"end - 1"):(o=this.reverse?`end + pow2 < ${i}`:"end >= pow2",s=this.reverse?"end + pow2":"end - pow2"),`
      ${ft("index")} {
       if (index < uniforms.size) {
         var coords = getCoordsFromIndex(index);

         let end = ${tW(e,"coords",this.op)};
         var val = ${r};
         let pow2 = i32(pow(2.0, uniforms.index));
         if (${o}) {
           let idx = ${s};
           ${tW(e,"coords",this.op)} = idx;
           val ${this.op}= getX(${eW(e,"coords",this.op)});
         }
         setOutputAtIndex(index, val);
       }
      }
    `}}function eW(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function tW(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nW(t,e,n,r,i,o){const s=e.shape.length,l=a0([r],s);let f=e;l!=null&&(f=Dc({inputs:{x:e},backend:n,attrs:{perm:l}}));const p=o0(1,s)[0];if(p!==s-1)throw new Error(`WebGPU cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const m=f.shape[p];let g=hs({inputs:{x:f},backend:n});for(let y=0;y<=Math.ceil(Math.log2(m))-1;y++){const x=new JH(t,f.shape,!1,o),S=g,_=[{type:"float32",data:[y]}];g=n.runWebGPUProgram(x,[g],g.dtype,_),n.disposeData(S.dataId)}if(i){const y=new JH(t,f.shape,i,o),x=g,S=[{type:"float32",data:[0]}];g=n.runWebGPUProgram(y,[g],g.dtype,S),n.disposeData(x.dataId)}if(l!=null){const y=i4(l),x=Dc({inputs:{x:g},backend:n,attrs:{perm:y}});return n.disposeData(g.dataId),n.disposeData(f.dataId),x}return g}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o,exclusive:s,reverse:l}=r;return nW(V1.Prod,i,n,o,s,l)}const QSe={kernelName:wN,backendName:"webgpu",kernelFunc:XSe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JSe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o,exclusive:s,reverse:l}=r;return nW(V1.Sum,i,n,o,s,l)}const eCe={kernelName:xN,backendName:"webgpu",kernelFunc:JSe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,weights:o}=e,{size:s,binaryOutput:l}=r,f=i.shape.length===1,m=lt(o.shape)>0,g=o.dtype,y=f?[i.shape[0]]:[i.shape[0],i.shape[1]],x=f?[s]:[i.shape[0],s],S=Lo({backend:n,attrs:{shape:x,value:0,dtype:g}}),_=new qH(y,m,l),k=[{type:"int32",data:[s]}],R=m?[i,o]:[i];return n.runWebGPUProgram(_,R,g,k,S)}const nCe={kernelName:CN,backendName:"webgpu",kernelFunc:tCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rCe{constructor(e,n){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.uniforms="blockSize : i32,",this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`depthToSpace_${n}`,this.dataFormat=n}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let b = coords[0];
          let h = ${this.getHeightCoordString()};
          let w = ${this.getWidthCoordString()};
          let d = ${this.getDepthCoordString()};

          let in_h = h / uniforms.blockSize;
          let offset_h = h % uniforms.blockSize;
          let in_w = w / uniforms.blockSize;
          let offset_w = w % uniforms.blockSize;
          let offset_d = (offset_h * uniforms.blockSize + offset_w) *
            ${this.getOutputDepthSize()};
          let in_d = d + offset_d;

          let rlt = ${this.getInputSamplingString()};
          setOutputAtIndex(index, rlt);
        }
      }`}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?"uniforms.outShape[3]":"uniforms.outShape[1]"}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockSize:o,dataFormat:s}=r,l=i.shape[0],f=s==="NHWC"?i.shape[1]:i.shape[2],p=s==="NHWC"?i.shape[2]:i.shape[3],m=s==="NHWC"?i.shape[3]:i.shape[1],g=f*o,y=p*o,x=m/(o*o),S=s==="NHWC"?[l,g,y,x]:[l,x,g,y],_=[{type:"int32",data:[o]}],k=new rCe(S,s);return n.runWebGPUProgram(k,[i],i.dtype,_)}const aCe={kernelName:EN,backendName:"webgpu",kernelFunc:iCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oCe{constructor(e,n,r,i=!1,o=null,s=!1){this.variableNames=["x","W"],this.uniforms="pads : vec2<i32>, inDims : vec2<i32>,",this.workgroupSize=[16,16,1],this.outputShape=e,this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),i&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),this.addBias=i,this.activation=o,this.hasPreluActivation=s,this.filterHeight=n,this.filterWidth=r,this.shaderKey=`depthwiseNCHW_${this.activation}_${this.filterHeight}_${this.filterWidth}`}getUserCode(){const e=this.filterWidth*this.filterHeight,n=this.workgroupSize[0]*this.workgroupSize[1]*this.workgroupSize[2],r=this.workgroupSize[1]+this.filterHeight-1,i=this.workgroupSize[0]+this.filterWidth-1;return`
      ${Df(this.activation,this.hasPreluActivation,!1,4)}

      var<workgroup> mm_Asub : array<array<f32, ${i}>, ${r}>;
      var<workgroup> mm_Bsub : array<array<f32, ${this.filterWidth}>, ${this.filterHeight}>;
      fn readX(batch : i32, channel : i32, row : i32, col : i32) -> f32 {
        var value = 0.0;
        if (row >=0 && row < uniforms.inDims[0] && col >=0 && col < uniforms.inDims[1])
        {
          value = getX(batch, channel, row, col);
        }
        return value;
      }

      ${ft()} {
        let coords = getOutputCoords();
        let batch = coords[0];
        let xRCCorner = vec2<i32>(coords.zw) - uniforms.pads;
        let channelMul = uniforms.wShape[3];
        let d1 = coords[1] / channelMul;
        let q = coords[1] % channelMul;

        let inputRowStart = xRCCorner.x;
        let inputColStart = xRCCorner.y;

        let localRow = i32(localId.y);
        let localCol = i32(localId.x);

        // Load one tile of X into local memory.
        for (var inputRow = localRow; inputRow < ${r}; inputRow = inputRow + ${this.workgroupSize[1]}) {
          for (var inputCol = localCol; inputCol < ${i}; inputCol = inputCol + ${this.workgroupSize[0]}) {
            let rowOffset = inputRow - localRow;
            let colOffset = inputCol - localCol;
            mm_Asub[inputRow][inputCol] = readX(batch, d1, inputRowStart + rowOffset, inputColStart + colOffset);
          }
        }

        // Load one tile of W into local memory.
        var wIndex = i32(localIndex);
        ${e<n?`if (wIndex < ${e})`:`for(; wIndex < ${e}; wIndex = wIndex + ${n})`}

        {
          let wRow = wIndex / ${this.filterWidth};
          let wCol = wIndex % ${this.filterWidth};
          mm_Bsub[wRow][wCol] = getW(wRow, wCol, d1, q);
        }

        workgroupBarrier();

        var value = 0.0;
        for (var wR = 0; wR < ${this.filterHeight}; wR = wR + 1) {
          for (var wC = 0; wC < ${this.filterWidth}; wC = wC + 1) {
            let xVal = mm_Asub[localRow + wR][localCol + wC];
            let wVal = mm_Bsub[wR][wC];
            value = fma(xVal, wVal, value);
          }
        }
        ${nm(this.addBias,this.activation)}
        if (coordsInBounds4D(coords, uniforms.outShape)) {
          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rW{constructor(e,n=!1,r=null,i=!1){this.variableNames=["x","W"],this.uniforms="pads : vec2<i32>, inDims : vec2<i32>, virtualWidth : i32,",this.workgroupSize=[64,1,1],this.workPerThread=4,this.outputComponent=4,this.outputShape=e.outShape,this.virtualWidth=Math.ceil(this.outputShape[2]/this.workPerThread)*this.workPerThread;const o=[this.outputShape[0],this.outputShape[1],this.virtualWidth,this.outputShape[3]];this.dispatchLayout=Ct(o),this.dispatch=pt(this.dispatchLayout,o,this.workgroupSize,[this.outputComponent*this.workPerThread,1,1]),X(e.dataFormat==="channelsLast",()=>"TODO: NCHW is unimplemented"),n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.convInfo=e,this.addBias=n,this.activation=r,this.hasPreluActivation=i,this.shaderKey=`depthwiseVec4_${r}_${this.convInfo.filterHeight}_${this.convInfo.filterWidth}_${this.convInfo.strideHeight}_${this.convInfo.strideWidth}_${this.workPerThread}`}getUserCode(){const e=(this.workPerThread-1)*this.convInfo.strideWidth+this.convInfo.filterWidth,n=this.convInfo.strideHeight,r=this.convInfo.strideWidth;return`
      ${Df(this.activation,this.hasPreluActivation,!0,4)}
      fn readX(batch : i32, row : i32, col : i32, channel : i32) -> vec4<f32> {
        var value = vec4<f32>(0.0);
        if (col >=0 && col < uniforms.inDims[1]) {
          value = getX(batch, row, col, channel);
        }
        return value;
      }

      ${ft("index")} {
        let width0 = uniforms.outShape[3] / ${this.outputComponent};
        let d1 = (index % width0) * ${this.outputComponent};
        var index1 = index / width0;
        let width1 = uniforms.virtualWidth / ${this.workPerThread};
        let c = (index1 % width1) * ${this.workPerThread};
        index1 = index1 / width1;
        let r = index1 % uniforms.outShape[1];
        let batch = index1 / uniforms.outShape[1];

        let xRCCorner = vec2<i32>(r, c) * vec2<i32>(${n}, ${r}) - uniforms.pads;

        let xRCorner = xRCCorner.x;
        let xCCorner = xRCCorner.y;
        var xVals : array<vec4<f32>, ${e}>;
        var dotProd : array<vec4<f32>, ${this.workPerThread}>;
        for (var i = 0; i < ${this.workPerThread}; i++) {
          dotProd[i] = vec4<f32>(0.0);
        }

        // Use constant instead of uniform can give better performance.
        for (var wR = 0; wR < ${this.convInfo.filterHeight}; wR = wR + 1) {
          let xR = xRCorner + wR;
          if (xR >=0 && xR < uniforms.inDims[0]) {
            for (var i = 0; i < ${e}; i++) {
              xVals[i] = readX(batch, xR, xCCorner + i, d1);
            }
            for (var wC = 0; wC < ${this.convInfo.filterWidth}; wC = wC + 1) {
              let wValue = getW(wR, wC, d1, 0);
              for (var i = 0; i < ${this.workPerThread}; i++) {
                dotProd[i] = fma(xVals[i * ${r} + wC], wValue, dotProd[i]);
              }
            }
          }
        }

        for (var i = 0; i < ${this.workPerThread}; i = i + 1) {
          let coords = vec4<i32>(batch, r, c + i, d1);
          if (coordsInBounds4D(coords, uniforms.outShape)) {
            var value = dotProd[i];
            ${nm(this.addBias,this.activation)}
            setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
          }
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iW{constructor(e,n=!1,r=null,i=!1){this.variableNames=["x","W"],this.uniforms=`pads : vec2<i32>, inDims : vec2<i32>, filterHeight : i32,
      filterWidth : i32, strides : vec2<i32>, dilations : vec2<i32>,`,this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.isChannelsLast=e.dataFormat==="channelsLast",n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.convInfo=e,this.addBias=n,this.activation=r,this.hasPreluActivation=i,this.shaderKey=`depthwise_${this.activation}_${this.isChannelsLast}`}getUserCode(){const e=this.isChannelsLast?"getX(batch, xR, xC, d1);":"getX(batch, d1, xR, xC);";return`
      ${Df(this.activation,this.hasPreluActivation,!1,4)}

      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getOutputCoords();
          let batch = coords[0];
          let xRCCorner = vec2<i32>(coords.${this.isChannelsLast?"yz":"zw"}) * uniforms.strides - uniforms.pads;
          let d2 = coords[${this.isChannelsLast?3:1}];
          let channelMul = uniforms.wShape[3];
          let d1 = d2 / channelMul;
          let q = d2 % channelMul;

          let inputRowStart = xRCCorner.x;
          let inputColStart = xRCCorner.y;
          let inputRowEnd = inputRowStart + uniforms.filterHeight *
              uniforms.dilations[0];
          let inputColEnd = inputColStart + uniforms.filterWidth *
              uniforms.dilations[1];

          // Convolve x(?, ?, d1)|x(d1, ?, ?) with w(:, :, d1, q) to get
          // y(yR, yC, d2)|y(d2, yR, yC). ? = to be determined. : = across all
          // values in that axis. x(?, ?, d1) and y(yR, yC, d2) is for NHWC.
          // x(d1, ?, ?) and y(d2, yR, yC) is for NCHW.
          var value = 0.0;

          // Extract if checking out of for loop for performance.
          if (inputRowStart >= 0 && inputColStart >= 0 &&
            inputRowEnd < uniforms.inDims[0] &&
                inputColEnd < uniforms.inDims[1]) {
              for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {
                let xR = inputRowStart + wR * uniforms.dilations[0];

                for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {
                  let xC = inputColStart + wC * uniforms.dilations[1];

                  let xVal = ${e};
                  let wVal = getW(wR, wC, d1, q);
                  value = value + xVal * wVal;
                }
              }
            } else {
              for (var wR = 0; wR < uniforms.filterHeight; wR = wR + 1) {
                let xR = inputRowStart + wR * uniforms.dilations[0];

                if (xR < 0 || xR >= uniforms.inDims[0]) {
                  continue;
                }

                for (var wC = 0; wC < uniforms.filterWidth; wC = wC + 1) {
                  let xC = inputColStart + wC * uniforms.dilations[1];

                  if (xC < 0 || xC >= uniforms.inDims[1]) {
                    continue;
                  }

                  let xVal = ${e};
                  let wVal = getW(wR, wC, d1, q);
                  value = value + xVal * wVal;
                }
              }
            }
            ${nm(this.addBias,this.activation)}
          setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o}=e,{strides:s,pad:l,dataFormat:f,dilations:p,dimRoundingMode:m}=r,g=Hh(f);let y=p;y==null&&(y=[1,1]);const x=tu(i.shape,o.shape,s,y,l,m,!0,g),S=[{type:"int32",data:[x.padInfo.top,x.padInfo.left]},{type:"int32",data:[x.inHeight,x.inWidth]}],_=x.dataFormat==="channelsLast";let k;return!_&&x.inHeight>16&&x.inWidth>16&&x.strideHeight===1&&x.strideWidth===1&&x.dilationWidth===1&&x.dilationHeight===1&&x.inChannels===x.outChannels?k=new oCe(x.outShape,x.filterHeight,x.filterWidth):_&&x.outHeight>4&&x.outWidth>4&&x.strideWidth<=2&&x.inChannels===x.outChannels&&x.dilationHeight===1&&x.dilationWidth===1&&x.inChannels%4===0?(k=new rW(x),S.push({type:"int32",data:[k.virtualWidth]})):(k=new iW(x),S.push({type:"int32",data:[x.filterHeight]},{type:"int32",data:[x.filterWidth]},{type:"int32",data:[x.strideHeight,x.strideWidth]},{type:"int32",data:[x.dilationHeight,x.dilationWidth]})),n.runWebGPUProgram(k,[i,o],i.dtype,S)}const uCe={kernelName:_N,backendName:"webgpu",kernelFunc:sCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lCe{constructor(e){this.variableNames=["x","dy"],this.uniforms=`strides : vec2<i32>, pads : vec2<i32>, filterDims : vec2<i32>, outHeight : i32,
      outWidth : i32, inHeight : i32, inWidth : i32, batchSize : i32, channelMul : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.filterShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="depthwise_conv2d_backprop_filter"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let wR = coords[0];
        let wC = coords[1];
        let d1 = coords[2];
        let dm = coords[3];
        let d2 = d1 * uniforms.channelMul + dm;

        var dotProd = 0.0;
        for (var b = 0; b < uniforms.batchSize; b++) {
          for (var yR = 0; yR < uniforms.outHeight; yR++) {
            let xR = wR + yR * uniforms.strides[0] - uniforms.pads[0];

            if (xR < 0 || xR >= uniforms.inHeight) {
              continue;
            }

            for (var yC = 0; yC < uniforms.outWidth; yC++) {
              let xC = wC + yC * uniforms.strides[1] - uniforms.pads[1];

              if (xC < 0 || xC >= uniforms.inWidth) {
                continue;
              }

              let dyValue = getDy(b, yR, yC, d2);
              let xValue = getX(b, xR, xC, d1);
              dotProd += xValue * dyValue;
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
    `}}class cCe{constructor(e){this.variableNames=["dy","W"],this.uniforms=`strides : vec2<i32>, pads : vec2<i32>, filterDims : vec2<i32>,
       outHeight : i32, outWidth : i32, channelMul : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="depthwise_conv2d_backprop_input"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords[0];
        let d1 = coords[3];
        let dyCorner = coords.yz - uniforms.pads;
        let dyRCorner = dyCorner.x;
        let dyCCorner = dyCorner.y;

        var dotProd = 0.0;
        for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {
          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);

          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
            continue;
          }

          let idyR = i32(dyR);
          let wRPerm = uniforms.filterDims[0] - 1 - wR;

          for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {
            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);

            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
              continue;
            }

            let idyC = i32(dyC);
            let wCPerm = uniforms.filterDims[1] - 1 - wC;

            for (var dm = 0; dm < uniforms.channelMul; dm++) {
              let d2 = d1 * uniforms.channelMul + dm;
              let xValue = getDy(batch, idyR, idyC, d2);
              let wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,dy:o}=e,{strides:s,dilations:l,pad:f,dimRoundingMode:p,filterShape:m}=r,g=tu(i.shape,m,s,l,f,p,!0),y=new lCe(g),x=[{type:"int32",data:[g.strideHeight,g.strideWidth]},{type:"int32",data:[g.padInfo.top,g.padInfo.left]},{type:"int32",data:[g.filterHeight,g.filterWidth]},{type:"int32",data:[g.outHeight]},{type:"int32",data:[g.outWidth]},{type:"int32",data:[g.inHeight]},{type:"int32",data:[g.inWidth]},{type:"int32",data:[g.batchSize]},{type:"int32",data:[g.outChannels/g.inChannels]}];return n.runWebGPUProgram(y,[i,o],"float32",x)}const dCe={kernelName:TN,backendName:"webgpu",kernelFunc:fCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pCe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,filter:o}=e,{strides:s,dilations:l,pad:f,dimRoundingMode:p,inputShape:m}=r,g=tu(m,o.shape,s,l,f,p,!0),y=new cCe(g),x=[{type:"int32",data:[g.strideHeight,g.strideWidth]},{type:"int32",data:[g.filterHeight-1-g.padInfo.top,g.filterWidth-1-g.padInfo.left]},{type:"int32",data:[g.filterHeight,g.filterWidth]},{type:"int32",data:[g.outHeight]},{type:"int32",data:[g.outWidth]},{type:"int32",data:[g.outChannels/g.inChannels]}];return n.runWebGPUProgram(y,[i,o],i.dtype,x)}const hCe={kernelName:kN,backendName:"webgpu",kernelFunc:pCe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mCe{constructor(e){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,e],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="diag"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getOutputCoords();
          let value = select(0.0, getX(coords[0]), coords[0] == coords[1]);
          setOutputAtIndex(index, value);
        }
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gCe(t){const{inputs:e,backend:n}=t,{x:r}=e,i=[...r.shape,...r.shape],o=lt(r.shape),s=Mt({inputs:{x:r},backend:n,attrs:{shape:[o]}}),l=new mCe(o),f=n.runWebGPUProgram(l,[s],s.dtype),p=Mt({inputs:{x:f},backend:n,attrs:{shape:i}});return n.disposeData(s.dataId),n.disposeData(f.dataId),p}const vCe={kernelName:NN,backendName:"webgpu",kernelFunc:gCe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yCe{constructor(e){this.variableNames=["x","w"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.outShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="dilation2d"}getUserCode(){return`
       ${ft("index")} {
         if (index < uniforms.size) {
           let neg_infinity = -3.4e38;
           let coords = getOutputCoords();
           let batch = coords.x;
           let d1 = coords.w;
           let outTopLeftCorner = coords.yz * uniforms.strides - uniforms.pads;
           let hBeg = outTopLeftCorner.x;
           let wBeg = outTopLeftCorner.y;

           var curVal = neg_infinity;
           for (var h = 0; h < uniforms.filterDims[0]; h = h + 1) {
             let hIn = hBeg + h * uniforms.dilations[0];

             if (hIn >= 0 && hIn < uniforms.xShape[1]) {
               for (var w = 0; w < uniforms.filterDims[1]; w = w + 1) {
                 let wIn = wBeg + w * uniforms.dilations[1];

                 if (wIn >= 0 && wIn < uniforms.xShape[2]) {
                   let val = getX(batch, hIn, wIn, d1) + getW(h, w, d1);
                   if (val > curVal) {
                     curVal = val;
                   }
                 }
               }
             }
           }

           setOutputAtIndex(index, curVal);
         }
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o}=e,{strides:s,pad:l,dilations:f}=r,p=qx(i.shape,o.shape,s,l,"NHWC",f),m=[p.padInfo.top,p.padInfo.left],g=[{type:"int32",data:[p.filterHeight,p.filterWidth]},{type:"int32",data:[...m]},{type:"int32",data:[p.strideHeight,p.strideWidth]},{type:"int32",data:[p.dilationHeight,p.dilationWidth]}],y=new yCe(p);return n.runWebGPUProgram(y,[i,o],i.dtype,g)}const wCe={kernelName:RN,backendName:"webgpu",kernelFunc:bCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xCe{constructor(e,n){if(this.variableNames=["x","w","dy"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>, dySize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(e.outShape),this.dispatch=pt(this.dispatchLayout,e.outShape,this.workgroupSize),n!=="float32"&&n!=="int32")throw new Error(`Dilation2DBackpropInput only supports float32 and int32
          types, does not support ${n} type.`);this.type=n,this.shaderKey="dilation2DBackpropInput"}getUserCode(){return`
       ${ft("index")} {
         if (index < uniforms.dySize) {
           let coords = getDyCoordsFromIndex(index);
           let b = coords[0];
           let r = coords[1];
           let c = coords[2];
           let d = coords[3];

           let dyCorner = vec2<i32>(r, c) * uniforms.strides - uniforms.pads;
           var curVal = -3.4e38;  // neg_infinity
           var xRMax = 0;
           var xCMax = 0;

           // In the case of multiple argmax branches, we only back-propagate
           // along the last branch, i.e., the one with largest value of
           // 'wR * uniforms.filterDims[1] + wC', similarly to the max-pooling
           // backward routines.
           for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {
             let xR = dyCorner.x + wR * uniforms.dilations[0];

             if (xR >= 0 && xR < uniforms.xShape[1]) {
               for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {
                 let xC = dyCorner.y + wC * uniforms.dilations[1];

                 if (xC >= 0 && xC < uniforms.xShape[2]) {
                   let val = getX(b, xR, xC, d) + getW(wR, wC, d);
                   if (val > curVal) {
                     curVal = val;
                     xRMax = xR;
                     xCMax = xC;
                   }
                 }
               }
             }
           }

           let flatIndexIn = d + uniforms.xShape[3] *
               (xCMax + uniforms.xShape[2] * (xRMax + uniforms.xShape[1] * b));
           let value = getDy(b, r, c, d);
           ${up("&result[flatIndexIn]","value",this.type)}
         }
       }
     `}}class SCe{constructor(e,n,r){if(this.variableNames=["x","w","dy"],this.uniforms="filterDims: vec2<i32>, pads: vec2<i32>, strides: vec2<i32>, dilations: vec2<i32>, dySize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e.filterShape,this.dispatchLayout=Ct(e.outShape),this.dispatch=pt(this.dispatchLayout,e.outShape,this.workgroupSize),r!=="float32"&&r!=="int32")throw new Error(`Dilation2DBackpropFilter only supports float32 and int32
          types, does not support ${r} type.`);this.type=r,this.shaderKey="dilation2DBackpropFilter"}getUserCode(){return`
       ${ft("index")} {
         if (index < uniforms.dySize) {
           let coords = getDyCoordsFromIndex(index);
           let b = coords[0];
           let r = coords[1];
           let c = coords[2];
           let d = coords[3];

           let dyCorner = vec2<i32>(r, c) * uniforms.strides - uniforms.pads;
           var curVal = -3.4e38;  // neg_infinity
           var wRMax = 0;
           var wCMax = 0;

           // In the case of multiple argmax branches, we only back-propagate
           // along the last branch, i.e., the one with largest value of
           // 'wR * uniforms.filterDims[1] + wC', similarly to the max-pooling
           // backward routines.
           for (var wR = 0; wR < uniforms.filterDims[0]; wR++) {
             let xR = dyCorner.x + wR * uniforms.dilations[0];

             if (xR >= 0 && xR < uniforms.xShape[1]) {
               for (var wC = 0; wC < uniforms.filterDims[1]; wC++) {
                 let xC = dyCorner.y + wC * uniforms.dilations[1];

                 if (xC >= 0 && xC < uniforms.xShape[2]) {
                   let val = getX(b, xR, xC, d) + getW(wR, wC, d);
                   if (val > curVal) {
                     curVal = val;
                     wRMax = wR;
                     wCMax = wC;
                   }
                 }
               }
             }
           }

           let flatIndexIn = d + uniforms.wShape[2] * (wCMax + wRMax * uniforms.wShape[1]);
           let value = getDy(b, r, c, d);
           ${up("&result[flatIndexIn]","value",this.type)}
         }
       }
     `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o,dy:s}=e,{strides:l,pad:f,dilations:p}=r,m=qx(i.shape,o.shape,l,f,"NHWC",p),g=o.dtype,y=new SCe(m,o.shape,g),x=[{type:"int32",data:[m.filterHeight,m.filterWidth]},{type:"int32",data:[m.padInfo.top,m.padInfo.left]},{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]},{type:"int32",data:[lt(m.outShape)]}],S=Lo({backend:n,attrs:{shape:o.shape,value:0,dtype:g}});return n.runWebGPUProgram(y,[i,o,s],g,x,S)}const ECe={kernelName:O5,backendName:"webgpu",kernelFunc:CCe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ce(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o,dy:s}=e,{strides:l,pad:f,dilations:p}=r,m=qx(i.shape,o.shape,l,f,"NHWC",p),g=i.dtype,y=new xCe(m,g),x=[{type:"int32",data:[m.filterHeight,m.filterWidth]},{type:"int32",data:[m.padInfo.top,m.padInfo.left]},{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]},{type:"int32",data:[lt(m.outShape)]}],S=Lo({backend:n,attrs:{shape:m.inShape,value:0,dtype:g}});return n.runWebGPUProgram(y,[i,o,s],g,x,S)}const TCe={kernelName:D5,backendName:"webgpu",kernelFunc:_Ce};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kCe{constructor(e,n,r){this.variableNames=["Image"],this.uniforms="alpha: f32,",this.workgroupSize=[64,1,1],this.pixelsOpType=m0.DRAW,this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.type=n,this.textureFormat=r,this.shaderKey=`draw_${n}_${r}`}getUserCode(){let e;const n=this.type==="float32"?"value":"value / 255.0";return e=`
      if (uniforms.numChannels == 1) {
        rgba[0] = ${n};
        rgba[1] = ${n};
        rgba[2] = ${n};
      } else {
        rgba[d] = ${n};
      }`,`
       @group(0) @binding(0) var outImage : texture_storage_2d<${this.textureFormat}, write>;
       ${ft("index")} {
         if (index < uniforms.size) {
           var rgba = vec4<f32>(0.0, 0.0, 0.0, uniforms.alpha);
           for (var d = 0; d < uniforms.numChannels; d = d + 1) {
             let value = f32(inBuf[index * uniforms.numChannels + d]);
             ${e}
           }
           rgba.x = rgba.x * rgba.w;
           rgba.y = rgba.y * rgba.w;
           rgba.z = rgba.z * rgba.w;
           let coords = getCoordsFromIndex(index);
           textureStore(outImage, vec2<i32>(coords.yx), rgba);
         }
       }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use backend file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NCe(t){const{inputs:e,backend:n,attrs:r}=t,{image:i}=e,{canvas:o,options:s}=r,[l,f]=i.shape.slice(0,2),{imageOptions:p}=s||{},m=(p==null?void 0:p.alpha)||1,g=n.device.features.has("bgra8unorm-storage")?"bgra8unorm":"rgba8unorm",y=[l,f],x=new kCe(y,i.dtype,g);o.width=f,o.height=l;const S="webgpu";let _=o.getContext(S),k;_||(k=new OffscreenCanvas(f,l),_=k.getContext(S));const R=i.shape.length===3?i.shape[2]:1;_.configure({device:n.device,format:g,usage:GPUTextureUsage.STORAGE_BINDING,alphaMode:"premultiplied"});const O="int32",I=n.makeTensorInfo(y,O),P=n.tensorMap.get(I.dataId);P.resource=_.getCurrentTexture(),P.external=!0;const F=[{type:"uint32",data:[R]},{type:"float32",data:[m]}];if(n.runWebGPUProgram(x,[i],O,F,I),k){const K=o.getContext("2d");if(!K)throw new Error("Please make sure this canvas has only been used for 2d or webgpu context!");K.drawImage(k,0,0)}return n.disposeData(I.dataId),i}const RCe={kernelName:Mx,backendName:"webgpu",kernelFunc:NCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aW=ua({opType:sn.MUL,cpuKernelImpl:M2e,supportsComplex:!0}),ACe={kernelName:wR,backendName:"webgpu",kernelFunc:aW};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oW(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o,keepDims:s}=r;return im(i,o,s,"sum",n)}const DCe={kernelName:tA,backendName:"webgpu",kernelFunc:oW};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OCe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:i}=r,o=e,{allDims:s,summedDims:l,idDims:f}=tH(i,o.length);rH(s.length,f,o);const{path:p,steps:m}=iH(l,f),g=m.length;let y=null,x=s.length;const S=[];for(let _=0;_<g;++_){for(const k of m[_]){const{permutationIndices:R,expandDims:O}=nH(x,f[k]);let I;aH(R)?I=o[k]:(I=Dc({inputs:{x:o[k]},backend:n,attrs:{perm:R}}),S.push(I));const P=I.shape.slice();for(let F=0;F<O.length;++F)P.splice(O[F],0,1);ja(I.shape,P)||(I=Mt({inputs:{x:I},backend:n,attrs:{shape:P}}),S.push(I)),y===null?y=I:(y=aW({inputs:{a:I,b:y},backend:n}),S.push(y))}_<g-1&&(p[_]>=0&&(y=oW({inputs:{x:y},backend:n,attrs:{axis:p[_]-(s.length-x),keepDims:!1}}),S.push(y)),x--)}for(const _ of S)_!==y&&n.disposeData(_.dataId);return y}const $Ce={kernelName:DN,backendName:"webgpu",kernelFunc:OCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ICe=Bn({opType:ct.ELU}),PCe={kernelName:ON,backendName:"webgpu",kernelFunc:ICe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCe={kernelName:$5,backendName:"webgpu",kernelFunc:t=>{const{inputs:e,backend:n}=t,{dy:r,y:i}=e,o=new wS(sn.ELU_DER,r.shape,i.shape);return n.runWebGPUProgram(o,[r,i],r.dtype)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LCe=ua({opType:sn.EQUAL,dtype:"bool",cpuKernelImpl:x2e}),FCe={kernelName:IN,backendName:"webgpu",kernelFunc:LCe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VCe=Bn({opType:ct.ERF}),jCe={kernelName:$N,backendName:"webgpu",kernelFunc:VCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zCe=Bn({opType:ct.EXP,cpuKernelImpl:S2e,dtype:"float32"}),BCe={kernelName:PN,backendName:"webgpu",kernelFunc:zCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yD(t){const{inputs:e,attrs:n,backend:r}=t,{dim:i}=n,{input:o}=e,s=o.shape.length,l=o.shape.slice();let f=i;return i<0&&(X(-(s+1)<=i,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),f=s+i+1),l.splice(f,0,1),Mt({inputs:{x:o},backend:r,attrs:{shape:l}})}const UCe={kernelName:MN,backendName:"webgpu",kernelFunc:yD};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HCe=Bn({opType:ct.EXPM1,cpuKernelImpl:C2e}),WCe={kernelName:LN,backendName:"webgpu",kernelFunc:HCe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sW{constructor(e,n){this.variableNames=["real","imag"],this.outputShape=[],this.uniforms="exponentMultiplier : f32, denominator: f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.component=e,this.shaderKey=`fft_${e}`}getUserCode(){return`
    fn unaryOpComplex(real: f32, expR: f32, imag: f32, expI: f32) -> f32 {
      ${this.component==="real"?"return real * expR - imag * expI;":"return real * expI + imag * expR;"}
    }

    fn mulMatDFT(batch: i32, index: i32) -> f32 {
      let indexRatio = f32(index) / f32(uniforms.realShape[1]);
      let exponentMultiplierTimesIndexRatio =
          uniforms.exponentMultiplier * indexRatio;

      var result = 0.0;

      for (var i = 0; i < uniforms.realShape[1]; i = i + 1) {
        // x = (-2|2 * PI / N) * index * i;
        let x = exponentMultiplierTimesIndexRatio * f32(i);
        let expR = cos(x);
        let expI = sin(x);
        let real = getReal(batch, i);
        let imag = getImag(batch, i);

        result = result +
            unaryOpComplex(real, expR, imag, expI) / uniforms.denominator;
      }

      return result;
    }

    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getOutputCoords();
        setOutputAtIndex(index, mulMatDFT(coords[0], coords[1]));
      }
    }
  `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uW(t,e,n){const r=n.tensorMap.get(t.dataId),i=lt(t.shape),o=t.shape[t.shape.length-1],s=i/o,l=[],f=Mt({inputs:{x:t},backend:n,attrs:{shape:[s,o]}});l.push(f);const p=f.shape,m=new sW("real",p),g=new sW("imag",p),y=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:p},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:p}],x=e?2*Math.PI:-2*Math.PI,S=e?p[1]:1,_=[{type:"float32",data:[x]},{type:"float32",data:[S]}],k=n.runWebGPUProgram(m,y,"float32",_);l.push(k);const R=n.runWebGPUProgram(g,y,"float32",_);l.push(R);const O=rm({inputs:{real:k,imag:R},backend:n});l.push(O);const I=Mt({inputs:{x:O},backend:n,attrs:{shape:t.shape}});return l.forEach(P=>n.disposeData(P.dataId)),I}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GCe(t){const{inputs:e,backend:n}=t,{input:r}=e;return uW(r,!1,n)}const KCe={kernelName:FN,backendName:"webgpu",kernelFunc:GCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qCe{constructor(e){this.outputShape=[],this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="flipLeftRight"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let coordX = uniforms.xShape[2] - coords[2] - 1;
          let outputValue = getX(coords[0], coords[1], coordX, coords[3]);
          setOutputAtIndex(index, outputValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YCe={kernelName:jN,backendName:"webgpu",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,i=new qCe(n.shape);return r.runWebGPUProgram(i,[n],n.dtype)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZCe=Bn({opType:ct.FLOOR,cpuKernelImpl:E2e}),XCe={kernelName:zN,backendName:"webgpu",kernelFunc:ZCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QCe=ua({opType:sn.FLOOR_DIV,cpuKernelImpl:_2e,dtype:"int32"}),JCe={kernelName:BN,backendName:"webgpu",kernelFunc:QCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eEe{constructor(e,n,r=!1){this.pixelsOpType=m0.FROM_PIXELS,this.outputShape=[0],this.variableNames=[],this.workgroupSize=[256,1,1],this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[n,1,1]),this.importVideo=r,this.shaderKey=`fromPixels_${this.importVideo}`}getUserCode(){const e=this.importVideo?"textureLoad(src, vec2<i32>(coords.yx));":"textureLoad(src, vec2<i32>(coords.yx), 0)";return`
      @binding(1) @group(0) var src: ${this.importVideo?"texture_external":"texture_2d<f32>"};
      ${ft("index")} {
        let flatIndex = index * uniforms.numChannels;
        if (flatIndex < uniforms.size) {
          let coords = getCoordsFromIndex(flatIndex);
          let values = ${e};
          for (var i = 0; i < uniforms.numChannels; i = i + 1) {
            result[flatIndex + i] = i32(floor(255.0 * values[i]));
          }
        }
      }
  `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use backend file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tEe={kernelName:Vx,backendName:"webgpu",kernelFunc:nEe};let y0,bD=$t().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function nEe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:i}=e;const{numChannels:o}=r;if(i==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");const s=typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement,l=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,f=typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas,p=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,[m,g]=s?[i.videoWidth,i.videoHeight]:[i.width,i.height],y=[g,m,o],x=$t().getBool("WEBGPU_IMPORT_EXTERNAL_TEXTURE")&&s,S=s||l;if(p||f||S){let O;if(x)O=n.device.importExternalTexture({source:i});else{if(S){const xe=$t().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(y0==null||xe!==bD)&&(bD=xe,y0=document.createElement("canvas").getContext("2d",{willReadFrequently:bD})),y0.canvas.width=m,y0.canvas.height=g,y0.drawImage(i,0,0,m,g),i=y0.canvas}const ye=GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING,Pe=n.textureManager.acquireTexture(y[1],y[0],"rgba8unorm",ye);n.queue.copyExternalImageToTexture({source:i},{texture:Pe},[y[1],y[0]]),O=Pe}const I=lt(y),P=Ta(y),F=new eEe(y,o,x),K=[{type:"uint32",data:[I]},{type:"uint32",data:[o]},{type:"uint32",data:[...P]}],Y=n.makeTensorInfo([g,m],"int32"),te=n.tensorMap.get(Y.dataId);te.resource=O;const fe=n.runWebGPUProgram(F,[Y],"int32",K);return n.disposeData(Y.dataId),fe}const _=i.data;let k=_;if(o!=null&&o!==4){k=new Uint8Array(i.width*i.height*o);const O=_.length;let I=0;for(let P=0;P<O;P++)P%4<o&&(k[I++]=_[P])}const R=n.makeTensorInfo(y,"int32",new Int32Array(k));return n.uploadToGPU(R.dataId),R}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rEe{constructor(e,n,r,i,o){this.uniforms="varianceEpsilon : f32,",this.workgroupSize=[128,1,1],this.size=!0,this.variableNames=["x","mean","variance"],vr(e,n),vr(e,r),this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),i!=null&&(vr(e,i),this.variableNames.push("offset")),o!=null&&(vr(e,o),this.variableNames.push("scale")),this.offsetShape=i,this.scaleShape=o,this.shaderKey="batchNorm"}getUserCode(){let e="0.0";this.offsetShape!=null&&(e="getOffsetByOutputIndex(index)");let n="1.0";return this.scaleShape!=null&&(n="getScaleByOutputIndex(index)"),`
      ${ft("index")} {
        if (index < uniforms.size)
        {
          let xValue = getXByOutputIndex(index);
          let meanValue = getMeanByOutputIndex(index);
          let varianValue = getVarianceByOutputIndex(index);
          let offsetValue = ${e};
          let scaleValue = ${n};
          let inv = scaleValue * inverseSqrt(varianValue + f32(uniforms.varianceEpsilon));
          setOutputAtIndex(index,dot(vec3<f32>(xValue, -meanValue, offsetValue), vec3<f32>(inv, inv, 1.0)));
        }
      }
  `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iEe={kernelName:UN,backendName:"webgpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r,scale:i,offset:o,mean:s,variance:l}=t,{varianceEpsilon:f}=e,p=n,m=[r,s,l];let g=null;o!=null&&(g=o.shape,m.push(o));let y=null;i!=null&&(y=i.shape,m.push(i));const x=new rEe(r.shape,s.shape,l.shape,g,y),S=[{type:"float32",data:[f]}];return p.runWebGPUProgram(x,m,r.dtype,S)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o,bias:s,preluActivationWeights:l}=e,{strides:f,pad:p,dataFormat:m,dilations:g,dimRoundingMode:y,activation:x,leakyreluAlpha:S}=r,_=Hh(m),k=tu(i.shape,o.shape,f,g,p,y,!1,_);return QH({x:i,filter:o,convInfo:k,backend:n,bias:s,preluActivationWeights:l,leakyreluAlpha:S,activation:x})}const oEe={kernelName:zx,backendName:"webgpu",kernelFunc:aEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,filter:o,bias:s,preluActivationWeights:l}=e,{strides:f,pad:p,dilations:m,dimRoundingMode:g,activation:y,leakyreluAlpha:x}=r;let S=m;S==null&&(S=[1,1]),X(_l(f,S),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${S}'`);const _=tu(i.shape,o.shape,f,S,p,g,!0),k=[i,o],R=s!=null,O=l!=null;R&&k.push(s),O&&k.push(l);const I=[{type:"int32",data:[_.padInfo.top,_.padInfo.left]},{type:"int32",data:[_.inHeight,_.inWidth]}];let P;return _.outHeight>4&&_.outWidth>4&&_.strideWidth<=2&&_.inChannels===_.outChannels&&_.dilationHeight===1&&_.dilationWidth===1&&_.inChannels%4===0?(P=new rW(_,R,y,O),I.push({type:"int32",data:[P.virtualWidth]})):(P=new iW(_,R,y,O),I.push({type:"int32",data:[_.filterHeight]},{type:"int32",data:[_.filterWidth]},{type:"int32",data:[_.strideHeight,_.strideWidth]},{type:"int32",data:[_.dilationHeight,_.dilationWidth]})),y==="leakyrelu"&&(I.push({type:"float32",data:[x]}),P.uniforms+=" alpha : f32,"),n.runWebGPUProgram(P,k,"float32",I)}const uEe={kernelName:Bx,backendName:"webgpu",kernelFunc:sEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lEe{constructor(e,n){this.variableNames=["A","indices"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey=`gathernd_${e}`,this.sliceDim=e,this.uniforms=`sliceDim : i32, strides : ${Ti(e)},`}getUserCode(){let e;return this.sliceDim>1?e="uniforms.strides[j]":e="uniforms.strides",`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          var flattenIndex = 0;
          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {
            let indexTemp = i32(round(getIndices(coords[0], j)));
            let strideNum = ${e};
            flattenIndex = flattenIndex + indexTemp * strideNum;
          }

          setOutputAtIndex(index, getA(flattenIndex, coords[1]));
        }
      }
      `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cEe(t){const{inputs:e,backend:n}=t,{params:r,indices:i}=e,o=i.shape,s=o[o.length-1],l=lt(r.shape),[f,p,m,g]=iD(r,i),y=Mt({inputs:{x:i},backend:n,attrs:{shape:[p,s]}}),x=Mt({inputs:{x:r},backend:n,attrs:{shape:[lt(r.shape)/m,m]}});if(n.shouldExecuteOnCPU([r,i])||r.dtype==="string"){const O=n.readSync(i.dataId),I=n.bufferSync(r),P=T2e(O,I,r.dtype,p,s,m,g,r.shape,l);return n.makeTensorInfo(f,r.dtype,P.values)}const S=new lEe(s,[p,m]),_=[{type:"int32",data:[s]},{type:"int32",data:g}],k=n.runWebGPUProgram(S,[x,y],x.dtype,_),R=Mt({inputs:{x:k},backend:n,attrs:{shape:f}});return n.disposeData(y.dataId),n.disposeData(x.dataId),n.disposeData(k.dataId),R}const fEe={kernelName:WN,backendName:"webgpu",kernelFunc:cEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dEe{constructor(e,n){this.variableNames=["A","indices"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.slice(),this.aShape=e,this.outputShape=n,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="gather"}getUserCode(){const e=pEe(this.aShape);return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let resRC = getCoordsFromIndex(index);
          let indexZ = i32(getIndices(resRC.x, resRC.z));
          let inBounds = select(0.0, 1.0, indexZ >= 0 && indexZ < uniforms.aShape[2]);
          setOutputAtIndex(index, inBounds * getA(${e}));
        }
      }
    `}}function pEe(t){const e=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<t.length;r++)r===2?n.push("indexZ"):n.push(`${e[r]}`);return n.join()}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lW(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,indices:o}=e,{axis:s,batchDims:l}=r,f=eu(s,i.shape)[0],p=bH(i,o,f,l),m=lt(o.shape),g=[],y=Mt({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),x=Mt({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,m/p.batchSize]}});g.push(y),g.push(x);const S=[p.batchSize,p.outerSize,m/p.batchSize,p.sliceSize];if(n.shouldExecuteOnCPU([i,o])){const I=n.tensorMap.get(x.dataId).values,P=Nr(x.shape,x.dtype,I),K=n.tensorMap.get(y.dataId).values,Y=Nr(y.shape,y.dtype,K),te=k2e(Y,P,S);return g.forEach(fe=>n.disposeData(fe.dataId)),n.makeTensorInfo(p.outputShape,te.dtype,te.values)}const _=new dEe(y.shape,S),k=n.runWebGPUProgram(_,[y,x],y.dtype);g.push(k);const R=Mt({inputs:{x:k},backend:n,attrs:{shape:p.outputShape}});return g.forEach(O=>n.disposeData(O.dataId)),R}const hEe={kernelName:HN,backendName:"webgpu",kernelFunc:lW};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mEe=ua({opType:sn.GREATER,cpuKernelImpl:R2e,dtype:"bool"}),gEe={kernelName:GN,backendName:"webgpu",kernelFunc:mEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vEe=ua({opType:sn.GREATER_EQUAL,dtype:"bool",cpuKernelImpl:N2e}),yEe={kernelName:KN,backendName:"webgpu",kernelFunc:vEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bEe(t){const{inputs:e,backend:n}=t,{input:r}=e;return uW(r,!0,n)}const wEe={kernelName:qN,backendName:"webgpu",kernelFunc:bEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xEe=Bn({opType:ct.IS_FINITE,dtype:"bool"}),SEe={kernelName:ZN,backendName:"webgpu",kernelFunc:xEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CEe=Bn({opType:ct.IS_INF,dtype:"bool"}),EEe={kernelName:XN,backendName:"webgpu",kernelFunc:CEe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ee=Bn({opType:ct.IS_NAN,dtype:"bool"}),TEe={kernelName:QN,backendName:"webgpu",kernelFunc:_Ee};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{alpha:o}=r,s=[{type:"float32",data:[o]}],l=new g0(i.shape,ct.LEAKYRELU,"alpha : f32,");return n.runWebGPUProgram(l,[i],"float32",s)}const NEe={kernelName:JN,backendName:"webgpu",kernelFunc:kEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const REe=ua({opType:sn.LESS,dtype:"bool",cpuKernelImpl:D2e}),AEe={kernelName:eR,backendName:"webgpu",kernelFunc:REe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DEe=ua({opType:sn.LESS_EQUAL,dtype:"bool",cpuKernelImpl:A2e}),OEe={kernelName:tR,backendName:"webgpu",kernelFunc:DEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Ee{constructor(e){this.variableNames=[],this.outputShape=[],this.uniforms="start : f32, step : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="linSpace"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          setOutputAtIndex(index, uniforms.start + f32(index) * uniforms.step);
        }
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IEe(t){const{backend:e,attrs:n}=t,{start:r,stop:i,num:o}=n,s=(i-r)/(o-1),l=new $Ee(o),f=[{type:"float32",data:[r]},{type:"float32",data:[s]}];return e.runWebGPUProgram(l,[],"float32",f)}const PEe={kernelName:nR,backendName:"webgpu",kernelFunc:IEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MEe=Bn({opType:ct.LOG,cpuKernelImpl:O2e}),LEe={kernelName:rR,backendName:"webgpu",kernelFunc:MEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FEe=Bn({opType:ct.LOG1P}),VEe={kernelName:iR,backendName:"webgpu",kernelFunc:FEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jEe=ua({opType:sn.LOGICAL_AND,dtype:"bool"}),zEe={kernelName:aR,backendName:"webgpu",kernelFunc:jEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BEe=Bn({opType:ct.LOGICAL_NOT}),UEe={kernelName:oR,backendName:"webgpu",kernelFunc:BEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HEe=ua({opType:sn.LOGICAL_OR}),WEe={kernelName:sR,backendName:"webgpu",kernelFunc:HEe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cW=`
  var powValue = 0.0;
  let basis = uniforms.bias + uniforms.alpha * sum;
  if (uniforms.beta == 0.5) {
    powValue = inverseSqrt(basis);
  } else if (uniforms.beta == 1.0) {
    powValue = 1.0 / basis;
  } else {
    powValue = exp(log(basis) * (-uniforms.beta));
  }
`;class GEe{constructor(e){this.outputShape=[],this.variableNames=["x"],this.uniforms="radius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="lrn"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getOutputCoords();
        let b = coords[0];
        let r = coords[1];
        let c = coords[2];
        let d = coords[3];

        let x = getX(b, r, c, d);
        var sum = 0.0;
        for (var i = -uniforms.radius; i <= uniforms.radius; i = i + 1) {
          let idx = d + i;
          if (idx >= 0 && idx < uniforms.xShape[3]) {
            let z = getX(b, r, c, idx);
            sum = sum + z * z;
          }
        }
        ${cW}

        setOutputAtIndex(index, x * powValue);
      }
    }
  `}}class KEe{constructor(e,n){this.outputShape=[],this.variableNames=["x"],this.uniforms="radius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[256,1,1],this.maxAllowRadius=16,X(n<=this.maxAllowRadius,()=>`Radius must be less than or equal to ${this.maxAllowRadius}, current radius is ${n}`),this.outputShape=e,this.elementsPerWorkgroup=this.workgroupSize[0]-2*this.maxAllowRadius,this.dispatchLayout={x:[3],y:[2],z:[0,1]},this.dispatch=pt(this.dispatchLayout,this.outputShape,[this.elementsPerWorkgroup,this.workgroupSize[1],this.workgroupSize[2]]),this.shaderKey="lrn_shared"}getUserCode(){return`
    var <workgroup>lrnSub: array<f32, ${this.workgroupSize[0]}>;
    const elementsPerWorkgroup = ${this.elementsPerWorkgroup};
    const maxAllowRadius = ${this.maxAllowRadius};

    ${ft()} {
      let localDepth = i32(localId.x);
      let workgroupDepth = i32(workgroupId.x) * elementsPerWorkgroup;
      let xDepth = workgroupDepth + localDepth - maxAllowRadius;
      let b = i32(globalId.z) / uniforms.xShape[1];
      let r = i32(globalId.z) - b * uniforms.xShape[1];
      let c = i32(globalId.y);
      let d = workgroupDepth + localDepth;

      var x = 0.0;
      if (xDepth >= 0 && xDepth < uniforms.xShape[3]) {
        x = getX(b, r, c, xDepth);
      }
      lrnSub[localDepth] = x;
      workgroupBarrier();

      if (localDepth < elementsPerWorkgroup && d < uniforms.outShape[3]) {
        var sum = 0.0;
        let index = localDepth + maxAllowRadius;
        for (var i = -uniforms.radius; i <= uniforms.radius; i = i + 1) {
          let z = lrnSub[index + i];
          sum = sum + z * z;
        }
        ${cW}

        setOutputAtCoords(b, r, c, d, lrnSub[index] * powValue);
      }
    } `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{depthRadius:o,bias:s,alpha:l,beta:f}=r;let p;o>16?p=new GEe(i.shape):p=new KEe(i.shape,o);const m=[{type:"int32",data:[o]},{type:"float32",data:[s]},{type:"float32",data:[l]},{type:"float32",data:[f]}];return n.runWebGPUProgram(p,[i],i.dtype,m)}const YEe={kernelName:uR,backendName:"webgpu",kernelFunc:qEe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZEe{constructor(e){this.outputShape=[],this.variableNames=["inputImage","outputImage","dy"],this.uniforms="depthRadius : i32, bias : f32, alpha : f32, beta : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="lrn_grad"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getOutputCoords();
        let b = coords[0];
        let r = coords[1];
        let c = coords[2];

        let MIN_DEPTH_BEGIN = 0;
        let MAX_DEPTH_END = uniforms.outShape[3];
        var result = 0.0;
        for (var d = MIN_DEPTH_BEGIN; d < MAX_DEPTH_END; d++) {
          let depthBegin = max(MIN_DEPTH_BEGIN, d - uniforms.depthRadius);
          let depthEnd = min(MAX_DEPTH_END, d + uniforms.depthRadius + 1);

          var norm = 0.0;
          for (var k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; k++) {
            if (k < depthBegin) {
              continue;
            } else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            } else {
              break;
            }
          }

          norm = uniforms.alpha * norm + uniforms.bias;

          for (var k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; k++) {
            if (k < depthBegin) {
              continue;
            } else if (k >= depthBegin && k < depthEnd) {
              var dyi = -2.0 * uniforms.alpha * uniforms.beta
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d) / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * uniforms.beta);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            } else {
              break;
            }
          }
        }

        setOutputAtIndex(index, result);
      }
    }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,y:o,dy:s}=e,{depthRadius:l,bias:f,alpha:p,beta:m}=r,g=new ZEe(i.shape),y=[{type:"int32",data:[l]},{type:"float32",data:[f]},{type:"float32",data:[p]},{type:"float32",data:[m]}];return n.runWebGPUProgram(g,[i,o,s],i.dtype,y)}const QEe={kernelName:I5,backendName:"webgpu",kernelFunc:XEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JEe=ua({opType:sn.MAX,cpuKernelImpl:I2e}),e_e={kernelName:cR,backendName:"webgpu",kernelFunc:JEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:o,strides:s,pad:l,dimRoundingMode:f}=r,m=Bh(i.shape,o,s,1,l,f);return KH(i,m,"max",n)}const n_e={kernelName:fR,backendName:"webgpu",kernelFunc:t_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{filterSize:o,strides:s,pad:l,dataFormat:f,dimRoundingMode:p}=r,m=[1,1,1],g=h1(i.shape,o,s,m,l,p,f),y=new mD(g,"max"),x=[{type:"int32",data:[g.strideDepth,g.strideHeight,g.strideWidth]},{type:"int32",data:[g.padInfo.front,g.padInfo.top,g.padInfo.left]},{type:"int32",data:[g.inDepth,g.inHeight,g.inWidth]},{type:"int32",data:[g.effectiveFilterDepth,g.effectiveFilterHeight,g.effectiveFilterWidth]}];return n.runWebGPUProgram(y,[i],i.dtype,x)}const i_e={kernelName:dR,backendName:"webgpu",kernelFunc:r_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a_e{constructor(e){this.variableNames=["dy","maxPos"],this.uniforms=`strides : vec2<i32>, pads : vec2<i32>, dilations : vec2<i32>, filterDims : vec2<i32>,
       outHeight : i32, outWidth : i32`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="maxPool2DBackprop"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords[0];
        let d = coords[3];

        let dyRCCorner = vec2<i32>(coords.yz) - uniforms.pads;
        let dyRCorner = dyRCCorner.x;
        let dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        let lastIndex = uniforms.filterDims[0] * uniforms.filterDims[1] - 1;
        for (var wR = 0; wR < uniforms.filterDims[0]; wR += uniforms.dilations[0]) {
          let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[0]);

          if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
            continue;
          }
          let idyR = i32(dyR);

          for (var wC = 0; wC < uniforms.filterDims[1]; wC += uniforms.dilations[1]) {
            let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[1]);

            if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
              continue;
            }
            let idyC = i32(dyC);

            let dyValue = getDy(batch, idyR, idyC, d);
            let maxPosValue = lastIndex - i32(getMaxPos(batch, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            let curPosValue = wR * uniforms.filterDims[1] + wC;
            let mask = select(0.0, 1.0, maxPosValue == curPosValue);
            dotProd += dyValue * mask;
          }
        }
        setOutputAtIndex(index, dotProd);
      }
    }
    `}}class o_e{constructor(e){this.variableNames=["dy","maxPos"],this.uniforms=`strides : vec3<i32>, pads : vec3<i32>, filterDims : vec3<i32>,
      outDepth : i32, outHeight : i32, outWidth : i32`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e.inShape,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="maxPool3DBackprop"}getUserCode(){return`
      ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
        let batch = coords.x;
        let ch = coords.u;

        let dyCorner = vec3<i32>(coords.y, coords.z, coords.w) - uniforms.pads;
        let dyDCorner = dyCorner.x;
        let dyRCorner = dyCorner.y;
        let dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        var dotProd = 0.0;
        let lastIndex = uniforms.filterDims[0] * uniforms.filterDims[1] * uniforms.filterDims[2] - 1;

        for (var wD = 0; wD < uniforms.filterDims[0]; wD++) {
          let dyD = f32(dyDCorner + wD) / f32(uniforms.strides[0]);

          if (dyD < 0.0 || dyD >= f32(uniforms.outDepth) || fract(dyD) > 0.0) {
            continue;
          }
          let idyD = i32(dyD);

          for (var wR = 0; wR < uniforms.filterDims[1]; wR++) {
            let dyR = f32(dyRCorner + wR) / f32(uniforms.strides[1]);

            if (dyR < 0.0 || dyR >= f32(uniforms.outHeight) || fract(dyR) > 0.0) {
              continue;
            }
            let idyR = i32(dyR);

            for (var wC = 0; wC < uniforms.filterDims[2]; wC++) {
              let dyC = f32(dyCCorner + wC) / f32(uniforms.strides[2]);

              if (dyC < 0.0 || dyC >= f32(uniforms.outWidth) || fract(dyC) > 0.0) {
                continue;
              }
              let idyC = i32(dyC);

              let dyValue = getDy(batch, idyD, idyR, idyC, ch);
              let maxPosValue = lastIndex - i32(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              let curPosValue = wD * uniforms.filterDims[1] * uniforms.filterDims[2] + wR * uniforms.filterDims[2] + wC;
              let mask = select(0.0, 1.0, maxPosValue == curPosValue);
              dotProd += dyValue * mask;
            }
          }
        }

        setOutputAtIndex(index, dotProd);
      }
    }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:o}=e,s=o,{filterSize:l,strides:f,pad:p,dimRoundingMode:m}=r,g=[1,1,1],y=h1(s.shape,l,f,g,p,m),x=new mD(y,"max",!0);let S=[{type:"int32",data:[y.strideDepth,y.strideHeight,y.strideWidth]},{type:"int32",data:[y.padInfo.front,y.padInfo.top,y.padInfo.left]},{type:"int32",data:[y.inDepth,y.inHeight,y.inWidth]},{type:"int32",data:[y.effectiveFilterDepth,y.effectiveFilterHeight,y.effectiveFilterWidth]}];const _=n.runWebGPUProgram(x,[s],"int32",S),k=new o_e(y);S=[{type:"int32",data:[y.strideDepth,y.strideHeight,y.strideWidth]},{type:"int32",data:[y.effectiveFilterDepth-1-y.padInfo.front,y.effectiveFilterHeight-1-y.padInfo.top,y.effectiveFilterWidth-1-y.padInfo.left]},{type:"int32",data:[y.effectiveFilterDepth,y.effectiveFilterHeight,y.effectiveFilterWidth]},{type:"int32",data:[y.outDepth]},{type:"int32",data:[y.outHeight]},{type:"int32",data:[y.outWidth]}];const R=n.runWebGPUProgram(k,[i,_],s.dtype,S);return n.disposeData(_.dataId),R}const u_e={kernelName:M5,backendName:"webgpu",kernelFunc:s_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:i,input:o,output:s}=e,l=o;$H([o,s],"maxPoolGrad");const{filterSize:f,strides:p,pad:m,dimRoundingMode:g}=r,y=Bh(l.shape,f,p,1,m,g),x=new M1(y,"max",!0);let S=[{type:"int32",data:[y.strideHeight,y.strideWidth]},{type:"int32",data:[y.padInfo.top,y.padInfo.left]},{type:"int32",data:[y.dilationHeight,y.dilationWidth]},{type:"int32",data:[y.inHeight,y.inWidth]},{type:"int32",data:[y.effectiveFilterHeight,y.effectiveFilterWidth]}];const _=n.runWebGPUProgram(x,[l],"int32",S),k=new a_e(y);S=[{type:"int32",data:[y.strideHeight,y.strideWidth]},{type:"int32",data:[y.effectiveFilterHeight-1-y.padInfo.top,y.effectiveFilterWidth-1-y.padInfo.left]},{type:"int32",data:[y.dilationHeight,y.dilationWidth]},{type:"int32",data:[y.effectiveFilterHeight,y.effectiveFilterWidth]},{type:"int32",data:[y.outHeight]},{type:"int32",data:[y.outWidth]}];const R=n.runWebGPUProgram(k,[i,_],l.dtype,S);return n.disposeData(_.dataId),R}const c_e={kernelName:P5,backendName:"webgpu",kernelFunc:l_e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f_e(t){const{inputs:e,backend:n,attrs:r}=t,{filterSize:i,strides:o,pad:s,includeBatchInIndex:l}=r,{x:f}=e;X(f.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${f.shape.length}.`);const p=[1,1];X(_l(o,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${p}'`);const m=Bh(f.shape,i,o,p,s),g=[{type:"int32",data:[m.strideHeight,m.strideWidth]},{type:"int32",data:[m.padInfo.top,m.padInfo.left]},{type:"int32",data:[m.dilationHeight,m.dilationWidth]},{type:"int32",data:[m.inHeight,m.inWidth]},{type:"int32",data:[m.effectiveFilterHeight,m.effectiveFilterWidth]}];let y=new M1(m,"max",!1);const x=n.runWebGPUProgram(y,[f],f.dtype,g);y=new M1(m,"max",!0,!0,l);const S=n.runWebGPUProgram(y,[f],"int32",g);return[x,S]}const d_e={kernelName:pR,backendName:"webgpu",kernelFunc:f_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o,keepDims:s}=r;return im(i,o,s,"min",n)}const h_e={kernelName:mR,backendName:"webgpu",kernelFunc:p_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m_e=ua({opType:sn.MIN,cpuKernelImpl:P2e}),g_e={kernelName:gR,backendName:"webgpu",kernelFunc:m_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v_e{constructor(e,n,r){this.uniforms="",this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n.map((i,o)=>i[0]+e[o]+i[1]),this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.xShape=e,n.map((i,o)=>{this.uniforms+=` pad${o} : vec2<i32>,`}),this.offset=r==="reflect"?0:1,this.shaderKey=`mirrorPad_${r}`}getUserCode(){const e=this.xShape.length,n=this.xShape.map((p,m)=>`uniforms.pad${m}[0]`).join(","),r=this.xShape.map((p,m)=>`uniforms.pad${m}[0] + uniforms.xShape${e>1?`[${m}]`:""}`).join(","),i=e===1?"start":"start[i]",o=e===1?"end":"end[i]",s=e===1?"outC":"outC[i]",l=Ti(e),f=e>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,e):"coords";return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let start = ${l}(${n});
          let end = ${l}(${r});
          var outC = getCoordsFromIndex(index);
          for (var i = 0; i < ${e}; i = i + 1) {
            if (${s} < ${i}) {
              ${s} = ${i} * 2 - ${s} - ${this.offset};
            } else if(${s} >= ${o}) {
              ${s} = (${o} - 1) * 2 - ${s} + ${this.offset};
            }
          }
          let coords = outC - start;
          setOutputAtIndex(index, getX(${f}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y_e={kernelName:vR,backendName:"webgpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{paddings:i,mode:o}=e,s=n,l=i.map(m=>({type:"int32",data:[m[0],m[1]]})),f=new v_e(r.shape,i,o);return s.runWebGPUProgram(f,[r],r.dtype,l)}};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b_e=ua({opType:sn.MOD}),w_e={kernelName:yR,backendName:"webgpu",kernelFunc:b_e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x_e{constructor(e,n){this.variableNames=["probs"],this.outputShape=[],this.uniforms="seed : f32, numOutcomes: i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,n],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="multinomial"}getUserCode(){return`
    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    fn random (seed : f32, resultUV : vec2<f32>) -> f32 {
      let HASHSCALE1 = 443.8975;
      let p = resultUV * seed;
      var p3  = fract(vec3<f32>(p.xyx) * HASHSCALE1);
      p3 = p3 + dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${ft("index")} {
      if (index < uniforms.size) {
        let coords = getOutputCoords();
        let batch = coords[0];

        let resUV = vec2<f32>(f32(coords[1]) / f32(uniforms.outShape[1]),
            f32(coords[0]) / f32(uniforms.outShape[0]));
        let r = random(uniforms.seed, resUV);
        var cdf = 0.0;
        for (var i = 0; i < uniforms.numOutcomes - 1; i = i + 1) {
          cdf = cdf + getProbs(batch, i);

          if (r < cdf) {
            setOutputAtIndexI32(index, i);
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutputAtIndexI32(index, uniforms.numOutcomes - 1);
      }
    }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S_e{constructor(e){this.variableNames=["logits"],this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=[this.outputShape[0],1,1],this.outputShape[1]>=4096?this.workgroupSize=[256,1,1]:this.workgroupSize=[64,1,1],this.shaderKey="softmax"}getUserCode(){return`
    var<workgroup> buf : array<f32, ${this.workgroupSize[0]}>;
    var<workgroup> rowMaxShared : f32;
    var<workgroup> rowSumShared : f32;
    const blockSize = ${this.workgroupSize[0]};
    ${ft("index")} {
      let row = index / blockSize;
      let tid = i32(localId.x);
      let cols = uniforms.outShape[1];

      var threadMax = -3.402823e+38f;
      for (var col = tid; col < cols; col += blockSize) {
        let value = getLogits(row, col);
        threadMax = max(threadMax, value);
      }
      if (tid < cols) {
        buf[tid] = threadMax;
      }
      workgroupBarrier();

      var reduceSize = min(cols, blockSize);
      for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
        reduceSize = currSize + (reduceSize & 1);
        if (tid < currSize) {
          buf[tid] = max(buf[tid], buf[tid + reduceSize]);
        }
        workgroupBarrier();
      }

      if (tid == 0) {
        rowMaxShared = buf[0];
      }
      workgroupBarrier();

      var threadSum = 0.0;
      for (var col = tid; col < cols; col += blockSize) {
        let subExp = exp(getLogits(row, col) - rowMaxShared);
        threadSum += subExp;
      }
      buf[tid] = threadSum;
      workgroupBarrier();

      for (var currSize = blockSize >> 1;  currSize > 0; currSize = currSize >> 1) {
        if (tid < currSize) {
          buf[tid] = buf[tid] + buf[tid + currSize];
        }
        workgroupBarrier();
      }

      if (tid == 0) {
        rowSumShared = buf[0];
      }
      workgroupBarrier();

      for (var col = tid; col < cols; col += blockSize) {
        let value = exp(getLogits(row, col) - rowMaxShared) / rowSumShared;
        setOutputAtCoords(row, col, value);
      }
  }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fW(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{dim:o}=r,s=Mt({inputs:{x:i},backend:n,attrs:{shape:[lt(i.shape)/i.shape[o],i.shape[o]]}}),l=new S_e(s.shape),f=n.runWebGPUProgram(l,[s],i.dtype),p=Mt({inputs:{x:f},backend:n,attrs:{shape:i.shape}});return n.disposeData(s.dataId),n.disposeData(f.dataId),p}const C_e={kernelName:iA,backendName:"webgpu",kernelFunc:fW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E_e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:i}=e,{numSamples:o,seed:s,normalized:l}=r,f=l?i:fW({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),p=f.shape[0],m=f.shape[1],g=new x_e(p,o),y=[{type:"float32",data:[s]},{type:"int32",data:[m]}],x=n.runWebGPUProgram(g,[f],"int32",y);return l||n.disposeData(f.dataId),x}const __e={kernelName:bR,backendName:"webgpu",kernelFunc:E_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T_e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const o=n.tensorMap.get(r.dataId),[s,l]=L2e(o.values,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,s)}const i=new g0(r.shape,ct.NEG);return n.runWebGPUProgram(i,[r],r.dtype)}const k_e={kernelName:xR,backendName:"webgpu",kernelFunc:T_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N_e(t){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:o}=e,{maxOutputSize:s,iouThreshold:l,scoreThreshold:f}=r,p=n.readSync(i.dataId),m=n.readSync(o.dataId),{selectedIndices:g}=U4(p,m,s,l,f);return n.makeTensorInfo([g.length],"int32",new Int32Array(g))}const R_e={kernelName:CR,backendName:"webgpu",kernelFunc:N_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A_e(t){console.warn("tf.nonMaxSuppression() in webgpu locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:i,scores:o}=e,{maxOutputSize:s,iouThreshold:l,scoreThreshold:f,softNmsSigma:p}=r,m=n.readSync(i.dataId),g=n.readSync(o.dataId),y=s,x=l,S=f,_=p,{selectedIndices:k,selectedScores:R}=H4(m,g,y,x,S,_);return[n.makeTensorInfo([k.length],"int32",new Int32Array(k)),n.makeTensorInfo([R.length],"float32",new Float32Array(R))]}const D_e={kernelName:ER,backendName:"webgpu",kernelFunc:A_e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O_e{constructor(e,n){this.variableNames=["x"],this.uniforms="onValue : f32, offValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e,n],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="onehot"}getUserCode(){return`
      ${ft("index")} {
        if(index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          setOutputAtIndex(index, mix(uniforms.offValue, uniforms.onValue,
                                      f32(i32(round(getX(coords.x))) == coords.y)));
        }
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $_e(t){const{inputs:e,backend:n,attrs:r}=t,{indices:i}=e,{dtype:o,depth:s,onValue:l,offValue:f}=r,p=lt(i.shape),m=new O_e(p,s),g=Mt({inputs:{x:i},backend:n,attrs:{shape:[p]}}),y=[{type:"float32",data:[l]},{type:"float32",data:[f]}],x=n.runWebGPUProgram(m,[g],o,y);n.disposeData(g.dataId);const S=[...i.shape,s],_=Mt({inputs:{x},backend:n,attrs:{shape:S}});return n.disposeData(x.dataId),_}const I_e={kernelName:TR,backendName:"webgpu",kernelFunc:$_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ES(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const i=L1({inputs:{input:r},backend:n}),o=ES({inputs:{x:i},backend:n}),s=SS({inputs:{input:r},backend:n}),l=ES({inputs:{x:s},backend:n}),f=rm({inputs:{real:o,imag:l},backend:n});return n.disposeData(i.dataId),n.disposeData(o.dataId),n.disposeData(s.dataId),n.disposeData(l.dataId),f}else return Lo({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const P_e={kernelName:yA,backendName:"webgpu",kernelFunc:ES};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dW(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const i=L1({inputs:{input:r},backend:n}),o=dW({inputs:{x:i},backend:n}),s=SS({inputs:{input:r},backend:n}),l=ES({inputs:{x:s},backend:n}),f=rm({inputs:{real:o,imag:l},backend:n});return n.disposeData(i.dataId),n.disposeData(o.dataId),n.disposeData(s.dataId),n.disposeData(l.dataId),f}else return Lo({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const M_e={kernelName:_R,backendName:"webgpu",kernelFunc:dW};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L_e(t){const{inputs:e,backend:n,attrs:r}=t,{axis:i}=r;if(e.length===1)return yD({inputs:{input:e[0]},backend:n,attrs:{dim:i}});const o=e[0].shape,s=e[0].dtype;e.forEach(m=>{Va(o,m.shape,"All tensors passed to stack must have matching shapes"),X(s===m.dtype,()=>"All tensors passed to stack must have matching dtypes")});const l=[],f=e.map(m=>{const g=yD({inputs:{input:m},backend:n,attrs:{dim:i}});return l.push(g),g}),p=XH({inputs:f,backend:n,attrs:{axis:i}});return l.forEach(m=>n.disposeData(m.dataId)),p}const F_e={kernelName:kR,backendName:"webgpu",kernelFunc:L_e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pW(t,e=!1){const n=t.length,r=Ti(n),i=t.map((g,y)=>`uniforms.pad${y}[0]`).join(","),o=t.map((g,y)=>`uniforms.pad${y}[0] + uniforms.xShape${n>1?`[${y}]`:""}`).join(","),s=n>1?`${r}(${i})`:`${i}`,l=n>1?`${r}(${o})`:`${o}`,f=n>1?"any(paddedCoords < start)":"paddedCoords < start",p=n>1?"any(paddedCoords >= end)":"paddedCoords >= end",m=n>1?["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n):"coords";return`
        let start = ${s};
        let end = ${l};
        if (${f} || ${p}) {
          setOutputAtIndex(index, ${e?0:"uniforms.constantValue"});
        } else {
          let coords = paddedCoords - start;
          setOutputAtIndex(index, getX(${m}));
        }
  `}class V_e{constructor(e,n){this.variableNames=["x"],this.uniforms="constantValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n.map((r,i)=>r[0]+e[i]+r[1]),this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),n.map((r,i)=>{this.uniforms+=` pad${i} : vec2<i32>,`}),this.xShape=e,this.shaderKey="pad"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let paddedCoords = getCoordsFromIndex(index);
          ${pW(this.xShape)}
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j_e={kernelName:NR,backendName:"webgpu",kernelFunc:t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{paddings:o,constantValue:s}=r;if(o.every(p=>ja(p,[0,0])))return hs({inputs:{x:i},backend:n});if(lt(i.shape)===0){const p=o.map((m,g)=>m[0]+i.shape[g]+m[1]);return Lo({backend:n,attrs:{shape:p,value:s,dtype:i.dtype}})}const l=[{type:"float32",data:[s]}];o.map(p=>l.push({type:"int32",data:[p[0],p[1]]}));const f=new V_e(i.shape,o);return n.runWebGPUProgram(f,[i],i.dtype,l)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z_e=ua({opType:sn.POW}),B_e={kernelName:RR,backendName:"webgpu",kernelFunc:z_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U_e(t){const{inputs:e,backend:n}=t,{x:r,alpha:i}=e,o=new wS(sn.PRELU,r.shape,i.shape);return n.runWebGPUProgram(o,[r,i],"float32")}const H_e={kernelName:AR,backendName:"webgpu",kernelFunc:U_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{axis:o,keepDims:s}=r;return im(i,o,s,"prod",n)}const G_e={kernelName:DR,backendName:"webgpu",kernelFunc:W_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K_e={kernelName:OR,backendName:"webgpu",kernelFunc:t=>{const{backend:e,attrs:n}=t,{start:r,stop:i,step:o,dtype:s}=n,l=j2e(r,i,o,s);return e.makeTensorInfo([l.length],s,l)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q_e=ua({opType:sn.DIV}),Y_e={kernelName:AN,backendName:"webgpu",kernelFunc:q_e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z_e=Bn({opType:ct.RECIPROCAL}),X_e={kernelName:IR,backendName:"webgpu",kernelFunc:Z_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q_e=Bn({opType:ct.RELU}),J_e={kernelName:PR,backendName:"webgpu",kernelFunc:Q_e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eTe=Bn({opType:ct.RELU6}),tTe={kernelName:VR,backendName:"webgpu",kernelFunc:eTe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nTe{constructor(e,n,r){this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, halfPixelCenters : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e[0],n,r,e[3]],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="resizeBilinear"}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
        let coords = getCoordsFromIndex(index);
          let b = coords[0];
          let d = coords[3];
          let rc = coords.yz;

          let effectiveInSize = vec2<f32>(
            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],
            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);

          let effectiveOutSize = vec2<f32>(
            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],
            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);

          let effectiveInputOverOutputRatioRC =
              effectiveInSize / effectiveOutSize;

          // Fractional source index
          let sourceFracIndexRC =
            (vec2<f32>(rc) + vec2<f32>(uniforms.halfPixelCenters)) *
            effectiveInputOverOutputRatioRC - vec2<f32>(uniforms.halfPixelCenters);

          // Compute the four integer indices.
          let sourceFloorRC = vec2<i32>(sourceFracIndexRC);
          let sourceCeilRC = vec2<i32>(
            min(vec2<f32>(uniforms.xShape.yz) - vec2<f32>(1.0), ceil(sourceFracIndexRC)));

          let topLeft = getX(b, sourceFloorRC.x, sourceFloorRC.y, d);
          let bottomLeft = getX(b, sourceCeilRC.x, sourceFloorRC.y, d);
          let topRight = getX(b, sourceFloorRC.x, sourceCeilRC.y, d);
          let bottomRight = getX(b, sourceCeilRC.x, sourceCeilRC.y, d);

          let fracRC = sourceFracIndexRC - vec2<f32>(sourceFloorRC);

          let top = topLeft + (topRight - topLeft) * fracRC.y;
          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
          let newValue = top + (bottom - top) * fracRC.x;

          setOutputAtIndex(index, newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:o,size:s,halfPixelCenters:l}=r,[f,p]=s,m=o&&f>1?1:0,g=o&&p>1?1:0,x=[{type:"float32",data:[m,g]},{type:"float32",data:[l?.5:0]}],S=new nTe(i.shape,f,p);return n.runWebGPUProgram(S,[i],"float32",x)}const iTe={kernelName:FR,backendName:"webgpu",kernelFunc:rTe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aTe{constructor(e,n){this.variableNames=["dy"],this.uniforms=`effectiveXSize : vec2<i32>, effectiveYSize : vec2<i32>, heightScale : f32, widthScale : f32,
       invHeightScale : f32, invWidthScale : f32, winHeight : i32, winWidth : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.alignCorners=n,this.shaderKey=`resizeBilinearBackprop_${n}`}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getOutputCoords();
          let b = coords[0];
          let d = coords[3];
          let r = coords[1];
          let c = coords[2];

          var accumulator = 0.0;

          // Compute bounds for where in dy we will look
          let startRLerp = floor(f32(r) * uniforms.invHeightScale);
          let startDyR = i32(startRLerp - f32(uniforms.winHeight / 2));

          let startCLerp = floor(f32(c) * uniforms.invWidthScale);
          let startDyC = i32(startCLerp - f32(uniforms.winWidth / 2));

          // Loop over dy
          for (var dyROffset = 0; dyROffset < uniforms.winHeight; dyROffset++) {
            let dyR = startDyR + dyROffset;

            // Guard against the window exceeding the bounds of dy
            if (dyR < 0 || dyR >= uniforms.dyShape[1]) {
              continue;
            }

            for (var dyCOffset = 0; dyCOffset < uniforms.winWidth; dyCOffset++) {
              let dyC = startDyC + dyCOffset;

              // Guard against the window exceeding the bounds of dy
              if (dyC < 0 || dyC >= uniforms.dyShape[2]) {
                continue;
              }

              let dxR = f32(dyR) * uniforms.heightScale;
              let topDxRIndex = i32(floor(dxR));
              let bottomDxRIndex = i32(min(ceil(dxR), f32(uniforms.outShape[1] - 1)));
              let dxRLerp = dxR - f32(topDxRIndex);
              let inverseDxRLerp = 1.0 - dxRLerp;

              let dxC = f32(dyC) * uniforms.widthScale;
              let leftDxCIndex = i32(floor(dxC));
              let rightDxCIndex = i32(min(ceil(dxC), f32(uniforms.outShape[2] - 1)));
              let dxCLerp = dxC - f32(leftDxCIndex);
              let inverseDxCLerp = 1.0 - dxCLerp;

              if (r == topDxRIndex && c == leftDxCIndex) {
                // topLeft
                accumulator +=
                  getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
              }

              if (r == topDxRIndex && c == rightDxCIndex) {
                // topRight
                accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
              }

              if (r == bottomDxRIndex && c == leftDxCIndex) {
                // bottomLeft
                accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
              }

              if (r == bottomDxRIndex && c == rightDxCIndex) {
                // bottomRight
                accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
              }
            }
          }
          // End loop over dy

          setOutputAtIndex(index, accumulator);
        }
      }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:o}=e,{alignCorners:s}=r,[,l,f]=i.shape,[,p,m]=o.shape,g=[s&&p>1?l-1:l,s&&m>1?f-1:f],y=[s&&p>1?p-1:p,s&&m>1?m-1:m],x=g[0]/y[0],S=g[1]/y[1],_=1/x,k=1/S,R=Math.ceil(_)*2+2,O=Math.ceil(k)*2+2,I=new aTe(i.shape,s),P=[{type:"int32",data:g},{type:"int32",data:y},{type:"float32",data:[x]},{type:"float32",data:[S]},{type:"float32",data:[_]},{type:"float32",data:[k]},{type:"int32",data:[R]},{type:"int32",data:[O]}];return n.runWebGPUProgram(I,[o],o.dtype,P)}const sTe={kernelName:B5,backendName:"webgpu",kernelFunc:oTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uTe{constructor(e,n,r,i){this.variableNames=["x"],this.uniforms="adjustHeightWidth : vec2<f32>, roundBase : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=[e[0],n,r,e[3]],this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.halfPixelCenters=i,this.shaderKey=`resizeNearest_${i}`}getUserCode(){let e;return this.halfPixelCenters?e="max((vec2<f32>(rc) + vec2<f32>(0.5)) * effectiveInputOverOutputRatioRC, vec2<f32>(0.0))":e="vec2<f32>(rc) * effectiveInputOverOutputRatioRC",`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let b = coords[0];
          let d = coords[3];
          let rc = coords.yz;

          let effectiveInSize = vec2<f32>(
            f32(uniforms.xShape.y) - uniforms.adjustHeightWidth[0],
            f32(uniforms.xShape.z) - uniforms.adjustHeightWidth[1]);

          let effectiveOutSize = vec2<f32>(
            f32(uniforms.outShape.y) - uniforms.adjustHeightWidth[0],
            f32(uniforms.outShape.z) - uniforms.adjustHeightWidth[1]);

          let effectiveInputOverOutputRatioRC =
              effectiveInSize / effectiveOutSize;

          // Fractional source index
          let sourceFracIndexRC = ${e};

          // Compute the coordinators of nearest neighbor point.
          let inputShapeRC = vec2<f32>(f32(uniforms.xShape.y), f32(uniforms.xShape.z));
          let sourceNearestRC = vec2<i32>(
            min(inputShapeRC - 1.0, floor(sourceFracIndexRC + uniforms.roundBase)));
          let newValue = getX(b, sourceNearestRC.x, sourceNearestRC.y, d);

          setOutputAtIndex(index, newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i}=e,{alignCorners:o,halfPixelCenters:s,size:l}=r,[f,p]=l,m=o&&f>1?1:0,g=o&&p>1?1:0,x=[{type:"float32",data:[m,g]},{type:"float32",data:[o?.5:0]}],S=new uTe(i.shape,f,p,s);return n.runWebGPUProgram(S,[i],i.dtype,x)}const cTe={kernelName:LR,backendName:"webgpu",kernelFunc:lTe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fTe{constructor(e,n){this.variableNames=["dy"],this.uniforms=`effectiveXSize : vec2<i32>, effectiveYSize : vec2<i32>, invHeightScale : f32, invWidthScale : f32,
       winHeight : i32, winWidth : i32,`,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.alignCorners=n,this.shaderKey=`resizeNearestNeigborBackprop_${n}`}getUserCode(){return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getOutputCoords();
          let b = coords[0];
          let d = coords[3];
          let r = coords[1];
          let c = coords[2];

          var accumulator = 0.0;

          // Compute bounds for where in dy we will look
          let startRLerp = floor(f32(r) * uniforms.invHeightScale);
          let startDyR = i32(floor(startRLerp - f32(uniforms.winHeight / 2)));

          let startCLerp = floor(f32(c) * uniforms.invWidthScale);
          let startDyC = i32(floor(startCLerp - f32(uniforms.winWidth / 2)));

          // Loop over dy
          for (var dyROffset = 0; dyROffset < uniforms.winHeight; dyROffset++) {
            let dyR = startDyR + dyROffset;

            // Guard against the window exceeding the bounds of dy
            if (dyR < 0 || dyR >= uniforms.dyShape[1]) {
              continue;
            }

            for (var dyCOffset = 0; dyCOffset < uniforms.winWidth; dyCOffset++) {
              let dyC = startDyC + dyCOffset;

              // Guard against the window exceeding the bounds of dy
              if (dyC < 0 || dyC >= uniforms.dyShape[2]) {
                continue;
              }

              let sourceFracRow = f32(uniforms.effectiveXSize[0]) *
                  (f32(dyR) / f32(uniforms.effectiveYSize[0]));

              let sourceFracCol = f32(uniforms.effectiveXSize[1]) *
                  (f32(dyC) / f32(uniforms.effectiveYSize[1]));

              let sourceNearestRow =
                  i32(min(f32(uniforms.outShape[1] - 1),
                  ${this.alignCorners?"floor(sourceFracRow + 0.5)":"floor(sourceFracRow)"}));

              let sourceNearestCol =
                  i32(min(f32(uniforms.outShape[2] - 1),
                  ${this.alignCorners?"floor(sourceFracCol + 0.5)":"floor(sourceFracCol)"}));

              if (r == sourceNearestRow && c == sourceNearestCol) {
                accumulator += getDy(b, dyR, dyC, d);
              }
            }
          }
          // End loop over dy

          setOutputAtIndex(index, accumulator);
        }
      }
    `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dTe(t){const{inputs:e,backend:n,attrs:r}=t,{images:i,dy:o}=e,{alignCorners:s}=r,[,l,f]=i.shape,[,p,m]=o.shape,g=[s&&p>1?l-1:l,s&&m>1?f-1:f],y=[s&&p>1?p-1:p,s&&m>1?m-1:m],x=g[0]/y[0],S=g[1]/y[1],_=1/x,k=1/S,R=Math.ceil(_)*2+2,O=Math.ceil(k)*2+2,I=new fTe(i.shape,s),P=[{type:"int32",data:g},{type:"int32",data:y},{type:"float32",data:[_]},{type:"float32",data:[k]},{type:"int32",data:[R]},{type:"int32",data:[O]}];return n.runWebGPUProgram(I,[o],o.dtype,P)}const pTe={kernelName:z5,backendName:"webgpu",kernelFunc:dTe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hTe{constructor(e){this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms=" axis : vec4<i32>,",this.shaderKey="reverse"}getUserCode(){return`
      
      // Using uniform variables as judging conditions, so the function has
      // coherent execution within all threads.
      fn getReverseCoords(coords : vec4<i32>) -> vec4<i32> {
        var reverseCoords = coords;
        if (uniforms.axis[0] == 1) {
          reverseCoords[0] = uniforms.xShape[0] - coords[0] - 1;
        }
        if (uniforms.axis[1] == 1) {
          reverseCoords[1] = uniforms.xShape[1] - coords[1] - 1;
        }
        if (uniforms.axis[2] == 1) {
          reverseCoords[2] = uniforms.xShape[2] - coords[2] - 1;
        }
        if (uniforms.axis[3] == 1) {
          reverseCoords[3] = uniforms.xShape[3] - coords[3] - 1;
        }

        return reverseCoords;
      }
    
      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let reverseCoords = getReverseCoords(coords);
          setOutputAtIndex(index, getX(reverseCoords[0],
              reverseCoords[1], reverseCoords[2], reverseCoords[3]));
        }
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{dims:o}=r,s=i.shape.length;if(s===0)return hs({inputs:{x:i},backend:n});const l=i.shape,f=[1,1,1,1];l.forEach((k,R)=>{const O=R+4-s;f[O]=k});const p=eu(o,i.shape),m=[0,0,0,0];p.forEach(k=>{const R=k+4-s;m[R]=1});const g=[{type:"int32",data:m}],y=Mt({inputs:{x:i},backend:n,attrs:{shape:f}}),x=new hTe(f),S=n.runWebGPUProgram(x,[y],y.dtype,g);n.disposeData(y.dataId);const _=Mt({inputs:{x:S},backend:n,attrs:{shape:l}});return n.disposeData(S.dataId),_}const gTe={kernelName:jR,backendName:"webgpu",kernelFunc:mTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vTe{constructor(e,n){this.outputShape=[],this.variableNames=["x"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms=`centerX : f32, centerY : f32, sinRadians : f32,
          cosRadians : f32,`,this.shaderKey="rotate",this.outputShape=e,typeof n=="number"?(this.uniforms+=" fillValue : f32,",this.fillSnippet="var outputValue = uniforms.fillValue;",this.shaderKey+="_float"):(this.uniforms+=" fillValue : vec3<f32>,",this.fillSnippet="var outputValue = uniforms.fillValue[coords[3]];",this.shaderKey+="_vec3")}getUserCode(){return`
        ${ft("index")} {
          if (index < uniforms.size) {
            let coords = getCoordsFromIndex(index);
            let coordXFloat = (f32(coords[2]) - uniforms.centerX) *
                uniforms.cosRadians - (f32(coords[1]) - uniforms.centerY) *
                uniforms.sinRadians;
            let coordYFloat = (f32(coords[2]) - uniforms.centerX) *
                uniforms.sinRadians + (f32(coords[1]) - uniforms.centerY) *
                uniforms.cosRadians;
            let coordX = i32(round(coordXFloat + uniforms.centerX));
            let coordY = i32(round(coordYFloat + uniforms.centerY));
            ${this.fillSnippet}
            if(coordX >= 0 && coordX < uniforms.xShape[2] && coordY >= 0 &&
                coordY < uniforms.xShape[1]) {
              outputValue = getX(coords[0], coordY, coordX, coords[3]);
            }
            setOutputAtIndex(index, outputValue);
          }
        }
      `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yTe={kernelName:wA,backendName:"webgpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:i,fillValue:o,center:s}=e,l=n,f=new vTe(r.shape,o),[p,m]=B7(s,r.shape[1],r.shape[2]),g=[{type:"float32",data:[p]},{type:"float32",data:[m]},{type:"float32",data:[Math.sin(i)]},{type:"float32",data:[Math.cos(i)]}];return typeof o=="number"?g.push({type:"float32",data:[Number.parseFloat(o.toFixed(2))]}):g.push({type:"float32",data:o}),l.runWebGPUProgram(f,[r],r.dtype,g)}};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bTe=Bn({opType:ct.ROUND}),wTe={kernelName:zR,backendName:"webgpu",kernelFunc:bTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xTe=Bn({opType:ct.RSQRT,cpuKernelImpl:z2e}),STe={kernelName:BR,backendName:"webgpu",kernelFunc:xTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j1{constructor(e,n,r,i,o,s,l,f=!0){this.variableNames=["updates","indices"],this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=s,this.type=l,this.sumDupeIndices=f,this.dispatchLayout=Ct(e),this.dispatch=pt(this.dispatchLayout,e,this.workgroupSize),this.sliceDimGreaterThanOne=n>1,this.shaderKey=`scatter_${r}_${i}_${this.sliceDimGreaterThanOne}_${l}_${f}_${o.length}`;const p=Ti(o.length);this.uniforms=`sliceDim : i32, strides: ${p}, updatesSize: i32,`,this.updatesRank=i,this.indicesRank=r}getUserCode(){let e="";this.indicesRank===1?e="coords[0]":this.indicesRank===2&&(e="coords[0], j");const n=`getIndices(${e})`,r=this.sliceDimGreaterThanOne?"uniforms.strides[j]":"uniforms.strides";let i="",o="";this.dispatchLayout.x.length===1?(i="flattenedIndex",o=`
      fn getUpdatesCoordsFromFlatIndex(index : i32) -> i32 {
        return index;
      }
      `):this.dispatchLayout.x.length===2&&(i="vec2<i32>(flattenedIndex, coords[1])",o=`
      fn getUpdatesCoordsFromFlatIndex(index : i32) -> vec2<i32> {
        // N.B. |updates| could be a scalar tensor, conceptually representing a
        // 2D tensor with all values equal to that. By design, its size must be
        // the same as |outShape[1]| in one dimension, and |indicesShape[0]|
        // gives the other.
        let sliceSize = uniforms.outShape[1];
        let d0 = index / sliceSize;
        let d1 = index - d0 * sliceSize;
        return vec2<i32>(d0, d1);
      }
      `);const l=`getUpdates(${Array.from({length:this.updatesRank},(p,m)=>`coords[${m}]`).join(", ")})`;return`
    ${o}
      ${ft("index")} {
        if (index < uniforms.updatesSize) {
          let coords = getUpdatesCoordsFromFlatIndex(index);
          var flattenedIndex = 0;
          for (var j = 0; j < uniforms.sliceDim; j = j + 1) {
            let indexInside = i32(round(${n}));
            flattenedIndex = flattenedIndex + indexInside * ${r};
          }
          let updateValue =
              ${Jh(this.type)}(${l});
          let flatIndex = getOutputIndexFromCoords(${i});

          ${this.sumDupeIndices?up("&result[flatIndex]","updateValue",this.type):"atomicStore(&result[flatIndex], bitcast<i32>(updateValue));"}
        }
      }`}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CTe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:i,updates:o}=e,{shape:s}=r,{sliceRank:l,numUpdates:f,sliceSize:p,strides:m,outputSize:g}=D1(o,i,s),y=[g/p,p];if(g===0)return n.makeTensorInfo(s,i.dtype);const x=Mt({inputs:{x:i},backend:n,attrs:{shape:[f,l]}}),S=Mt({inputs:{x:o},backend:n,attrs:{shape:[f,p]}}),_=S.dtype,k=Lo({backend:n,attrs:{shape:y,value:0,dtype:_}}),R=lt(S.shape),O=[{type:"int32",data:[l]},{type:"int32",data:m},{type:"int32",data:[R]}],I=new j1(S.shape,l,x.shape.length,S.shape.length,m,y,_),P=n.runWebGPUProgram(I,[S,x],_,O,k),F=Mt({inputs:{x:P},backend:n,attrs:{shape:s}});return n.disposeData(x.dataId),n.disposeData(S.dataId),n.disposeData(P.dataId),F}const ETe={kernelName:UR,backendName:"webgpu",kernelFunc:CTe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Te{constructor(e,n){this.outputShape=[],this.variableNames=["sortedSequence","values"],this.uniforms="numInputs : i32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.side=n,this.shaderKey=`search_sorted_${n}`}getUserCode(){return`
      fn findBound(batch: i32, value: f32) -> i32 {
        var left = i32(0);
        var right = uniforms.numInputs;
        while (left < right) {
          var mid = (left + right) / 2;
          if (getSortedSequence(batch, mid) ${this.side==="left"?"<":"<="} value) {
            left = mid + 1;
          } else {
            right = mid;
          }
        }
        return right;
      }

      ${ft("index")} {
        if (index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let value = getValuesByOutputIndex(index);
          setOutputAtIndexI32(index, findBound(coords[0], value));
        }
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TTe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:i,values:o}=e,{side:s}=r,l=new _Te([o.shape[0],o.shape[1]],s),f=[{type:"int32",data:[i.shape[1]]}];return n.runWebGPUProgram(l,[i,o],"int32",f)}const kTe={kernelName:WR,backendName:"webgpu",kernelFunc:TTe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NTe{constructor(e,n,r){this.variableNames=["c","a","b"],this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=n,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.cRank=e,this.rank=r,this.shaderKey="select"}getUserCode(){let e,n;if(this.rank>4)throw Error(`Where for rank ${this.rank} is not yet supported`);if(this.rank===1)n="resRC",e="resRC";else{const i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[];for(let l=0;l<this.outputShape.length;l++)s.push(`${i[l]}`),l<this.cRank&&o.push(`${i[l]}`);e=o.join(),n=s.join()}return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let resRC = getCoordsFromIndex(index);
          let cVal = getC(${e});
          if (cVal >= 1.0) {
            setOutputAtIndex(index, getA(${n}));
          } else {
            setOutputAtIndex(index, getB(${n}));
          }
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RTe(t){const{inputs:e,backend:n}=t,{condition:r,t:i,e:o}=e,s=new NTe(r.shape.length,i.shape,i.shape.length);return n.runWebGPUProgram(s,[r,i,o],Ec(i.dtype,o.dtype))}const ATe={kernelName:GR,backendName:"webgpu",kernelFunc:RTe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DTe=Bn({opType:ct.SELU}),OTe={kernelName:KR,backendName:"webgpu",kernelFunc:DTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Te=Bn({opType:ct.SIGMOID}),ITe={kernelName:QR,backendName:"webgpu",kernelFunc:$Te};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PTe=Bn({opType:ct.SIGN}),MTe={kernelName:XR,backendName:"webgpu",kernelFunc:PTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LTe=Bn({opType:ct.SIN}),FTe={kernelName:YR,backendName:"webgpu",kernelFunc:LTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VTe=Bn({opType:ct.SINH}),jTe={kernelName:ZR,backendName:"webgpu",kernelFunc:VTe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zTe=Bn({opType:ct.SOFTPLUS}),BTe={kernelName:JR,backendName:"webgpu",kernelFunc:zTe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UTe{constructor(e,n,r,i,o,s){this.variableNames=["x"],this.outputShape=[],this.uniforms="",this.workgroupSize=[64,1,1],this.size=!0;const l=new Array(i.length);for(let f=0;f<l.length;f++)l[f]=i[o[f]];this.outputShape=l,this.newDim=o,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.xShape=e,this.paddedXShape=n,this.uniforms+=`reshapedPaddedXShape : ${Ti(i.length)}, paddedXShapeStrides : ${Ti(s)}, `,r.map((f,p)=>{this.uniforms+=` pad${p} : vec2<i32>,`}),this.shaderKey=`spaceToBatchND_${o}`}getUserCode(){const e=Ti(this.outputShape.length),n=UH(this.newDim);return`
      ${mS(this.paddedXShape,"PaddedX")}
      ${ft("index")} {
        if(index < uniforms.size) {
          let coords = getCoordsFromIndex(index);
          let switchedIndex = getIndexFromCoords${this.outputShape.length}D(${e}(${n}), uniforms.reshapedPaddedXShape);
          let paddedCoords = getPaddedXCoordsFromIndex(switchedIndex);
          ${pW(this.xShape,!0)}
        }
      }
    `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HTe={kernelName:nA,backendName:"webgpu",kernelFunc:t=>{const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{blockShape:o,paddings:s}=r;X(i.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGPU backend not implemented yet");const l=o.reduce((O,I)=>O*I),f=[[0,0]];f.push(...s);for(let O=1+o.length;O<i.shape.length;++O)f.push([0,0]);const p=f.map((O,I)=>O[0]+i.shape[I]+O[1]),m=sD(p,o,l,!1),g=uD(m.length,o.length,!1),y=lD(p,o,l,!1),x=Ta(p),S=new UTe(i.shape,p,f,m,g,x.length),_=[{type:"int32",data:m},{type:"int32",data:x}];f.map(O=>_.push({type:"int32",data:[O[0],O[1]]}));const k=n.runWebGPUProgram(S,[i],i.dtype,_),R=Mt({inputs:{x:k},backend:n,attrs:{shape:y}});return n.disposeData(k.dataId),R}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WTe{constructor(e,n,r){this.variableNames=["input","indices","segmentIds"],this.outputShape=[],this.uniforms="segmentSize : i32, sparseSize : i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=e,this.type=r,this.dispatchLayout=Ct([n]),this.dispatch=pt(this.dispatchLayout,[n],this.workgroupSize),this.shaderKey="sparseSegmentSum"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.sparseSize) {
        let indexInSegmentIds = index / uniforms.segmentSize;
        let indexInSegment = index % uniforms.segmentSize;
        let indexInInput = indices[indexInSegmentIds];
        let segmentId = segmentIds[indexInSegmentIds];

        let value = input[indexInInput * uniforms.segmentSize + indexInSegment];
        let outIndex = segmentId * uniforms.segmentSize + indexInSegment;
        ${up("&result[outIndex]","value",this.type)}
      }
    }
  `}}class GTe{constructor(e,n){this.variableNames=["segmentIds"],this.outputShape=[],this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=[e],this.dispatchLayout=Ct(n),this.dispatch=pt(this.dispatchLayout,n,this.workgroupSize),this.shaderKey="sparseSegmentIdCountProgram"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.segmentIdsShape) {
        let segmentId = segmentIds[index];
        ${up("&result[segmentId]","1","int32")}
      }
    }
  `}}class KTe{constructor(e,n){this.variableNames=["segmentSum","sameSegmentIdCount"],this.outputShape=[],this.uniforms="segmentSize : i32",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.type=n,this.dispatchLayout=Ct(e),this.dispatch=pt(this.dispatchLayout,e,this.workgroupSize),this.shaderKey="sparseSegmentMean"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.size) {
        let segmentId = index / uniforms.segmentSize;
        let count = sameSegmentIdCount[segmentId];
        if (count != 0) {
          ${this.type==="float32"?"setOutputAtIndex(index, segmentSum[index] / f32(count));":"setOutputAtIndexI32(index, segmentSum[index] / count);"}
        }
      }
    }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hW(t,e,n,r=!1,i){const s=lt(t.shape)/t.shape[0],l=t.dtype,f=lt(e.shape),p=i.readSync(n.dataId),g=f>0?p[f-1]+1:0;let y;const x=t.shape.slice();x[0]=g;const S=f*s,_=Lo({backend:i,attrs:{shape:x,value:0,dtype:l}});y=new WTe(x,S,l);let k=[{type:"int32",data:[s]},{type:"int32",data:[S]}];const R=i.runWebGPUProgram(y,[t,e,n],l,k,_);if(r)return R;const O=Lo({backend:i,attrs:{shape:[g],value:0,dtype:"int32"}});y=new GTe(g,n.shape);const I=i.runWebGPUProgram(y,[n],"int32",null,O),P=Lo({backend:i,attrs:{shape:x,value:0,dtype:l}});y=new KTe(x,l),k=[{type:"int32",data:[s]}];const F=i.runWebGPUProgram(y,[R,I],l,k,P);return i.disposeData(R.dataId),i.disposeData(I.dataId),F}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qTe(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:o}=e;return hW(r,i,o,!1,n)}const YTe={kernelName:aA,backendName:"webgpu",kernelFunc:qTe};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZTe(t){const{inputs:e,backend:n}=t,{data:r,indices:i,segmentIds:o}=e;return hW(r,i,o,!0,n)}const XTe={kernelName:oA,backendName:"webgpu",kernelFunc:ZTe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QTe{constructor(e,n){this.variableNames=["A"],this.workgroupSize=[64,1,1],this.size=!0;const r=new Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[i]*n[i];this.outputShape=r,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.rank=this.outputShape.length,this.shaderKey="tile"}getUserCode(){const e=JTe(this.rank,"uniforms.");return`
      ${ft("index")} {
        if (index < uniforms.size) {
          let resRC = getCoordsFromIndex(index);
          setOutputAtIndex(index, getA(${e}));
        }
      }
    `}}function JTe(t,e=""){if(t>=5)throw Error(`Tile for rank ${t} is not yet supported`);if(t===1)return`(resRC % ${e}aShape)`;const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let i=0;i<t;i++)r.push(`(${n[i]} % ${e}aShape[${i}])`);return r.join()}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wD(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{reps:o}=r;if(n.shouldExecuteOnCPU([i])||i.dtype==="string"||i.shape.length>=5){const f=n.readSync(i.dataId),p=i.dtype==="string"?f.map(y=>Mh(y)):f,m=Nr(i.shape,i.dtype,p),g=q2e(m,o);return n.makeTensorInfo(g.shape,g.dtype,g.values)}const s=new QTe(i.shape,o);return n.runWebGPUProgram(s,[i],i.dtype)}const e3e={kernelName:Fx,backendName:"webgpu",kernelFunc:wD};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t3e(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:i,sparseValues:o,defaultValue:s}=e,{outputShape:l}=r,{sliceRank:f,numUpdates:p,sliceSize:m,strides:g,outputSize:y}=D1(o,i,l),x=!1;if(o.dtype==="string"){const te=n.bufferSync(i),fe=n.bufferSync(o),ye=Mh(n.readSync(s.dataId)[0]),de=B2e(te,fe,l,y,m,p,f,g,ye,x);return n.makeTensorInfo(l,de.dtype,de.values)}const S=[y/m,m],_=Mt({inputs:{x:i},backend:n,attrs:{shape:[p,f]}}),k=o.shape.length?Mt({inputs:{x:o},backend:n,attrs:{shape:[p,m]}}):hs({inputs:{x:o},backend:n}),R=k.dtype,O=n.makeTensorInfo([],R,Sc(1,R)),I=Mt({inputs:{x:s},backend:n,attrs:{shape:Array(S.length).fill(1)}}),P=wD({inputs:{x:I},backend:n,attrs:{reps:S}}),F=lt([p,m]),K=[{type:"int32",data:[f]},{type:"int32",data:g},{type:"int32",data:[F]}];switch(p){case 0:break;case 1:{const te=new j1([p,m],f,_.shape.length,k.shape.length,g,S,R,x);n.runWebGPUProgram(te,[k,_],R,K,P)}break;default:{const te=new j1([p,m],f,_.shape.length,O.shape.length,g,S,R,x);n.runWebGPUProgram(te,[O,_],R,K,P)}{const te=new j1([p,m],f,_.shape.length,k.shape.length,g,S,R);n.runWebGPUProgram(te,[k,_],R,K,P)}}const Y=Mt({inputs:{x:P},backend:n,attrs:{shape:l}});return n.disposeData(_.dataId),n.disposeData(k.dataId),n.disposeData(I.dataId),n.disposeData(O.dataId),n.disposeData(P.dataId),Y}const n3e={kernelName:sA,backendName:"webgpu",kernelFunc:t3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{numOrSizeSplits:o,axis:s}=r,l=eu(s,i.shape)[0],f=oH(i,o,l),p=i.shape.length,m=new Array(p).fill(0),g=i.shape.slice();return f.map(y=>{const x=[...g];x[l]=y;const S=v0({inputs:{x:i},backend:n,attrs:{begin:m,size:x}});return m[l]+=y,S})}const i3e={kernelName:rA,backendName:"webgpu",kernelFunc:r3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a3e=Bn({opType:ct.SQRT}),o3e={kernelName:eA,backendName:"webgpu",kernelFunc:a3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s3e={kernelName:W5,backendName:"webgpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e,i=new g0(n.shape,ct.SQUARE);return r.runWebGPUProgram(i,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u3e=ua({opType:sn.SQUARED_DIFFERENCE}),l3e={kernelName:uA,backendName:"webgpu",kernelFunc:u3e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e({inputs:t,attrs:e,backend:n}){const{x:r}=t,i=new g0(r.shape,ct.STEP,"stepAlpha : f32,"),o=[{type:"float32",data:[e.alpha]}];return n.runWebGPUProgram(i,[r],r.dtype,o)}const f3e={kernelName:bA,backendName:"webgpu",kernelFunc:c3e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class d3e{constructor(e){this.variableNames=["x"],this.workPerThread=1,this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize,[this.workPerThread,1,1]);const n=Ti(this.outputShape.length);this.uniforms=`begin : ${n},  strides : ${n}, `,this.shaderKey="stridedSlice"}getUserCode(){const e=this.outputShape.length;let n="";if(e===1)n="coords * uniforms.strides + uniforms.begin";else{let i=0;n=this.outputShape.map((o,s)=>(i++,this.outputShape.length===1?`coords * uniforms.strides[${s}] + uniforms.begin[${s}]`:`coords[${i-1}] * uniforms.strides[${s}] + uniforms.begin[${s}]`)).join(",")}return`
       ${ft("index")} {
         if (index < uniforms.size) {
           let coords = getCoordsFromIndex(index);
           setOutputAtIndex(index, getX(${n}));
         }
       }
     `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{begin:o,end:s,strides:l,beginMask:f,endMask:p,ellipsisMask:m,newAxisMask:g,shrinkAxisMask:y}=r,{finalShapeSparse:x,finalShape:S,isIdentity:_,sliceDim0:k,isSimpleSlice:R,begin:O,end:I,strides:P}=$7(i.shape,o,s,l,f,p,m,g,y);let F;if(_)F=Mt({inputs:{x:i},backend:n,attrs:{shape:S}});else if(k||R){X(i.shape.length>=1,()=>`Input must have rank at least 1, got: ${i.shape.length}`);const K=x7(O,I,P),Y=v0({inputs:{x:i},backend:n,attrs:{begin:O,size:K}});F=Mt({inputs:{x:Y},backend:n,attrs:{shape:S}}),n.disposeData(Y.dataId)}else if(n.shouldExecuteOnCPU([i])){const Y=n.readSync(i.dataId),te=Nr(i.shape,i.dtype,Y),fe=W2e(x,te,P,O);F=n.makeTensorInfo(S,i.dtype,fe.values)}else{const Y=new d3e(x),te=[{type:"int32",data:O},{type:"int32",data:P}],fe=n.runWebGPUProgram(Y,[i],i.dtype,te);F=Mt({inputs:{x:fe},backend:n,attrs:{shape:S}}),n.disposeData(fe.dataId)}return F}const h3e={kernelName:lA,backendName:"webgpu",kernelFunc:p3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m3e(t){const{inputs:e,backend:n,attrs:r}=t,{separator:i,nGramWidths:o,leftPad:s,rightPad:l,padWidth:f,preserveShortSequences:p}=r,{data:m,dataSplits:g}=e,y=n.readSync(m.dataId),x=n.readSync(g.dataId),[S,_]=G2e(y,x,i,o,s,l,f,p);return[n.makeTensorInfo([S.length],"string",S),n.makeTensorInfo(g.shape,"int32",_)]}const g3e={kernelName:cA,backendName:"webgpu",kernelFunc:m3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v3e=ua({opType:sn.SUB,cpuKernelImpl:K2e,supportsComplex:!0}),y3e={kernelName:fA,backendName:"webgpu",kernelFunc:v3e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b3e=Bn({opType:ct.TAN}),w3e={kernelName:dA,backendName:"webgpu",kernelFunc:b3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x3e=Bn({opType:ct.TANH}),S3e={kernelName:pA,backendName:"webgpu",kernelFunc:x3e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C3e(t){const{inputs:e,backend:n,attrs:r}=t,{tensor:i,indices:o,updates:s}=e,{sliceRank:l,numUpdates:f,sliceSize:p,strides:m,outputSize:g}=D1(s,o,i.shape),y=[g/p,p];if(g===0)return n.makeTensorInfo(i.shape,o.dtype);const x=[],S=Mt({inputs:{x:o},backend:n,attrs:{shape:[f,l]}});x.push(S);const _=Mt({inputs:{x:s},backend:n,attrs:{shape:[f,p]}});x.push(_);const k=Mt({inputs:{x:i},backend:n,attrs:{shape:y}});x.push(k);const R=wD({inputs:{x:k},backend:n,attrs:{reps:Array(y.length).fill(1)}}),O=new j1([f,p],l,S.shape.length,_.shape.length,m,y,i.dtype,!1),I=lt([f,p]),P=[{type:"int32",data:[l]},{type:"int32",data:m},{type:"int32",data:[I]}],F=n.runWebGPUProgram(O,[_,S],k.dtype,P,R);x.push(F);const K=Mt({inputs:{x:F},backend:n,attrs:{shape:i.shape}});return x.forEach(Y=>n.disposeData(Y.dataId)),K}const E3e={kernelName:HR,backendName:"webgpu",kernelFunc:C3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _3e{constructor(e){this.variableNames=["x","indices"],this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms=`inputSize : i32, firstPass : i32, negativeInf : f32,
        dir : i32, inc : i32,`,this.shaderKey="swap"}getUserCode(){return`
        ${ft("index")} {
          if (index < uniforms.size) {
            let outC = getCoordsFromIndex(index);
            let batch = outC[0];
            let elemIdx = outC[1];
            // We compare elements pair-wise within a group of size 2 * inc.
            // The comparing rule for each group alternates between ascending
            // and descending. Within each group, we compare each pair at
            // positions i and i+inc. To decide whether an element at position i
            // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
            // inc, it is in the first half of the group, we denote it as x0,
            // otherwise we denote it as x1.
            // For example, as shown in the Bitonic top K paper referenced
            // above, Figure5(a) shows that element[1] is in the second half of
            // the group when group size is 2, but it is in the first half of
            // the group when group size is 4.
            let isFirstInPair = elemIdx % (2 * uniforms.inc) < uniforms.inc;
            var i = 0;
            if (isFirstInPair) {
              i = elemIdx;
            } else {
              i = elemIdx - uniforms.inc;
            }

            var i0 = 0;
            if (uniforms.firstPass == 1) {
              i0 = i;
            } else {
              i0 = i32(getIndices(batch, i));
            }

            var i1 = 0;
            if (uniforms.firstPass == 1) {
              i1 = i + uniforms.inc;
            } else {
              i1 = i32(getIndices(batch, i + uniforms.inc));
            }

            var x0 = f32(0.0);
            var x1 = f32(0.0);
            if (i0 < uniforms.inputSize) {
              x0 = getX(batch, i0);
            } else {
              x0 = uniforms.negativeInf;
            }
            if (i1 < uniforms.inputSize) {
              x1 = getX(batch, i1);
            } else {
              x1 = uniforms.negativeInf;
            }

            let reverse = elemIdx % (2 * uniforms.dir) >= uniforms.dir;
            let isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
            if (reverse == isGreater) {
              // Elements in opposite order of direction
              let iTemp = i0;
              i0 = i1;
              i1 = iTemp;
            }
            if (isFirstInPair) {
              setOutputAtIndex(index, f32(i0));
            } else {
              setOutputAtIndex(index, f32(i1));
            }
          }
        }
      `}}class T3e{constructor(e){this.variableNames=["x","indices"],this.workgroupSize=[256,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.uniforms="inputSize : i32, firstPass : i32, k : i32,",this.shaderKey="merge"}getUserCode(){return`
        ${ft("index")} {
          if (index < uniforms.size) {
            let outC = getCoordsFromIndex(index);
            let batch = outC[0];
            let elemIdx = outC[1];
            // The output size is half of the previous size.
            // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _
            // (k=4), we only need to output the indices at positions |, the
            // indices at positions _ can be thrown away, see Figure5(b) After
            // Phase 2 (Merge phase) in the Bitonic Top K paper referenced
            // above.
            // For example, the paper shows we only need to output the orange
            // bars. The output sequence should look like this | | | | | | | |.
            // Because the sequence is halved, to map the output index back to
            // the previous sequence to find the corresponding value, we need
            // to double the index. When we double the index, we basically
            // interpolate a position, so 2i looks like
            // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k
            // position of each 2k positions by - elemIdx % k. E.g. for output
            // at index 4,5,6,7, we want to get the corresponding element at
            // original index 8,9,10,11, for output at index 8,9,10,11,
            // we want to get the corresponding element at original index
            // 16,17,18,19, so on and so forth.

            var i = 0;
            if (elemIdx < uniforms.k) {
              i = elemIdx;
            } else {
              i = elemIdx * 2 - elemIdx % uniforms.k;
            }
            var i0 = 0;
            if (uniforms.firstPass == 1) {
              i0 = i;
            } else {
              i0 = i32(getIndices(batch, i));
            }
            var i1 = 0;
            if (uniforms.firstPass == 1) {
              i1 = i + uniforms.k;
            } else {
              i1 = i32(getIndices(batch, i + uniforms.k));
            }

            let x0 = getX(batch, i0);
            var x1 = f32(0.0);
            if (i1 < uniforms.inputSize) {
              x1 = getX(batch, i1);
            } else {
              x1 = x0;
            }

            if (x0 >= x1) {
              setOutputAtIndex(index, f32(i0));
            } else {
              setOutputAtIndex(index, f32(i1));
            }
          }
        }
      `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0(t,e){e!==null&&t.disposeData(e.dataId)}function mW(t){let e=1;for(;e<t;)e*=2;return e}function k3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i}=e,{k:o,sorted:s}=r,l=i.shape,f=l[l.length-1];if(n.shouldExecuteOnCPU([i])){const F=n.readSync(i.dataId),[K,Y]=Y2e(F,l,i.dtype,o,s);return[n.makeTensorInfo(K.shape,K.dtype,K.values),n.makeTensorInfo(Y.shape,Y.dtype,Y.values)]}if(o===0)return l[l.length-1]=0,[n.makeTensorInfo(l,i.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(f===1)return[i,Lo({attrs:{shape:l,dtype:"int32",value:0},backend:n})];const m=lt(l)/f,g=Mt({inputs:{x:i},attrs:{shape:[m,f]},backend:n}),y=mW(o),x=mW(f);let S=null;const _=()=>S===null?[g,g]:[g,S],k=(F,K,Y)=>{const te=_(),fe=new _3e(Y),de=[{type:"int32",data:[f]},{type:"int32",data:[S===null?1:0]},{type:"float32",data:[Number.NEGATIVE_INFINITY]},{type:"int32",data:[F]},{type:"int32",data:[K]}],Pe=S;S=n.runWebGPUProgram(fe,te,"int32",de),b0(n,Pe)};for(let F=1;F<y;F*=2){const K=F*2;for(let Y=F;Y>=1;Y/=2)k(K,Y,[m,x])}for(let F=x;F>y;F/=2){const K=_(),Y=new T3e([m,F/2]),fe=[{type:"int32",data:[f]},{type:"int32",data:[S===null?1:0]},{type:"int32",data:[y]}],ye=S;S=n.runWebGPUProgram(Y,K,"int32",fe),b0(n,ye);const de=y/2,Pe=de*2;for(let xe=de;xe>=1;xe/=2)k(Pe,xe,S.shape)}let R=S;S=v0({inputs:{x:S},backend:n,attrs:{begin:0,size:[m,o]}}),b0(n,R);let O=lW({inputs:{x:g,indices:S},backend:n,attrs:{axis:1,batchDims:1}});b0(n,g);const I=l.slice(0,-1);I.push(o),R=S,S=Mt({inputs:{x:S},attrs:{shape:I},backend:n}),b0(n,R);const P=O;return O=Mt({inputs:{x:O},attrs:{shape:I},backend:n}),b0(n,P),[O,S]}const N3e={kernelName:hA,backendName:"webgpu",kernelFunc:k3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R3e{constructor(e){this.variableNames=["Image","Transforms"],this.uniforms="interpolationModeId : i32, fillModeId : i32, fillValue : f32,",this.workgroupSize=[64,1,1],this.size=!0,this.outputShape=e,this.dispatchLayout=Ct(this.outputShape),this.dispatch=pt(this.dispatchLayout,this.outputShape,this.workgroupSize),this.shaderKey="transform"}getUserCode(){return`
          fn mapCoord(outCoord : f32, len : f32) -> f32{
            var inCoord = outCoord;
            if(uniforms.fillModeId == 2) {
              if (inCoord < 0.0) {
                if (len <= 1.0) {
                  inCoord = 0.0;
                } else {
                  let sz2 = 2.0 * len;
                  if (inCoord < sz2) {
                    inCoord = sz2 * f32(i32(f32(-inCoord / sz2))) +
                    inCoord;
                  }
                  if (inCoord < -len) {
                    inCoord = inCoord + sz2;
                  } else {
                    inCoord = -inCoord - 1.0;
                  }
                }
              } else if (inCoord > len - 1.0) {
                if (len <= 1.0) {
                  inCoord = 0.0;
                } else {
                  let sz2 = 2.0 * len;
                  inCoord = inCoord - sz2 * f32(i32(f32(inCoord / sz2)));
                  if (inCoord >= len) {
                    inCoord = sz2 - inCoord - 1.0;
                  }
                }
              }
              return clamp(inCoord, 0.0, len - 1.0);
            } else if (uniforms.fillModeId == 3) {
              if (inCoord < 0.0) {
                if (len <= 1.0) {
                  inCoord = 0.0;
                } else {
                  let sz = len - 1.0;
                  inCoord = inCoord + len * (f32(i32(f32(-inCoord / sz))) + 1.0);
                }
              } else if (inCoord > len - 1.0) {
                if (len <= 1.0) {
                  inCoord = 0.0;
                } else {
                  let sz = len - 1.0;
                  inCoord = inCoord - len * f32(i32(f32(inCoord / sz)));
                }
              }
              return clamp(inCoord, 0.0, len - 1.0);
            } else if (uniforms.fillModeId == 4) {
              return clamp(outCoord, 0.0, len - 1.0);
            }
            return outCoord;
          }
          fn readWithFillValue(batch : i32, coordY : i32, coordX : i32,
            channel : i32) -> f32 {
            var outputValue : f32;
            if (0 <= coordY && coordY < uniforms.imageShape[1] && 0 <= coordX && coordX < uniforms.imageShape[2]) {
                outputValue = getImage(batch, coordY, coordX, channel);
            } else {
              outputValue = uniforms.fillValue;
            }
            return outputValue;
          }

          ${ft("index")} {
            if (index < uniforms.size) {
              let coords = getCoordsFromIndex(index);
              var outputValue : f32;
              let batch = coords[0];
              let x = coords[2];
              let y = coords[1];
              let channel = coords[3];
              let xf = f32(x);
              let yf = f32(y);
              let a1 = getTransforms(batch, 0);
              let a2 = getTransforms(batch, 1);
              let a3 = getTransforms(batch, 2);
              let b1 = getTransforms(batch, 3);
              let b2 = getTransforms(batch, 4);
              let b3 = getTransforms(batch, 5);
              let c1 = getTransforms(batch, 6);
              let c2 = getTransforms(batch, 7);
              let projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = uniforms.fillValue;
              } else {
                let inX = (a1 * xf + a2 * yf + a3) / projection;
                let inY = (b1 * xf + b2 * yf + b3) / projection;
                let mapX = mapCoord(inX, f32(uniforms.imageShape[2]));
                let mapY = mapCoord(inY, f32(uniforms.imageShape[1]));

                if (uniforms.interpolationModeId == 1) {
                  let coordY = i32(round(mapY));
                  let coordX = i32(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  let yFloor = floor(mapY);
                  let xFloor = floor(mapX);
                  let yCeil = yFloor + 1.0;
                  let xCeil = xFloor + 1.0;
                  let valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, i32(yFloor), i32(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, i32(yFloor), i32(xCeil), channel);
                  let valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, i32(yCeil), i32(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, i32(yCeil), i32(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutputAtIndex(index, outputValue);
            }
          }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t){const{inputs:e,backend:n,attrs:r}=t,{image:i,transforms:o}=e,{interpolation:s,fillMode:l,fillValue:f,outputShape:p}=r,[m,g,y,x]=i.shape,[S,_]=p??[g,y],k=[m,S,_,x],R=new R3e(k),O=s==="nearest"?1:2;let I;switch(l){case"constant":I=1;break;case"reflect":I=2;break;case"wrap":I=3;break;case"nearest":I=4;break;default:I=1;break}const P=[{type:"int32",data:[O]},{type:"int32",data:[I]},{type:"float32",data:[f]}];return n.runWebGPUProgram(R,[i,o],"float32",P)}const D3e={kernelName:mA,backendName:"webgpu",kernelFunc:A3e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O3e(t){const{inputs:e,backend:n,attrs:r}=t,{value:i}=e;let{axis:o}=r;o<0&&(o+=i.shape.length);const s=i,l=s.shape.length,f=i.shape[o],p=new Array(l-1);let m=0;for(let _=0;_<l;_++)_!==o&&(p[m++]=s.shape[_]);const g=[],y=new Array(l).fill(0),x=s.shape.slice();x[o]=1;const S=new Array(f);for(let _=0;_<S.length;_++){y[o]=_;const k=v0({inputs:{x:s},backend:n,attrs:{begin:y,size:x}}),R=Mt({inputs:{x:k},backend:n,attrs:{shape:p}});S[_]=R,g.push(k)}return g.forEach(_=>n.disposeData(_.dataId)),S}const $3e={kernelName:gA,backendName:"webgpu",kernelFunc:O3e};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class I3e{constructor(e,n,r){if(this.outputShape=[],this.variableNames=["x","segmentIds"],this.uniforms="numSegments : i32, xSize: i32,",this.workgroupSize=[64,1,1],this.atomic=!0,this.outputShape=n,this.dispatchLayout=Ct(e),this.dispatch=pt(this.dispatchLayout,e,this.workgroupSize),r!=="float32"&&r!=="int32")throw new Error(`UnsortedSegmentSum only supports float32 and int32
              types, does not support ${r} type.`);this.type=r,this.shaderKey="unsortedSegmentSum"}getUserCode(){return`
    ${ft("index")} {
      if (index < uniforms.xSize) {
        let coords = getXCoordsFromIndex(index);
        let b = coords[0];
        let inCol = coords[1];

        let segmentId = i32(getSegmentIds(inCol));
        if (segmentId >= 0) {
          let flatIndex = b * uniforms.numSegments + segmentId % uniforms.numSegments;
          let value = getX(b, inCol);

          ${up("&result[flatIndex]","value",this.type)}
        }
      }
    }
  `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:i,segmentIds:o}=e,{numSegments:s}=r,l=i.shape.length,f=[];let p=0;const m=a0([p],l);let g=i;m!=null&&(g=Dc({inputs:{x:i},backend:n,attrs:{perm:m}}),f.push(g),p=o0(1,l)[0]);const y=yH(g.shape,p,s),x=lt([g.shape[p]]),S=Mt({inputs:{x:g},backend:n,attrs:{shape:[-1,x]}});f.push(S);const _=i.dtype,k=[S.shape[0],s],R=Lo({backend:n,attrs:{shape:k,value:0,dtype:_}}),O=new I3e(S.shape,k,_),I=[{type:"int32",data:[s]},{type:"int32",data:[lt(S.shape)]}],P=n.runWebGPUProgram(O,[S,o],_,I,R),F=Mt({inputs:{x:P},backend:n,attrs:{shape:y}});f.push(P);let K=F;if(m!=null){f.push(F);const Y=i4(m);K=Dc({inputs:{x:K},backend:n,attrs:{perm:Y}})}return f.forEach(Y=>n.disposeData(Y.dataId)),K}const M3e={kernelName:vA,backendName:"webgpu",kernelFunc:P3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L3e=[lwe,Q2e,exe,nxe,ixe,sxe,hxe,gxe,yxe,wxe,Sxe,Exe,Txe,Nxe,Axe,Pxe,Lxe,zxe,Uxe,Wxe,Yxe,Jxe,nSe,oSe,uSe,dSe,fwe,mSe,bSe,kSe,$Se,LSe,jSe,BSe,HSe,GSe,qSe,ZSe,QSe,eCe,nCe,aCe,dCe,hCe,uCe,vCe,wCe,ECe,TCe,RCe,$Ce,PCe,MCe,FCe,jCe,BCe,UCe,WCe,KCe,owe,YCe,tEe,XCe,JCe,iEe,oEe,uEe,fEe,hEe,gEe,yEe,cwe,wEe,vSe,SEe,EEe,TEe,NEe,AEe,OEe,PEe,VEe,LEe,zEe,UEe,WEe,YEe,QEe,Oxe,e_e,n_e,c_e,i_e,u_e,d_e,$xe,h_e,g_e,y_e,w_e,__e,ACe,k_e,R_e,D_e,rSe,I_e,M_e,F_e,j_e,B_e,H_e,G_e,K_e,iSe,Y_e,X_e,J_e,tTe,swe,iTe,sTe,cTe,pTe,gTe,yTe,wTe,STe,ETe,kTe,ATe,OTe,ITe,MTe,FTe,jTe,qxe,f3e,h3e,g3e,C_e,BTe,HTe,YTe,XTe,n3e,i3e,o3e,s3e,l3e,y3e,DCe,w3e,S3e,E3e,e3e,N3e,D3e,cxe,$3e,M3e,P_e];for(const t of L3e)SA(t);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */$t().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var ms;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(ms||(ms={}));var gW;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(gW||(gW={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F3e={};function vW(t){return F3e[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M(t,e,n,r,i){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const l=o.inputIndexStart,f=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?l+1:o.inputIndexEnd,p=l<0?e.inputNames.length+l:l;if(o.type==="tensor")return ka(e.inputNames[p],n,r,i);if(o.type==="tensors"){const y=e.inputs.slice(l,f);return e.inputNames.slice(l,f).filter((S,_)=>{var k;return((k=y[_])===null||k===void 0?void 0:k.op)!=="NoOp"}).map(S=>ka(S,n,r,i))}const m=ka(e.inputNames[p],n,r,i),g=m.dataSync();return o.type==="number"?g[0]:Dh(m.shape,g)}const s=e.attrParams[t];return s&&s.value}function ka(t,e,n,r){const[i,o]=gs(t,n);if(r!=null){const l=r.getHashTableHandleByName(i);if(l!=null)return l}const s=n.currentContextIds.find(l=>!!e[_S(i,l)]);return s!==void 0?e[_S(i,s)][o]:void 0}function yW(t,e,n){return e[_S(t,n.currentContextId)]}function $f(t,e){const[n,r,i]=gs(t,e);return[_S(n,e&&e.currentContextId),r,i]}function _S(t,e){return e?`${t}-${e}`:t}function gs(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const o=e.parseNodeNameCache.get(t);if(o!=null)return o}const r=t.split(":");let i;if(r.length===1)i=[t,0,void 0];else{const o=r[0],s=r.length===3?r[1]:void 0,l=Number(r[r.length-1]);i=[o,l,s]}return n&&e.parseNodeNameCache.set(t,i),i}function TS(t,e,n){let r=M("pad",t,e,n);if(r==="explicit"){r=M("explicitPaddings",t,e,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)i[o][0]=r[o*2],i[o][1]=r[o*2+1];return i}return r}function If(t){return t.kept?t:kf(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J3e=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eke=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tke=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nke=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rke=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bW{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[V3e,j3e,z3e,B3e,U3e,H3e,W3e,G3e,K3e,q3e,Y3e,Z3e,X3e,Q3e,J3e,eke,tke,nke,rke],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,i)=>(r[i.tfOpName]=i,r),{})}transformGraph(e,n={}){const r=e.node,i=[],o=[],s=[],l=r.reduce((_,k)=>(_[k.name]=this.mapNode(k),k.op.startsWith("Placeholder")?i.push(_[k.name]):k.op==="Const"?o.push(_[k.name]):(k.input==null||k.input.length===0)&&s.push(_[k.name]),_),{});let f=[];const p=[];let m={},g={};n!=null&&(m=this.mapSignatureEntries(n.inputs),g=this.mapSignatureEntries(n.outputs));const y=Object.keys(l);y.forEach(_=>{const k=l[_];k.inputNames.forEach((R,O)=>{const[I,,P]=$f(R),F=l[I];if(F.outputs!=null){const K=F.outputs.indexOf(P);if(K!==-1){const Y=`${I}:${K}`;k.inputNames[O]=Y}}k.inputs.push(F),F.children.push(k)})}),Object.keys(g).length===0?y.forEach(_=>{const k=l[_];k.children.length===0&&p.push(k)}):Object.keys(g).forEach(_=>{const[k]=$f(_),R=l[k];R!=null&&(R.signatureKey=g[_],p.push(R))}),Object.keys(m).length>0?Object.keys(m).forEach(_=>{const[k]=$f(_),R=l[k];R&&(R.signatureKey=m[_],f.push(R))}):f=i;let x={};e.library!=null&&e.library.function!=null&&(x=e.library.function.reduce((_,k)=>(_[k.signature.name]=this.mapFunction(k),_),{}));const S={nodes:l,inputs:f,outputs:p,weights:o,placeholders:i,signature:n,functions:x};return s.length>0&&(S.initNodes=s),S}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=vW(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(i=>i.startsWith("^")?i.slice(1):i),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((i,o)=>(i[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},i),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((i,o)=>{const s=o.type;let l;switch(o.type){case"string":l=xD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=xD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":l=RD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=RD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":l=CD(e.attr,o.tfName,o.defaultValue||0),l===void 0&&o.tfDeprecatedName&&(l=CD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":l=ND(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=ND(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":l=SD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=SD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":l=DD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=DD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":l=kD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=kD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":l=AD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=AD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":l=_D(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=_D(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":l=TD(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=TD(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":l=xW(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=xW(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${e.op}`)}return i[o.name]={value:l,type:s},i},{})),r}mapFunction(e){const n=e.nodeDef,r=[],i=[];let o={};n!=null&&(o=n.reduce((g,y)=>(g[y.name]=this.mapNode(y),y.op==="Const"&&i.push(g[y.name]),g),{}));const s=[],l=[];e.signature.inputArg.forEach(g=>{const[y]=$f(g.name),x={name:y,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:ED(g.type),type:"dtype"}},children:[]};x.signatureKey=g.name,s.push(x),o[y]=x}),Object.keys(o).forEach(g=>{const y=o[g];y.inputNames.forEach((x,S)=>{const[_,,k]=$f(x),R=o[_];if(R.outputs!=null){const O=R.outputs.indexOf(k);if(O!==-1){const I=`${_}:${O}`;y.inputNames[S]=I}}y.inputs.push(R),R.children.push(y)})});const p=e.ret;e.signature.outputArg.forEach(g=>{const[y,x]=$f(p[g.name]),S=o[y];S!=null&&(S.defaultOutput=x,l.push(S))});const m=this.mapArgsToSignature(e);return{nodes:o,inputs:s,outputs:l,weights:i,placeholders:r,signature:m}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function ike(t){const e=$t().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function wW(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):ike(t);return e?n:n.toLowerCase()}function xD(t,e,n,r=!1){const i=t[e];return i!=null?wW(i.s,r):n}function SD(t,e,n){const r=t[e];return r?r.b:n}function CD(t,e,n){const r=t[e]||{},i=r.i!=null?r.i:r.f!=null?r.f:n;return typeof i=="number"?i:parseInt(i,10)}function ED(t){switch(typeof t=="string"&&(t=ms[t]),t){case ms.DT_FLOAT:case ms.DT_HALF:return"float32";case ms.DT_INT32:case ms.DT_INT64:case ms.DT_INT8:case ms.DT_UINT8:return"int32";case ms.DT_BOOL:return"bool";case ms.DT_DOUBLE:return"float32";case ms.DT_STRING:return"string";case ms.DT_COMPLEX64:case ms.DT_COMPLEX128:return"complex64";default:return null}}function xW(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function _D(t,e,n){const r=t[e];return r&&r.type?ED(r.type):n}function TD(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(i=>ED(i)):n}function SW(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function kD(t,e,n){const r=t[e];return r&&r.shape?SW(r.shape):n}function ND(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(i=>typeof i=="number"?i:parseInt(i,10)):n}function RD(t,e,n,r=!1){const i=t[e];return i&&i.list&&i.list.s?i.list.s.map(o=>wW(o,r)):n}function AD(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(i=>SW(i)):n}function DD(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ake{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(i=>this.getInput(i)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((i,o)=>(i[o]=this.getAttr(o),i),{}))}getInput(e){return ka(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return ka(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return CD(this.node.rawAttrs,e,n);if(r.s!=null)return xD(this.node.rawAttrs,e,n);if(r.b!=null)return SD(this.node.rawAttrs,e,n);if(r.shape!=null)return kD(this.node.rawAttrs,e,n);if(r.type!=null)return _D(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return ND(this.node.rawAttrs,e,n);if(r.list.s!=null)return RD(this.node.rawAttrs,e,n);if(r.list.shape!=null)return AD(this.node.rawAttrs,e,n);if(r.list.b!=null)return DD(this.node.rawAttrs,e,n);if(r.list.type!=null)return TD(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Na=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:MA,abs:ds,acos:BB,acosh:UB,add:en,addN:HB,all:WB,any:GB,argMax:YA,argMin:KB,asin:qB,asinh:YB,atan:ZB,atan2:XB,atanh:QB,avgPool:QA,avgPool3d:JB,basicLSTMCell:eU,batchNorm:b1,batchNorm2d:tU,batchNorm3d:nU,batchNorm4d:rU,batchToSpaceND:JA,bincount:e4,bitwiseAnd:iU,booleanMaskAsync:U9,broadcastArgs:aU,broadcastTo:t0,buffer:Nr,cast:Kn,ceil:oU,clipByValue:sU,clone:kf,complex:_f,concat:za,concat1d:uU,concat2d:lU,concat3d:cU,concat4d:fU,conv1d:dU,conv2d:w1,conv2dTranspose:hU,conv3d:mU,conv3dTranspose:gU,cos:vU,cosh:yU,cosineWindow:uS,cumprod:bU,cumsum:wU,denseBincount:xU,depthToSpace:SU,depthwiseConv2d:Zx,diag:CU,dilation2d:EU,div:Er,divNoNan:_U,dot:TU,dropout:q9,einsum:Wh,elu:n4,enclosingPowerOfTwo:B4,ensureShape:kU,equal:x1,erf:NU,euclideanNorm:DU,exp:ep,expandDims:Mo,expm1:OU,eye:a4,fft:aS,fill:n0,floor:o4,floorDiv:qA,fused:Z9,gather:s4,gatherND:K9,greater:l0,greaterEqual:u4,ifft:A1,imag:E1,image:Zh,inTopKAsync:Y9,irfft:M4,isFinite:$U,isInf:IU,isNaN:PU,leakyRelu:l4,less:Jx,lessEqual:eS,linalg:i7,linspace:MU,localResponseNormalization:LU,log:c0,log1p:c4,logSigmoid:VU,logSoftmax:jU,logSumExp:d4,logicalAnd:_1,logicalNot:p4,logicalOr:h4,logicalXor:zU,losses:a7,lowerBound:BU,matMul:Qn,max:Gh,maxPool:m4,maxPool3d:UU,maxPoolWithArgmax:HU,maximum:g4,mean:T1,meshgrid:WU,min:Qx,minimum:k1,mirrorPad:v4,mod:GU,moments:KU,movingAverage:H9,mul:vt,multiRNNCell:qU,multinomial:YU,neg:Tl,norm:C1,notEqual:y4,oneHot:N1,ones:np,onesLike:ZU,op:ue,outerProduct:XU,pad:Kh,pad1d:QU,pad2d:JU,pad3d:b4,pad4d:e9,pool:t9,pow:s0,prelu:x4,print:KA,prod:n9,raggedGather:r9,raggedRange:i9,raggedTensorToTensor:a9,rand:o9,randomGamma:c9,randomNormal:$4,randomStandardNormal:f9,randomUniform:iS,randomUniformInt:d9,range:rp,real:f0,reciprocal:p9,relu:R1,relu6:I4,reshape:ze,reverse:ip,reverse1d:h9,reverse2d:m9,reverse3d:g9,reverse4d:v9,rfft:oS,round:P4,rsqrt:y9,scalar:Tn,scatterND:W9,searchSorted:rS,selu:b9,separableConv2d:w9,setdiff1dAsync:x9,sigmoid:Tc,sign:S9,signal:r7,sin:C9,sinh:E9,slice:Sr,slice1d:_9,slice2d:T9,slice3d:k9,slice4d:N9,softmax:R9,softplus:f4,spaceToBatchND:w4,sparse:o7,sparseToDense:G9,spectral:n7,split:d0,sqrt:kc,square:Vu,squaredDifference:L4,squeeze:ju,stack:Rc,step:F4,stridedSlice:A9,string:s7,sub:xn,sum:Rr,tan:D9,tanh:Yx,tensor:Lu,tensor1d:nu,tensor2d:Yh,tensor3d:V4,tensor4d:O9,tensor5d:$9,tensor6d:I9,tensorScatterUpdate:P9,tile:u0,topk:M9,transpose:O1,truncatedNormal:L9,unique:F9,unsortedSegmentSum:V9,unstack:ap,upperBound:j9,variable:z9,where:Nf,whereAsync:z4,zeros:tp,zerosLike:ps},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oke=(t,e,n,r=Na)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(M("a",t,e,n),M("b",t,e,n))];case"AddN":return[r.addN(M("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(M("a",t,e,n),M("b",t,e,n))];case"Mul":return[r.mul(M("a",t,e,n),M("b",t,e,n))];case"RealDiv":case"Div":return[r.div(M("a",t,e,n),M("b",t,e,n))];case"DivNoNan":return[r.divNoNan(M("a",t,e,n),M("b",t,e,n))];case"FloorDiv":return[r.floorDiv(M("a",t,e,n),M("b",t,e,n))];case"Sub":return[r.sub(M("a",t,e,n),M("b",t,e,n))];case"Minimum":return[r.minimum(M("a",t,e,n),M("b",t,e,n))];case"Maximum":return[r.maximum(M("a",t,e,n),M("b",t,e,n))];case"Pow":return[r.pow(M("a",t,e,n),M("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(M("a",t,e,n),M("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ske=(t,e,n,r=Na)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(M("x",t,e,n))];case"Acos":return[r.acos(M("x",t,e,n))];case"Acosh":return[r.acosh(M("x",t,e,n))];case"Asin":return[r.asin(M("x",t,e,n))];case"Asinh":return[r.asinh(M("x",t,e,n))];case"Atan":return[r.atan(M("x",t,e,n))];case"Atan2":return[r.atan2(M("x",t,e,n),M("y",t,e,n))];case"Atanh":return[r.atanh(M("x",t,e,n))];case"Ceil":return[r.ceil(M("x",t,e,n))];case"Complex":return[r.complex(M("real",t,e,n),M("imag",t,e,n))];case"Cos":return[r.cos(M("x",t,e,n))];case"Cosh":return[r.cosh(M("x",t,e,n))];case"Elu":return[r.elu(M("x",t,e,n))];case"Erf":return[r.erf(M("x",t,e,n))];case"Exp":return[r.exp(M("x",t,e,n))];case"Expm1":return[r.expm1(M("x",t,e,n))];case"Floor":return[r.floor(M("x",t,e,n))];case"Log":return[r.log(M("x",t,e,n))];case"Log1p":return[r.log1p(M("x",t,e,n))];case"Imag":return[r.imag(M("x",t,e,n))];case"Neg":return[r.neg(M("x",t,e,n))];case"Reciprocal":return[r.reciprocal(M("x",t,e,n))];case"Real":return[r.real(M("x",t,e,n))];case"Relu":return[r.relu(M("x",t,e,n))];case"Round":return[r.round(M("x",t,e,n))];case"Selu":return[r.selu(M("x",t,e,n))];case"Sigmoid":return[r.sigmoid(M("x",t,e,n))];case"Sin":return[r.sin(M("x",t,e,n))];case"Sign":return[r.sign(M("x",t,e,n))];case"Sinh":return[r.sinh(M("x",t,e,n))];case"Softplus":return[r.softplus(M("x",t,e,n))];case"Sqrt":return[r.sqrt(M("x",t,e,n))];case"Square":return[r.square(M("x",t,e,n))];case"Tanh":return[r.tanh(M("x",t,e,n))];case"Tan":return[r.tan(M("x",t,e,n))];case"ClipByValue":return[r.clipByValue(M("x",t,e,n),M("clipValueMin",t,e,n),M("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(M("x",t,e,n))];case"Rsqrt":return[r.rsqrt(ka(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(M("x",t,e,n),M("alpha",t,e,n))];case"Prelu":return[r.prelu(M("x",t,e,n),M("alpha",t,e,n))];case"IsNan":return[r.isNaN(ka(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(ka(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(ka(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bu(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){X(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const i=t[r],o=e[r];X(i<0||o<0||i===o,()=>n+` Shapes ${t} and ${e} must match`)}}}function CW(t){return!(typeof t=="number"||t.some(e=>e<0))}function z1(t,e,n){let r=OD(t,n);const i=!CW(r);if(i&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(i&&e.forEach(o=>{r=OD(o.shape,r)}),!CW(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function OD(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const i=t[r],o=e[r];if(i>=0&&o>=0&&i!==o)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=i>=0?i:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uke{constructor(e,n,r,i,o,s,l){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=o,this.dynamicSize=s,this.clearAfterRead=l,this.tensors=[],this.closed_=!1,this.idTensor=Tn(0),El(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Bu(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,El(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,i)=>this.write(r,n[i]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let i=0;i<this.size();i++)e.push(i)}if(e.length===0)return Lu([],[0].concat(this.elementShape));const r=this.readMany(e);return Bu(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Rc(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Lu([],[0].concat(this.elementShape));const n=[];for(let i=0;i<this.size();i++)n.push(i);const r=this.readMany(n);return Bu(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),za(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,ap(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const i=e.map(f=>(r+=f,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=r===0?0:n.size/r,s=[];tn(()=>{n=ze(n,[1,r,o]);for(let f=0;f<e.length;++f){const m=[0,f===0?0:i[f-1],0],g=[1,e[f],o];s[f]=ze(Sr(n,m,g),this.elementShape)}return s});const l=[];for(let f=0;f<e.length;f++)l[f]=f;this.writeMany(l,s)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class am{get id(){return this.idTensor.id}constructor(e,n,r,i=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(o=>{if(r!==o.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${o.dtype}`);Bu(n,o.shape,"TensorList shape mismatch: "),El(o)}),this.idTensor=Tn(0),this.maxNumElements=i,El(this.idTensor)}copy(){return new am([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Bu(e,this.elementShape,"TensorList shape mismatch: ");const i=z1(this.elementShape,this.tensors,e);return tn(()=>{const o=this.tensors.map(s=>ze(s,i));return Rc(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=z1(this.elementShape,this.tensors,e),i=this.tensors.pop();return i.kept=!1,Bu(i.shape,e,"TensorList shape mismatch: "),ze(i,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Bu(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");El(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new am([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Bu(this.tensors[e].shape,n,"TensorList shape mismatch: ");const i=z1(this.elementShape,this.tensors,n);return ze(this.tensors[e],i)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Bu(this.elementShape,n.shape,"TensorList shape mismatch: "),El(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Bu(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const i=z1(this.elementShape,this.tensors,r);return e.length===0?Lu([],[0].concat(i)):tn(()=>{const o=e.map(s=>ze(this.tensors[s],i));return Rc(o,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Bu(this.elementShape,n,"TensorList shape mismatch: ");const r=z1(this.elementShape,this.tensors,n);return this.size()===0?Lu([],[0].concat(r)):tn(()=>{const i=this.tensors.map(o=>ze(o,r));return za(i,0)})}}function lke(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const i=t.shape.slice(1);Bu(i,e,"TensorList shape mismatch: ");const o=ap(t);return new am(o,e,r)}function cke(t,e,n,r){return new am([],t,e,r)}function fke(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const i=Math.max(...e);if(r!=null&&r!==-1&&i>=r)throw new Error(`Max index must be < array size (${i}  vs. ${r})`);const o=new am([],n,t.dtype,r),s=ap(t,0);return e.forEach((l,f)=>{o.setItem(l,s[f])}),o}function dke(t,e,n){let r=0;const i=e.map(m=>(r+=m,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const o=t.shape.slice(1),s=OD(o,n),l=r===0?0:t.size/r,f=tn(()=>{const m=[];t=ze(t,[1,r,l]);for(let g=0;g<e.length;++g){const x=[0,g===0?0:i[g-1],0],S=[1,e[g],l];m[g]=ze(Sr(t,x,S),s)}return t.dispose(),m}),p=new am([],n,t.dtype,e.length);for(let m=0;m<f.length;m++)p.setItem(m,f[m]);return p}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pke=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=M("thenBranch",t,e,n),i=M("elseBranch",t,e,n),o=M("cond",t,e,n),s=M("args",t,e,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=M("body",t,e,n),i=M("cond",t,e,n),o=M("args",t,e,n),s=await n.functionMap[i].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),l=o.map(m=>m.id);let f=await s[0].data();s.forEach(m=>{!m.kept&&l.indexOf(m.id)===-1&&m.dispose()});let p=o;for(;f[0];){const m=p;p=await n.functionMap[r].executeFunctionAsync(p,n.tensorArrayMap,n.tensorListMap);const g=p.map(x=>x.id);m.forEach(x=>{!x.kept&&l.indexOf(x.id)===-1&&g.indexOf(x.id)===-1&&x.dispose()});const y=await n.functionMap[i].executeFunctionAsync(p,n.tensorArrayMap,n.tensorListMap);f=await y[0].data(),y.forEach(x=>{!x.kept&&l.indexOf(x.id)===-1&&g.indexOf(x.id)===-1&&x.dispose()})}return p}case"LoopCond":{const r=M("pred",t,e,n);return[If(r)]}case"Switch":{const r=M("pred",t,e,n);let i=M("data",t,e,n);return i.kept||(i=If(i)),(await r.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const r=t.inputNames.find(i=>ka(i,e,n)!==void 0);if(r){const i=ka(r,e,n);return[If(i)]}return}case"Enter":{const r=M("frameName",t,e,n),i=M("tensor",t,e,n);return n.enterFrame(r),[If(i)]}case"Exit":{const r=M("tensor",t,e,n);return n.exitFrame(),[If(r)]}case"NextIteration":{const r=M("tensor",t,e,n);return n.nextIteration(),[If(r)]}case"TensorArrayV3":{const r=M("size",t,e,n),i=M("dtype",t,e,n),o=M("elementShape",t,e,n),s=M("dynamicSize",t,e,n),l=M("clearAfterRead",t,e,n),f=M("identicalElementShapes",t,e,n),p=M("name",t,e,n),m=new uke(p,i,r,o,f,s,l);return n.addTensorArray(m),[m.idTensor,Tn(1)]}case"TensorArrayWriteV3":{const r=M("tensorArrayId",t,e,n),i=M("index",t,e,n),o=M("tensor",t,e,n),s=n.getTensorArray(r.id);return s.write(i,o),[s.idTensor]}case"TensorArrayReadV3":{const r=M("tensorArrayId",t,e,n),i=M("index",t,e,n);return[n.getTensorArray(r.id).read(i)]}case"TensorArrayGatherV3":{const r=M("tensorArrayId",t,e,n),i=M("indices",t,e,n),o=M("dtype",t,e,n);return[n.getTensorArray(r.id).gather(i,o)]}case"TensorArrayScatterV3":{const r=M("tensorArrayId",t,e,n),i=M("indices",t,e,n),o=M("tensor",t,e,n),s=n.getTensorArray(r.id);return s.scatter(i,o),[s.idTensor]}case"TensorArrayConcatV3":{const r=M("tensorArrayId",t,e,n),i=n.getTensorArray(r.id),o=M("dtype",t,e,n);return[i.concat(o)]}case"TensorArraySplitV3":{const r=M("tensorArrayId",t,e,n),i=M("tensor",t,e,n),o=M("lengths",t,e,n),s=n.getTensorArray(r.id);return s.split(o,i),[s.idTensor]}case"TensorArraySizeV3":{const r=M("tensorArrayId",t,e,n),i=n.getTensorArray(r.id);return[Tn(i.size(),"int32")]}case"TensorArrayCloseV3":{const r=M("tensorArrayId",t,e,n),i=n.getTensorArray(r.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const r=M("tensorListId",t,e,n),i=M("index",t,e,n),o=M("tensor",t,e,n),s=n.getTensorList(r.id);return s.setItem(i,o),[s.idTensor]}case"TensorListGetItem":{const r=M("tensorListId",t,e,n),i=M("index",t,e,n),o=M("elementShape",t,e,n),s=M("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(i,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=M("indices",t,e,n),i=M("tensor",t,e,n),o=M("elementShape",t,e,n),s=M("numElements",t,e,n),l=fke(i,r,o,s);return n.addTensorList(l),[l.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=M("elementShape",t,e,n),i=M("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const s=M(o,t,e,n),l=t.op==="TensorListReserve"?-1:s,f=cke(r,i,s,l);return n.addTensorList(f),[f.idTensor]}case"TensorListGather":{const r=M("tensorListId",t,e,n),i=M("indices",t,e,n),o=M("elementShape",t,e,n),s=M("elementDType",t,e,n);return[n.getTensorList(r.id).gather(i,s,o)]}case"TensorListStack":{const r=M("tensorListId",t,e,n),i=M("elementShape",t,e,n),o=M("elementDType",t,e,n),s=M("numElements",t,e,n);return[n.getTensorList(r.id).stack(i,o,s)]}case"TensorListFromTensor":{const r=M("tensor",t,e,n),i=M("elementShape",t,e,n),o=M("elementDType",t,e,n),s=lke(r,i,o);return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=M("tensorListId",t,e,n),i=n.getTensorList(r.id),o=M("dtype",t,e,n),s=M("elementShape",t,e,n);return[i.concat(o,s)]}case"TensorListPushBack":{const r=M("tensorListId",t,e,n),i=M("tensor",t,e,n),o=n.getTensorList(r.id);return o.pushBack(i),[o.idTensor]}case"TensorListPopBack":{const r=M("tensorListId",t,e,n),i=M("elementShape",t,e,n),o=M("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(i,o)]}case"TensorListSplit":{const r=M("tensor",t,e,n),i=M("elementShape",t,e,n),o=M("lengths",t,e,n),s=dke(r,o,i);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const r=M("tensorListId",t,e,n),i=n.getTensorList(r.id);return[Tn(i.size(),"int32")]}case"TensorListResize":{const r=M("tensorListId",t,e,n),i=M("size",t,e,n),s=n.getTensorList(r.id).resize(i);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EW(t,e,n){const[r,i]=M("fusedOps",t,e,n),o=r==="biasadd",s=!o,l=i==="prelu",f=r==="fusedbatchnorm",p=M("numArgs",t,e,n);if(o){if(l&&p!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&o&&p!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const m=M("strides",t,e,n),g=TS(t,e,n),y=M("dataFormat",t,e,n).toUpperCase(),x=M("dilations",t,e,n);let[S,_]=M("args",t,e,n);s&&(_=S,S=void 0);const k=M("leakyreluAlpha",t,e,n);return{stride:m,pad:g,dataFormat:y,dilations:x,biasArg:S,preluArg:_,activationFunc:i,leakyreluAlpha:k}}const hke=(t,e,n,r=Na)=>{switch(t.op){case"Conv1D":{const i=M("stride",t,e,n),o=M("pad",t,e,n),s=M("dataFormat",t,e,n).toUpperCase(),l=M("dilation",t,e,n);return[r.conv1d(M("x",t,e,n),M("filter",t,e,n),i,o,s,l)]}case"Conv2D":{const i=M("strides",t,e,n),o=TS(t,e,n),s=M("dataFormat",t,e,n).toUpperCase(),l=M("dilations",t,e,n);return[r.conv2d(M("x",t,e,n),M("filter",t,e,n),[i[1],i[2]],o,s,[l[1],l[2]])]}case"_FusedConv2D":{const{stride:i,pad:o,dataFormat:s,dilations:l,biasArg:f,preluArg:p,activationFunc:m,leakyreluAlpha:g}=EW(t,e,n);return[r.fused.conv2d({x:M("x",t,e,n),filter:M("filter",t,e,n),strides:[i[1],i[2]],pad:o,dataFormat:s,dilations:[l[1],l[2]],bias:f,activation:m,preluActivationWeights:p,leakyreluAlpha:g})]}case"FusedDepthwiseConv2dNative":{const{stride:i,pad:o,dataFormat:s,dilations:l,biasArg:f,preluArg:p,activationFunc:m,leakyreluAlpha:g}=EW(t,e,n);return[r.fused.depthwiseConv2d({x:M("x",t,e,n),filter:M("filter",t,e,n),strides:[i[1],i[2]],pad:o,dataFormat:s,dilations:[l[1],l[2]],bias:f,activation:m,preluActivationWeights:p,leakyreluAlpha:g})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const i=M("outputShape",t,e,n),o=M("strides",t,e,n),s=TS(t,e,n);return[r.conv2dTranspose(M("x",t,e,n),M("filter",t,e,n),i,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const i=M("strides",t,e,n),o=TS(t,e,n),s=M("dilations",t,e,n),l=M("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(M("input",t,e,n),M("filter",t,e,n),[i[1],i[2]],o,l,[s[1],s[2]])]}case"Conv3D":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("dataFormat",t,e,n).toUpperCase(),l=M("dilations",t,e,n);return[r.conv3d(M("x",t,e,n),M("filter",t,e,n),[i[1],i[2],i[3]],o,s,[l[1],l[2],l[3]])]}case"AvgPool":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("kernelSize",t,e,n);return[r.avgPool(M("x",t,e,n),[s[1],s[2]],[i[1],i[2]],o)]}case"MaxPool":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("kernelSize",t,e,n);return[r.maxPool(M("x",t,e,n),[s[1],s[2]],[i[1],i[2]],o)]}case"MaxPoolWithArgmax":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("kernelSize",t,e,n),l=M("includeBatchInIndex",t,e,n),{result:f,indexes:p}=r.maxPoolWithArgmax(M("x",t,e,n),[s[1],s[2]],[i[1],i[2]],o,l);return[f,p]}case"AvgPool3D":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("kernelSize",t,e,n);return[r.avgPool3d(M("x",t,e,n),[s[1],s[2],s[3]],[i[1],i[2],i[3]],o)]}case"MaxPool3D":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("kernelSize",t,e,n);return[r.maxPool3d(M("x",t,e,n),[s[1],s[2],s[3]],[i[1],i[2],i[3]],o)]}case"Dilation2D":{const i=M("strides",t,e,n),o=M("pad",t,e,n),s=M("dilations",t,e,n),l=i[1],f=i[2],p=s[1],m=s[2];return[r.dilation2d(M("x",t,e,n),M("filter",t,e,n),[l,f],o,[p,m],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mke=(t,e,n,r=Na)=>{switch(t.op){case"Fill":{const i=M("shape",t,e,n),o=M("dtype",t,e,n),s=M("value",t,e,n);return[r.fill(i,s,o)]}case"LinSpace":{const i=M("start",t,e,n),o=M("stop",t,e,n),s=M("num",t,e,n);return[r.linspace(i,o,s)]}case"Multinomial":{const i=M("logits",t,e,n),o=M("numSamples",t,e,n),s=M("seed",t,e,n);return[r.multinomial(i,o,s)]}case"OneHot":{const i=M("indices",t,e,n),o=M("depth",t,e,n),s=M("onValue",t,e,n),l=M("offValue",t,e,n),f=M("dtype",t,e,n);return[r.oneHot(i,o,s,l,f)]}case"Ones":return[r.ones(M("shape",t,e,n),M("dtype",t,e,n))];case"OnesLike":return[r.onesLike(M("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(M("shape",t,e,n),M("dtype",t,e,n),M("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(M("shape",t,e,n),M("minval",t,e,n),M("maxval",t,e,n),M("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(M("shape",t,e,n),M("minval",t,e,n),M("maxval",t,e,n),M("seed",t,e,n))];case"Range":{const i=M("start",t,e,n),o=M("stop",t,e,n),s=M("step",t,e,n);return[r.range(i,o,s,M("dtype",t,e,n))]}case"TruncatedNormal":{const i=M("shape",t,e,n),o=M("mean",t,e,n),s=M("stdDev",t,e,n),l=M("seed",t,e,n);return[r.truncatedNormal(i,o,s,M("dtype",t,e,n),l)]}case"Zeros":return[r.zeros(M("shape",t,e,n),M("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $D(t,e,n){const r=M("boxes",t,e,n),i=M("scores",t,e,n),o=M("maxOutputSize",t,e,n),s=M("iouThreshold",t,e,n),l=M("scoreThreshold",t,e,n),f=M("softNmsSigma",t,e,n);return{boxes:r,scores:i,maxOutputSize:o,iouThreshold:s,scoreThreshold:l,softNmsSigma:f}}const gke=async(t,e,n,r,i=Na)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:s,maxOutputSize:l,iouThreshold:f,scoreThreshold:p,softNmsSigma:m}=$D(t,e,n),g=await i.image.nonMaxSuppressionWithScoreAsync(o,s,l,f,p,m);return[g.selectedIndices,g.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:s,maxOutputSize:l,iouThreshold:f,scoreThreshold:p}=$D(t,e,n),m=M("padToMaxOutputSize",t,e,n),g=await i.image.nonMaxSuppressionPaddedAsync(o,s,l,f,p,m);return[g.selectedIndices,g.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:s,maxOutputSize:l,iouThreshold:f,scoreThreshold:p}=$D(t,e,n);return[await i.image.nonMaxSuppressionAsync(o,s,l,f,p)]}case"Where":{const o=i.cast(M("condition",t,e,n),"bool"),s=[await i.whereAsync(o)];return o.dispose(),s}case"ListDiff":return i.setdiff1dAsync(M("x",t,e,n),M("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vke=(t,e,n,r=Na)=>{switch(t.op){case"LowerBound":{const i=M("sortedSequence",t,e,n),o=M("values",t,e,n);return[r.lowerBound(i,o)]}case"TopKV2":{const i=M("x",t,e,n),o=M("k",t,e,n),s=M("sorted",t,e,n),l=r.topk(i,o,s);return[l.values,l.indices]}case"UpperBound":{const i=M("sortedSequence",t,e,n),o=M("values",t,e,n);return[r.upperBound(i,o)]}case"Unique":{const i=M("x",t,e,n),o=r.unique(i);return[o.values,o.indices]}case"UniqueV2":{const i=M("x",t,e,n),o=M("axis",t,e,n),s=r.unique(i,o);return[s.values,s.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yke=(t,e,n,r=Na)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const i=M("default",t,e,n);return[ka(t.name,e,n)||i];case"Placeholder":return[ka(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const m=M("x",t,e,n);return[If(m)]}case"IdentityN":return M("x",t,e,n).map(m=>If(m));case"Snapshot":const o=M("x",t,e,n);return[If(o)];case"Shape":return[r.tensor1d(M("x",t,e,n).shape,"int32")];case"ShapeN":return M("x",t,e,n).map(m=>r.tensor1d(m.shape));case"Size":return[r.scalar(M("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(M("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const s=M("x",t,e,n),l=M("data",t,e,n),f=M("message",t,e,n),p=M("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(f);for(let m=0;m<l.length;m++)console.log(Array.prototype.slice.call(l[m].dataSync()).slice(0,p));return[s];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bke{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Tn(0),this.tensorMap=new Map,El(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Tn(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(i=>i.dispose()),this.tensorMap.clear(),tn(()=>{const i=ap(n),o=r.length,s=i.length;X(o===s,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${s} elements.`);for(let l=0;l<o;l++){const f=r[l],p=i[l];El(p),this.tensorMap.set(f,p)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return tn(()=>{const i=[];for(let o=0;o<r.length;o++){const s=r[o],l=this.findWithDefault(s,n);i.push(l)}return Rc(i)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wke=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const i=r.getHashTableHandleByName(t.name);if(i!=null)return[i];{const o=M("keyDType",t,e,n),s=M("valueDType",t,e,n),l=new bke(o,s);return r.addHashTable(t.name,l),[l.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const i=M("tableHandle",t,e,n,r),o=M("keys",t,e,n),s=M("values",t,e,n);return[await r.getHashTableById(i.id).import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const i=M("tableHandle",t,e,n,r),o=M("keys",t,e,n),s=M("defaultValue",t,e,n);return[await r.getHashTableById(i.id).find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=M("tableHandle",t,e,n,r);return[r.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xke=(t,e,n,r=Na)=>{switch(t.op){case"ResizeBilinear":{const i=M("images",t,e,n),o=M("size",t,e,n),s=M("alignCorners",t,e,n),l=M("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(i,[o[0],o[1]],s,l)]}case"ResizeNearestNeighbor":{const i=M("images",t,e,n),o=M("size",t,e,n),s=M("alignCorners",t,e,n),l=M("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(i,[o[0],o[1]],s,l)]}case"CropAndResize":{const i=M("image",t,e,n),o=M("boxes",t,e,n),s=M("boxInd",t,e,n),l=M("cropSize",t,e,n),f=M("method",t,e,n),p=M("extrapolationValue",t,e,n);return[r.image.cropAndResize(i,o,s,l,f,p)]}case"ImageProjectiveTransformV3":{const i=M("images",t,e,n),o=M("transforms",t,e,n),s=M("outputShape",t,e,n),l=M("fillValue",t,e,n),f=M("interpolation",t,e,n),p=M("fillMode",t,e,n);return[r.image.transform(i,o,f.toLowerCase(),p.toLowerCase(),l,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ske=(t,e,n,r=Na)=>{switch(t.op){case"Equal":return[r.equal(M("a",t,e,n),M("b",t,e,n))];case"NotEqual":return[r.notEqual(M("a",t,e,n),M("b",t,e,n))];case"Greater":return[r.greater(M("a",t,e,n),M("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(M("a",t,e,n),M("b",t,e,n))];case"Less":return[r.less(M("a",t,e,n),M("b",t,e,n))];case"LessEqual":return[r.lessEqual(M("a",t,e,n),M("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(M("a",t,e,n),M("b",t,e,n))];case"LogicalNot":return[r.logicalNot(M("a",t,e,n))];case"LogicalOr":return[r.logicalOr(M("a",t,e,n),M("b",t,e,n))];case"Select":case"SelectV2":return[r.where(M("condition",t,e,n),M("a",t,e,n),M("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(M("a",t,e,n),M("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cke=(t,e,n,r=Na)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(M("a",t,e,n),M("b",t,e,n),M("transposeA",t,e,n),M("transposeB",t,e,n))];case"Einsum":return[r.einsum(M("equation",t,e,n),...M("tensors",t,e,n))];case"Transpose":return[r.transpose(M("x",t,e,n),M("perm",t,e,n))];case"_FusedMatMul":const[i,o]=M("fusedOps",t,e,n),s=i==="biasadd",l=o==="prelu",f=M("numArgs",t,e,n),p=M("leakyreluAlpha",t,e,n);if(s){if(l&&f!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&f!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[m,g]=M("args",t,e,n);return[r.fused.matMul({a:M("a",t,e,n),b:M("b",t,e,n),transposeA:M("transposeA",t,e,n),transposeB:M("transposeB",t,e,n),bias:m,activation:o,preluActivationWeights:g,leakyreluAlpha:p})];case"MatrixBandPart":return[r.linalg.bandPart(M("a",t,e,n),M("numLower",t,e,n),M("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eke=(t,e,n,r=Na)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(M("x",t,e,n),M("axis",t,e,n),M("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(M("x",t,e,n),M("mean",t,e,n),M("variance",t,e,n),M("offset",t,e,n),M("scale",t,e,n),M("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(M("x",t,e,n),M("mean",t,e,n),M("variance",t,e,n),M("offset",t,e,n),M("scale",t,e,n),M("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(M("x",t,e,n),M("radius",t,e,n),M("bias",t,e,n),M("alpha",t,e,n),M("beta",t,e,n))];case"Softmax":return[r.softmax(M("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ke=(t,e,n,r=Na)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:i,outputDenseValues:o}=r.raggedGather(M("paramsNestedSplits",t,e,n),M("paramsDenseValues",t,e,n),M("indices",t,e,n),M("outputRaggedRank",t,e,n));return i.concat(o)}case"RaggedRange":{const{rtNestedSplits:i,rtDenseValues:o}=r.raggedRange(M("starts",t,e,n),M("limits",t,e,n),M("splits",t,e,n));return[i,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(M("shape",t,e,n),M("values",t,e,n),M("defaultValue",t,e,n),M("rowPartitionTensors",t,e,n),M("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tke=(t,e,n,r=Na)=>{switch(t.op){case"Max":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.max(M("x",t,e,n),l,f)]}case"Mean":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.mean(M("x",t,e,n),l,f)]}case"Min":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.min(M("x",t,e,n),l,f)]}case"Sum":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.sum(M("x",t,e,n),l,f)]}case"All":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.all(M("x",t,e,n),l,f)]}case"Any":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.any(M("x",t,e,n),l,f)]}case"ArgMax":{const l=M("axis",t,e,n);return[r.argMax(M("x",t,e,n),l)]}case"ArgMin":{const l=M("axis",t,e,n);return[r.argMin(M("x",t,e,n),l)]}case"Prod":{const l=M("axis",t,e,n),f=M("keepDims",t,e,n);return[r.prod(M("x",t,e,n),l,f)]}case"Cumprod":{const l=M("axis",t,e,n),f=M("exclusive",t,e,n),p=M("reverse",t,e,n);return[r.cumprod(M("x",t,e,n),l,f,p)]}case"Cumsum":{const l=M("axis",t,e,n),f=M("exclusive",t,e,n),p=M("reverse",t,e,n);return[r.cumsum(M("x",t,e,n),l,f,p)]}case"Bincount":const i=M("x",t,e,n),o=M("weights",t,e,n),s=M("size",t,e,n);return[r.bincount(i,o,s)];case"DenseBincount":{const l=M("x",t,e,n),f=M("weights",t,e,n),p=M("size",t,e,n),m=M("binaryOutput",t,e,n);return[r.denseBincount(l,f,p,m)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kke=(t,e,n,r=Na)=>{switch(t.op){case"ConcatV2":case"Concat":{const i=M("n",t,e,n),o=M("axis",t,e,n);let s=M("tensors",t,e,n);return s=s.slice(0,i),[r.concat(s,o)]}case"Gather":{const i=M("x",t,e,n),o=M("indices",t,e,n);return[r.gather(i,r.cast(o,"int32"),0)]}case"GatherV2":{const i=M("axis",t,e,n),o=M("batchDims",t,e,n),s=M("x",t,e,n),l=M("indices",t,e,n);return[r.gather(s,r.cast(l,"int32"),i,o)]}case"Reverse":{const i=M("dims",t,e,n),o=[];for(let l=0;l<i.length;l++)i[l]&&o.push(l);const s=M("x",t,e,n);return[r.reverse(s,o)]}case"ReverseV2":{const i=M("axis",t,e,n),o=M("x",t,e,n);return[r.reverse(o,i)]}case"Slice":{const i=M("begin",t,e,n),o=M("size",t,e,n);return[r.slice(M("x",t,e,n),i,o)]}case"StridedSlice":{const i=M("begin",t,e,n),o=M("end",t,e,n),s=M("strides",t,e,n),l=M("beginMask",t,e,n),f=M("endMask",t,e,n),p=M("ellipsisMask",t,e,n),m=M("newAxisMask",t,e,n),g=M("shrinkAxisMask",t,e,n),y=M("x",t,e,n);return[r.stridedSlice(y,i,o,s,l,f,p,m,g)]}case"Pack":return tn(()=>{const i=M("axis",t,e,n),o=M("tensors",t,e,n),s=o[0].shape,l=r.squeeze(o[0]).shape,f=o.map(p=>{const m=ja(p.shape,s);if(!m&&!ja(r.squeeze(p).shape,l))throw new Error("the input tensors shape does not match");return m?p:r.reshape(p,s)});return[r.stack(f,i)]});case"Unpack":{const i=M("axis",t,e,n),o=M("tensor",t,e,n);return r.unstack(o,i)}case"Tile":{const i=M("reps",t,e,n);return[r.tile(M("x",t,e,n),i)]}case"Split":case"SplitV":{const i=M("axis",t,e,n),o=M("numOrSizeSplits",t,e,n),s=M("x",t,e,n);return r.split(s,o,i)}case"ScatterNd":{const i=M("indices",t,e,n),o=M("values",t,e,n),s=M("shape",t,e,n);return[r.scatterND(i,o,s)]}case"GatherNd":{const i=M("x",t,e,n),o=M("indices",t,e,n);return[r.gatherND(i,o)]}case"SparseToDense":{const i=M("sparseIndices",t,e,n),o=M("outputShape",t,e,n),s=M("sparseValues",t,e,n),l=M("defaultValue",t,e,n);return[r.sparseToDense(i,s,o,s.dtype===l.dtype?l:r.cast(l,s.dtype))]}case"TensorScatterUpdate":{const i=M("indices",t,e,n),o=M("values",t,e,n),s=M("tensor",t,e,n);return[r.tensorScatterUpdate(s,i,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nke=(t,e,n,r=Na)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:i,outputValues:o,emptyRowIndicator:s,reverseIndexMap:l}=r.sparse.sparseFillEmptyRows(M("indices",t,e,n),M("values",t,e,n),M("denseShape",t,e,n),M("defaultValue",t,e,n));return[i,o,s,l]}case"SparseReshape":{const{outputIndices:i,outputShape:o}=r.sparse.sparseReshape(M("inputIndices",t,e,n),M("inputShape",t,e,n),M("newShape",t,e,n));return[i,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(M("data",t,e,n),M("indices",t,e,n),M("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(M("data",t,e,n),M("indices",t,e,n),M("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rke=(t,e,n,r=Na)=>{switch(t.op){case"FFT":return[r.fft(M("x",t,e,n))];case"IFFT":return[r.ifft(M("x",t,e,n))];case"RFFT":return[r.rfft(M("x",t,e,n))];case"IRFFT":return[r.irfft(M("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ake=(t,e,n,r=Na)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(M("input",t,e,n),M("pattern",t,e,n),M("rewrite",t,e,n),M("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:i,nGramsSplits:o}=r.string.stringNGrams(M("data",t,e,n),M("dataSplits",t,e,n),M("separator",t,e,n),M("nGramWidths",t,e,n),M("leftPad",t,e,n),M("rightPad",t,e,n),M("padWidth",t,e,n),M("preserveShortSequences",t,e,n));return[i,o]}case"StringSplit":{const{indices:i,values:o,shape:s}=r.string.stringSplit(M("input",t,e,n),M("delimiter",t,e,n),M("skipEmpty",t,e,n));return[i,o,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(M("input",t,e,n),M("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dke=(t,e,n,r=Na)=>{switch(t.op){case"Cast":return[r.cast(M("x",t,e,n),M("dtype",t,e,n))];case"ExpandDims":{const i=M("axis",t,e,n);return[r.expandDims(M("x",t,e,n),i)]}case"Squeeze":{const i=M("axis",t,e,n);return[r.squeeze(M("x",t,e,n),i)]}case"Reshape":return[r.reshape(M("x",t,e,n),M("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(M("x",t,e,n),M("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(M("x",t,e,n),M("padding",t,e,n),M("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(M("x",t,e,n),M("padding",t,e,n),M("constantValue",t,e,n))];case"SpaceToBatchND":{const i=M("blockShape",t,e,n),o=M("paddings",t,e,n);return[r.spaceToBatchND(M("x",t,e,n),i,o)]}case"BatchToSpaceND":{const i=M("blockShape",t,e,n),o=M("crops",t,e,n);return[r.batchToSpaceND(M("x",t,e,n),i,o)]}case"DepthToSpace":{const i=M("blockSize",t,e,n),o=M("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(M("x",t,e,n),i,o)]}case"BroadcastTo":return[r.broadcastTo(M("x",t,e,n),M("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(M("s0",t,e,n),M("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _W(t,e,n,r,i=tn){const o=((s,l,f)=>{switch(s.category){case"arithmetic":return i(()=>oke(s,l,f));case"basic_math":return i(()=>ske(s,l,f));case"control":return pke(s,l,f);case"convolution":return i(()=>hke(s,l,f));case"creation":return i(()=>mke(s,l,f));case"dynamic":return gke(s,l,f);case"evaluation":return i(()=>vke(s,l,f));case"image":return i(()=>xke(s,l,f));case"graph":return i(()=>yke(s,l,f));case"logical":return i(()=>Ske(s,l,f));case"matrices":return i(()=>Cke(s,l,f));case"normalization":return i(()=>Eke(s,l,f));case"ragged":return i(()=>_ke(s,l,f));case"reduction":return i(()=>Tke(s,l,f));case"slice_join":return i(()=>kke(s,l,f));case"sparse":return i(()=>Nke(s,l,f));case"spectral":return i(()=>Rke(s,l,f));case"string":return i(()=>Ake(s,l,f));case"transformation":return i(()=>Dke(s,l,f));case"hash_table":return wke(s,l,f,r);case"custom":const p=vW(s.op);if(p&&p.customExecutor)return p.customExecutor(new ake(s,l,f));throw TypeError(`Custom op ${s.op} is not registered.`);default:throw TypeError(`Unknown op '${s.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return qd(o)?o.then(s=>[].concat(s)):[].concat(o)}class TW{constructor(e={},n={},r={},i={},o){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kW(t,e,n,r){const i=new Set,o=[];let s=null,l=null;const f=new Set,p=new Set(Object.keys(t).map(y=>gs(y)[0]));r=r||[];const m=new Set(r.map(y=>gs(y.name)[0])),g=[...e];for(;g.length>0;){const y=g.pop();if((om(y)||Vke(y)||jke(y))&&s==null&&(s=y,l=s.children.map(x=>x.name).filter(x=>i.has(x))),i.add(y.name),n[y.name]==null&&!p.has(y.name)&&!m.has(y.name)){if(y.inputs.length===0){o.push(y.name);continue}y.inputs.forEach(x=>{f.has(x.name)||(f.add(x.name),g.push(x))})}}return{inputs:t,outputs:e,usedNodes:i,missingInputs:o,dynamicNode:s,syncInputs:l}}function Oke(t,e){const{usedNodes:n,inputs:r}=e,i=Object.keys(r).map(k=>gs(k)[0]).map(k=>t.nodes[k]),o=t.initNodes||[],s=k=>n.has(typeof k=="string"?k:k.name);function l(k){return[...new Map(k.map(R=>[R.name,R])).values()]}const f=l([...i,...t.weights,...o]).filter(s),p=l([...f,...Object.values(t.nodes)]).filter(s),m=new Map(p.map(k=>[k.name,k])),g={};for(const k of p){g[k.name]=g[k.name]||0;for(const R of k.children)s(R)||(g[R.name]=Number.POSITIVE_INFINITY),g[R.name]=(g[R.name]||0)+1}const y=Object.entries(g).filter(([,k])=>k===0).map(([k])=>k),x=[...y];for(;y.length>0;){const k=y.pop(),R=m.get(k);for(const O of R.children.filter(s))--g[O.name]===0&&(x.push(O.name),y.push(O.name))}const S=x.map(k=>m.get(k)),_=$ke(S,f);return Ike(_,f),_}function $ke(t,e){const n=new Map(t.map(s=>[s.name,s])),r=e.map(s=>s.name),i=new Set(r);for(;r.length>0;){const s=r.pop(),l=n.get(s);for(const f of l.children)!n.has(f.name)||i.has(f.name)||(i.add(f.name),r.push(f.name))}return t.filter(s=>i.has(s.name))}class kS extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function Ike(t,e){const n=new Map(t.map((l,f)=>[l.name,f])),r=new Set(e.map(l=>l.name)),i=l=>r.has(typeof l=="string"?l:l.name),o=new Set(t.map(l=>l.name)),s=l=>o.has(typeof l=="string"?l:l.name);for(const l of t){for(const f of l.children.filter(s)){if(!n.has(f.name))throw new kS(`Child ${f.name} of node ${l.name} is unreachable.`);if(n.get(l.name)>n.get(f.name))throw new kS(`Node ${l.name} is scheduled to run after its child ${f.name}.`)}if(!i(l))for(const f of l.inputs){if(!n.has(f.name))throw new kS(`Input ${f.name} of node ${l.name} is unreachable.`);if(n.get(f.name)>n.get(l.name))throw new kS(`Node ${l.name} is scheduled to run before its input ${f.name}.`)}}}function Pke(t){const e=new Map(t.map((l,f)=>[l.name,f])),n=Number.MAX_SAFE_INTEGER,r=t.map((l,f)=>om(l)?n:f),i=l=>{const f=r[e.get(l.name)];return f??-1},o=t.map((l,f)=>l.children.map(i).reduce((p,m)=>Math.max(p,m),r[f])),s=new Map;for(let l=0;l<t.length;++l){const f=o[l];if(f===n)continue;const p=t[l],m=t[f];s.has(m.name)||s.set(m.name,[]),s.get(m.name).push(p)}return s}const Mke=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Lke=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Fke=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function om(t){return Mke.has(t.op)}function Vke(t){return Lke.has(t.op)}function jke(t){return Fke.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NS{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(i=>i.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new NS(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(o=>o.name).sort(),i=n.map(o=>o.name).sort();return r.join(this.SEPARATOR)+"--"+i.join(this.SEPARATOR)}compile(e,n){const r=kW(e,n,this.weightMap,this._initNodes),{missingInputs:i,dynamicNode:o,syncInputs:s}=r;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(i.length>0){const p=n.map(g=>g.name),m=Object.keys(e);throw new Error(`Cannot compute the outputs [${p}] from the provided inputs [${m}]. Missing the following inputs: [${i}]`)}const l=Oke(this.graph,r),f=Pke(l);return{orderedNodes:l,nodeLiveUntilMap:f}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return El(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const i=r.map(y=>this.graph.nodes[gs(y)[0]]),o=n.map(y=>gs(y)[0]),s=new Set(o);let l=o.map(y=>this.graph.nodes[y]);l.length===0&&(l=this._outputs);const f=this.getCompilationKey(i,l);let p=this.compiledMap.get(f);p==null&&(p=this.compile(e,l),this.compiledMap.set(f,p));try{this.keepIntermediateTensors=$t().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){this.keepIntermediateTensors=!1,console.warn(y.message)}const m={},g={};return tn(()=>{const y=new TW(this.weightMap,m,g,this.functionExecutorMap,this.parseNodeNameCache),x=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(R=>{const[O,I]=gs(R,y),P=[];P[I]=e[R],x[O]=P,this.keepIntermediateTensors&&(this.clonedTensorsMap[O]=this.cloneTensorList(P))});const S=this.getFrozenTensorIds(x),{orderedNodes:_,nodeLiveUntilMap:k}=p;for(const R of _){if(x[R.name])continue;const O=_W(R,x,y,this._resourceManager);if(qd(O))throw new Error(`The execution of the op '${R.op}' returned a promise. Please use model.executeAsync() instead.`);x[R.name]=O,this.keepIntermediateTensors&&(this.clonedTensorsMap[R.name]=this.cloneTensorList(O)),this.checkTensorForDisposalWithNodeLiveUntilInfo(R,x,y,S,s,k.get(R.name))}return this.parent==null&&y.dispose(S),n.map(R=>ka(R,x,y))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(i=>i.id)));return new Set(n)}checkTensorForDisposal(e,n,r,i,o,s,l){if(!(om(n)||s.has(e))){for(const f of r[e])f!=null&&(l[f.id]=(l[f.id]||0)+n.children.length);for(const f of n.inputs){if(om(f))continue;const p=yW(f.name,r,i);if(p!=null)for(const m of p){if(!m||m.kept||o.has(m.id))continue;const g=l[m.id];g===1?(m.dispose(),delete l[m.id]):g!=null&&l[m.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,i,o,s){function l(f){return om(f)||o.has(f.name)}if(!(om(e)||s==null))for(const f of s){if(l(f))continue;const p=yW(f.name,n,r);for(const m of p)!m||m.kept||i.has(m.id)||m.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,i={},o={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=$t().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){this.keepIntermediateTensors=!1,console.warn(y.message)}const s=new TW(this.weightMap,i,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const l=await this.executeWithControlFlow(e,s,n,r),f=n.map(y=>ka(y,l,s)),p=f.map(y=>y.id),m=Object.keys(e).map(y=>e[y].id),g=new Set([...p,...m,...this.weightIds]);return Object.values(l).forEach(y=>{y.forEach(x=>{x&&!x.isDisposed&&!g.has(x.id)&&x.dispose()})}),this.parent==null&&s.dispose(g),f}async executeFunctionAsync(e,n,r){const i=e.reduce((o,s,l)=>(o[this.inputs[l].name]=s,o),{});return this._executeAsync(i,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,i){const o=Object.keys(e),s=o.map(P=>this.graph.nodes[gs(P)[0]]),l=r.map(P=>gs(P)[0]),f=new Set(l);let p=l.map(P=>this.graph.nodes[P]);p.length===0&&(p=this._outputs);const{usedNodes:m,missingInputs:g,dynamicNode:y,syncInputs:x}=kW(e,p,this.weightMap,this._initNodes),S=[...s,...this.graph.weights,...this._initNodes||[]].map(P=>({node:P,contexts:n.currentContext})),_=Object.assign({},this.weightMap);Object.keys(e).forEach(P=>{const[F,K]=gs(P),Y=[];Y[K]=e[P],_[F]=Y});const k={},R=this.getFrozenTensorIds(_),O={};for(;S.length>0;){const P=this.processStack(s,S,n,_,O,R,f,k,m);await Promise.all(P)}y==null&&!i&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const I=p.filter(P=>!om(P)&&!ka(P.name,_,n)).map(P=>P.name);if(I.length>0){let P="";throw y!=null&&(P=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${x}]`),new Error(`Cannot compute the outputs [${I}] from the provided inputs [${o}]. Consider providing the following inputs: [${g}]. ${P}`)}return _}processStack(e,n,r,i,o,s,l,f,p){const m=[];for(;n.length>0;){const g=n.pop();r.currentContext=g.contexts;let y="";if(g.node.op==="Enter"&&M("isConstant",g.node,i,r)&&([y]=$f(g.node.name,r)),i[g.node.name]==null){const x=_W(g.node,i,r,this._resourceManager);y||([y]=$f(g.node.name,r));const S=r.currentContext;qd(x)?m.push(x.then(_=>(i[y]=_,this.keepIntermediateTensors&&(this.clonedTensorsMap[y]=this.cloneTensorList(_)),r.currentContext=S,this.checkTensorForDisposal(y,g.node,i,r,s,l,f),this.processChildNodes(g.node,n,r,i,o,p),_))):(i[y]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[y]=this.cloneTensorList(x)),this.checkTensorForDisposal(y,g.node,i,r,s,l,f),this.processChildNodes(g.node,n,r,i,o,p))}else this.processChildNodes(g.node,n,r,i,o,p)}return m}processChildNodes(e,n,r,i,o,s){e.children.forEach(l=>{const[f]=$f(l.name,r);o[f]||!s.has(l.name)||(l.op==="Merge"?l.inputNames.some(p=>!!ka(p,i,r))&&(o[f]=!0,n.push({contexts:r.currentContext,node:l})):l.inputNames.every(p=>!!ka(p,i,r))&&(o[f]=!0,n.push({contexts:r.currentContext,node:l})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[i]=gs(n),o=this.graph.nodes[i];if(o.attrParams.shape&&o.attrParams.shape.value){const s=o.attrParams.shape.value,l=s.length===r.shape.length&&r.shape.every((f,p)=>s[p]===-1||s[p]===f);X(l,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${s}], but was [${r.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&X(r.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const i={};for(const o in e){const s=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[o];s!=null?i[s.name]=e[o]:i[o]=e[o]}return i}checkInputs(e){const n=Object.keys(e).filter(r=>{const[i]=gs(r);return this.graph.nodes[i]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,i;const o=(i=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||i===void 0?void 0:i[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=gs(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class zke{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bke="?tfjs-format=file",Uke="model.json";class Hke{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=rD){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new zke}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return qd(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await AB(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let i=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(i=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=i,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new NS(bW.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=bW.Instance.transformGraph(e.modelInitializer);this.initializer=new NS(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof rr?[e]:e,r={};return n.forEach((i,o)=>r[this.structuredOutputKeys[o]]=i),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof rr)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const s in o){const l=o[s];l.resourceId!=null&&(e[s]=this.resourceIdToCapturedInput[l.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let i=0;return this.inputNodes.reduce((o,s)=>{var l,f,p;const m=(p=(f=(l=this.signature)===null||l===void 0?void 0:l.inputs)===null||f===void 0?void 0:f[s])===null||p===void 0?void 0:p.resourceId;return m!=null?o[s]=this.resourceIdToCapturedInput[m]:o[s]=e[i++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let i=0;i<r.length;i++){const o=r[i],s=n[o];this.resourceIdToCapturedInput[s.resourceId]=e[i]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&so(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function ID(t,e={},n=rD){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Wke(t));const r=new Hke(t,e,n);return await r.load(),r}function Wke(t){return t.endsWith("/")||(t=t+"/"),`${t}${Uke}${Bke}`}var Gke={};(function(){var t;function e(E){var D=0;return function(){return D<E.length?{done:!1,value:E[D++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,D,V){return E==Array.prototype||E==Object.prototype||(E[D]=V.value),E};function r(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof ac=="object"&&ac];for(var D=0;D<E.length;++D){var V=E[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=r(this);function o(E,D){if(D)e:{var V=i;E=E.split(".");for(var H=0;H<E.length-1;H++){var ee=E[H];if(!(ee in V))break e;V=V[ee]}E=E[E.length-1],H=V[E],D=D(H),D!=H&&D!=null&&n(V,E,{configurable:!0,writable:!0,value:D})}}o("Symbol",function(E){function D(ie){if(this instanceof D)throw new TypeError("Symbol is not a constructor");return new V(H+(ie||"")+"_"+ee++,ie)}function V(ie,re){this.h=ie,n(this,"description",{configurable:!0,writable:!0,value:re})}if(E)return E;V.prototype.toString=function(){return this.h};var H="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ee=0;return D}),o("Symbol.iterator",function(E){if(E)return E;E=Symbol("Symbol.iterator");for(var D="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),V=0;V<D.length;V++){var H=i[D[V]];typeof H=="function"&&typeof H.prototype[E]!="function"&&n(H.prototype,E,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return E});function s(E){return E={next:E},E[Symbol.iterator]=function(){return this},E}function l(E){var D=typeof Symbol<"u"&&Symbol.iterator&&E[Symbol.iterator];return D?D.call(E):{next:e(E)}}function f(E){if(!(E instanceof Array)){E=l(E);for(var D,V=[];!(D=E.next()).done;)V.push(D.value);E=V}return E}var p=typeof Object.assign=="function"?Object.assign:function(E,D){for(var V=1;V<arguments.length;V++){var H=arguments[V];if(H)for(var ee in H)Object.prototype.hasOwnProperty.call(H,ee)&&(E[ee]=H[ee])}return E};o("Object.assign",function(E){return E||p});var m=typeof Object.create=="function"?Object.create:function(E){function D(){}return D.prototype=E,new D},g;if(typeof Object.setPrototypeOf=="function")g=Object.setPrototypeOf;else{var y;e:{var x={a:!0},S={};try{S.__proto__=x,y=S.a;break e}catch{}y=!1}g=y?function(E,D){if(E.__proto__=D,E.__proto__!==D)throw new TypeError(E+" is not extensible");return E}:null}var _=g;function k(E,D){if(E.prototype=m(D.prototype),E.prototype.constructor=E,_)_(E,D);else for(var V in D)if(V!="prototype")if(Object.defineProperties){var H=Object.getOwnPropertyDescriptor(D,V);H&&Object.defineProperty(E,V,H)}else E[V]=D[V];E.za=D.prototype}function R(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function O(E){if(E.m)throw new TypeError("Generator is already running");E.m=!0}R.prototype.u=function(E){this.i=E};function I(E,D){E.l={ma:D,na:!0},E.h=E.s||E.v}R.prototype.return=function(E){this.l={return:E},this.h=this.v};function P(E,D,V){return E.h=V,{value:D}}function F(E){this.h=new R,this.i=E}function K(E,D){O(E.h);var V=E.h.j;return V?Y(E,"return"in V?V.return:function(H){return{value:H,done:!0}},D,E.h.return):(E.h.return(D),te(E))}function Y(E,D,V,H){try{var ee=D.call(E.h.j,V);if(!(ee instanceof Object))throw new TypeError("Iterator result "+ee+" is not an object");if(!ee.done)return E.h.m=!1,ee;var ie=ee.value}catch(re){return E.h.j=null,I(E.h,re),te(E)}return E.h.j=null,H.call(E.h,ie),te(E)}function te(E){for(;E.h.h;)try{var D=E.i(E.h);if(D)return E.h.m=!1,{value:D.value,done:!1}}catch(V){E.h.i=void 0,I(E.h,V)}if(E.h.m=!1,E.h.l){if(D=E.h.l,E.h.l=null,D.na)throw D.ma;return{value:D.return,done:!0}}return{value:void 0,done:!0}}function fe(E){this.next=function(D){return O(E.h),E.h.j?D=Y(E,E.h.j.next,D,E.h.u):(E.h.u(D),D=te(E)),D},this.throw=function(D){return O(E.h),E.h.j?D=Y(E,E.h.j.throw,D,E.h.u):(I(E.h,D),D=te(E)),D},this.return=function(D){return K(E,D)},this[Symbol.iterator]=function(){return this}}function ye(E){function D(H){return E.next(H)}function V(H){return E.throw(H)}return new Promise(function(H,ee){function ie(re){re.done?H(re.value):Promise.resolve(re.value).then(D,V).then(ie,ee)}ie(E.next())})}function de(E){return ye(new fe(new F(E)))}o("Promise",function(E){function D(re){this.i=0,this.j=void 0,this.h=[],this.u=!1;var pe=this.l();try{re(pe.resolve,pe.reject)}catch(Ae){pe.reject(Ae)}}function V(){this.h=null}function H(re){return re instanceof D?re:new D(function(pe){pe(re)})}if(E)return E;V.prototype.i=function(re){if(this.h==null){this.h=[];var pe=this;this.j(function(){pe.m()})}this.h.push(re)};var ee=i.setTimeout;V.prototype.j=function(re){ee(re,0)},V.prototype.m=function(){for(;this.h&&this.h.length;){var re=this.h;this.h=[];for(var pe=0;pe<re.length;++pe){var Ae=re[pe];re[pe]=null;try{Ae()}catch(Ze){this.l(Ze)}}}this.h=null},V.prototype.l=function(re){this.j(function(){throw re})},D.prototype.l=function(){function re(Ze){return function(dt){Ae||(Ae=!0,Ze.call(pe,dt))}}var pe=this,Ae=!1;return{resolve:re(this.I),reject:re(this.m)}},D.prototype.I=function(re){if(re===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(re instanceof D)this.L(re);else{e:switch(typeof re){case"object":var pe=re!=null;break e;case"function":pe=!0;break e;default:pe=!1}pe?this.F(re):this.s(re)}},D.prototype.F=function(re){var pe=void 0;try{pe=re.then}catch(Ae){this.m(Ae);return}typeof pe=="function"?this.M(pe,re):this.s(re)},D.prototype.m=function(re){this.v(2,re)},D.prototype.s=function(re){this.v(1,re)},D.prototype.v=function(re,pe){if(this.i!=0)throw Error("Cannot settle("+re+", "+pe+"): Promise already settled in state"+this.i);this.i=re,this.j=pe,this.i===2&&this.K(),this.H()},D.prototype.K=function(){var re=this;ee(function(){if(re.D()){var pe=i.console;typeof pe<"u"&&pe.error(re.j)}},1)},D.prototype.D=function(){if(this.u)return!1;var re=i.CustomEvent,pe=i.Event,Ae=i.dispatchEvent;return typeof Ae>"u"?!0:(typeof re=="function"?re=new re("unhandledrejection",{cancelable:!0}):typeof pe=="function"?re=new pe("unhandledrejection",{cancelable:!0}):(re=i.document.createEvent("CustomEvent"),re.initCustomEvent("unhandledrejection",!1,!0,re)),re.promise=this,re.reason=this.j,Ae(re))},D.prototype.H=function(){if(this.h!=null){for(var re=0;re<this.h.length;++re)ie.i(this.h[re]);this.h=null}};var ie=new V;return D.prototype.L=function(re){var pe=this.l();re.T(pe.resolve,pe.reject)},D.prototype.M=function(re,pe){var Ae=this.l();try{re.call(pe,Ae.resolve,Ae.reject)}catch(Ze){Ae.reject(Ze)}},D.prototype.then=function(re,pe){function Ae(Dt,st){return typeof Dt=="function"?function(jt){try{Ze(Dt(jt))}catch(pn){dt(pn)}}:st}var Ze,dt,Lt=new D(function(Dt,st){Ze=Dt,dt=st});return this.T(Ae(re,Ze),Ae(pe,dt)),Lt},D.prototype.catch=function(re){return this.then(void 0,re)},D.prototype.T=function(re,pe){function Ae(){switch(Ze.i){case 1:re(Ze.j);break;case 2:pe(Ze.j);break;default:throw Error("Unexpected state: "+Ze.i)}}var Ze=this;this.h==null?ie.i(Ae):this.h.push(Ae),this.u=!0},D.resolve=H,D.reject=function(re){return new D(function(pe,Ae){Ae(re)})},D.race=function(re){return new D(function(pe,Ae){for(var Ze=l(re),dt=Ze.next();!dt.done;dt=Ze.next())H(dt.value).T(pe,Ae)})},D.all=function(re){var pe=l(re),Ae=pe.next();return Ae.done?H([]):new D(function(Ze,dt){function Lt(jt){return function(pn){Dt[jt]=pn,st--,st==0&&Ze(Dt)}}var Dt=[],st=0;do Dt.push(void 0),st++,H(Ae.value).T(Lt(Dt.length-1),dt),Ae=pe.next();while(!Ae.done)})},D});function Pe(E,D){E instanceof String&&(E+="");var V=0,H=!1,ee={next:function(){if(!H&&V<E.length){var ie=V++;return{value:D(ie,E[ie]),done:!1}}return H=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}o("Array.prototype.keys",function(E){return E||function(){return Pe(this,function(D){return D})}}),o("Array.prototype.fill",function(E){return E||function(D,V,H){var ee=this.length||0;for(0>V&&(V=Math.max(0,ee+V)),(H==null||H>ee)&&(H=ee),H=Number(H),0>H&&(H=Math.max(0,ee+H)),V=Number(V||0);V<H;V++)this[V]=D;return this}});function xe(E){return E||Array.prototype.fill}o("Int8Array.prototype.fill",xe),o("Uint8Array.prototype.fill",xe),o("Uint8ClampedArray.prototype.fill",xe),o("Int16Array.prototype.fill",xe),o("Uint16Array.prototype.fill",xe),o("Int32Array.prototype.fill",xe),o("Uint32Array.prototype.fill",xe),o("Float32Array.prototype.fill",xe),o("Float64Array.prototype.fill",xe),o("Object.is",function(E){return E||function(D,V){return D===V?D!==0||1/D===1/V:D!==D&&V!==V}}),o("Array.prototype.includes",function(E){return E||function(D,V){var H=this;H instanceof String&&(H=String(H));var ee=H.length;for(V=V||0,0>V&&(V=Math.max(V+ee,0));V<ee;V++){var ie=H[V];if(ie===D||Object.is(ie,D))return!0}return!1}}),o("String.prototype.includes",function(E){return E||function(D,V){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(D instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(D,V||0)!==-1}});var Te=this||self;function je(E,D){E=E.split(".");var V=Te;E[0]in V||typeof V.execScript>"u"||V.execScript("var "+E[0]);for(var H;E.length&&(H=E.shift());)E.length||D===void 0?V[H]&&V[H]!==Object.prototype[H]?V=V[H]:V=V[H]={}:V[H]=D}function $e(E){var D;e:{if((D=Te.navigator)&&(D=D.userAgent))break e;D=""}return D.indexOf(E)!=-1}var Re=Array.prototype.map?function(E,D){return Array.prototype.map.call(E,D,void 0)}:function(E,D){for(var V=E.length,H=Array(V),ee=typeof E=="string"?E.split(""):E,ie=0;ie<V;ie++)ie in ee&&(H[ie]=D.call(void 0,ee[ie],ie,E));return H},be={},Ve=null;function he(E){var D=E.length,V=3*D/4;V%3?V=Math.floor(V):"=.".indexOf(E[D-1])!=-1&&(V="=.".indexOf(E[D-2])!=-1?V-2:V-1);var H=new Uint8Array(V),ee=0;return ne(E,function(ie){H[ee++]=ie}),ee!==V?H.subarray(0,ee):H}function ne(E,D){function V(Ae){for(;H<E.length;){var Ze=E.charAt(H++),dt=Ve[Ze];if(dt!=null)return dt;if(!/^[\s\xa0]*$/.test(Ze))throw Error("Unknown base64 encoding at char: "+Ze)}return Ae}we();for(var H=0;;){var ee=V(-1),ie=V(0),re=V(64),pe=V(64);if(pe===64&&ee===-1)break;D(ee<<2|ie>>4),re!=64&&(D(ie<<4&240|re>>2),pe!=64&&D(re<<6&192|pe))}}function we(){if(!Ve){Ve={};for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),D=["+/=","+/","-_=","-_.","-_"],V=0;5>V;V++){var H=E.concat(D[V].split(""));be[V]=H;for(var ee=0;ee<H.length;ee++){var ie=H[ee];Ve[ie]===void 0&&(Ve[ie]=ee)}}}}var We=typeof Uint8Array<"u",Ue=!($e("Trident")||$e("MSIE"))&&typeof Te.btoa=="function";function at(E){if(!Ue){var D;D===void 0&&(D=0),we(),D=be[D];for(var V=Array(Math.floor(E.length/3)),H=D[64]||"",ee=0,ie=0;ee<E.length-2;ee+=3){var re=E[ee],pe=E[ee+1],Ae=E[ee+2],Ze=D[re>>2];re=D[(re&3)<<4|pe>>4],pe=D[(pe&15)<<2|Ae>>6],Ae=D[Ae&63],V[ie++]=Ze+re+pe+Ae}switch(Ze=0,Ae=H,E.length-ee){case 2:Ze=E[ee+1],Ae=D[(Ze&15)<<2]||H;case 1:E=E[ee],V[ie]=D[E>>2]+D[(E&3)<<4|Ze>>4]+Ae+H}return V.join("")}for(D="";10240<E.length;)D+=String.fromCharCode.apply(null,E.subarray(0,10240)),E=E.subarray(10240);return D+=String.fromCharCode.apply(null,E),btoa(D)}var Qe=RegExp("[-_.]","g");function Me(E){switch(E){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Ge(E){if(!Ue)return he(E);Qe.test(E)&&(E=E.replace(Qe,Me)),E=atob(E);for(var D=new Uint8Array(E.length),V=0;V<E.length;V++)D[V]=E.charCodeAt(V);return D}var rt;function ot(){return rt||(rt=new Uint8Array(0))}var Rt={},He=typeof Uint8Array.prototype.slice=="function",At=0,nn=0;function Jn(E){var D=0>E;E=Math.abs(E);var V=E>>>0;E=Math.floor((E-V)/4294967296),D&&(V=l(ir(V,E)),D=V.next().value,E=V.next().value,V=D),At=V>>>0,nn=E>>>0}var yr=typeof BigInt=="function";function ir(E,D){return D=~D,E?E=~E+1:D+=1,[E,D]}function $i(E,D){this.i=E>>>0,this.h=D>>>0}function ai(E){if(!E)return hi||(hi=new $i(0,0));if(!/^-?\d+$/.test(E))return null;if(16>E.length)Jn(Number(E));else if(yr)E=BigInt(E),At=Number(E&BigInt(4294967295))>>>0,nn=Number(E>>BigInt(32)&BigInt(4294967295));else{var D=+(E[0]==="-");nn=At=0;for(var V=E.length,H=D,ee=(V-D)%6+D;ee<=V;H=ee,ee+=6)H=Number(E.slice(H,ee)),nn*=1e6,At=1e6*At+H,4294967296<=At&&(nn+=At/4294967296|0,At%=4294967296);D&&(D=l(ir(At,nn)),E=D.next().value,D=D.next().value,At=E,nn=D)}return new $i(At,nn)}var hi;function Ii(E,D){return Error("Invalid wire type: "+E+" (at position "+D+")")}function Wi(){return Error("Failed to read varint, encoding is invalid.")}function Pi(E,D){return Error("Tried to read past the end of the data "+D+" > "+E)}function mi(){throw Error("Invalid UTF8")}function ki(E,D){return D=String.fromCharCode.apply(null,D),E==null?D:E+D}var Mi=void 0,jr,la=typeof TextDecoder<"u",Vo,Ba=typeof TextEncoder<"u",ht;function Vt(E){if(E!==Rt)throw Error("illegal external caller")}function fn(E,D){if(Vt(D),this.V=E,E!=null&&E.length===0)throw Error("ByteString should be constructed with non-empty values")}function Fn(){return ht||(ht=new fn(null,Rt))}function Un(E){Vt(Rt);var D=E.V;return D=D==null||We&&D!=null&&D instanceof Uint8Array?D:typeof D=="string"?Ge(D):null,D==null?D:E.V=D}function qr(E){if(typeof E=="string")return{buffer:Ge(E),C:!1};if(Array.isArray(E))return{buffer:new Uint8Array(E),C:!1};if(E.constructor===Uint8Array)return{buffer:E,C:!1};if(E.constructor===ArrayBuffer)return{buffer:new Uint8Array(E),C:!1};if(E.constructor===fn)return{buffer:Un(E)||ot(),C:!0};if(E instanceof Uint8Array)return{buffer:new Uint8Array(E.buffer,E.byteOffset,E.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function _r(E,D){this.i=null,this.m=!1,this.h=this.j=this.l=0,oi(this,E,D)}function oi(E,D,V){V=V===void 0?{}:V,E.S=V.S===void 0?!1:V.S,D&&(D=qr(D),E.i=D.buffer,E.m=D.C,E.l=0,E.j=E.i.length,E.h=E.l)}_r.prototype.reset=function(){this.h=this.l};function Ln(E,D){if(E.h=D,D>E.j)throw Pi(E.j,D)}function Ar(E){var D=E.i,V=E.h,H=D[V++],ee=H&127;if(H&128&&(H=D[V++],ee|=(H&127)<<7,H&128&&(H=D[V++],ee|=(H&127)<<14,H&128&&(H=D[V++],ee|=(H&127)<<21,H&128&&(H=D[V++],ee|=H<<28,H&128&&D[V++]&128&&D[V++]&128&&D[V++]&128&&D[V++]&128&&D[V++]&128)))))throw Wi();return Ln(E,V),ee}function ar(E,D){if(0>D)throw Error("Tried to read a negative byte length: "+D);var V=E.h,H=V+D;if(H>E.j)throw Pi(D,E.j-V);return E.h=H,V}var Hn=[];function po(){this.h=[]}po.prototype.length=function(){return this.h.length},po.prototype.end=function(){var E=this.h;return this.h=[],E};function ho(E,D,V){for(;0<V||127<D;)E.h.push(D&127|128),D=(D>>>7|V<<25)>>>0,V>>>=7;E.h.push(D)}function ca(E,D){for(;127<D;)E.h.push(D&127|128),D>>>=7;E.h.push(D)}function Hu(E,D){if(Hn.length){var V=Hn.pop();oi(V,E,D),E=V}else E=new _r(E,D);this.h=E,this.j=this.h.h,this.i=this.l=-1,this.setOptions(D)}Hu.prototype.setOptions=function(E){E=E===void 0?{}:E,this.ca=E.ca===void 0?!1:E.ca},Hu.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function Wu(E){var D=E.h;if(D.h==D.j)return!1;E.j=E.h.h;var V=Ar(E.h)>>>0;if(D=V>>>3,V&=7,!(0<=V&&5>=V))throw Ii(V,E.j);if(1>D)throw Error("Invalid field number: "+D+" (at position "+E.j+")");return E.l=D,E.i=V,!0}function mo(E){switch(E.i){case 0:if(E.i!=0)mo(E);else e:{E=E.h;for(var D=E.h,V=D+10,H=E.i;D<V;)if(!(H[D++]&128)){Ln(E,D);break e}throw Wi()}break;case 1:E=E.h,Ln(E,E.h+8);break;case 2:E.i!=2?mo(E):(D=Ar(E.h)>>>0,E=E.h,Ln(E,E.h+D));break;case 5:E=E.h,Ln(E,E.h+4);break;case 3:D=E.l;do{if(!Wu(E))throw Error("Unmatched start-group tag: stream EOF");if(E.i==4){if(E.l!=D)throw Error("Unmatched end-group tag");break}mo(E)}while(!0);break;default:throw Ii(E.i,E.j)}}var vs=[];function Ua(){this.j=[],this.i=0,this.h=new po}function Gi(E,D){D.length!==0&&(E.j.push(D),E.i+=D.length)}function Ha(E,D){if(D=D.R){Gi(E,E.h.end());for(var V=0;V<D.length;V++)Gi(E,Un(D[V])||ot())}}var Ni=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function Yr(E,D){return Ni?E[Ni]|=D:E.A!==void 0?E.A|=D:(Object.defineProperties(E,{A:{value:D,configurable:!0,writable:!0,enumerable:!1}}),D)}function Ra(E,D){Ni?E[Ni]&&(E[Ni]&=~D):E.A!==void 0&&(E.A&=~D)}function qn(E){var D;return Ni?D=E[Ni]:D=E.A,D??0}function oe(E,D){Ni?E[Ni]=D:E.A!==void 0?E.A=D:Object.defineProperties(E,{A:{value:D,configurable:!0,writable:!0,enumerable:!1}})}function Ke(E){return Yr(E,1),E}function wt(E,D){oe(D,(E|0)&-51)}function xt(E,D){oe(D,(E|18)&-41)}var dn={};function _n(E){return E!==null&&typeof E=="object"&&!Array.isArray(E)&&E.constructor===Object}var rn,Gt=[];oe(Gt,23),rn=Object.freeze(Gt);function zr(E){if(qn(E.o)&2)throw Error("Cannot mutate an immutable Message")}function or(E){var D=E.length;(D=D?E[D-1]:void 0)&&_n(D)?D.g=1:(D={},E.push((D.g=1,D)))}function fr(E){var D=E.i+E.G;return E.B||(E.B=E.o[D]={})}function dr(E,D){return D===-1?null:D>=E.i?E.B?E.B[D]:void 0:E.o[D+E.G]}function gi(E,D,V,H){zr(E),fa(E,D,V,H)}function fa(E,D,V,H){E.j&&(E.j=void 0),D>=E.i||H?fr(E)[D]=V:(E.o[D+E.G]=V,(E=E.B)&&D in E&&delete E[D])}function bn(E,D,V,H){var ee=dr(E,D);Array.isArray(ee)||(ee=rn);var ie=qn(ee);if(ie&1||Ke(ee),H)ie&2||Yr(ee,2),V&1||Object.freeze(ee);else{H=!(V&2);var re=ie&2;V&1||!re?H&&ie&16&&!re&&Ra(ee,16):(ee=Ke(Array.prototype.slice.call(ee)),fa(E,D,ee))}return ee}function au(E,D){var V=dr(E,D),H=V==null?V:typeof V=="number"||V==="NaN"||V==="Infinity"||V==="-Infinity"?Number(V):void 0;return H!=null&&H!==V&&fa(E,D,H),H}function Aa(E,D,V,H,ee){E.h||(E.h={});var ie=E.h[V],re=bn(E,V,3,ee);if(!ie){var pe=re;ie=[];var Ae=!!(qn(E.o)&16);re=!!(qn(pe)&2);var Ze=pe;!ee&&re&&(pe=Array.prototype.slice.call(pe));for(var dt=re,Lt=0;Lt<pe.length;Lt++){var Dt=pe[Lt],st=D,jt=!1;if(jt=jt===void 0?!1:jt,Dt=Array.isArray(Dt)?new st(Dt):jt?new st:void 0,Dt!==void 0){st=Dt.o;var pn=jt=qn(st);re&&(pn|=2),Ae&&(pn|=16),pn!=jt&&oe(st,pn),st=pn,dt=dt||!!(2&st),ie.push(Dt)}}return E.h[V]=ie,Ae=qn(pe),D=Ae|33,D=dt?D&-9:D|8,Ae!=D&&(dt=pe,Object.isFrozen(dt)&&(dt=Array.prototype.slice.call(dt)),oe(dt,D),pe=dt),Ze!==pe&&fa(E,V,pe),(ee||H&&re)&&Yr(ie,2),H&&Object.freeze(ie),ie}return ee||(ee=Object.isFrozen(ie),H&&!ee?Object.freeze(ie):!H&&ee&&(ie=Array.prototype.slice.call(ie),E.h[V]=ie)),ie}function gn(E,D,V){var H=!!(qn(E.o)&2);if(D=Aa(E,D,V,H,H),E=bn(E,V,3,H),!(H||qn(E)&8)){for(H=0;H<D.length;H++){if(V=D[H],qn(V.o)&2){var ee=qi(V,!1);ee.j=V}else ee=V;V!==ee&&(D[H]=ee,E[H]=ee.o)}Yr(E,8)}return D}function vi(E,D,V){if(V!=null&&typeof V!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof V+": "+V);gi(E,D,V)}function ou(E,D,V,H,ee){zr(E);var ie=Aa(E,V,D,!1,!1);return V=H??new V,E=bn(E,D,2,!1),ee!=null?(ie.splice(ee,0,V),E.splice(ee,0,V.o)):(ie.push(V),E.push(V.o)),V.C()&&Ra(E,8),V}function su(E,D){return E??D}function Li(E,D,V){return V=V===void 0?0:V,su(au(E,D),V)}var Fi;function Ff(E){switch(typeof E){case"number":return isFinite(E)?E:String(E);case"object":if(E)if(Array.isArray(E)){if(qn(E)&128)return E=Array.prototype.slice.call(E),or(E),E}else{if(We&&E!=null&&E instanceof Uint8Array)return at(E);if(E instanceof fn){var D=E.V;return D==null?"":typeof D=="string"?D:E.V=at(D)}}}return E}function Ki(E,D,V,H){if(E!=null){if(Array.isArray(E))E=Rl(E,D,V,H!==void 0);else if(_n(E)){var ee={},ie;for(ie in E)ee[ie]=Ki(E[ie],D,V,H);E=ee}else E=D(E,H);return E}}function Rl(E,D,V,H){var ee=qn(E);H=H?!!(ee&16):void 0,E=Array.prototype.slice.call(E);for(var ie=0;ie<E.length;ie++)E[ie]=Ki(E[ie],D,V,H);return V(ee,E),E}function Vf(E){return E.ja===dn?E.toJSON():Ff(E)}function cp(E,D){E&128&&or(D)}function Al(E,D,V){if(V=V===void 0?xt:V,E!=null){if(We&&E instanceof Uint8Array)return E.length?new fn(new Uint8Array(E),Rt):Fn();if(Array.isArray(E)){var H=qn(E);return H&2?E:D&&!(H&32)&&(H&16||H===0)?(oe(E,H|2),E):(E=Rl(E,Al,H&4?xt:V,!0),D=qn(E),D&4&&D&2&&Object.freeze(E),E)}return E.ja===dn?go(E):E}}function uu(E,D,V,H,ee,ie,re){if(E=E.h&&E.h[V]){if(H=qn(E),H&2?H=E:(ie=Re(E,go),xt(H,ie),Object.freeze(ie),H=ie),zr(D),re=H==null?rn:Ke([]),H!=null){for(ie=!!H.length,E=0;E<H.length;E++){var pe=H[E];ie=ie&&!(qn(pe.o)&2),re[E]=pe.o}ie=(ie?8:0)|1,E=qn(re),(E&ie)!==ie&&(Object.isFrozen(re)&&(re=Array.prototype.slice.call(re)),oe(re,E|ie)),D.h||(D.h={}),D.h[V]=H}else D.h&&(D.h[V]=void 0);fa(D,V,re,ee)}else gi(D,V,Al(H,ie,re),ee)}function go(E){return qn(E.o)&2||(E=qi(E,!0),Yr(E.o,2)),E}function qi(E,D){var V=E.o,H=[];Yr(H,16);var ee=E.constructor.h;if(ee&&H.push(ee),ee=E.B,ee){H.length=V.length,H.fill(void 0,H.length,V.length);var ie={};H[H.length-1]=ie}qn(V)&128&&or(H),D=D||E.C()?xt:wt,ie=E.constructor,Fi=H,H=new ie(H),Fi=void 0,E.R&&(H.R=E.R.slice()),ie=!!(qn(V)&16);for(var re=ee?V.length-1:V.length,pe=0;pe<re;pe++)uu(E,H,pe-E.G,V[pe],!1,ie,D);if(ee)for(var Ae in ee)uu(E,H,+Ae,ee[Ae],!0,ie,D);return H}function Zr(E,D,V){E==null&&(E=Fi),Fi=void 0;var H=this.constructor.i||0,ee=0<H,ie=this.constructor.h,re=!1;if(E==null){E=ie?[ie]:[];var pe=48,Ae=!0;ee&&(H=0,pe|=128),oe(E,pe)}else{if(!Array.isArray(E)||ie&&ie!==E[0])throw Error();var Ze=pe=Yr(E,0);if((Ae=(16&Ze)!==0)&&((re=(32&Ze)!==0)||(Ze|=32)),ee){if(128&Ze)H=0;else if(0<E.length){var dt=E[E.length-1];if(_n(dt)&&"g"in dt){H=0,Ze|=128,delete dt.g;var Lt=!0,Dt;for(Dt in dt){Lt=!1;break}Lt&&E.pop()}}}else if(128&Ze)throw Error();pe!==Ze&&oe(E,Ze)}this.G=(ie?0:-1)-H,this.h=void 0,this.o=E;e:{if(ie=this.o.length,H=ie-1,ie&&(ie=this.o[H],_n(ie))){this.B=ie,this.i=H-this.G;break e}D!==void 0&&-1<D?(this.i=Math.max(D,H+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!ee&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(V){D=Ae&&!re&&!0,ee=this.i;var st;for(Ae=0;Ae<V.length;Ae++)re=V[Ae],re<ee?(re+=this.G,(H=E[re])?lu(H,D):E[re]=rn):(st||(st=fr(this)),(H=st[re])?lu(H,D):st[re]=rn)}}Zr.prototype.toJSON=function(){return Rl(this.o,Vf,cp)},Zr.prototype.C=function(){return!!(qn(this.o)&2)};function lu(E,D){if(Array.isArray(E)){var V=qn(E),H=1;!D||V&2||(H|=16),(V&H)!==H&&oe(E,V|H)}}Zr.prototype.ja=dn,Zr.prototype.toString=function(){return this.o.toString()};function cu(E,D,V){if(V){var H={},ee;for(ee in V){var ie=V[ee],re=ie.ra;re||(H.J=ie.xa||ie.oa.W,ie.ia?(H.aa=$l(ie.ia),re=function(pe){return function(Ae,Ze,dt){return pe.J(Ae,Ze,dt,pe.aa)}}(H)):ie.ka?(H.Z=kn(ie.da.P,ie.ka),re=function(pe){return function(Ae,Ze,dt){return pe.J(Ae,Ze,dt,pe.Z)}}(H)):re=H.J,ie.ra=re),re(D,E,ie.da),H={J:H.J,aa:H.aa,Z:H.Z}}}Ha(D,E)}var fu=Symbol();function Dl(E,D,V){return E[fu]||(E[fu]=function(H,ee){return D(H,ee,V)})}function ys(E){var D=E[fu];if(!D){var V=Zi(E);D=function(H,ee){return bi(H,ee,V)},E[fu]=D}return D}function um(E){var D=E.ia;if(D)return ys(D);if(D=E.wa)return Dl(E.da.P,D,E.ka)}function bs(E){var D=um(E),V=E.da,H=E.oa.U;return D?function(ee,ie){return H(ee,ie,V,D)}:function(ee,ie){return H(ee,ie,V)}}function Vn(E,D){var V=E[D];return typeof V=="function"&&V.length===0&&(V=V(),E[D]=V),Array.isArray(V)&&(yi in V||xs in V||0<V.length&&typeof V[0]=="function")?V:void 0}function Ol(E,D,V,H,ee,ie){D.P=E[0];var re=1;if(E.length>re&&typeof E[re]!="number"){var pe=E[re++];V(D,pe)}for(;re<E.length;){V=E[re++];for(var Ae=re+1;Ae<E.length&&typeof E[Ae]!="number";)Ae++;switch(pe=E[re++],Ae-=re,Ae){case 0:H(D,V,pe);break;case 1:(Ae=Vn(E,re))?(re++,ee(D,V,pe,Ae)):H(D,V,pe,E[re++]);break;case 2:Ae=re++,Ae=Vn(E,Ae),ee(D,V,pe,Ae,E[re++]);break;case 3:ie(D,V,pe,E[re++],E[re++],E[re++]);break;case 4:ie(D,V,pe,E[re++],E[re++],E[re++],E[re++]);break;default:throw Error("unexpected number of binary field arguments: "+Ae)}}return D}var ws=Symbol();function $l(E){var D=E[ws];if(!D){var V=Yi(E);D=function(H,ee){return jo(H,ee,V)},E[ws]=D}return D}function kn(E,D){var V=E[ws];return V||(V=function(H,ee){return cu(H,ee,D)},E[ws]=V),V}var xs=Symbol();function $c(E,D){E.push(D)}function un(E,D,V){E.push(D,V.W)}function Il(E,D,V,H){var ee=$l(H),ie=Yi(H).P,re=V.W;E.push(D,function(pe,Ae,Ze){return re(pe,Ae,Ze,ie,ee)})}function Dr(E,D,V,H,ee,ie){var re=kn(H,ie),pe=V.W;E.push(D,function(Ae,Ze,dt){return pe(Ae,Ze,dt,H,re)})}function Yi(E){var D=E[xs];return D||(D=Ol(E,E[xs]=[],$c,un,Il,Dr),yi in E&&xs in E&&(E.length=0),D)}var yi=Symbol();function Gu(E,D){E[0]=D}function Br(E,D,V,H){var ee=V.U;E[D]=H?function(ie,re,pe){return ee(ie,re,pe,H)}:ee}function Yn(E,D,V,H,ee){var ie=V.U,re=ys(H),pe=Zi(H).P;E[D]=function(Ae,Ze,dt){return ie(Ae,Ze,dt,pe,re,ee)}}function fp(E,D,V,H,ee,ie,re){var pe=V.U,Ae=Dl(H,ee,ie);E[D]=function(Ze,dt,Lt){return pe(Ze,dt,Lt,H,Ae,re)}}function Zi(E){var D=E[yi];return D||(D=Ol(E,E[yi]={},Gu,Br,Yn,fp),yi in E&&xs in E&&(E.length=0),D)}function bi(E,D,V){for(;Wu(D)&&D.i!=4;){var H=D.l,ee=V[H];if(!ee){var ie=V[0];ie&&(ie=ie[H])&&(ee=V[H]=bs(ie))}if(!ee||!ee(D,E,H)){ee=D,H=E,ie=ee.j,mo(ee);var re=ee;if(!re.ca){if(ee=re.h.h-ie,re.h.h=ie,re=re.h,ee==0)ee=Fn();else{if(ie=ar(re,ee),re.S&&re.m)ee=re.i.subarray(ie,ie+ee);else{re=re.i;var pe=ie;ee=ie+ee,ee=pe===ee?ot():He?re.slice(pe,ee):new Uint8Array(re.subarray(pe,ee))}ee=ee.length==0?Fn():new fn(ee,Rt)}(ie=H.R)?ie.push(ee):H.R=[ee]}}}return E}function jo(E,D,V){for(var H=V.length,ee=H%2==1,ie=ee?1:0;ie<H;ie+=2)(0,V[ie+1])(D,E,V[ie]);cu(E,D,ee?V[0]:void 0)}function Ku(E,D){return{U:E,W:D}}var wi=Ku(function(E,D,V){if(E.i!==5)return!1;E=E.h;var H=E.i,ee=E.h,ie=H[ee],re=H[ee+1],pe=H[ee+2];return H=H[ee+3],Ln(E,E.h+4),re=(ie<<0|re<<8|pe<<16|H<<24)>>>0,E=2*(re>>31)+1,ie=re>>>23&255,re&=8388607,gi(D,V,ie==255?re?NaN:1/0*E:ie==0?E*Math.pow(2,-149)*re:E*Math.pow(2,ie-150)*(re+Math.pow(2,23))),!0},function(E,D,V){if(D=au(D,V),D!=null){ca(E.h,8*V+5),E=E.h;var H=+D;H===0?0<1/H?At=nn=0:(nn=0,At=2147483648):isNaN(H)?(nn=0,At=2147483647):(H=(V=0>H?-2147483648:0)?-H:H,34028234663852886e22<H?(nn=0,At=(V|2139095040)>>>0):11754943508222875e-54>H?(H=Math.round(H/Math.pow(2,-149)),nn=0,At=(V|H)>>>0):(D=Math.floor(Math.log(H)/Math.LN2),H*=Math.pow(2,-D),H=Math.round(8388608*H),16777216<=H&&++D,nn=0,At=(V|D+127<<23|H&8388607)>>>0)),V=At,E.h.push(V>>>0&255),E.h.push(V>>>8&255),E.h.push(V>>>16&255),E.h.push(V>>>24&255)}}),qu=Ku(function(E,D,V){if(E.i!==0)return!1;var H=E.h,ee=0,ie=E=0,re=H.i,pe=H.h;do{var Ae=re[pe++];ee|=(Ae&127)<<ie,ie+=7}while(32>ie&&Ae&128);for(32<ie&&(E|=(Ae&127)>>4),ie=3;32>ie&&Ae&128;ie+=7)Ae=re[pe++],E|=(Ae&127)<<ie;if(Ln(H,pe),128>Ae)H=ee>>>0,Ae=E>>>0,(E=Ae&2147483648)&&(H=~H+1>>>0,Ae=~Ae>>>0,H==0&&(Ae=Ae+1>>>0)),H=4294967296*Ae+(H>>>0);else throw Wi();return gi(D,V,E?-H:H),!0},function(E,D,V){D=dr(D,V),D!=null&&(typeof D=="string"&&ai(D),D!=null&&(ca(E.h,8*V),typeof D=="number"?(E=E.h,Jn(D),ho(E,At,nn)):(V=ai(D),ho(E.h,V.i,V.h))))}),dp=Ku(function(E,D,V){return E.i!==0?!1:(gi(D,V,Ar(E.h)),!0)},function(E,D,V){if(D=dr(D,V),D!=null&&D!=null)if(ca(E.h,8*V),E=E.h,V=D,0<=V)ca(E,V);else{for(D=0;9>D;D++)E.h.push(V&127|128),V>>=7;E.h.push(1)}}),Wa=Ku(function(E,D,V){if(E.i!==2)return!1;var H=Ar(E.h)>>>0;E=E.h;var ee=ar(E,H);if(E=E.i,la){var ie=E,re;(re=jr)||(re=jr=new TextDecoder("utf-8",{fatal:!0})),E=ee+H,ie=ee===0&&E===ie.length?ie:ie.subarray(ee,E);try{var pe=re.decode(ie)}catch(Lt){if(Mi===void 0){try{re.decode(new Uint8Array([128]))}catch{}try{re.decode(new Uint8Array([97])),Mi=!0}catch{Mi=!1}}throw!Mi&&(jr=void 0),Lt}}else{pe=ee,H=pe+H,ee=[];for(var Ae=null,Ze,dt;pe<H;)Ze=E[pe++],128>Ze?ee.push(Ze):224>Ze?pe>=H?mi():(dt=E[pe++],194>Ze||(dt&192)!==128?(pe--,mi()):ee.push((Ze&31)<<6|dt&63)):240>Ze?pe>=H-1?mi():(dt=E[pe++],(dt&192)!==128||Ze===224&&160>dt||Ze===237&&160<=dt||((ie=E[pe++])&192)!==128?(pe--,mi()):ee.push((Ze&15)<<12|(dt&63)<<6|ie&63)):244>=Ze?pe>=H-2?mi():(dt=E[pe++],(dt&192)!==128||(Ze<<28)+(dt-144)>>30||((ie=E[pe++])&192)!==128||((re=E[pe++])&192)!==128?(pe--,mi()):(Ze=(Ze&7)<<18|(dt&63)<<12|(ie&63)<<6|re&63,Ze-=65536,ee.push((Ze>>10&1023)+55296,(Ze&1023)+56320))):mi(),8192<=ee.length&&(Ae=ki(Ae,ee),ee.length=0);pe=ki(Ae,ee)}return gi(D,V,pe),!0},function(E,D,V){if(D=dr(D,V),D!=null){var H=!1;if(H=H===void 0?!1:H,Ba){if(H&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(D))throw Error("Found an unpaired surrogate");D=(Vo||(Vo=new TextEncoder)).encode(D)}else{for(var ee=0,ie=new Uint8Array(3*D.length),re=0;re<D.length;re++){var pe=D.charCodeAt(re);if(128>pe)ie[ee++]=pe;else{if(2048>pe)ie[ee++]=pe>>6|192;else{if(55296<=pe&&57343>=pe){if(56319>=pe&&re<D.length){var Ae=D.charCodeAt(++re);if(56320<=Ae&&57343>=Ae){pe=1024*(pe-55296)+Ae-56320+65536,ie[ee++]=pe>>18|240,ie[ee++]=pe>>12&63|128,ie[ee++]=pe>>6&63|128,ie[ee++]=pe&63|128;continue}else re--}if(H)throw Error("Found an unpaired surrogate");pe=65533}ie[ee++]=pe>>12|224,ie[ee++]=pe>>6&63|128}ie[ee++]=pe&63|128}}D=ee===ie.length?ie:ie.subarray(0,ee)}ca(E.h,8*V+2),ca(E.h,D.length),Gi(E,E.h.end()),Gi(E,D)}}),du=Ku(function(E,D,V,H,ee){if(E.i!==2)return!1;D=ou(D,V,H),V=E.h.j,H=Ar(E.h)>>>0;var ie=E.h.h+H,re=ie-V;if(0>=re&&(E.h.j=ie,ee(D,E,void 0,void 0,void 0),re=ie-E.h.h),re)throw Error("Message parsing ended unexpectedly. Expected to read "+(H+" bytes, instead read "+(H-re)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return E.h.h=ie,E.h.j=V,!0},function(E,D,V,H,ee){if(D=gn(D,H,V),D!=null)for(H=0;H<D.length;H++){var ie=E;ca(ie.h,8*V+2);var re=ie.h.end();Gi(ie,re),re.push(ie.i),ie=re,ee(D[H],E),re=E;var pe=ie.pop();for(pe=re.i+re.h.length()-pe;127<pe;)ie.push(pe&127|128),pe>>>=7,re.i++;ie.push(pe),re.i++}});function zo(E){return function(D,V){e:{if(vs.length){var H=vs.pop();H.setOptions(V),oi(H.h,D,V),D=H}else D=new Hu(D,V);try{var ee=Zi(E),ie=bi(new ee.P,D,ee);break e}finally{ee=D.h,ee.i=null,ee.m=!1,ee.l=0,ee.j=0,ee.h=0,ee.S=!1,D.l=-1,D.i=-1,100>vs.length&&vs.push(D)}ie=void 0}return ie}}function Da(E){return function(){var D=new Ua;jo(this,D,Yi(E)),Gi(D,D.h.end());for(var V=new Uint8Array(D.i),H=D.j,ee=H.length,ie=0,re=0;re<ee;re++){var pe=H[re];V.set(pe,ie),ie+=pe.length}return D.j=[V],V}}function Bo(E){Zr.call(this,E)}k(Bo,Zr);var pu=[Bo,1,dp,2,wi,3,Wa,4,Wa];Bo.prototype.l=Da(pu);function Ss(E){Zr.call(this,E,-1,Pl)}k(Ss,Zr),Ss.prototype.addClassification=function(E,D){return ou(this,1,Bo,E,D),this};var Pl=[1],Ic=zo([Ss,1,du,pu]);function hu(E){Zr.call(this,E)}k(hu,Zr);var vo=[hu,1,wi,2,wi,3,wi,4,wi,5,wi];hu.prototype.l=Da(vo);function U(E){Zr.call(this,E,-1,se)}k(U,Zr);var se=[1],ke=zo([U,1,du,vo]);function Ie(E){Zr.call(this,E)}k(Ie,Zr);var it=[Ie,1,wi,2,wi,3,wi,4,wi,5,wi,6,qu],Zt=zo(it);Ie.prototype.l=Da(it);function mt(E,D,V){if(V=E.createShader(V===0?E.VERTEX_SHADER:E.FRAGMENT_SHADER),E.shaderSource(V,D),E.compileShader(V),!E.getShaderParameter(V,E.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+E.getShaderInfoLog(V));return V}function qt(E){return gn(E,Bo,1).map(function(D){var V=dr(D,1);return{index:V??0,qa:Li(D,2),label:dr(D,3)!=null?su(dr(D,3),""):void 0,displayName:dr(D,4)!=null?su(dr(D,4),""):void 0}})}function Sn(E){return{x:Li(E,1),y:Li(E,2),z:Li(E,3),visibility:au(E,4)!=null?Li(E,4):void 0}}function Rn(E,D){this.i=E,this.h=D,this.m=0}function sr(E,D,V){return er(E,D),typeof E.h.canvas.transferToImageBitmap=="function"?Promise.resolve(E.h.canvas.transferToImageBitmap()):V?Promise.resolve(E.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(E.h.canvas):(E.j===void 0&&(E.j=document.createElement("canvas")),new Promise(function(H){E.j.height=E.h.canvas.height,E.j.width=E.h.canvas.width,E.j.getContext("2d",{}).drawImage(E.h.canvas,0,0,E.h.canvas.width,E.h.canvas.height),H(E.j)}))}function er(E,D){var V=E.h;if(E.s===void 0){var H=mt(V,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ee=mt(V,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),ie=V.createProgram();if(V.attachShader(ie,H),V.attachShader(ie,ee),V.linkProgram(ie),!V.getProgramParameter(ie,V.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+V.getProgramInfoLog(ie));H=E.s=ie,V.useProgram(H),ee=V.getUniformLocation(H,"sampler0"),E.l={O:V.getAttribLocation(H,"aVertex"),N:V.getAttribLocation(H,"aTex"),ya:ee},E.v=V.createBuffer(),V.bindBuffer(V.ARRAY_BUFFER,E.v),V.enableVertexAttribArray(E.l.O),V.vertexAttribPointer(E.l.O,2,V.FLOAT,!1,0,0),V.bufferData(V.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),V.STATIC_DRAW),V.bindBuffer(V.ARRAY_BUFFER,null),E.u=V.createBuffer(),V.bindBuffer(V.ARRAY_BUFFER,E.u),V.enableVertexAttribArray(E.l.N),V.vertexAttribPointer(E.l.N,2,V.FLOAT,!1,0,0),V.bufferData(V.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),V.STATIC_DRAW),V.bindBuffer(V.ARRAY_BUFFER,null),V.uniform1i(ee,0)}H=E.l,V.useProgram(E.s),V.canvas.width=D.width,V.canvas.height=D.height,V.viewport(0,0,D.width,D.height),V.activeTexture(V.TEXTURE0),E.i.bindTexture2d(D.glName),V.enableVertexAttribArray(H.O),V.bindBuffer(V.ARRAY_BUFFER,E.v),V.vertexAttribPointer(H.O,2,V.FLOAT,!1,0,0),V.enableVertexAttribArray(H.N),V.bindBuffer(V.ARRAY_BUFFER,E.u),V.vertexAttribPointer(H.N,2,V.FLOAT,!1,0,0),V.bindFramebuffer(V.DRAW_FRAMEBUFFER?V.DRAW_FRAMEBUFFER:V.FRAMEBUFFER,null),V.clearColor(0,0,0,0),V.clear(V.COLOR_BUFFER_BIT),V.colorMask(!0,!0,!0,!0),V.drawArrays(V.TRIANGLE_FAN,0,4),V.disableVertexAttribArray(H.O),V.disableVertexAttribArray(H.N),V.bindBuffer(V.ARRAY_BUFFER,null),E.i.bindTexture2d(0)}function pr(E){this.h=E}var br=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function An(E,D){return D+E}function Cs(E,D){window[E]=D}function Pc(E){var D=document.createElement("script");return D.setAttribute("src",E),D.setAttribute("crossorigin","anonymous"),new Promise(function(V){D.addEventListener("load",function(){V()},!1),D.addEventListener("error",function(){V()},!1),document.body.appendChild(D)})}function jf(){return de(function(E){switch(E.h){case 1:return E.s=2,P(E,WebAssembly.instantiate(br),4);case 4:E.h=3,E.s=0;break;case 2:return E.s=0,E.l=null,E.return(!1);case 3:return E.return(!0)}})}function zf(E){if(this.h=E,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=E&&E.locateFile||An,typeof window=="object")var D=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")D=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=D,E.options){D=l(Object.keys(E.options));for(var V=D.next();!V.done;V=D.next()){V=V.value;var H=E.options[V].default;H!==void 0&&(this.l[V]=typeof H=="function"?H():H)}}}t=zf.prototype,t.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Uo(E){var D,V,H,ee,ie,re,pe,Ae,Ze,dt,Lt;return de(function(Dt){switch(Dt.h){case 1:return E.ga?(D=E.h.files===void 0?[]:typeof E.h.files=="function"?E.h.files(E.l):E.h.files,P(Dt,jf(),2)):Dt.return();case 2:if(V=Dt.i,typeof window=="object")return Cs("createMediapipeSolutionsWasm",{locateFile:E.locateFile}),Cs("createMediapipeSolutionsPackedAssets",{locateFile:E.locateFile}),re=D.filter(function(st){return st.data!==void 0}),pe=D.filter(function(st){return st.data===void 0}),Ae=Promise.all(re.map(function(st){var jt=Mc(E,st.url);if(st.path!==void 0){var pn=st.path;jt=jt.then(function(ur){return E.overrideFile(pn,ur),Promise.resolve(ur)})}return jt})),Ze=Promise.all(pe.map(function(st){return st.simd===void 0||st.simd&&V||!st.simd&&!V?Pc(E.locateFile(st.url,E.ha)):Promise.resolve()})).then(function(){var st,jt,pn;return de(function(ur){if(ur.h==1)return st=window.createMediapipeSolutionsWasm,jt=window.createMediapipeSolutionsPackedAssets,pn=E,P(ur,st(jt),2);pn.i=ur.i,ur.h=0})}),dt=function(){return de(function(st){return E.h.graph&&E.h.graph.url?st=P(st,Mc(E,E.h.graph.url),0):(st.h=0,st=void 0),st})}(),P(Dt,Promise.all([Ze,Ae,dt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return H=D.filter(function(st){return st.simd===void 0||st.simd&&V||!st.simd&&!V}).map(function(st){return E.locateFile(st.url,E.ha)}),importScripts.apply(null,f(H)),ee=E,P(Dt,createMediapipeSolutionsWasm(Module),6);case 6:ee.i=Dt.i,E.m=new OffscreenCanvas(1,1),E.i.canvas=E.m,ie=E.i.GL.createContext(E.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),E.i.GL.makeContextCurrent(ie),Dt.h=4;break;case 7:if(E.m=document.createElement("canvas"),Lt=E.m.getContext("webgl2",{}),!Lt&&(Lt=E.m.getContext("webgl",{}),!Lt))return alert("Failed to create WebGL canvas context when passing video frame."),Dt.return();E.K=Lt,E.i.canvas=E.m,E.i.createContext(E.m,!0,!0,{});case 4:E.j=new E.i.SolutionWasm,E.ga=!1,Dt.h=0}})}function Bf(E){var D,V,H,ee,ie,re,pe,Ae;return de(function(Ze){if(Ze.h==1){if(E.h.graph&&E.h.graph.url&&E.fa===E.h.graph.url)return Ze.return();if(E.u=!0,!E.h.graph||!E.h.graph.url){Ze.h=2;return}return E.fa=E.h.graph.url,P(Ze,Mc(E,E.h.graph.url),3)}for(Ze.h!=2&&(D=Ze.i,E.j.loadGraph(D)),V=l(Object.keys(E.D)),H=V.next();!H.done;H=V.next())ee=H.value,E.j.overrideFile(ee,E.D[ee]);if(E.D={},E.h.listeners)for(ie=l(E.h.listeners),re=ie.next();!re.done;re=ie.next())pe=re.value,lm(E,pe);Ae=E.l,E.l={},E.setOptions(Ae),Ze.h=0})}t.reset=function(){var E=this;return de(function(D){E.j&&(E.j.reset(),E.s={},E.v={}),D.h=0})},t.setOptions=function(E,D){var V=this;if(D=D||this.h.options){for(var H=[],ee=[],ie={},re=l(Object.keys(E)),pe=re.next();!pe.done;ie={X:ie.X,Y:ie.Y},pe=re.next())if(pe=pe.value,!(pe in this.l&&this.l[pe]===E[pe])){this.l[pe]=E[pe];var Ae=D[pe];Ae!==void 0&&(Ae.onChange&&(ie.X=Ae.onChange,ie.Y=E[pe],H.push(function(Ze){return function(){var dt;return de(function(Lt){if(Lt.h==1)return P(Lt,Ze.X(Ze.Y),2);dt=Lt.i,dt===!0&&(V.u=!0),Lt.h=0})}}(ie))),Ae.graphOptionXref&&(pe=Object.assign({},{calculatorName:"",calculatorIndex:0},Ae.graphOptionXref,{valueNumber:Ae.type===1?E[pe]:0,valueBoolean:Ae.type===0?E[pe]:!1,valueString:Ae.type===2?E[pe]:""}),ee.push(pe)))}(H.length!==0||ee.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(ee),this.F=(this.F===void 0?[]:this.F).concat(H))}};function Uf(E){var D,V,H,ee,ie,re,pe;return de(function(Ae){switch(Ae.h){case 1:if(!E.u)return Ae.return();if(!E.F){Ae.h=2;break}D=l(E.F),V=D.next();case 3:if(V.done){Ae.h=5;break}return H=V.value,P(Ae,H(),4);case 4:V=D.next(),Ae.h=3;break;case 5:E.F=void 0;case 2:if(E.H){for(ee=new E.i.GraphOptionChangeRequestList,ie=l(E.H),re=ie.next();!re.done;re=ie.next())pe=re.value,ee.push_back(pe);E.j.changeOptions(ee),ee.delete(),E.H=void 0}E.u=!1,Ae.h=0}})}t.initialize=function(){var E=this;return de(function(D){return D.h==1?P(D,Uo(E),2):D.h!=3?P(D,Bf(E),3):P(D,Uf(E),0)})};function Mc(E,D){var V,H;return de(function(ee){return D in E.L?ee.return(E.L[D]):(V=E.locateFile(D,""),H=fetch(V).then(function(ie){return ie.arrayBuffer()}),E.L[D]=H,ee.return(H))})}t.overrideFile=function(E,D){this.j?this.j.overrideFile(E,D):this.D[E]=D},t.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},t.send=function(E,D){var V=this,H,ee,ie,re,pe,Ae,Ze,dt,Lt;return de(function(Dt){switch(Dt.h){case 1:return V.h.inputs?(H=1e3*(D??performance.now()),P(Dt,V.I,2)):Dt.return();case 2:return P(Dt,V.initialize(),3);case 3:for(ee=new V.i.PacketDataList,ie=l(Object.keys(E)),re=ie.next();!re.done;re=ie.next())if(pe=re.value,Ae=V.h.inputs[pe]){e:{var st=E[pe];switch(Ae.type){case"video":var jt=V.s[Ae.stream];if(jt||(jt=new Rn(V.i,V.K),V.s[Ae.stream]=jt),jt.m===0&&(jt.m=jt.i.createTexture()),typeof HTMLVideoElement<"u"&&st instanceof HTMLVideoElement)var pn=st.videoWidth,ur=st.videoHeight;else typeof HTMLImageElement<"u"&&st instanceof HTMLImageElement?(pn=st.naturalWidth,ur=st.naturalHeight):(pn=st.width,ur=st.height);ur={glName:jt.m,width:pn,height:ur},pn=jt.h,pn.canvas.width=ur.width,pn.canvas.height=ur.height,pn.activeTexture(pn.TEXTURE0),jt.i.bindTexture2d(jt.m),pn.texImage2D(pn.TEXTURE_2D,0,pn.RGBA,pn.RGBA,pn.UNSIGNED_BYTE,st),jt.i.bindTexture2d(0),jt=ur;break e;case"detections":for(jt=V.s[Ae.stream],jt||(jt=new pr(V.i),V.s[Ae.stream]=jt),jt.data||(jt.data=new jt.h.DetectionListData),jt.data.reset(st.length),ur=0;ur<st.length;++ur){pn=st[ur];var hr=jt.data,Ur=hr.setBoundingBox,Ga=ur,da=pn.la,Dn=new Ie;if(vi(Dn,1,da.sa),vi(Dn,2,da.ta),vi(Dn,3,da.height),vi(Dn,4,da.width),vi(Dn,5,da.rotation),gi(Dn,6,da.pa),da=Dn.l(),Ur.call(hr,Ga,da),pn.ea)for(hr=0;hr<pn.ea.length;++hr){Dn=pn.ea[hr],Ur=jt.data,Ga=Ur.addNormalizedLandmark,da=ur,Dn=Object.assign({},Dn,{visibility:Dn.visibility?Dn.visibility:0});var Hr=new hu;vi(Hr,1,Dn.x),vi(Hr,2,Dn.y),vi(Hr,3,Dn.z),Dn.visibility&&vi(Hr,4,Dn.visibility),Dn=Hr.l(),Ga.call(Ur,da,Dn)}if(pn.ba)for(hr=0;hr<pn.ba.length;++hr)Ur=jt.data,Ga=Ur.addClassification,da=ur,Dn=pn.ba[hr],Hr=new Bo,vi(Hr,2,Dn.qa),Dn.index&&gi(Hr,1,Dn.index),Dn.label&&gi(Hr,3,Dn.label),Dn.displayName&&gi(Hr,4,Dn.displayName),Dn=Hr.l(),Ga.call(Ur,da,Dn)}jt=jt.data;break e;default:jt={}}}switch(Ze=jt,dt=Ae.stream,Ae.type){case"video":ee.pushTexture2d(Object.assign({},Ze,{stream:dt,timestamp:H}));break;case"detections":Lt=Ze,Lt.stream=dt,Lt.timestamp=H,ee.pushDetectionList(Lt);break;default:throw Error("Unknown input config type: '"+Ae.type+"'")}}return V.j.send(ee),P(Dt,V.I,4);case 4:ee.delete(),Dt.h=0}})};function q1(E,D,V){var H,ee,ie,re,pe,Ae,Ze,dt,Lt,Dt,st,jt,pn,ur;return de(function(hr){switch(hr.h){case 1:if(!V)return hr.return(D);for(H={},ee=0,ie=l(Object.keys(V)),re=ie.next();!re.done;re=ie.next())pe=re.value,Ae=V[pe],typeof Ae!="string"&&Ae.type==="texture"&&D[Ae.stream]!==void 0&&++ee;1<ee&&(E.M=!1),Ze=l(Object.keys(V)),re=Ze.next();case 2:if(re.done){hr.h=4;break}if(dt=re.value,Lt=V[dt],typeof Lt=="string")return pn=H,ur=dt,P(hr,Y1(E,dt,D[Lt]),14);if(Dt=D[Lt.stream],Lt.type==="detection_list"){if(Dt){for(var Ur=Dt.getRectList(),Ga=Dt.getLandmarksList(),da=Dt.getClassificationsList(),Dn=[],Hr=0;Hr<Ur.size();++Hr){var Yu=Zt(Ur.get(Hr)),Z1=Li(Yu,1),_0=Li(Yu,2),T0=Li(Yu,3),k0=Li(Yu,4),Hf=Li(Yu,5,0),mu=void 0;mu=mu===void 0?0:mu,Yu={la:{sa:Z1,ta:_0,height:T0,width:k0,rotation:Hf,pa:su(dr(Yu,6),mu)},ea:gn(ke(Ga.get(Hr)),hu,1).map(Sn),ba:qt(Ic(da.get(Hr)))},Dn.push(Yu)}Ur=Dn}else Ur=[];H[dt]=Ur,hr.h=7;break}if(Lt.type==="proto_list"){if(Dt){for(Ur=Array(Dt.size()),Ga=0;Ga<Dt.size();Ga++)Ur[Ga]=Dt.get(Ga);Dt.delete()}else Ur=[];H[dt]=Ur,hr.h=7;break}if(Dt===void 0){hr.h=3;break}if(Lt.type==="float_list"){H[dt]=Dt,hr.h=7;break}if(Lt.type==="proto"){H[dt]=Dt,hr.h=7;break}if(Lt.type!=="texture")throw Error("Unknown output config type: '"+Lt.type+"'");return st=E.v[dt],st||(st=new Rn(E.i,E.K),E.v[dt]=st),P(hr,sr(st,Dt,E.M),13);case 13:jt=hr.i,H[dt]=jt;case 7:Lt.transform&&H[dt]&&(H[dt]=Lt.transform(H[dt])),hr.h=3;break;case 14:pn[ur]=hr.i;case 3:re=Ze.next(),hr.h=2;break;case 4:return hr.return(H)}})}function Y1(E,D,V){var H;return de(function(ee){return typeof V=="number"||V instanceof Uint8Array||V instanceof E.i.Uint8BlobList?ee.return(V):V instanceof E.i.Texture2dDataOut?(H=E.v[D],H||(H=new Rn(E.i,E.K),E.v[D]=H),ee.return(sr(H,V,E.M))):ee.return(void 0)})}function lm(E,D){for(var V=D.name||"$",H=[].concat(f(D.wants)),ee=new E.i.StringList,ie=l(D.wants),re=ie.next();!re.done;re=ie.next())ee.push_back(re.value);ie=E.i.PacketListener.implement({onResults:function(pe){for(var Ae={},Ze=0;Ze<D.wants.length;++Ze)Ae[H[Ze]]=pe.get(Ze);var dt=E.listeners[V];dt&&(E.I=q1(E,Ae,D.outs).then(function(Lt){Lt=dt(Lt);for(var Dt=0;Dt<D.wants.length;++Dt){var st=Ae[H[Dt]];typeof st=="object"&&st.hasOwnProperty&&st.hasOwnProperty("delete")&&st.delete()}Lt&&(E.I=Lt)}))}}),E.j.attachMultiListener(ee,ie),ee.delete()}t.onResults=function(E,D){this.listeners[D||"$"]=E},je("Solution",zf),je("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function pp(E){switch(E===void 0&&(E=0),E){case 1:return"selfie_segmentation_landscape.tflite";default:return"selfie_segmentation.tflite"}}function cm(E){var D=this;E=E||{},this.h=new zf({locateFile:E.locateFile,files:function(V){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:pp(V.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(V){var H,ee,ie;return de(function(re){return re.h==1?(H=pp(V),ee="third_party/mediapipe/modules/selfie_segmentation/"+H,P(re,Mc(D.h,H),2)):(ie=re.i,D.h.overrideFile(ee,ie),re.return(!0))})}}}})}t=cm.prototype,t.close=function(){return this.h.close(),Promise.resolve()},t.onResults=function(E){this.h.onResults(E)},t.initialize=function(){var E=this;return de(function(D){return P(D,E.h.initialize(),0)})},t.reset=function(){this.h.reset()},t.send=function(E){var D=this;return de(function(V){return P(V,D.h.send(E),0)})},t.setOptions=function(E){this.h.setOptions(E)},je("SelfieSegmentation",cm),je("VERSION","0.1.1675465747")}).call(ac);/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var PD=function(t,e){return PD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},PD(t,e)};function NW(t,e){function n(){this.constructor=t}PD(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var co=function(){return co=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},co.apply(this,arguments)};function Pn(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(p){try{f(r.next(p))}catch(m){o(m)}}function l(p){try{f(r.throw(p))}catch(m){o(m)}}function f(p){var m;p.done?i(p.value):(m=p.value,m instanceof n?m:new n(function(g){g(m)})).then(s,l)}f((r=r.apply(t,[])).next())})}function Mn(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&m[0]?r.return:m[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,m[1])).done)return i;switch(r=0,i&&(m=[2&m[0],i.value]),m[0]){case 0:case 1:i=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,r=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||m[0]!==6&&m[0]!==2)){s=0;continue}if(m[0]===3&&(!i||m[1]>i[0]&&m[1]<i[3])){s.label=m[1];break}if(m[0]===6&&s.label<i[1]){s.label=i[1],i=m;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(m);break}i[2]&&s.ops.pop(),s.trys.pop();continue}m=e.call(t,s)}catch(g){m=[6,g],r=0}finally{n=i=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([f,p])}}}function RS(t){return t instanceof SVGAnimatedLength?t.baseVal.value:t}function MD(t){return Pn(this,void 0,void 0,function(){var e,n;return Mn(this,function(r){switch(r.label){case 0:return e=document.createElement("canvas"),t instanceof rr?[4,$1(t,e)]:[3,2];case 1:return r.sent(),[3,3];case 2:e.width=RS(t.width),e.height=RS(t.height),n=e.getContext("2d"),t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0),r.label=3;case 3:return[2,e]}})})}function RW(t){return Pn(this,void 0,void 0,function(){var e,n,r,i,o,s;return Mn(this,function(l){switch(l.label){case 0:return t instanceof rr?(e=t.shape.slice(0,2),n=e[0],r=e[1],i=ImageData.bind,[4,$1(t)]):[3,2];case 1:return[2,new(i.apply(ImageData,[void 0,l.sent(),r,n]))];case 2:return o=document.createElement("canvas"),s=o.getContext("2d"),o.width=RS(t.width),o.height=RS(t.height),s.drawImage(t,0,0),[2,s.getImageData(0,0,o.width,o.height)]}})})}function AW(t){return Pn(this,void 0,void 0,function(){var e,n;return Mn(this,function(r){switch(r.label){case 0:return t instanceof SVGImageElement||t instanceof OffscreenCanvas?[4,MD(t)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:return e=n,[2,hS(e,4)]}})})}function AS(t){if(t<0||t>=256)throw new Error("Mask value must be in range [0, 255] but got "+t);if(!Number.isInteger(t))throw new Error("Mask value must be an integer but got "+t)}function DW(t){var e=t.shape[2],n=YA(t,2),r=ze(n,[-1]);return N1(r,e)}function DS(t,e){return tn(function(){return Kn(l0(t,Tn(e)),"int32")})}function Kke(t,e){var n=e.shape,r=n[0],i=n[1],o=n[2];return tn(function(){var s=DW(e),l=Mo(rp(0,o,1,"int32"),1),f=Kn(Qn(s,l),"int32"),p=ze(f,[r,i]),m=en(p,Tn(1,"int32"));return xn(function(g,y){return vt(g,y)}(m,t),Tn(1,"int32"))})}var OW=function(){function t(e,n){this.model=e,this.outputStride=n;var r=this.model.inputs[0].shape;X(r[1]===-1&&r[2]===-1,function(){return"Input shape ["+r[1]+", "+r[2]+"] must both be equal to or -1"})}return t.prototype.predict=function(e){var n=this;return tn(function(){var r=n.preprocessInput(Kn(e,"float32")),i=Mo(r,0),o=n.model.predict(i).map(function(l){return ju(l,[0])}),s=n.nameOutputResults(o);return{heatmapScores:Tc(s.heatmap),offsets:s.offsets,displacementFwd:s.displacementFwd,displacementBwd:s.displacementBwd,segmentation:s.segmentation,partHeatmaps:s.partHeatmaps,longOffsets:s.longOffsets,partOffsets:s.partOffsets}})},t.prototype.dispose=function(){this.model.dispose()},t}(),qke=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return NW(e,t),e.prototype.preprocessInput=function(n){return tn(function(){return xn(Er(n,127.5),1)})},e.prototype.nameOutputResults=function(n){return{offsets:n[0],segmentation:n[1],partHeatmaps:n[2],longOffsets:n[3],heatmap:n[4],displacementFwd:n[5],displacementBwd:n[6],partOffsets:n[7]}},e}(OW),OS=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],Nl=OS.length,$S=OS.reduce(function(t,e,n){return t[e]=n,t},{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map(function(t){var e=t[0],n=t[1];return[$S[e],$S[n]]});function LD(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1],l=n.top,f=n.bottom;return[s/(n.left+n.right+i),o/(l+f+r)]}function $W(t,e,n,r){return{y:r.get(t,e,n),x:r.get(t,e,n+Nl)}}function IW(t,e,n){var r=$W(t.heatmapY,t.heatmapX,t.id,n),i=r.y,o=r.x;return{x:t.heatmapX*e+o,y:t.heatmapY*e+i}}function PW(t,e,n){return t<e?e:t>n?n:t}function MW(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Yke(t,e,n){n===void 0&&(n=.3);for(var r=0,i=0,o=0;o<t.length;o++)e.keypoints[o].score>n&&(i+=1,r+=Math.pow(t[o].x-e.keypoints[o].position.x,2)+Math.pow(t[o].y-e.keypoints[o].position.y,2));return i===0?r=1/0:r/=i,r}function Zke(t,e,n,r,i,o,s){for(var l=s[0],f=s[1],p=n(t),m=p.y*r+p.x,g=i[Nl*(2*m)+e],y=i[Nl*(2*m+1)+e],x=t.y+g,S=t.x+y,_=0;_<o;_++){x=Math.min(x,l-1);var k=n({x:S=Math.min(S,f-1),y:x}),R=k.y*r+k.x;x+=g=i[Nl*(2*R)+e],S+=y=i[Nl*(2*R+1)+e]}return{x:S,y:x}}function LW(t,e,n,r,i,o,s,l,f,p){for(var m=i[0],g=i[1],y=o[0],x=o[1],S=l[0],_=l[1],k=[],R=function(te){return function(fe,ye,de,Pe){var xe=ye[0],Te=ye[1],je=de[0],$e=de[1],Re=Math.round(((xe+fe.y+1)*$e-1)/Pe);return{x:Math.round(((Te+fe.x+1)*je-1)/Pe),y:Re}}(te,[m,g],[y,x],f)},O=0;O<r;O++){var I=Zke(t,O,R,s,e,p,[S,_]);k.push(I)}for(var P=-1,F=1/0,K=0;K<n.length;K++){var Y=Yke(k,n[K]);Y<F&&(P=K,F=Y)}return P}function FW(t,e){var n=t[0],r=t[1];return[Math.round((r-1)/e+1),Math.round((n-1)/e+1)]}function VW(t,e,n,r,i,o,s,l,f,p,m){for(var g=s[0],y=s[1],x=t.shape,S=x[0],_=x[1],k=e.shape.slice(0,2),R=k[0],O=k[1],I=ze(e,[R,O,2,Nl]),P=new Float32Array(m*Nl*3).fill(0),F=0;F<n.length;F++)for(var K=F*Nl*3,Y=n[F],te=0;te<Nl;te++){var fe=Y.keypoints[te],ye=K+3*te;P[ye]=fe.score,P[ye+1]=fe.position.y,P[ye+2]=fe.position.x}var de=LD([r,i],[g,y],l),Pe=de[0],xe=de[1],Te=Lu(P,[m,Nl,3]),je=l.top,$e=l.left,Re={variableNames:["segmentation","longOffsets","poses"],outputShape:[S,_],userCode:`
    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {
      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));
    }

    float convertToPositionInOutputFloat(
        int pos, int pad, float scale, int stride) {
      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);
    }

    float dist(float x1, float y1, float x2, float y2) {
      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);
    }

    float sampleLongOffsets(float h, float w, int d, int k) {
      float fh = fract(h);
      float fw = fract(w);
      int clH = int(ceil(h));
      int clW = int(ceil(w));
      int flH = int(floor(h));
      int flW = int(floor(w));
      float o11 = getLongOffsets(flH, flW, d, k);
      float o12 = getLongOffsets(flH, clW, d, k);
      float o21 = getLongOffsets(clH, flW, d, k);
      float o22 = getLongOffsets(clH, clW, d, k);
      float o1 = mix(o11, o12, fw);
      float o2 = mix(o21, o22, fw);
      return mix(o1, o2, fh);
    }

    int findNearestPose(int h, int w) {
      float prob = getSegmentation(h, w);
      if (prob < 1.0) {
        return -1;
      }

      // Done(Tyler): convert from output space h/w to strided space.
      float stridedH = convertToPositionInOutputFloat(
        h, `+je+", "+xe+", "+o+`);
      float stridedW = convertToPositionInOutputFloat(
        w, `+$e+", "+Pe+", "+o+`);

      float minDist = 1000000.0;
      int iMin = -1;
      for (int i = 0; i < `+m+`; i++) {
        float curDistSum = 0.0;
        int numKpt = 0;
        for (int k = 0; k < `+Nl+`; k++) {
          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);
          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);

          float y = float(h) + dy;
          float x = float(w) + dx;

          for (int s = 0; s < `+f+`; s++) {
            int yRounded = round(min(y, float(`+(r-1)+`)));
            int xRounded = round(min(x, float(`+(i-1)+`)));

            float yStrided = convertToPositionInOutputFloat(
              yRounded, `+je+", "+xe+", "+o+`);
            float xStrided = convertToPositionInOutputFloat(
              xRounded, `+$e+", "+Pe+", "+o+`);

            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);
            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);

            y = y + dy;
            x = x + dx;
          }

          float poseScore = getPoses(i, k, 0);
          float poseY = getPoses(i, k, 1);
          float poseX = getPoses(i, k, 2);
          if (poseScore > `+p+`) {
            numKpt = numKpt + 1;
            curDistSum = curDistSum + dist(x, y, poseX, poseY);
          }
        }
        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {
          minDist = curDistSum / float(numKpt);
          iMin = i;
        }
      }
      return iMin;
    }

    void main() {
        ivec2 coords = getOutputCoords();
        int nearestPose = findNearestPose(coords[0], coords[1]);
        setOutput(float(nearestPose));
      }
  `};return FA().compileAndRun(Re,[t,I,Te])}function jW(){return LA()==="webgl"}function Xke(t,e,n,r,i,o,s,l,f,p,m,g){var y=s[0],x=s[1];return f===void 0&&(f=.2),p===void 0&&(p=8),m===void 0&&(m=.3),g===void 0&&(g=10),Pn(this,void 0,void 0,function(){var S,_,k,R,O;return Mn(this,function(I){switch(I.label){case 0:return S=n.filter(function(P){return P.score>=f}),jW()?(k=tn(function(){var P=VW(t,e,S,r,i,o,[y,x],l,p,m,g),F=Xg().makeTensorFromDataId(P.dataId,P.shape,P.dtype);return S.map(function(K,Y){return function(te,fe){return tn(function(){return Kn(x1(te,Tn(fe)),"int32")})}(F,Y)})}),[4,Promise.all(k.map(function(P){return P.data()}))]):[3,2];case 1:return _=I.sent(),k.forEach(function(P){return P.dispose()}),[3,5];case 2:return[4,t.data()];case 3:return R=I.sent(),[4,e.data()];case 4:O=I.sent(),_=function(P,F,K,Y,te,fe,ye,de,Pe,xe){var Te=ye[0],je=ye[1];xe===void 0&&(xe=5);for(var $e=K.map(function(Me){return new Uint8Array(Y*te).fill(0)}),Re=de.top,be=de.left,Ve=LD([Y,te],[Te,je],de),he=Ve[0],ne=Ve[1],we=FW([Te,je],fe)[0],We=0;We<Y;We+=1)for(var Ue=0;Ue<te;Ue+=1){var at=We*te+Ue;if(P[at]===1){var Qe=LW({x:Ue,y:We},F,K,xe,[Re,be],[he,ne],we,[Y,te],fe,Pe);Qe>=0&&($e[Qe][at]=1)}}return $e}(R,O,S,r,i,o,[y,x],l,p),I.label=5;case 5:return[2,_.map(function(P,F){return{data:P,pose:S[F],width:i,height:r}})]}})})}function Qke(t,e,n,r,i,o,s,l,f,p,m,g,y){var x=l[0],S=l[1];return p===void 0&&(p=.2),m===void 0&&(m=8),g===void 0&&(g=.3),y===void 0&&(y=10),Pn(this,void 0,void 0,function(){var _,k,R,O,I,P;return Mn(this,function(F){switch(F.label){case 0:return _=r.filter(function(K){return K.score>=p}),jW()?(R=tn(function(){var K=VW(t,e,_,i,o,s,[x,S],f,m,g,y),Y=Xg().makeTensorFromDataId(K.dataId,K.shape,K.dtype);return _.map(function(te,fe){return function(ye,de,Pe){return tn(function(){return xn(vt(Kn(x1(ye,Tn(Pe)),"int32"),en(de,1)),1)})}(Y,n,fe)})}),[4,Promise.all(R.map(function(K){return K.data()}))]):[3,2];case 1:return k=F.sent(),R.forEach(function(K){return K.dispose()}),[3,6];case 2:return[4,t.data()];case 3:return O=F.sent(),[4,e.data()];case 4:return I=F.sent(),[4,n.data()];case 5:P=F.sent(),k=function(K,Y,te,fe,ye,de,Pe,xe,Te,je,$e){var Re=xe[0],be=xe[1];$e===void 0&&($e=5);for(var Ve=fe.map(function(ot){return new Int32Array(ye*de).fill(-1)}),he=Te.top,ne=Te.left,we=LD([ye,de],[Re,be],Te),We=we[0],Ue=we[1],at=FW([Re,be],Pe)[0],Qe=0;Qe<ye;Qe+=1)for(var Me=0;Me<de;Me+=1){var Ge=Qe*de+Me;if(K[Ge]===1){var rt=LW({x:Me,y:Qe},Y,fe,$e,[he,ne],[We,Ue],at,[ye,de],Pe,je);rt>=0&&(Ve[rt][Ge]=te[Ge])}}return Ve}(O,I,P,_,i,o,s,[x,S],f,m),F.label=6;case 6:return[2,k.map(function(K,Y){return{pose:_[Y],data:K,height:i,width:o}})]}})})}function FD(t){return Math.floor(t/2)}var Jke=function(){function t(e,n){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=n}return t.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},t.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},t.prototype.empty=function(){return this.numberOfElements===-1},t.prototype.size=function(){return this.numberOfElements+1},t.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},t.prototype.max=function(){return this.priorityQueue[0]},t.prototype.swim=function(e){for(;e>0&&this.less(FD(e),e);)this.exchange(e,FD(e)),e=FD(e)},t.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var n=2*e;if(n<this.numberOfElements&&this.less(n,n+1)&&n++,!this.less(e,n))break;this.exchange(e,n),e=n}},t.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},t.prototype.less=function(e,n){return this.getValueAt(e)<this.getValueAt(n)},t.prototype.exchange=function(e,n){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[n],this.priorityQueue[n]=r},t}();function eNe(t,e,n,r,i,o){for(var s=o.shape,l=s[0],f=s[1],p=!0,m=Math.max(n-i,0),g=Math.min(n+i+1,l),y=m;y<g;++y){for(var x=Math.max(r-i,0),S=Math.min(r+i+1,f),_=x;_<S;++_)if(o.get(y,_,t)>e){p=!1;break}if(!p)break}return p}var zW=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map(function(t){var e=t[0],n=t[1];return[$S[e],$S[n]]}),VD=zW.map(function(t){return t[1]}),BW=zW.map(function(t){return t[0]});function jD(t,e,n,r){return{y:PW(Math.round(t.y/e),0,n-1),x:PW(Math.round(t.x/e),0,r-1)}}function UW(t,e,n,r,i,o,s,l){l===void 0&&(l=2);for(var f=r.shape,p=f[0],m=f[1],g=function(O,I,P){var F=P.shape[2]/2;return{y:P.get(I.y,I.x,O),x:P.get(I.y,I.x,F+O)}}(t,jD(e.position,o,p,m),s),y=MW(e.position,g),x=0;x<l;x++){var S=jD(y,o,p,m),_=$W(S.y,S.x,n,i);y=MW({x:S.x*o,y:S.y*o},{x:_.x,y:_.y})}var k=jD(y,o,p,m),R=r.get(k.y,k.x,n);return{position:y,part:OS[n],score:R}}function tNe(t,e,n,r,i,o){var s=e.shape[2],l=VD.length,f=new Array(s),p=t.part,m=t.score,g=IW(p,r,n);f[p.id]={score:m,part:OS[p.id],position:g};for(var y=l-1;y>=0;--y){var x=VD[y],S=BW[y];f[x]&&!f[S]&&(f[S]=UW(y,f[x],S,e,n,r,o))}for(y=0;y<l;++y)x=BW[y],S=VD[y],f[x]&&!f[S]&&(f[S]=UW(y,f[x],S,e,n,r,i));return f}function HW(t,e,n,r){var i=n.x,o=n.y;return t.some(function(s){var l,f,p,m,g,y,x=s.keypoints[r].position;return l=o,f=i,p=x.y,m=x.x,(g=p-l)*g+(y=m-f)*y<=e})}function nNe(t,e,n){var r=n.reduce(function(i,o,s){var l=o.position,f=o.score;return HW(t,e,l,s)||(i+=f),i},0);return r/n.length}function IS(t,e,n,r,i,o,s,l){s===void 0&&(s=.5),l===void 0&&(l=20);for(var f=[],p=function(S,_,k){for(var R=k.shape,O=R[0],I=R[1],P=R[2],F=new Jke(O*I*P,function(ye){return ye.score}),K=0;K<O;++K)for(var Y=0;Y<I;++Y)for(var te=0;te<P;++te){var fe=k.get(K,Y,te);fe<S||eNe(te,fe,K,Y,_,k)&&F.enqueue({score:fe,part:{heatmapY:K,heatmapX:Y,id:te}})}return F}(s,1,t),m=l*l;f.length<o&&!p.empty();){var g=p.dequeue();if(!HW(f,m,IW(g.part,i,e),g.part.id)){var y=tNe(g,t,e,i,n,r),x=nNe(f,m,y);f.push({keypoints:y,score:x})}}return f}var B1,rNe=[-123.15,-115.9,-103.06],iNe=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return NW(e,t),e.prototype.preprocessInput=function(n){return en(n,rNe)},e.prototype.nameOutputResults=function(n){var r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],f=n[5];return{offsets:l,segmentation:n[6],partHeatmaps:f,longOffsets:s,heatmap:o,displacementFwd:i,displacementBwd:r,partOffsets:n[7]}},e}(OW),WW="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",GW="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function U1(t){if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas||typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&e.offsetHeight!==0&&"offsetWidth"in e&&e.offsetWidth!==0)return[e.offsetHeight,e.offsetWidth];if(e.height!=null&&e.width!=null)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(t);if(typeof ImageData<"u"&&t instanceof ImageData)return[t.height,t.width];if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(t);if(t instanceof rr)return[t.shape[0],t.shape[1]];throw new Error("error: Unknown input type: "+t+".")}function KW(t,e){return function(n,r){return(n-1)%r==0}(t,e)?t:Math.floor(t/e)*e+1}var H1={low:"low",medium:"medium",high:"high",full:"full"},aNe=((B1={})[H1.low]=.25,B1[H1.medium]=.5,B1[H1.high]=.75,B1[H1.full]=1,B1);function PS(t,e,n){var r=n[0],i=n[1],o=function(s){if(typeof s=="string"){var l=aNe[s];return X(typeof l=="number",function(){return"string value of inputResolution must be one of "+Object.values(H1).join(",")+" but was "+s+"."}),l}return X(typeof s=="number"&&s<=2&&s>=.1,function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+s}),s}(t);return[KW(r*o,e),KW(i*o,e)]}function w0(t,e,n,r,i){var o=e[0],s=e[1],l=n[0],f=n[1],p=r[0],m=p[0],g=p[1],y=r[1],x=y[0],S=y[1];return tn(function(){var _=Zh.resizeBilinear(t,[l,f],!0);return _=Tc(_),function(k,R,O){var I=R[0],P=R[1],F=O[0],K=F[0],Y=F[1],te=O[1],fe=te[0],ye=te[1];return tn(function(){var de=Mo(k);return ju(Zh.cropAndResize(de,[[K/(I+K+Y-1),fe/(P+fe+ye-1),(K+I-1)/(I+K+Y-1),(fe+P-1)/(P+fe+ye-1)]],[0],[I,P]),[0])})}(_,[o,s],[[m,g],[x,S]])})}function MS(t,e){var n=e[0],r=e[1],i=U1(t),o=i[0],s=i[1],l=r/n,f=[0,0,0,0],p=f[0],m=f[1],g=f[2],y=f[3];s/o<l?(p=0,m=0,g=Math.round(.5*(l*o-s)),y=Math.round(.5*(l*o-s))):(p=Math.round(.5*(1/l*s-o)),m=Math.round(.5*(1/l*s-o)),g=0,y=0);var x=tn(function(){var S=function(_){return _ instanceof rr?_:hS(_)}(t);return S=b4(S,[[p,m],[g,y],[0,0]]),Zh.resizeBilinear(S,[n,r])});return{resized:x,padding:{top:p,left:g,right:y,bottom:m}}}function LS(t){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,Promise.all(t.map(function(n){return n.buffer()}))]})})}function FS(t,e,n,r,i){var o=e[0],s=e[1],l=n[0],f=n[1],p=function(m,g,y,x,S){return x===void 0&&(x=0),S===void 0&&(S=0),y===1&&g===1&&x===0&&S===0?m:m.map(function(_){return function(k,R,O,I,P){return I===void 0&&(I=0),P===void 0&&(P=0),{score:k.score,keypoints:k.keypoints.map(function(F){var K=F.score,Y=F.part,te=F.position;return{score:K,part:Y,position:{x:te.x*O+P,y:te.y*R+I}}})}}(_,g,y,x,S)})}(t,(o+r.top+r.bottom)/l,(s+r.left+r.right)/f,-r.top,-r.left);return i?function(m,g){return g<=0?m:m.map(function(y){return function(x,S){return{score:x.score,keypoints:x.keypoints.map(function(_){var k=_.score,R=_.part,O=_.position;return{score:k,part:R,position:{x:S-1-O.x,y:O.y}}})}}(y,g)})}(p,s):p}var qW={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},YW=["MobileNetV1","ResNet50"],ZW={MobileNetV1:[8,16,32],ResNet50:[32,16]},XW={MobileNetV1:[.5,.75,1],ResNet50:[1]},QW=[1,2,4],VS={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},jS={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function JW(t){var e=t.segmentationThreshold,n=t.maxDetections,r=t.scoreThreshold,i=t.nmsRadius;if(e<0||e>1)throw new Error("segmentationThreshold "+e+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function eG(t){var e=t.segmentationThreshold,n=t.maxDetections,r=t.scoreThreshold,i=t.nmsRadius,o=t.minKeypointScore,s=t.refineSteps;if(e<0||e>1)throw new Error("segmentationThreshold "+e+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(o<0||o>1)throw new Error("Invalid minKeypointScore "+o+".Should be in range [0.0, 1.0]");if(s<=0||s>20)throw new Error("Invalid refineSteps "+s+".Should be in range [1, 20]")}var tG=function(){function t(e){this.baseModel=e}return t.prototype.predictForPersonSegmentation=function(e){var n=this.baseModel.predict(e);return{segmentLogits:n.segmentation,heatmapScores:n.heatmapScores,offsets:n.offsets,displacementFwd:n.displacementFwd,displacementBwd:n.displacementBwd}},t.prototype.predictForPersonSegmentationAndPart=function(e){var n=this.baseModel.predict(e);return{segmentLogits:n.segmentation,partHeatmapLogits:n.partHeatmaps,heatmapScores:n.heatmapScores,offsets:n.offsets,displacementFwd:n.displacementFwd,displacementBwd:n.displacementBwd}},t.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var n=this.baseModel.predict(e);return{segmentLogits:n.segmentation,longOffsets:n.longOffsets,heatmapScores:n.heatmapScores,offsets:n.offsets,displacementFwd:n.displacementFwd,displacementBwd:n.displacementBwd,partHeatmaps:n.partHeatmaps}},t.prototype.segmentPersonActivation=function(e,n,r){var i=this;r===void 0&&(r=.5);var o=U1(e),s=o[0],l=o[1],f=PS(n,this.baseModel.outputStride,[s,l]),p=MS(e,f),m=p.resized,g=p.padding,y=tn(function(){var O=i.predictForPersonSegmentation(m),I=O.segmentLogits,P=O.heatmapScores,F=O.offsets,K=O.displacementFwd,Y=O.displacementBwd,te=m.shape,fe=te[0],ye=te[1],de=w0(I,[s,l],[fe,ye],[[g.top,g.bottom],[g.left,g.right]]);return{segmentation:DS(ju(de),r),heatmapScores:P,offsets:F,displacementFwd:K,displacementBwd:Y}}),x=y.segmentation,S=y.heatmapScores,_=y.offsets,k=y.displacementFwd,R=y.displacementBwd;return m.dispose(),{segmentation:x,heatmapScores:S,offsets:_,displacementFwd:k,displacementBwd:R,padding:g,internalResolutionHeightAndWidth:f}},t.prototype.segmentPerson=function(e,n){return n===void 0&&(n=VS),Pn(this,void 0,void 0,function(){var r,i,o,s,l,f,p,m,g,y,x,S,_,k,R,O,I,P;return Mn(this,function(F){switch(F.label){case 0:return JW(n=co(co({},VS),n)),r=this.segmentPersonActivation(e,n.internalResolution,n.segmentationThreshold),i=r.segmentation,o=r.heatmapScores,s=r.offsets,l=r.displacementFwd,f=r.displacementBwd,p=r.padding,m=r.internalResolutionHeightAndWidth,g=i.shape,y=g[0],x=g[1],[4,i.data()];case 1:return S=F.sent(),i.dispose(),[4,LS([o,s,l,f])];case 2:return _=F.sent(),k=_[0],R=_[1],O=_[2],I=_[3],P=FS(P=IS(k,R,O,I,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),[y,x],m,p,!1),o.dispose(),s.dispose(),l.dispose(),f.dispose(),[2,{height:y,width:x,data:S,allPoses:P}]}})})},t.prototype.segmentMultiPerson=function(e,n){return n===void 0&&(n=jS),Pn(this,void 0,void 0,function(){var r,i,o,s,l,f,p,m,g,y,x,S,_,k,R,O,I,P,F,K,Y,te=this;return Mn(this,function(fe){switch(fe.label){case 0:return eG(n=co(co({},jS),n)),r=U1(e),i=r[0],o=r[1],s=PS(n.internalResolution,this.baseModel.outputStride,[i,o]),l=MS(e,s),f=l.resized,p=l.padding,m=tn(function(){var ye,de=te.predictForMultiPersonInstanceSegmentationAndPart(f),Pe=de.segmentLogits,xe=de.longOffsets,Te=de.heatmapScores,je=de.offsets,$e=de.displacementFwd,Re=de.displacementBwd,be=w0(Pe,[i,o],s,[[p.top,p.bottom],[p.left,p.right]]);return ye=xe,{segmentation:DS(ju(be),n.segmentationThreshold),longOffsets:ye,heatmapScoresRaw:Te,offsetsRaw:je,displacementFwdRaw:$e,displacementBwdRaw:Re}}),g=m.segmentation,y=m.longOffsets,x=m.heatmapScoresRaw,S=m.offsetsRaw,_=m.displacementFwdRaw,k=m.displacementBwdRaw,[4,LS([x,S,_,k])];case 1:return R=fe.sent(),O=R[0],I=R[1],P=R[2],F=R[3],K=FS(K=IS(O,I,P,F,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),[i,o],s,p,!1),[4,Xke(g,y,K,i,o,this.baseModel.outputStride,s,p,n.scoreThreshold,n.refineSteps,n.minKeypointScore,n.maxDetections)];case 2:return Y=fe.sent(),f.dispose(),g.dispose(),y.dispose(),x.dispose(),S.dispose(),_.dispose(),k.dispose(),[2,Y]}})})},t.prototype.segmentPersonPartsActivation=function(e,n,r){var i=this;r===void 0&&(r=.5);var o=U1(e),s=o[0],l=o[1],f=PS(n,this.baseModel.outputStride,[s,l]),p=MS(e,f),m=p.resized,g=p.padding,y=tn(function(){var O=i.predictForPersonSegmentationAndPart(m),I=O.segmentLogits,P=O.partHeatmapLogits,F=O.heatmapScores,K=O.offsets,Y=O.displacementFwd,te=O.displacementBwd,fe=m.shape,ye=fe[0],de=fe[1],Pe=w0(I,[s,l],[ye,de],[[g.top,g.bottom],[g.left,g.right]]),xe=w0(P,[s,l],[ye,de],[[g.top,g.bottom],[g.left,g.right]]);return{partSegmentation:Kke(DS(ju(Pe),r),xe),heatmapScores:F,offsets:K,displacementFwd:Y,displacementBwd:te}}),x=y.partSegmentation,S=y.heatmapScores,_=y.offsets,k=y.displacementFwd,R=y.displacementBwd;return m.dispose(),{partSegmentation:x,heatmapScores:S,offsets:_,displacementFwd:k,displacementBwd:R,padding:g,internalResolutionHeightAndWidth:f}},t.prototype.segmentPersonParts=function(e,n){return n===void 0&&(n=VS),Pn(this,void 0,void 0,function(){var r,i,o,s,l,f,p,m,g,y,x,S,_,k,R,O,I,P;return Mn(this,function(F){switch(F.label){case 0:return JW(n=co(co({},VS),n)),r=this.segmentPersonPartsActivation(e,n.internalResolution,n.segmentationThreshold),i=r.partSegmentation,o=r.heatmapScores,s=r.offsets,l=r.displacementFwd,f=r.displacementBwd,p=r.padding,m=r.internalResolutionHeightAndWidth,g=i.shape,y=g[0],x=g[1],[4,i.data()];case 1:return S=F.sent(),i.dispose(),[4,LS([o,s,l,f])];case 2:return _=F.sent(),k=_[0],R=_[1],O=_[2],I=_[3],P=FS(P=IS(k,R,O,I,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),[y,x],m,p,!1),o.dispose(),s.dispose(),l.dispose(),f.dispose(),[2,{height:y,width:x,data:S,allPoses:P}]}})})},t.prototype.segmentMultiPersonParts=function(e,n){return n===void 0&&(n=jS),Pn(this,void 0,void 0,function(){var r,i,o,s,l,f,p,m,g,y,x,S,_,k,R,O,I,P,F,K,Y,te,fe=this;return Mn(this,function(ye){switch(ye.label){case 0:return eG(n=co(co({},jS),n)),r=U1(e),i=r[0],o=r[1],s=PS(n.internalResolution,this.baseModel.outputStride,[i,o]),l=MS(e,s),f=l.resized,p=l.padding,m=tn(function(){var de=fe.predictForMultiPersonInstanceSegmentationAndPart(f),Pe=de.segmentLogits,xe=de.longOffsets,Te=de.heatmapScores,je=de.offsets,$e=de.displacementFwd,Re=de.displacementBwd,be=de.partHeatmaps,Ve=w0(Pe,[i,o],s,[[p.top,p.bottom],[p.left,p.right]]),he=w0(be,[i,o],s,[[p.top,p.bottom],[p.left,p.right]]),ne=xe,we=DS(ju(Ve),n.segmentationThreshold),We=function(Ue){var at=Ue.shape,Qe=at[0],Me=at[1],Ge=at[2];return tn(function(){var rt=DW(Ue),ot=Mo(rp(0,Ge,1,"int32"),1),Rt=Kn(Qn(rt,ot),"int32");return ze(Rt,[Qe,Me])})}(he);return{segmentation:we,longOffsets:ne,heatmapScoresRaw:Te,offsetsRaw:je,displacementFwdRaw:$e,displacementBwdRaw:Re,partSegmentation:We}}),g=m.segmentation,y=m.longOffsets,x=m.heatmapScoresRaw,S=m.offsetsRaw,_=m.displacementFwdRaw,k=m.displacementBwdRaw,R=m.partSegmentation,[4,LS([x,S,_,k])];case 1:return O=ye.sent(),I=O[0],P=O[1],F=O[2],K=O[3],Y=FS(Y=IS(I,P,F,K,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),[i,o],s,p,!1),[4,Qke(g,y,R,Y,i,o,this.baseModel.outputStride,s,p,n.scoreThreshold,n.refineSteps,n.minKeypointScore,n.maxDetections)];case 2:return te=ye.sent(),f.dispose(),g.dispose(),y.dispose(),x.dispose(),S.dispose(),_.dispose(),k.dispose(),R.dispose(),[2,te]}})})},t.prototype.dispose=function(){this.baseModel.dispose()},t}();function oNe(t){return Pn(this,void 0,void 0,function(){var e,n,r,i,o,s;return Mn(this,function(l){switch(l.label){case 0:if(e=t.outputStride,n=t.quantBytes,r=t.multiplier,xH==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return i=function(f,p,m){var g={1:"100",.75:"075",.5:"050"},y="model-stride"+f+".json";return m===4?GW+"float/"+g[p]+"/"+y:GW+"quant"+m+"/"+g[p]+"/"+y}(e,r,n),[4,ID(t.modelUrl||i)];case 1:return o=l.sent(),s=new qke(o,e),[2,new tG(s)]}})})}function sNe(t){return Pn(this,void 0,void 0,function(){var e,n,r,i,o;return Mn(this,function(s){switch(s.label){case 0:if(e=t.outputStride,n=t.quantBytes,xH==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return r=function(l,f){var p="model-stride"+l+".json";return f===4?WW+"float/"+p:WW+"quant"+f+"/"+p}(e,n),[4,ID(t.modelUrl||r)];case 1:return i=s.sent(),o=new iNe(i,e),[2,new tG(o)]}})})}function uNe(t){return t===void 0&&(t=qW),Pn(this,void 0,void 0,function(){return Mn(this,function(e){return(t=function(n){if((n=n||qW).architecture==null&&(n.architecture="MobileNetV1"),YW.indexOf(n.architecture)<0)throw new Error("Invalid architecture "+n.architecture+". Should be one of "+YW);if(n.outputStride==null&&(n.outputStride=16),ZW[n.architecture].indexOf(n.outputStride)<0)throw new Error("Invalid outputStride "+n.outputStride+". Should be one of "+ZW[n.architecture]+" for architecture "+n.architecture+".");if(n.multiplier==null&&(n.multiplier=1),XW[n.architecture].indexOf(n.multiplier)<0)throw new Error("Invalid multiplier "+n.multiplier+". Should be one of "+XW[n.architecture]+" for architecture "+n.architecture+".");if(n.quantBytes==null&&(n.quantBytes=4),QW.indexOf(n.quantBytes)<0)throw new Error("Invalid quantBytes "+n.quantBytes+". Should be one of "+QW+" for architecture "+n.architecture+".");return n}(t)).architecture==="ResNet50"?[2,sNe(t)]:t.architecture==="MobileNetV1"?[2,oNe(t)]:[2,null]})})}var zD=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],nG=function(){function t(e){this.mask=e}return t.prototype.toCanvasImageSource=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,MD(this.mask)]})})},t.prototype.toImageData=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,this.mask]})})},t.prototype.toTensor=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,AW(this.mask)]})})},t.prototype.getUnderlyingType=function(){return"imagedata"},t}();function lNe(t){if(AS(t),t!==255)throw new Error("Foreground id must be 255 but got "+t);return"person"}function cNe(t){if(AS(t),t>=zD.length)throw new Error("Invalid body part value "+t);return zD[t]}var fNe=function(){function t(e){this.bodyPixModel=e}return t.prototype.segmentPeople=function(e,n){return Pn(this,void 0,void 0,function(){var r,i,o,s;return Mn(this,function(l){switch(l.label){case 0:return e instanceof ImageBitmap&&((r=document.createElement("canvas")).getContext("2d").drawImage(e,0,0),e=r),n.segmentBodyParts?n.multiSegmentation?[4,this.bodyPixModel.segmentMultiPersonParts(e,n)]:[3,2]:[3,5];case 1:return o=l.sent(),[3,4];case 2:return[4,this.bodyPixModel.segmentPersonParts(e,n)];case 3:o=[l.sent()],l.label=4;case 4:return i=o.map(function(f){var p=f.data,m=f.width,g=f.height,y=new Uint8ClampedArray(m*g*4).fill(0);return p.forEach(function(x,S){x===-1?(y[4*S]=zD.length,y[4*S+3]=0):(y[4*S]=x,y[4*S+3]=255)}),{maskValueToLabel:cNe,mask:new nG(new ImageData(y,m,g))}}),[3,10];case 5:return n.multiSegmentation?[4,this.bodyPixModel.segmentMultiPerson(e,n)]:[3,7];case 6:return s=l.sent(),[3,9];case 7:return[4,this.bodyPixModel.segmentPerson(e,n)];case 8:s=[l.sent()],l.label=9;case 9:i=s.map(function(f){var p=f.data,m=f.width,g=f.height,y=new Uint8ClampedArray(m*g*4).fill(0);return p.forEach(function(x,S){x===0?(y[4*S]=0,y[4*S+3]=0):(y[4*S]=255,y[4*S+3]=255)}),{maskValueToLabel:lNe,mask:new nG(new ImageData(y,m,g))}}),l.label=10;case 10:return[2,i]}})})},t.prototype.dispose=function(){this.bodyPixModel.dispose()},t.prototype.reset=function(){},t}();function dNe(t){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,uNe(t).then(function(n){return new fNe(n)})]})})}var rG={runtime:"mediapipe",modelType:"general"},pNe=function(){function t(e){this.mask=e}return t.prototype.toCanvasImageSource=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,this.mask]})})},t.prototype.toImageData=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,RW(this.mask)]})})},t.prototype.toTensor=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,AW(this.mask)]})})},t.prototype.getUnderlyingType=function(){return"canvasimagesource"},t}();function hNe(t){return AS(t),"person"}var mNe=function(){function t(e){var n,r=this;this.selfieMode=!1;var i;this.selfieSegmentationSolution=new Gke.SelfieSegmentation({locateFile:(n=e.locateFile)!==null&&n!==void 0?n:function(o,s){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+o:s+"/"+o}}),e.modelType==="landscape"?i=1:i=0,this.selfieSegmentationSolution.setOptions({modelSelection:i,selfieMode:this.selfieMode}),this.selfieSegmentationSolution.onResults(function(o){r.segmentation=[{maskValueToLabel:hNe,mask:new pNe(o.segmentationMask)}]})}return t.prototype.segmentPeople=function(e,n){return Pn(this,void 0,void 0,function(){var r,i;return Mn(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.selfieSegmentationSolution.setOptions({selfieMode:this.selfieMode})),e instanceof rr?(i=ImageData.bind,[4,$1(e)]):[3,2];case 1:return r=new(i.apply(ImageData,[void 0,o.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,o.label=3;case 3:return e=r,[4,this.selfieSegmentationSolution.send({image:e})];case 4:return o.sent(),[2,this.segmentation]}})})},t.prototype.dispose=function(){this.selfieSegmentationSolution.close()},t.prototype.reset=function(){this.selfieSegmentationSolution.reset(),this.segmentation=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.selfieSegmentationSolution.initialize()},t}();function gNe(t){return Pn(this,void 0,void 0,function(){var e,n;return Mn(this,function(r){switch(r.label){case 0:return e=function(i){if(i==null)return co({},rG);var o=co({},i);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=rG.modelType),o}(t),[4,(n=new mNe(e)).initialize()];case 1:return r.sent(),[2,n]}})})}function vNe(t,e,n,r){var i=t.width,o=t.height,s=1,l=Math.cos(t.rotation),f=Math.sin(t.rotation),p=t.xCenter,m=t.yCenter,g=1/e,y=1/n,x=new Array(16);return x[0]=i*l*s*g,x[1]=-o*f*g,x[2]=0,x[3]=(-.5*i*l*s+.5*o*f+p)*g,x[4]=i*f*s*y,x[5]=o*l*y,x[6]=0,x[7]=(-.5*o*l-.5*i*f*s+m)*y,x[8]=0,x[9]=0,x[10]=i*g,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,function(S){if(S.length!==16)throw new Error("Array length must be 16 but got "+S.length);return[[S[0],S[1],S[2],S[3]],[S[4],S[5],S[6],S[7]],[S[8],S[9],S[10],S[11]],[S[12],S[13],S[14],S[15]]]}(x)}function iG(t){return t instanceof rr?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function BD(t,e){X(t.width!==0,function(){return e+" width cannot be 0."}),X(t.height!==0,function(){return e+" height cannot be 0."})}function yNe(t,e){var n=function(r,i,o,s){var l=i-r,f=s-o,p=f/l;return{scale:p,offset:o-r*p}}(0,255,e[0],e[1]);return tn(function(){return en(vt(t,n.scale),n.offset)})}function bNe(t,e,n){var r=e.outputTensorSize,i=e.keepAspectRatio,o=e.borderMode,s=e.outputTensorFloatRange,l=iG(t),f=function(y,x){return{xCenter:.5*y.width,yCenter:.5*y.height,width:y.width,height:y.height,rotation:0}}(l),p=function(y,x,S){if(S===void 0&&(S=!1),!S)return{top:0,left:0,right:0,bottom:0};var _=x.height,k=x.width;BD(x,"targetSize"),BD(y,"roi");var R,O,I=_/k,P=y.height/y.width,F=0,K=0;return I>P?(R=y.width,O=y.width*I,K=(1-P/I)/2):(R=y.height/I,O=y.height,F=(1-I/P)/2),y.width=R,y.height=O,{top:K,left:F,right:F,bottom:K}}(f,r,i),m=vNe(f,l.width,l.height),g=tn(function(){var y,x=(y=t)instanceof rr?y:hS(y),S=Yh(function(R,O,I){return BD(I,"inputResolution"),[1/I.width*R[0][0]*O.width,1/I.height*R[0][1]*O.width,R[0][3]*O.width,1/I.width*R[1][0]*O.height,1/I.height*R[1][1]*O.height,R[1][3]*O.height,0,0]}(m,l,r),[1,8]),_=o==="zero"?"constant":"nearest",k=Zh.transform(Mo(Kn(x,"float32")),S,"bilinear",_,0,[r.height,r.width]);return s!=null?yNe(k,s):k});return{imageTensor:g,padding:p,transformationMatrix:m}}function wNe(t,e,n){return tn(function(){var r=ju(t,[0]),i=r.shape[2];if(i===1){var o=r;switch(e.activation){case"none":break;case"sigmoid":o=Tc(o);break;case"softmax":throw new Error("Softmax activation requires two channels.");default:throw new Error("Activation not supported ("+e.activation+")")}var s=n?Zh.resizeBilinear(o,[n.height,n.width]):o;return ju(s,[2])}throw new Error("Unsupported number of tensor channels "+i)})}var aG={runtime:"tfjs",modelType:"general",modelUrl:"https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1"},oG={flipHorizontal:!1},xNe={outputTensorSize:{width:256,height:256},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},SNe={outputTensorSize:{width:256,height:144},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},CNe={activation:"none"},ENe=function(){function t(e){this.mask=e}return t.prototype.toCanvasImageSource=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,MD(this.mask)]})})},t.prototype.toImageData=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,RW(this.mask)]})})},t.prototype.toTensor=function(){return Pn(this,void 0,void 0,function(){return Mn(this,function(e){return[2,this.mask]})})},t.prototype.getUnderlyingType=function(){return"tensor"},t}();function _Ne(t){return AS(t),"person"}var W1,TNe=function(){function t(e,n){this.modelType=e,this.model=n}return t.prototype.segmentPeople=function(e,n){return Pn(this,void 0,void 0,function(){var r,i=this;return Mn(this,function(o){return n=function(s){if(s==null)return co({},oG);var l=co({},s);return l.flipHorizontal==null&&(l.flipHorizontal=oG.flipHorizontal),l}(n),e==null?(this.reset(),[2,[]]):(r=tn(function(){var s=bNe(e,i.modelType==="general"?xNe:SNe).imageTensor,l=Sr(i.model.predict(s),[0,0,0,1],-1),f=iG(e),p=wNe(l,CNe,f),m=Mo(p,2),g=Kh(m,[[0,0],[0,0],[0,1]]);return v4(g,[[0,0],[0,0],[0,2]],"symmetric")}),[2,[{maskValueToLabel:_Ne,mask:new ENe(r)}]])})})},t.prototype.dispose=function(){this.model.dispose()},t.prototype.reset=function(){},t}();function kNe(t){return Pn(this,void 0,void 0,function(){var e,n,r;return Mn(this,function(i){switch(i.label){case 0:return e=function(o){if(o==null)return co({},aG);var s=co({},o);if(s.runtime="tfjs",s.modelType==null&&(s.modelType=aG.modelType),s.modelType!=="general"&&s.modelType!=="landscape")throw new Error("Model type must be one of general or landscape, but got "+s.modelType);return s.modelUrl==null&&(s.modelType==="general"?s.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1":s.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/landscape/1"),s}(t),n=typeof e.modelUrl=="string"&&e.modelUrl.indexOf("https://tfhub.dev")>-1,[4,ID(e.modelUrl,{fromTFHub:n})];case 1:return r=i.sent(),[2,new TNe(e.modelType,r)]}})})}function NNe(t,e){return Pn(this,void 0,void 0,function(){var n,r;return Mn(this,function(i){switch(t){case W1.MediaPipeSelfieSegmentation:if(n=void 0,(r=e)!=null){if(r.runtime==="tfjs")return[2,kNe(r)];if(r.runtime==="mediapipe")return[2,gNe(r)];n=r.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+n);case W1.BodyPix:return[2,dNe(r=e)];default:throw new Error(t+" is not a supported model name.")}})})}(function(t){t.BodyPix="BodyPix",t.MediaPipeSelfieSegmentation="MediaPipeSelfieSegmentation"})(W1||(W1={}));var RNe="blurred",ANe="blurred-mask",DNe="mask",ONe="draw-image",UD={};function zS(t){if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas||typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&e.offsetHeight!==0&&"offsetWidth"in e&&e.offsetWidth!==0)return[e.offsetHeight,e.offsetWidth];if(e.height!=null&&e.width!=null)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(t);if(typeof ImageData<"u"&&t instanceof ImageData)return[t.height,t.width];if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(t);if(t instanceof rr)return[t.shape[0],t.shape[1]];throw new Error("error: Unknown input type: "+t+".")}function sG(t){return UD[t]||(UD[t]=function(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),UD[t]}function uG(t,e){var n=sG(e);return function(r,i){i.width=r.width,i.height=r.height,i.getContext("2d").putImageData(r,0,0)}(t,n),n}function G1(t,e,n,r,i,o){return Pn(this,void 0,void 0,function(){var s,l,f,p;return Mn(this,function(m){switch(m.label){case 0:return e instanceof rr?[4,$1(e)]:[3,2];case 1:s=m.sent(),l=zS(e),f=l[0],p=l[1],e=new ImageData(s,p,f),m.label=2;case 2:return e instanceof ImageData&&(e=uG(e,ONe)),i==null||o==null?t.drawImage(e,n,r):t.drawImage(e,n,r,i,o),[2]}})})}function $Ne(t,e){return Pn(this,void 0,void 0,function(){var n,r,i;return Mn(this,function(o){switch(o.label){case 0:return n=zS(t),r=n[0],i=n[1],e.width=i,e.height=r,[4,G1(e.getContext("2d"),t,0,0,i,r)];case 1:return o.sent(),[2]}})})}function lG(t,e,n){return Pn(this,void 0,void 0,function(){return Mn(this,function(r){switch(r.label){case 0:return t.globalCompositeOperation=n,[4,G1(t,e,0,0)];case 1:return r.sent(),[2]}})})}function INe(t,e,n){return Pn(this,void 0,void 0,function(){var r,i,o,s,l,f,p,m;return Mn(this,function(g){switch(g.label){case 0:for(r=t.getContext("2d"),i=0,o=5,s=1/(2*Math.PI*o*o),l=n<3?1:2,p=-n;p<=n;p+=l)for(m=-n;m<=n;m+=l)f=s*Math.exp(-(m*m+p*p)/(2*o*o)),i+=f;p=-n,g.label=1;case 1:if(!(p<=n))return[3,6];m=-n,g.label=2;case 2:return m<=n?(r.globalAlpha=s*Math.exp(-(m*m+p*p)/(2*o*o))/i*n,[4,G1(r,e,m,p)]):[3,5];case 3:g.sent(),g.label=4;case 4:return m+=l,[3,2];case 5:return p+=l,[3,1];case 6:return r.globalAlpha=1,[2]}})})}function PNe(t,e,n){return Pn(this,void 0,void 0,function(){var r,i,o,s;return Mn(this,function(l){switch(l.label){case 0:return r=zS(t),i=r[0],o=r[1],s=n.getContext("2d"),n.width=o,n.height=i,s.clearRect(0,0,o,i),s.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?[4,INe(n,t,e)]:[3,2];case 1:return l.sent(),[3,4];case 2:return s.filter="blur("+e+"px)",[4,G1(s,t,0,0,o,i)];case 3:l.sent(),l.label=4;case 4:return s.restore(),[2]}})})}function cG(t,e,n){return Pn(this,void 0,void 0,function(){var r;return Mn(this,function(i){switch(i.label){case 0:return r=sG(n),e!==0?[3,2]:[4,$Ne(t,r)];case 1:return i.sent(),[3,4];case 2:return[4,PNe(t,e,r)];case 3:i.sent(),i.label=4;case 4:return[2,r]}})})}function MNe(t,e,n,r,i,o){return e===void 0&&(e={r:0,g:0,b:0,a:0}),n===void 0&&(n={r:0,g:0,b:0,a:255}),o===void 0&&(o=Array.from(Array(256).keys())),Pn(this,void 0,void 0,function(){var s,l,f,p,m,g,y,x,S,_,k,R,O,I;return Mn(this,function(P){switch(P.label){case 0:return(s=Array.isArray(t)?t:[t]).length===0?[2,null]:[4,Promise.all(s.map(function(F){return F.mask.toImageData()}))];case 1:for(l=P.sent(),f=l[0],p=f.width,m=f.height,g=new Uint8ClampedArray(p*m*4),y=Math.round(255*i),x=new Array(256).fill(!1),o.forEach(function(F){return x[F]=!0}),S=0;S<m;S++)for(_=0;_<p;_++)for(g[4*(k=S*p+_)+0]=n.r,g[4*k+1]=n.g,g[4*k+2]=n.b,g[4*k+3]=n.a,R=0,O=l;R<O.length;R++)I=O[R],x[I.data[4*k]]&&I.data[4*k+3]>=y&&(g[4*k]=e.r,g[4*k+1]=e.g,g[4*k+2]=e.b,g[4*k+3]=e.a);return[2,new ImageData(g,p,m)]}})})}function LNe(t,e,n){return Pn(this,void 0,void 0,function(){var r,i;return Mn(this,function(o){switch(o.label){case 0:return[4,MNe(t,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0},!1,e)];case 1:return r=o.sent(),i=uG(r,DNe),[2,cG(i,n,ANe)]}})})}function FNe(t,e,n,r,i,o,s){return Pn(this,void 0,void 0,function(){var l,f,p,m,g,y;return Mn(this,function(x){switch(x.label){case 0:return[4,cG(e,i,RNe)];case 1:return l=x.sent(),t.width=l.width,t.height=l.height,f=t.getContext("2d"),Array.isArray(n)&&n.length===0?(f.drawImage(l,0,0),[2]):[4,LNe(n,r,o)];case 2:return p=x.sent(),f.save(),m=zS(e),g=m[0],y=m[1],[4,G1(f,e,0,0,y,g)];case 3:return x.sent(),[4,lG(f,p,"destination-in")];case 4:return x.sent(),[4,lG(f,l,"destination-over")];case 5:return x.sent(),f.restore(),[2]}})})}class HD{constructor(){this.tick=null,this.segmenter=null,this.flip=!0,this.enabled=!0,this.stream=null,this.device="n/a",this.effect="none",this.status="idle",this.video=document.createElement("video"),this.canvas=document.createElement("canvas"),this.preview=document.createElement("canvas"),Cx(this,{},{autoBind:!0})}static createInstance(){return new HD}__resizeCanvas(){this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight,this.preview.width=this.video.videoWidth,this.preview.height=this.video.videoHeight}__drawCanvas(e){const n=this.canvas.getContext("2d");n.save(),this.flip&&(n.scale(-1,1),n.translate(-this.canvas.width,0)),n.drawImage(e,0,0,this.canvas.width,this.canvas.height),n.restore()}async __renderWithoutEffects(){this.__resizeCanvas(),this.__drawCanvas(this.video),this.tick=requestAnimationFrame(this.__renderWithoutEffects)}async __renderBlurBackground(){const n=await(await this.__createSelfieSegmentationModel()).segmentPeople(this.video);await FNe(this.preview,this.video,n,.5,5,15),this.__resizeCanvas(),this.__drawCanvas(this.preview),this.tick=requestAnimationFrame(this.__renderBlurBackground)}async __renderImageBackground(){this.__resizeCanvas(),this.__drawCanvas(this.video),this.tick=requestAnimationFrame(this.__renderImageBackground)}async __createSelfieSegmentationModel(){return this.segmenter||(this.segmenter=await NNe(W1.MediaPipeSelfieSegmentation,{runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation",modelType:"general"})),this.segmenter}__videoMetadataLoaded(){this.video.play(),this.status="initialized",this.__renderStream()}__videoMetadataError(){this.status="error"}__createStreamSuccess(e){this.video.addEventListener("loadedmetadata",this.__videoMetadataLoaded,{once:!0}),this.video.addEventListener("error",this.__videoMetadataError,{once:!0}),this.stream=e,this.video.srcObject=e}__createSteamError(){this.status="error"}__renderStream(){switch(this.effect){case"none":this.__renderWithoutEffects();break;case"blur":this.__renderBlurBackground();break;case"image":this.__renderImageBackground();break}}changeDevice(e){return this.device=e,this.enabled&&(this.device==="n/a"?this.cancelStream():this.createStream()),this}updateEffect(e){return this.effect=e,this.status==="initialized"&&this.cancelStream().__renderStream(),this}updateFlip(e){return this.flip=e==="toggle"?!this.flip:e,this}updateEnabled(e){return this.enabled=e==="toggle"?!this.enabled:e,this}initializeElements(e,n){return this.video=e,this.canvas=n,this}createStream(){if(this.device!=="n/a"){this.status="pending";const e={video:{deviceId:this.device},audio:!1};navigator.mediaDevices.getUserMedia(e).then(this.__createStreamSuccess).catch(this.__createSteamError)}return this}cancelStream(){return this.tick&&cancelAnimationFrame(this.tick),this.stream&&this.stream.getTracks().forEach(e=>e.stop()),this.tick=null,this.stream=null,this.video.srcObject=null,this}}const Uu=HD.createInstance(),Pf={styles:B.jsx(ei,{id:"2498561407",children:[`.container.jsx-2498561407{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${Q.space(5)};-webkit-animation-name:${ni["fade-in"]};animation-name:${ni["fade-in"]};-webkit-animation-duration:300ms;animation-duration:300ms;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;}`,".select-input.jsx-2498561407{width:100%;}",`.select-value.jsx-2498561407{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Q.space(3)};-webkit-flex:1;-ms-flex:1;flex:1;}`,".select-badge.jsx-2498561407{margin-left:auto;}",`.toggle-control.jsx-2498561407{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(3)};}`,".toggle-control-label.jsx-2498561407{font-size:14px;}"]}),className:"jsx-2498561407"},VNe=ss(()=>{var e;const t=lfe();return B.jsxs(B.Fragment,{children:[Pf.styles,B.jsxs("div",{className:Je(Pf.className,"container"),children:[B.jsxs(ia,{value:Uu.device,onValueChange:Uu.changeDevice,children:[B.jsx(ia.Input,{className:Je(Pf.className,"select-input"),children:B.jsxs("div",{className:Je(Pf.className,"select-value"),children:[Uu.device==="n/a"?B.jsx(bM,{size:16}):B.jsx(yT,{size:16}),Uu.device==="n/a"?"No Camera":(e=t.find(n=>n.deviceId===Uu.device))==null?void 0:e.label,Uu.device==="n/a"?B.jsx(OM,{className:Je(Pf.className,"select-badge"),variant:"error",children:"Off"}):null]})}),B.jsxs(ia.Content,{children:[B.jsx(ia.Item,{value:"n/a",children:"No Camera"}),B.jsx(ia.Separator,{}),t.map((n,r)=>B.jsx(ia.Item,{value:n.deviceId,children:n.label||`Camera ${r+1}`},n.deviceId))]})]}),B.jsxs("div",{className:Je(Pf.className,"toggle-control"),children:[B.jsx("label",{className:Je(Pf.className,"toggle-control-label"),htmlFor:"flip-camera",children:"Flip Camera"}),B.jsx(Su,{id:"flip-camera",checked:Uu.flip,onCheckedChange:Uu.updateFlip})]}),B.jsxs("div",{className:Je(Pf.className,"toggle-control"),children:[B.jsx("label",{className:Je(Pf.className,"toggle-control-label"),htmlFor:"effects",children:"Camera Effects"}),B.jsx(Su,{id:"effects"})]})]})]})});function jNe(){const[t,e]=j.useState([]);return j.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(n=>e(n.filter(r=>r.kind==="audioinput"&&!!r.deviceId)))},[]),t}class WD{constructor(e){this.canvas=e,this.context=e.getContext("2d"),this.pushToTalk=!1,this.draw=!1,this.controller=null,this.dataArray=null,this.bufferLength=null,this.stream=null,this.audioContext=null,this.analyserNode=null,this.animationFrame=null}static createInstance(e){return new WD(e)}__drawWaveform(){if(!(!this.analyserNode||!this.context||!this.dataArray||!this.bufferLength))if(this.animationFrame=requestAnimationFrame(this.__drawWaveform.bind(this)),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.lineWidth=4,this.context.strokeStyle=Q.colors.primary.main,!this.draw)this.context.beginPath(),this.context.moveTo(0,this.canvas.height/2),this.context.lineTo(this.canvas.width,this.canvas.height/2),this.context.stroke();else{this.analyserNode.getByteTimeDomainData(this.dataArray),this.context.beginPath();let e=0;const n=this.canvas.width/this.bufferLength;for(let r=0;r<this.bufferLength;r++){const o=this.dataArray[r]/128*this.canvas.height/2;r===0?this.context.moveTo(e,o):this.context.lineTo(e,o),e+=n}this.context.lineTo(this.canvas.width,this.canvas.height/2),this.context.stroke()}}__startDrawing(){!this.analyserNode||!this.context||(this.bufferLength=this.analyserNode.fftSize,this.dataArray=new Uint8Array(this.bufferLength),this.__drawWaveform())}async start(e){this.stream=await navigator.mediaDevices.getUserMedia(e||{audio:!0}),this.audioContext=new AudioContext;const n=this.audioContext.createMediaStreamSource(this.stream);this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=2048,n.connect(this.analyserNode),this.__startDrawing()}__handleKeyDown(e){e.altKey&&e.shiftKey&&e.code==="KeyU"&&this.__enableAudioTracks()}__handleKeyUp(e){(e.altKey||e.shiftKey||e.code==="KeyU")&&this.__disableAudioTracks()}__setupEvents(){this.controller=new AbortController,document.addEventListener("keydown",this.__handleKeyDown.bind(this),{signal:this.controller.signal}),document.addEventListener("keyup",this.__handleKeyUp.bind(this),{signal:this.controller.signal})}__removeEvents(){var e;(e=this.controller)==null||e.abort(),this.controller=null}__enableAudioTracks(){var e;this.draw=!0,(e=this.stream)==null||e.getAudioTracks().forEach(n=>n.enabled=!0)}__disableAudioTracks(){var e;this.draw=!1,(e=this.stream)==null||e.getAudioTracks().forEach(n=>n.enabled=!1)}update(e){this.pushToTalk=e,this.pushToTalk?(this.__disableAudioTracks(),this.__setupEvents()):(this.__removeEvents(),this.__enableAudioTracks())}stop(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.audioContext&&this.audioContext.close(),this.stream&&this.stream.getTracks().forEach(e=>e.stop()),this.animationFrame=null,this.audioContext=null,this.bufferLength=null,this.dataArray=null}}function zNe(t,e){const[n,r]=j.useState(),i=j.useCallback(o=>{o&&r(WD.createInstance(o))},[]);return j.useEffect(()=>{if(!(!n||t==="n/a"))return n.start({audio:{deviceId:t}}),()=>n.stop()},[n,t]),j.useEffect(()=>{n&&n.update(e)},[n,e]),i}const Mf={styles:B.jsx(ei,{id:"1657072055",children:[`.container.jsx-1657072055{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${Q.space(5)};-webkit-animation-name:${ni["fade-in"]};animation-name:${ni["fade-in"]};-webkit-animation-duration:300ms;animation-duration:300ms;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;}`,".select-input.jsx-1657072055{width:100%;}",`.select-value.jsx-1657072055{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Q.space(3)};-webkit-flex:1;-ms-flex:1;flex:1;}`,".select-badge.jsx-1657072055{margin-left:auto;}",`.toggle-control.jsx-1657072055{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(3)};}`,".toggle-control-label.jsx-1657072055{font-size:14px;}",".push-to-talk-command.jsx-1657072055{font-size:12px;}",`.waveform.jsx-1657072055{width:100%;height:${Q.space(10)};}`]}),className:"jsx-1657072055"},BNe=ss(()=>{var n;const t=jNe(),e=zNe(Ou.device,Ou.pushToTalk);return B.jsxs(B.Fragment,{children:[Mf.styles,B.jsxs("div",{className:Je(Mf.className,"container"),children:[B.jsxs(ia,{value:Ou.device,onValueChange:Ou.changeDevice,children:[B.jsx(ia.Input,{className:Je(Mf.className,"select-input"),children:B.jsxs("div",{className:Je(Mf.className,"select-value"),children:[Ou.device==="n/a"?B.jsx(K8,{size:16}):B.jsx(H8,{size:16}),Ou.device==="n/a"?"No Microphone":(n=t.find(r=>r.deviceId===Ou.device))==null?void 0:n.label,Ou.device==="n/a"?B.jsx(OM,{variant:"error",className:Je(Mf.className,"select-badge"),children:"Off"}):null]})}),B.jsxs(ia.Content,{children:[B.jsx(ia.Item,{value:"n/a",children:"No Microphone"}),B.jsx(ia.Separator,{}),t.map((r,i)=>B.jsx(ia.Item,{value:r.deviceId,children:r.label||`Microphone ${i+1}`},r.deviceId))]})]}),B.jsxs("div",{className:Je(Mf.className,"toggle-control"),children:[B.jsxs("label",{htmlFor:"push-to-talk",className:Je(Mf.className,"toggle-control-label"),children:["Push to Talk ",B.jsx("small",{className:Je(Mf.className,"push-to-talk-command"),children:"(⌥⇧U)"})]}),B.jsx(Su,{checked:Ou.pushToTalk,onCheckedChange:Ou.updatePushToTalk,id:"push-to-talk"})]}),Ou.device!=="n/a"?B.jsx("canvas",{id:"waveform",ref:e,className:Je(Mf.className,"waveform")}):null]})]})}),x0={styles:B.jsx(ei,{id:"418946110",children:[`.container.jsx-418946110{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${Q.space(5)};-webkit-animation-name:${ni["fade-in"]};animation-name:${ni["fade-in"]};-webkit-animation-duration:300ms;animation-duration:300ms;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;}`,`.toggle-control.jsx-418946110{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(3)};}`,".toggle-control-label.jsx-418946110{font-size:14px;}"]}),className:"jsx-418946110"},UNe=ss(()=>B.jsxs(B.Fragment,{children:[x0.styles,B.jsxs("div",{className:Je(x0.className,"container"),children:[B.jsxs("div",{className:Je("toggle-control",x0.className),children:[B.jsx("label",{htmlFor:"capture-device-audio",className:Je(x0.className,"toggle-control-label"),children:"Capture Device Audio"}),B.jsx(Su,{id:"capture-device-audio"})]}),B.jsxs("div",{className:Je("toggle-control",x0.className),children:[B.jsx("label",{htmlFor:"zoom-on-click",className:Je(x0.className,"toggle-control-label"),children:"Zoom on Click"}),B.jsx(Su,{id:"zoom-on-click"})]})]})]})),fo={styles:B.jsx(ei,{id:"418946110",children:[`.container.jsx-418946110{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:${Q.space(5)};-webkit-animation-name:${ni["fade-in"]};animation-name:${ni["fade-in"]};-webkit-animation-duration:300ms;animation-duration:300ms;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;}`,`.toggle-control.jsx-418946110{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(3)};}`,".toggle-control-label.jsx-418946110{font-size:14px;}"]}),className:"jsx-418946110"},HNe=ss(()=>B.jsxs(B.Fragment,{children:[fo.styles,B.jsxs("div",{className:Je(fo.className,"container"),children:[B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"hide-toolbar",children:"Enabled"}),B.jsx(Su,{id:"hide-toolbar"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"camera-controls",children:"Camera Controls"}),B.jsx(Su,{id:"camera-controls"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"mic-controls",children:"Microphone Controls"}),B.jsx(Su,{id:"mic-controls"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"cursor-controls",children:"Cursor Controls"}),B.jsx(Su,{id:"cursor-controls"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"effects-controls",children:"Effects Controls"}),B.jsx(Su,{id:"effects-controls"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"blur-controls",children:"Blur Controls"}),B.jsx(Su,{id:"blur-controls"})]}),B.jsxs("div",{className:Je(fo.className,"toggle-control"),children:[B.jsx("label",{className:Je(fo.className,"toggle-control-label"),htmlFor:"drawing-controls",children:"Drawing Controls"}),B.jsx(Su,{id:"drawing-controls"})]})]})]})),Oc={styles:B.jsx(ei,{id:"130308962",children:[`.container.jsx-130308962{position:absolute;width:100%;max-width:${Q.screens.xs}px;pointer-events:all;}`,`.card.jsx-130308962{width:100%;padding-top:${Q.space(8)};padding-bottom:${Q.space(6)};box-shadow:${Q.shadow().lg};border:1px solid ${Q.colors.borders.input};background-color:${Q.colors.core.white};border-radius:${Q.space(4)};}`,`.segmented-list.jsx-130308962{margin:0 auto;width:${Q.space(70)} !important;}`,`.segmented-panel.jsx-130308962{margin-top:${Q.space(5)};}`,`.horizontal-panel.jsx-130308962{padding:${Q.space(6)};background-color:${Q.colors.background.light};}`,`.footer.jsx-130308962{border-top:1px solid ${Q.colors.borders.input};padding:${Q.space(6)} ${Q.space(6)} 0;}`,".record-button.jsx-130308962{width:100%;position:relative;}",`.record-button-command.jsx-130308962{top:50%;position:absolute;right:${Q.space(4)};-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);font-size:12px;font-weight:400;}`]}),className:"jsx-130308962"},WNe=ss(()=>$u.status==="idle"||$u.status==="pending"||$u.status==="error"?B.jsx(GNe,{}):null),GNe=ss(()=>{const t=j.useRef(null),{height:e,width:n}=H3(),{height:r,width:i}=s5(t.current,{height:526,width:448}),o=()=>{switch($u.status){case"pending":$u.cancelScreenCapture();break;case"idle":$u.startScreenCapture();break}},s={x:n-i-_a,y:_a},l={left:_a,top:_a,right:n-i-_a,bottom:e-r-_a};return B.jsxs(j.Fragment,{children:[Oc.styles,B.jsx(ak,{nodeRef:t,defaultPosition:s,bounds:l,children:B.jsx("div",{ref:t,className:Je(Oc.className,"container"),children:B.jsx("article",{className:Je(Oc.className,"card"),children:B.jsxs(hl,{size:"small",className:Je(Oc.className,"segmented-controls"),defaultValue:"record",children:[B.jsxs(hl.List,{className:Je(Oc.className,"segmented-list"),children:[B.jsxs(hl.Trigger,{value:"record",children:[B.jsx(hl.TriggerIcon,{children:B.jsx(yT,{weight:"fill",size:20})}),B.jsx("span",{children:"Record"})]}),B.jsxs(hl.Trigger,{value:"video",disabled:!0,children:[B.jsx(hl.TriggerIcon,{children:B.jsx(uM,{size:20})}),B.jsx("span",{children:"Videos"})]})]}),B.jsxs(hl.Panel,{value:"record",className:Je(Oc.className,"segmented-panel"),children:[B.jsxs(is,{defaultValue:"screen",children:[B.jsxs(is.List,{children:[B.jsx(is.Trigger,{value:"screen",children:"Screen"}),B.jsx(is.Trigger,{value:"camera",children:"Camera"}),B.jsx(is.Trigger,{value:"audio",children:"Audio"}),B.jsx(is.Trigger,{value:"toolbar",children:"Toolbar"})]}),B.jsxs(Hse,{className:Je(Oc.className,"horizontal-panel"),children:[B.jsx(is.Panel,{value:"screen",children:B.jsx(UNe,{})}),B.jsx(is.Panel,{value:"camera",children:B.jsx(VNe,{})}),B.jsx(is.Panel,{value:"audio",children:B.jsx(BNe,{})}),B.jsx(is.Panel,{value:"toolbar",children:B.jsx(HNe,{})})]})]}),B.jsx("div",{className:Je(Oc.className,"footer"),children:B.jsxs(I_,{onClick:o,className:Je(Oc.className,"record-button"),children:[B.jsx("span",{children:$u.status==="pending"?"Cancel Recording":"Start Recording"}),B.jsx("span",{className:Je(Oc.className,"record-button-command"),children:"⌥⇧D"})]})})]})]})})})})]})}),KNe=ss(()=>Uu.device==="n/a"||!Uu.enabled?null:B.jsx(qNe,{})),lp={styles:B.jsx(ei,{id:"2186265737",children:["*.jsx-2186265737{margin:0;}","button.jsx-2186265737{all:unset;}",".container.jsx-2186265737{position:absolute;pointer-events:all;}",`.close-button.jsx-2186265737,.resize-button.jsx-2186265737{height:32px;width:32px;border-radius:100%;position:absolute;display:grid;place-items:center;background-color:${Q.colors.core.black};opacity:0;pointer-events:none;-webkit-transition:opacity 0.2s;transition:opacity 0.2s;}`,".close-button.jsx-2186265737{top:0;left:0;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".resize-button.jsx-2186265737{right:0;bottom:0;-webkit-transform:translate(50%,50%) rotate(90deg);-ms-transform:translate(50%,50%) rotate(90deg);transform:translate(50%,50%) rotate(90deg);}",`.close-button.jsx-2186265737:hover,.resize-button.jsx-2186265737:hover{background-color:${Q.alpha(Q.colors.core.black,.8)};}`,".container.jsx-2186265737:hover .close-button.jsx-2186265737,.container.jsx-2186265737:hover .resize-button.jsx-2186265737{opacity:1;pointer-events:auto;}",`.camera-handle.jsx-2186265737{cursor:move;overflow:hidden;border-radius:100%;-webkit-animation:${ni["zoom-in-fade-in"]} 0.5s;animation:${ni["zoom-in-fade-in"]} 0.5s;box-shadow:${Q.shadow(Q.alpha(Q.colors.core.black,.1)).xl};}`,".camera-controls.jsx-2186265737{position:absolute;pointer-events:none;}",".canvas.jsx-2186265737{width:100%;height:100%;border-radius:100%;}",".video.jsx-2186265737{object-fit:cover;display:none;}"]}),className:"jsx-2186265737"},qNe=ss(()=>{const t=j.useRef(null),e=j.useRef(null),n=j.useRef(null),[r,i]=j.useState(200),{height:o,width:s}=H3();j.useEffect(()=>{!t.current||!e.current||Uu.initializeElements(t.current,e.current).createStream()},[]);const l=r/Math.sqrt(2),f=(r-l)/2,p={x:_a,y:_a},m={left:_a,top:_a,right:s-r-_a,bottom:o-r-_a};return B.jsxs(j.Fragment,{children:[lp.styles,B.jsx(ak,{handle:"#camera-handle",nodeRef:n,defaultPosition:p,bounds:m,children:B.jsxs("div",{ref:n,className:Je(lp.className,"container"),children:[B.jsxs("div",{id:"camera-handle",className:Je(lp.className,"camera-handle"),style:{width:r,height:r},children:[B.jsx("canvas",{ref:e,className:Je(lp.className,"canvas")}),B.jsx("video",{ref:t,height:c5,width:c5,className:Je(lp.className,"video"),playsInline:!0,muted:!0})]}),B.jsxs("div",{className:Je(lp.className,"camera-controls"),style:{width:l,height:l,top:f,left:f},children:[B.jsx("button",{onClick:()=>Uu.changeDevice("n/a"),className:Je(lp.className,"close-button"),children:B.jsx(SM,{size:16,weight:"bold",color:Q.colors.core.white})}),B.jsx("button",{className:Je(lp.className,"resize-button"),onClick:()=>i(r===200?400:200),children:B.jsx(k8,{weight:"bold",size:16,color:Q.colors.core.white})})]})]})})]})});var YNe="Toggle",fG=j.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=t,[s=!1,l]=cc({prop:n,onChange:i,defaultProp:r});return B.jsx(Gn.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:Cn(t.onClick,()=>{t.disabled||l(!s)})})});fG.displayName=YNe;var S0="ToggleGroup",[dG,Z$e]=df(S0,[k2]),pG=k2(),BS=W.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return B.jsx(ZNe,{...i,ref:e})}if(n==="multiple"){const i=r;return B.jsx(XNe,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${S0}\``)});BS.displayName=S0;var[hG,mG]=dG(S0),ZNe=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s,l]=cc({prop:n,defaultProp:r,onChange:i});return B.jsx(hG,{scope:t.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:l,onItemDeactivate:W.useCallback(()=>l(""),[l]),children:B.jsx(gG,{...o,ref:e})})}),XNe=W.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],l]=cc({prop:n,defaultProp:r,onChange:i}),f=W.useCallback(m=>l((g=[])=>[...g,m]),[l]),p=W.useCallback(m=>l((g=[])=>g.filter(y=>y!==m)),[l]);return B.jsx(hG,{scope:t.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:f,onItemDeactivate:p,children:B.jsx(gG,{...o,ref:e})})});BS.displayName=S0;var[QNe,JNe]=dG(S0),gG=W.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:l=!0,...f}=t,p=pG(n),m=Xw(s),g={role:"group",dir:m,...f};return B.jsx(QNe,{scope:n,rovingFocus:i,disabled:r,children:i?B.jsx(eL,{asChild:!0,...p,orientation:o,dir:m,loop:l,children:B.jsx(Gn.div,{...g,ref:e})}):B.jsx(Gn.div,{...g,ref:e})})}),US="ToggleGroupItem",Lf=W.forwardRef((t,e)=>{const n=mG(US,t.__scopeToggleGroup),r=JNe(US,t.__scopeToggleGroup),i=pG(t.__scopeToggleGroup),o=n.value.includes(t.value),s=r.disabled||t.disabled,l={...t,pressed:o,disabled:s},f=W.useRef(null);return r.rovingFocus?B.jsx(tL,{asChild:!0,...i,focusable:!s,active:o,ref:f,children:B.jsx(vG,{...l,ref:e})}):B.jsx(vG,{...l,ref:e})});Lf.displayName=US;var vG=W.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,o=mG(US,n),s={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?s:void 0;return B.jsx(fG,{...l,...i,ref:e,onPressedChange:f=>{f?o.onItemActivate(r):o.onItemDeactivate(r)}})});const GD={styles:B.jsx(ei,{id:"1995414126",children:["*.jsx-1995414126{box-sizing:border-box;margin:0;}","button.jsx-1995414126{all:unset;}",`.toolbar-action.jsx-1995414126{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:${Q.space(9)};height:${Q.space(9)};border-radius:100%;background-color:transparent;color:${Q.colors.text.muted};cursor:pointer;-webkit-transition:background-color 250ms ease;transition:background-color 250ms ease;}`,`.toolbar-action.jsx-1995414126:hover{background-color:${Q.colors.background.main};}`,`.toolbar-action.jsx-1995414126:focus-visible{outline:none;box-shadow:${Q.ring({ring:{width:2,color:Q.alpha(Q.colors.primary.main,.4)}})};}`,`.toolbar-action[data-state='on'].jsx-1995414126,.toolbar-action[aria-pressed='true'].jsx-1995414126,.toolbar-action[aria-checked='true'].jsx-1995414126{background-color:${Q.colors.primary.main};color:${Q.colors.core.white};}`,`.toolbar-action.jsx-1995414126::before{content:'';width:100%;height:50%;display:block;border-radius:80px 80px 0% 0%;position:absolute;z-index:-999999;top:-14px;border-right:4px solid ${Q.colors.core.white};border-top:8px solid ${Q.colors.core.white};border-left:4px solid ${Q.colors.core.white};opacity:0;background-color:transparent;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 0.25s ease-out,opacity 0.25s ease-in-out;-webkit-transition:transform 0.25s ease-out,opacity 0.25s ease-in-out;transition:transform 0.25s ease-out,opacity 0.25s ease-in-out;}`,".toolbar-action[data-state='on'].jsx-1995414126::before,.toolbar-action[aria-pressed='true'].jsx-1995414126::before,.toolbar-action[aria-checked='true'].jsx-1995414126::before{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1;}"]}),className:"jsx-1995414126"};function iu({tooltip:t,className:e,children:n,asChild:r,...i}){const o=r?ff:"button";return B.jsxs(j.Fragment,{children:[GD.styles,t?B.jsx($d,{content:t,arrow:!1,portal:!1,sideOffset:12,children:B.jsx("div",{className:"tooltip-area","aria-label":t,children:B.jsx(o,{"aria-label":t,className:Je(GD.className,"toolbar-action",e),...i,children:n})})}):B.jsx(o,{className:Je(GD.className,"toolbar-action",e),...i,children:n})]})}var KD="Popover",[yG,X$e]=df(KD,[gg]),K1=gg(),[eRe,sm]=yG(KD),bG=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,l=K1(e),f=j.useRef(null),[p,m]=j.useState(!1),[g=!1,y]=cc({prop:r,defaultProp:i,onChange:o});return B.jsx(eT,{...l,children:B.jsx(eRe,{scope:e,contentId:fh(),triggerRef:f,open:g,onOpenChange:y,onOpenToggle:j.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:p,onCustomAnchorAdd:j.useCallback(()=>m(!0),[]),onCustomAnchorRemove:j.useCallback(()=>m(!1),[]),modal:s,children:n})})};bG.displayName=KD;var wG="PopoverAnchor",tRe=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=sm(wG,n),o=K1(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return j.useEffect(()=>(s(),()=>l()),[s,l]),B.jsx(u2,{...o,...r,ref:e})});tRe.displayName=wG;var xG="PopoverTrigger",SG=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=sm(xG,n),o=K1(n),s=ti(e,i.triggerRef),l=B.jsx(Gn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TG(i.open),...r,ref:s,onClick:Cn(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:B.jsx(u2,{asChild:!0,...o,children:l})});SG.displayName=xG;var nRe="PopoverPortal",[Q$e,rRe]=yG(nRe,{forceMount:void 0}),C0="PopoverContent",CG=j.forwardRef((t,e)=>{const n=rRe(C0,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=sm(C0,t.__scopePopover);return B.jsx(wy,{present:r||o.open,children:o.modal?B.jsx(iRe,{...i,ref:e}):B.jsx(aRe,{...i,ref:e})})});CG.displayName=C0;var iRe=j.forwardRef((t,e)=>{const n=sm(C0,t.__scopePopover),r=j.useRef(null),i=ti(e,r),o=j.useRef(!1);return j.useEffect(()=>{const s=r.current;if(s)return NP(s)},[]),B.jsx(cT,{as:ff,allowPinchZoom:!0,children:B.jsx(EG,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cn(t.onCloseAutoFocus,s=>{var l;s.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Cn(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,p=l.button===2||f;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Cn(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),aRe=j.forwardRef((t,e)=>{const n=sm(C0,t.__scopePopover),r=j.useRef(!1),i=j.useRef(!1);return B.jsx(EG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var f,p;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),EG=j.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,...g}=t,y=sm(C0,n),x=K1(n);return WI(),B.jsx(V_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:B.jsx(Qw,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>y.onOpenChange(!1),children:B.jsx(tT,{"data-state":TG(y.open),role:"dialog",id:y.contentId,...x,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_G="PopoverClose",oRe=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=sm(_G,n);return B.jsx(Gn.button,{type:"button",...r,ref:e,onClick:Cn(t.onClick,()=>i.onOpenChange(!1))})});oRe.displayName=_G;var sRe="PopoverArrow",uRe=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=K1(n);return B.jsx(nT,{...i,...r,ref:e})});uRe.displayName=sRe;function TG(t){return t?"open":"closed"}const kG={styles:B.jsx(ei,{id:"2342560800",children:["*.jsx-2342560800{box-sizing:border-box;}",`.content.jsx-2342560800{position:relative;z-index:${Q.zIndex(50)};background-color:${Q.colors.core.white};box-shadow:${Q.shadow().xl};border-radius:${Q.space(4)};-webkit-mask:radial-gradient(circle farthest-side at center 70px,transparent 25px,#000000 20px 100%) 50% 50%/100% 100% no-repeat;mask:radial-gradient(circle farthest-side at center 70px,transparent 25px,#000000 20px 100%) 50% 50%/100% 100% no-repeat;}`,`.content[data-state='open'].jsx-2342560800{-webkit-animation-name:${ni["zoom-in-fade-in"]};animation-name:${ni["zoom-in-fade-in"]};-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-duration:300ms;animation-duration:300ms;}`,`.content[data-state='closed'].jsx-2342560800{-webkit-animation-name:${ni["zoom-out-fade-out"]};animation-name:${ni["zoom-out-fade-out"]};-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-duration:200ms;animation-duration:200ms;}`]}),className:"jsx-2342560800"};function lRe({children:t,content:e,...n}){return B.jsxs(bG,{...n,children:[kG.styles,B.jsx(SG,{asChild:!0,children:B.jsx("div",{className:"popover-area",children:t})}),B.jsx(CG,{side:"top",sideOffset:16,align:"center",className:Je(kG.className,"content"),children:e})]})}function cRe({height:t=16,width:e=16,...n}){return B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:"none",viewBox:"0 0 16 16",...n,children:[B.jsx("path",{fill:"#9797A4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8 2.214 5.313.785-2.314 2.314-.785L8 8Z"}),B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m11.133 11.13 1.878 1.88"}),B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",d:"M8.998 4.47 9.383 2m2.67 3.763 1.716-1.818m-9.771 8.873L5.715 11m.005-6.186L4 3m.485 5.274L2 8"})]})}function fRe({height:t=16,width:e=16,...n}){return B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:"none",viewBox:"0 0 16 16",...n,children:[B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M5.321 9.942a4 4 0 1 1 4.57-4.87"}),B.jsx("path",{fill:"#9797A4",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8 2.214 5.313.785-2.314 2.314-.785L8 8Z"}),B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m11.133 11.13 1.878 1.88"})]})}function dRe({height:t=16,width:e=16,...n}){return B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,fill:"currentColor",viewBox:"0 0 16 16",...n,children:[B.jsx("mask",{id:"a",children:B.jsx("path",{fillRule:"evenodd",d:"M10.982 6.422a5 5 0 1 0-4.388 4.543L5.487 7.861a1.961 1.961 0 0 1 2.507-2.506l2.99 1.067Z",clipRule:"evenodd"})}),B.jsx("path",{fillRule:"evenodd",d:"M10.982 6.422a5 5 0 1 0-4.388 4.543L5.487 7.861a1.961 1.961 0 0 1 2.507-2.506l2.99 1.067Z",clipRule:"evenodd"}),B.jsx("path",{d:"m10.982 6.422-.672 1.884 2.449.874.216-2.591-1.993-.167Zm-4.387 4.543.235 1.986 2.492-.295-.844-2.364-1.883.673ZM5.486 7.861l-1.883.673 1.883-.673Zm.67-2.228 1.2 1.6-1.2-1.6Zm1.837-.278L7.32 7.238l.673-1.883ZM9 6c0 .087-.004.172-.01.256l3.986.333C12.992 6.394 13 6.198 13 6H9ZM6 3a3 3 0 0 1 3 3h4a7 7 0 0 0-7-7v4ZM3 6a3 3 0 0 1 3-3v-4a7 7 0 0 0-7 7h4Zm3 3a3 3 0 0 1-3-3h-4a7 7 0 0 0 7 7V9Zm.36-.021A3.05 3.05 0 0 1 6 9v4c.28 0 .557-.017.83-.049L6.36 8.98Zm-2.757-.445 1.108 3.104 3.767-1.346L7.37 7.19 3.603 8.534Zm1.353-4.501a3.961 3.961 0 0 0-1.353 4.501L7.37 7.19a.039.039 0 0 1-.014.044l-2.4-3.2Zm3.71-.562a3.961 3.961 0 0 0-3.71.562l2.4 3.2a.039.039 0 0 1-.036.005l1.346-3.767Zm2.99 1.068L8.665 3.47 7.32 7.238l2.99 1.068 1.345-3.767Z",mask:"url(#a)"}),B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8 2.214 5.313.785-2.314 2.314-.785L8 8Zm3.133 3.13 1.878 1.88"})]})}const qD={styles:B.jsx(ei,{id:"789404687",children:["*.jsx-789404687{box-sizing:border-box;}",`.container.jsx-789404687{pointer-events:auto;position:relative;font-family:${Q.fonts.default};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;gap:${Q.space(1)};height:${Q.space(13)};border-radius:${Q.space(4)};padding:${Q.space(2)} ${Q.space(3)};}`,`.divider.jsx-789404687{height:${Q.space(6)} !important;margin-left:${Q.space(2)};margin-right:${Q.space(2)};}`]}),className:"jsx-789404687"};function pRe(){return B.jsxs(B.Fragment,{children:[qD.styles,B.jsxs(BS,{type:"single",className:Je(qD.className,"container"),children:[B.jsx(iu,{asChild:!0,tooltip:"Default cursor",children:B.jsx(Lf,{value:"draw",children:B.jsx(vT,{size:18,weight:"bold"})})}),B.jsx(Zne,{orientation:"vertical",className:Je(qD.className,"divider")}),B.jsx(iu,{asChild:!0,tooltip:"Highlight click",children:B.jsx(Lf,{value:"highlight-click",children:B.jsx(cRe,{height:18,width:18})})}),B.jsx(iu,{asChild:!0,tooltip:"Highlight cursor",children:B.jsx(Lf,{value:"highlight-cursor",children:B.jsx(fRe,{height:18,width:18})})}),B.jsx(iu,{asChild:!0,tooltip:"Spotlight cursor",children:B.jsx(Lf,{value:"spotlight-cursor",children:B.jsx(dRe,{height:18,width:18})})})]})]})}class YD{constructor(){this.enabled=!1,this.actionbarState="",this.visibilityState={},Cx(this,{},{autoBind:!0})}static createInstance(){return new YD}updateEnabled(e){this.enabled=e==="toggle"?!this.enabled:e}updateActionbarState(e){this.actionbarState=this.actionbarState===e?"":e}updateVisibilityState(e){this.visibilityState=Object.assign({},this.visibilityState,e)}}const ZD=YD.createInstance(),hRe=ss(t=>B.jsxs(BS,{value:ZD.actionbarState,onValueChange:ZD.updateActionbarState,type:"single",...t,children:[B.jsx(iu,{asChild:!0,tooltip:"Toggle drawing mode",children:B.jsx(Lf,{value:"draw",children:B.jsx(J8,{size:18,weight:"bold"})})}),B.jsx(iu,{asChild:!0,tooltip:"Toggle blur mode",children:B.jsx(Lf,{value:"blur",children:B.jsx(fM,{size:19,weight:"fill"})})}),B.jsx(iu,{asChild:!0,tooltip:"Toggle zoom area",children:B.jsx(Lf,{value:"zoom",children:B.jsx(M8,{size:18,weight:"bold"})})}),B.jsx(lRe,{open:ZD.actionbarState==="click",content:B.jsx(pRe,{}),children:B.jsx(iu,{asChild:!0,tooltip:"Toggle click mode",children:B.jsx(Lf,{value:"click",children:B.jsx(vT,{size:18,weight:"bold"})})})})]})),XD={styles:B.jsx(ei,{id:"1283318605",children:[`.timer.jsx-1283318605{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${Q.space(2)};}`,`.time.jsx-1283318605{font-size:16px;font-weight:500;color:${Q.colors.background.text};}`]}),className:"jsx-1283318605"},mRe=ss(t=>B.jsxs("div",{...t,children:[XD.styles,B.jsx("div",{className:Je(XD.className,"timer"),children:B.jsx("span",{className:Je(XD.className,"time"),children:$u.time})})]})),gRe=ss(t=>B.jsxs("div",{...t,children:[B.jsx(iu,{tooltip:"Download recording",children:B.jsx(aM,{size:19,weight:"fill"})}),B.jsx(vRe,{}),B.jsx(iu,{tooltip:"Restart recording",children:B.jsx(E8,{size:18,weight:"bold"})}),B.jsx(iu,{tooltip:"Restart recording",children:B.jsx(hM,{size:18,weight:"bold"})})]})),vRe=ss(()=>$u.status==="active"?B.jsx(iu,{tooltip:"Pause recording",onClick:$u.pauseScreenCapture,children:B.jsx(Z8,{size:18,weight:"fill"})}):B.jsx(iu,{tooltip:"Resume recording",onClick:$u.resumeScreenCapture,children:B.jsx(nM,{size:18,weight:"fill"})})),E0={styles:B.jsx(ei,{id:"2739508901",children:["*.jsx-2739508901{box-sizing:border-box;}",`.toolbar.jsx-2739508901{position:absolute;pointer-events:auto;font-family:${Q.fonts.default};background-color:${Q.colors.core.white};width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:${Q.space(13)};border-radius:${Q.space(4)};box-shadow:${Q.shadow().md};padding-top:${Q.space(2)};padding-bottom:${Q.space(2)};}`,`.toolbar.jsx-2739508901>*.jsx-2739508901{border-right:1.5px solid ${Q.colors.borders.input};}`,".toolbar.jsx-2739508901>*.jsx-2739508901:last-child{border-right:none;}",`.toolbar-controls.jsx-2739508901{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${Q.space(1)};padding-left:${Q.space(3)};padding-right:${Q.space(3)};}`,".toolbar-controls.toolbar-handle.jsx-2739508901{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}",".toolbar-controls.toolbar-handle.jsx-2739508901:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}",`.toolbar-controls.toolbar-timer.jsx-2739508901{padding-left:${Q.space(5)};padding-right:${Q.space(5)};}`]}),className:"jsx-2739508901"};function yRe(){const t=j.useRef(null),{height:e,width:n}=H3(),{height:r,width:i}=s5(t.current,{height:40,width:200}),o={x:_a,y:e-_a-r},s={top:_a,left:_a,right:n-_a-i,bottom:e-_a-r};return B.jsxs(j.Fragment,{children:[E0.styles,B.jsx(ak,{nodeRef:t,handle:"#toolbar-handle",defaultPosition:o,bounds:s,children:B.jsx("article",{ref:t,className:Je(E0.className,"toolbar"),children:B.jsxs($d.Provider,{disableHoverableContent:!0,delayDuration:500,children:[B.jsx("div",{id:"toolbar-handle",className:Je(E0.className,"toolbar-controls toolbar-handle"),children:B.jsx(z8,{weight:"bold",size:20,color:Q.colors.accent.main})}),B.jsx(mRe,{className:Je(E0.className,"toolbar-controls toolbar-timer")}),B.jsx(gRe,{className:Je(E0.className,"toolbar-controls")}),B.jsx(hRe,{className:Je(E0.className,"toolbar-controls")})]})})})]})}const bRe=ss(()=>$u.status==="pending"?B.jsx(wRe,{}):null),QD={styles:B.jsx(ei,{id:"2451404134",children:[`.container.jsx-2451404134{position:absolute;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);pointer-events:auto;top:50%;left:50%;font-family:${Q.fonts.default};}`,`.text.jsx-2451404134{font-size:96px;font-weight:bold;-webkit-animation:${CM.ping};animation:${CM.ping};}`]}),className:"jsx-2451404134"},wRe=ss(()=>{const{time:t}=Pse(l5,1,!0);return B.jsxs(B.Fragment,{children:[QD.styles,B.jsx("div",{className:Je(QD.className,"container"),children:B.jsx("span",{className:Je(QD.className,"text"),children:t})})]})}),NG={styles:B.jsx(ei,{id:"4159523128",children:[`.container.jsx-4159523128{width:100vw;height:100vh;position:fixed;pointer-events:none;z-index:${Q.zIndex(1)};background-color:${Q.alpha(Q.colors.core.black,.1)};}`]}),className:"jsx-4159523128"};function xRe(){return B.jsxs(WM,{children:[NG.styles,B.jsxs("section",{className:Je(NG.className,"container"),children:[B.jsx(WNe,{}),B.jsx(yRe,{}),B.jsx(KNe,{}),B.jsx(bRe,{})]})]})}const RG=document.getElementById("rekorder-ui");RG&&document.removeChild(RG);const JD=document.createElement("div");JD.id="rekorder-ui",document.body.appendChild(JD),R_(JD).render(B.jsx(j.StrictMode,{children:B.jsx(xRe,{})}))});
